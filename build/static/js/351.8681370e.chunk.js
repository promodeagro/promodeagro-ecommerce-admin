"use strict";(self.webpackChunkrasilabs=self.webpackChunkrasilabs||[]).push([[351],{7351:(e,s,t)=>{t.r(s),t.d(s,{default:()=>y});var i=t(5043),l=t(3003),o=t(7880),a=t(2671),n=t(2521),r=t(8811),d=t(5416),c=t(5336),p=t(8926),x=t(3216),h=t(9698),g=t(5200),u=t(579);const y=()=>{const[e,s]=(0,i.useState)(""),[t,y]=(0,i.useState)(""),[v,j]=(0,i.useState)(""),[f,m]=i.useState([]),[w,C]=i.useState([]),[b,S]=(0,i.useState)(!1),[A,P]=(0,i.useState)(!1),[D,L]=(0,i.useState)(!1),k=(0,l.wA)(),I=(0,x.Zp)(),{loading:O,error:B}=(0,l.d4)((e=>e.resetPwd)),T=localStorage.getItem("email"),E=JSON.parse(T),N="string"===typeof B?B:null===B||void 0===B?void 0:B.message;return(0,u.jsxs)("div",{style:{paddingTop:"10vh"},children:[(0,u.jsx)(o.A,{items:f}),(0,u.jsx)("div",{style:{paddingTop:"10vh",display:"flex",justifyContent:"center",height:D?"33vh":"63vh"},children:(0,u.jsx)("div",{style:{padding:"0 15px",borderRadius:"10px",backgroundColor:"white",boxShadow:"0 1px 8px rgba(0, 0, 0, 0.2)",zIndex:2,width:D?"29vw":"26vw"},children:(0,u.jsxs)(a.A,{variant:"borderless",children:[(0,u.jsx)("div",{style:{marginBottom:"20px",padding:"0 0 0 0"},children:(0,u.jsxs)(n.A,{variant:"h1",children:[(0,u.jsx)("div",{style:{textShadow:"0px 1px, 1px 0px, 1px 1px"},children:D?(0,u.jsx)("center",{children:"\xa0\xa0\xa0\xa0\xa0\xa0Password Changed"}):(0,u.jsx)("div",{style:{display:"flex",width:"21vw",justifyContent:"center"},children:(0,u.jsx)("text",{children:"Create New Password"})})}),(0,u.jsx)("span",{style:{fontSize:"small",color:"#8B8D97",fontWeight:"lighter",display:"flex",justifyContent:"center",paddingLeft:D?"3vw":"0"},children:D?"Your password has been changed successfully.":"Create a strong password for your account"})]})}),D?(0,u.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,u.jsx)(c.A,{variant:"primary",onClick:()=>I("/auth/signin"),children:"Login"})}):(0,u.jsxs)("form",{style:{display:"flex",flexDirection:"column",gap:"10px"},onSubmit:i=>{i.preventDefault(),e===t?(k((0,p.x)({email:E,confirmationCode:w,newPassword:e})).unwrap().then((()=>{m([{type:"success",content:"Password has been changed successfully!",dismissible:!0,dismissLabel:"Dismiss message",onDismiss:()=>m([]),id:"message_1"}]),L(!0),s(""),y(""),C(""),localStorage.removeItem("email"),setTimeout((()=>{I("/auth/signin")}),13e3),console.log(E),console.log(w),console.log(e)})).catch((e=>{m([{type:"error",content:"Password reset failed: ".concat(e.message),dismissible:!0,dismissLabel:"Dismiss message",onDismiss:()=>m([]),id:"message_2"}])})),j("")):j("Passwords do not match!")},children:[(0,u.jsx)(r.A,{label:"Enter OTP",children:(0,u.jsx)(d.A,{placeholder:"Enter your 6-digit OTP",value:w,onChange:e=>C(e.detail.value),maxLength:6})}),(0,u.jsx)(r.A,{label:"Enter New Password",children:(0,u.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,u.jsx)(d.A,{type:b?"text":"password",placeholder:"New Password",value:e,onChange:e=>s(e.detail.value),style:{paddingRight:"40px"}}),(0,u.jsx)("div",{onClick:()=>S(!b),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#8B8D97"},children:b?(0,u.jsx)(g.Vap,{}):(0,u.jsx)(h.mI_,{})})]})}),(0,u.jsx)(r.A,{label:"Confirm",children:(0,u.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,u.jsx)(d.A,{type:A?"text":"password",placeholder:"Confirm Password",value:t,onChange:e=>y(e.detail.value)}),(0,u.jsx)("div",{onClick:()=>P(!A),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#8B8D97"},children:A?(0,u.jsx)(g.Vap,{}):(0,u.jsx)(h.mI_,{})})]})}),v&&(0,u.jsx)("div",{style:{color:"red",textAlign:"center"},children:v}),N&&(0,u.jsx)("div",{style:{color:"red",textAlign:"center"},children:N}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"2vh 2vw 0 2vw"},children:(0,u.jsx)(c.A,{fullWidth:!0,ariaExpanded:!0,variant:"primary",type:"submit",loading:O,children:"Create Password"})})]})]})})}),(0,u.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",overflow:"hidden",lineHeight:0},children:(0,u.jsxs)("svg",{viewBox:"0 0 1130 320",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",children:[(0,u.jsx)("stop",{offset:"0%",style:{stopColor:"#9f4bad",stopOpacity:1}}),(0,u.jsx)("stop",{offset:"50%",style:{stopColor:"#f8a4b8",stopOpacity:1}}),(0,u.jsx)("stop",{offset:"100%",style:{stopColor:"#e2e290",stopOpacity:1}})]})}),(0,u.jsx)("path",{fill:"url(#gradient)","fill-opacity":"0.98",d:"M0,160L60,176C120,192,240,224,360,213.3C480,203,600,149,720,117.3C840,85,960,75,1080,85.3C1200,96,1320,128,1380,144L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})]})})]})}}}]);
//# sourceMappingURL=351.8681370e.chunk.js.map