{"version":3,"file":"static/js/465.bba2a914.chunk.js","mappings":"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IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EAGLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,EAAG,EACHC,GAAI,EACJC,IAAK,EACL,GAAI,EACJC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,GAAI,EACJC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EACLC,GAAI,EACJC,IAAK,EACL,IAAK,EAGLC,GAAI,EACJC,IAAK,EACL,GAAI,EACJC,GAAI,EACJC,IAAK,EACL,IAAK,GCtLT,SAAgBC,GAAqBrX,GACjC,OCNJ,SAAqCA,EAAQsX,EAAeC,GACxD,GAAIvX,EAAQ,CAER,IAEIwX,EAFEC,EAAOzX,EAAO0X,cAAcC,MAAM,QACpCC,EAAWH,EAAK,GAYpB,GAVIA,EAAK,IAAyB,IAAnBA,EAAK,GAAGnY,QACnBsY,GAAY,IAAIH,EAAK,GACrBD,EAAUC,EAAK,IAGfD,EAAUC,EAAK,GAEbD,IACFA,EAAUF,EAAcM,IAExBJ,EACA,OAnDL,SAA8BK,EAAYN,GAE7C,IAAMO,EAAOP,EAAmC,kBAAfM,EACHA,EAAWE,cACXF,GAG9B,MAAuB,kBAATC,EACRA,EACA,C,CA0CSE,CACHR,EAAQzW,MAAM,SACRsF,OAAOmR,GACPA,EACND,E,CAKZ,OAAO,C,CDpBAU,CAAyBjY,EAAQsX,GAAeC,G,CE3DrD,SAAUW,GAAqBC,EAAiCnY,GACpE,MAA+B,kBAAhBmY,EAA2BA,EAAc,EAAIF,GAAqBjY,EACnF,CCAc,SAAUoY,GAAmB7V,GAU1C,IAV2C,SAC1C4C,EAAQ,YACRzF,EAAW,OACXM,EAAM,YACNmY,GAMD5V,EACC,MAAM8V,EAAgC,UAAhB3Y,EAUtB,OARa4Y,EAAAA,EAAAA,UACX,IACED,EAUN,SAAyBrZ,GACvB,MAAMY,EAAOZ,EAAKlB,cAClB,OAAO,IAAIya,MAAM,GACdC,KAAK,GACL7U,KAAI,CAAC8U,EAAG9P,IAAc,IAAI4P,MAAM,GAAGC,KAAK,GAAG7U,KAAI,CAAC8U,EAAGC,IAAc,IAAItU,KAAKxE,EAAU,EAAJ+I,EAAQ+P,MAC7F,CAdUC,CAAgBxT,GAChB2C,GAAiB3C,EAAU,CAAE+C,eAAgBgQ,GAAqBC,EAAanY,MACrF,CAACmF,EAAUkT,EAAeF,EAAanY,GAI3C,C,eCjBM,SAAU4Y,GAAgBrW,GAA2C,IAA1C,UAAEsW,EAAS,SAAEC,GAA6BvW,EACzE,OACEtF,EAAAA,cAAC8b,GAAAA,EAAc,CACbC,SAAS,aACTH,UAAWA,EACXI,QAAQ,OACR3U,QAASA,IAAMwU,GAAU,GACzBI,WAAW,OACXpc,UAAWE,EAAO,sBAGxB,CAEM,SAAUmc,GAAgB3R,GAA2C,IAA1C,UAAEqR,EAAS,SAAEC,GAA6BtR,EACzE,OACEvK,EAAAA,cAAC8b,GAAAA,EAAc,CACbC,SAAS,cACTH,UAAWA,EACXI,QAAQ,OACR3U,QAASA,IAAMwU,EAAS,GACxBI,WAAW,OACXpc,UAAWE,EAAO,sBAGxB,CCtBA,MAYA,GAZuBuF,IAA0F,IAAzF,cAAE6W,EAAa,SAAEN,EAAQ,cAAEO,EAAa,UAAEC,EAAS,UAAEC,GAAgChX,EAC3G,OACEtF,EAAAA,cAAA,OAAKH,UAAWE,EAAO,oBACrBC,EAAAA,cAAC2b,GAAgB,CAACC,UAAWQ,EAAeP,SAAUA,IACtD7b,EAAAA,cAAA,MAAIH,UAAWE,EAAO,yBAA0B6N,GAAI0O,GACjDH,GAEHnc,EAAAA,cAACkc,GAAgB,CAACN,UAAWS,EAAWR,SAAUA,IAC9C,E,eCjBI,SAAUU,GAAiBjX,GAexC,IAfyC,YACxC7C,EAAW,OACXM,EAAM,YACNyZ,EAAW,uBACXC,EAAsB,mBACtBC,EAAkB,eAClBC,GASDrX,E,UACC,MAAMsX,GAAOC,EAAAA,GAAAA,IAAgB,YAEvBzB,EAAgC,UAAhB3Y,EAChBqa,EAAsB1B,EACxBwB,EAAK,oCAAgD,OAAXJ,QAAW,IAAXA,OAAW,EAAXA,EAAaO,uBACvDH,EAAK,yBAA6D,QAAnCne,EAAW,OAAX+d,QAAW,IAAXA,OAAW,EAAXA,EAAaC,8BAAsB,IAAAhe,EAAAA,EAAIge,GAEpEO,EAAkB5B,EACpBwB,EAAK,gCAA4C,OAAXJ,QAAW,IAAXA,OAAW,EAAXA,EAAaS,mBACnDL,EAAK,qBAAqD,QAA/BM,EAAW,OAAXV,QAAW,IAAXA,OAAW,EAAXA,EAAaE,0BAAkB,IAAAQ,EAAAA,EAAIR,GAE5DS,EAAmB/B,EACrBwB,EAAK,oCAAgD,OAAXJ,QAAW,IAAXA,OAAW,EAAXA,EAAaY,uBACvDR,EAAK,iBAA6C,QAA3BS,EAAW,OAAXb,QAAW,IAAXA,OAAW,EAAXA,EAAaG,sBAAc,IAAAU,EAAAA,EAAIV,GAgB1D,MAAO,CACLG,sBACAE,kBACA/W,WAjBkBlE,GAClBqZ,EAAgBrZ,EAAKub,eAAeva,EAAQ,CAAEH,MAAO,UAAab,EAAKc,UAAU0a,WAiBjFrX,uBAf6BA,CAACnE,EAAYmF,KAC1C,MAAMiV,EAAgBf,EAAgBnT,EAAmBlF,EAAQhB,GnBV/D,SAAuBgB,EAAgBhB,GAA2C,IAA/B0F,EAAAhH,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAyB,OAChF,MAAM+c,EAAWza,EAAShB,EAAKZ,UAAYsG,EACrCgW,EAActV,EAAclG,IAAIub,GACtC,GAAIC,EACF,OAAOA,EAET,MAAMjb,EAAQT,EAAKgG,mBAAmBhF,EAAQ,CAC5CiF,QAAkB,SAATP,EAAkB,YAAS/E,EACpCE,MAAO,OACPgI,IAAK,UACLjI,KAAM,YAGR,OADAwF,EAAcjG,IAAIsb,EAAUhb,GACrBA,CACT,CmBJ6Ekb,CAAa3a,EAAQhB,EAAM,SACpG,OAAImF,GAAiBiW,EACZhB,EAAgB,KAAOgB,EAEzBhB,CAAa,EAWpBwB,iBARwB5b,GACxBqZ,EAAgBrZ,EAAKlB,cAAc0c,WAAatV,EAAmBlF,EAAQhB,GAS/E,CCjCc,SAAU6b,GAASnf,G,IAAA,MAC/B+D,EAAK,OACLO,EAAS,GAAE,YACXmY,EAAW,cACX3V,EAAgBA,MAAM,GAAI,mBAC1BC,EAAqBA,KAAM,IAAE,UAC7BoW,EAAS,eACT/V,EAAc,gBACdgY,EAAe,SACfhC,EAAQ,kBACRiC,EAAiB,YACjBtB,EAAW,YACX/Z,EAAc,MAAK,uBACnBga,EAAsB,mBACtBC,EAAkB,eAClBC,GAAcle,EACX2F,GAAI/E,EAAAA,EAAAA,IAAAZ,EAhBwB,iPAkB/Bsf,EAAAA,EAAAA,GAAgB,WAAY,QAASvb,EAAO,WAAYqZ,GAExD,MAAMlc,GAAYC,EAAAA,EAAAA,GAAawE,GACzB4Z,EAAmB9a,EAAgB,WAAYH,GAE/Ckb,GAAiBpc,EAAAA,EAAAA,QAAuB,OACvC4D,EAAayY,IAAkBtZ,EAAAA,EAAAA,UAAsB,MAEtDuZ,EAAiBxc,IACjByc,EAAmBzc,IAGnB0c,EAAc7b,GAASA,EAAMH,QAAU,EC9CzC,SAAoBG,GAA6B,IAAd8b,EAAM7d,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,GAC7C,MAAO8d,EAAYC,EAAaC,GAAajc,EAAMkY,MAAM,KAEnD/X,EAAOyG,OAAOmV,GACd3b,EAAQwG,OAAOoV,GACf5T,EAAMxB,OAAOqV,GAEnB,OAAIH,IACEI,MAAM/b,IAAS+b,MAAM9b,IAAU8b,MAAM9T,IAChC,KAIJ,IAAIzD,KAAKxE,GAAOC,GAAS,GAAK,EAAGgI,GAAO,EACjD,CDgCmD+T,CAAUnc,GAAS,KAC9Doc,EAAgBP,EAAcF,EAAeE,GAAe,KAC5DQ,EAAoC,OAAbD,QAAa,IAAbA,EAAAA,EAAiB,IAAIzX,MAC3C2X,GAAeC,KAAoBna,EAAAA,EAAAA,UAASia,GAE7CvC,IAAY0C,EAAAA,EAAAA,GAAY,oBAExB5D,GAAgC,UAAhB3Y,EAEhB8G,GAAmBxH,GAAewD,EAAcxD,KAAWwD,EAAcxD,MAAWyD,EAAmBzD,GAEvGmG,GAAWkT,GbrBb,SAAuBrZ,EAAYwH,GACvC,OAAOU,GAAY,CAAElI,OAAMwH,kBAAiB9G,YAAa,SAC3D,CaoBMwc,CAAaH,GAAevZ,Gb5B5B,SAAqBxD,EAAYwH,GACrC,OAAOU,GAAY,CAAElI,OAAMwH,kBAAiB9G,YAAa,OAC3D,Ca2BMyc,CAAWJ,GAAevZ,GAExBY,GAAaiV,GAAgB/a,EAAcU,EAC3CqJ,GAAagR,GAAgBha,EAAaf,GAG1C,oBAAEyc,GAAmB,gBAAEE,GAAe,WAAE/W,GAAU,uBAAEC,GAAsB,iBAAEyX,IAChFpB,GAAkB,CAChB9Z,cACA+Z,cACAzZ,OAAQib,EACRvB,yBACAC,qBACAC,mBAGEwC,GAAWhE,GAAoB,CAAEjT,YAAUzF,cAAayY,cAAanY,OAAQib,KAGnFoB,EAAAA,EAAAA,YAAU,KACRR,GAAiBG,IAAiBM,GAASA,EAAKle,YAAcyd,EAAczd,UAAYyd,EAAgBS,GAAM,GAC7G,CAACT,IAEJ,MAcMlZ,GAAgBD,GAdI6Z,EAACC,EAAuBrX,KAChD,GAAIqX,GAAYhW,GAAgBgW,IAAanV,GAAWmV,EAAUrX,GAChE,OAAOqX,EAET,MAAMC,EAAQ,IAAIrY,KAClB,OAAIoC,GAAgBiW,IAAUpV,GAAWoV,EAAOtX,GACvCsX,EAELjW,GAAgBrB,GACXA,EAEF,IAAI,EAGwBoX,CAAkBV,EAAe1W,IAQhEuX,GAAuBC,IAC3BX,GAAiBW,GACjBxB,EAAe,KAAK,EAGhByB,GAA0B5d,IAC1BA,GACFmc,EAAenc,EAAOqc,EAAiBrc,GAAQ,K,EAI7C6d,GAA2B7d,KAC/B8d,EAAAA,EAAAA,IAAuBhE,EAAU,CAAErZ,MAAOD,EAAWR,EAAMU,KAC3Dyb,EAAe,KAAK,EAUhB9X,GErHM,SAA2Cd,GAoBxD,IApByD,SACxD4C,EAAQ,cACRxC,EAAa,YACbjD,EAAW,cACX8C,EAAa,gBACbgE,EAAe,aACfuW,EAAY,YACZC,EAAW,aACXpa,GAYDL,EACC,MAAM8V,EAAgC,UAAhB3Y,EAEhBud,EAAW5E,EAAgBrR,EAAgBL,EAC3CuW,EAAW7E,EAAgBtR,EAAgBL,EAC3CyW,EAAY9E,EAAgBxR,EAAgBP,EAC5C8W,EAAS/E,EAAgBpR,GAAcL,EAEvCS,EAAagR,EAAgBha,EAAaf,EAsChD,OApC8B+f,IAC5B,IAAIC,EAEJ,MAAMC,EAAO,CAACC,EAAAA,EAAQC,GAAID,EAAAA,EAAQE,KAAMF,EAAAA,EAAQG,KAAMH,EAAAA,EAAQI,MAAOJ,EAAAA,EAAQK,MAAOL,EAAAA,EAAQM,OAEtE,OAAlBnb,IAA2D,IAAjC4a,EAAKrd,QAAQmd,EAAMU,WAIjDV,EAAMW,kBAENC,EAAAA,EAAAA,GAAUZ,EAAO,CACfa,WAAYA,KACL1b,EAAcG,KAInBqa,EAAY,MACZpa,EAAaD,GAAc,EAE7Bwb,WAAYA,IAAOb,EAAmBL,EAASta,EAAe6D,GAC9D4X,aAAcA,IAAOd,EAAmBF,EAAOza,EAAe6D,GAC9D6X,cAAeA,IAAOf,EAAmBJ,EAASva,EAAe6D,GACjE8X,YAAaA,IAAOhB,EAAmBH,EAAUxa,EAAe6D,KAG7D8W,IAIAjW,EAAWiW,EAAkBnY,IAChC4X,EAAaO,GAEfN,EAAYM,IAAiB,CAIjC,CFkD+BiB,CAAkC,CAC7DpZ,YACAxC,iBACAjD,cACA8C,gBACAgE,mBACAuW,aAAcL,GACdM,YAAaJ,GACbha,aAAcia,KAGV2B,GAAa5D,GAAiBzV,IAEpC,OACElI,EAAAA,cAAA,MAAAE,OAAAC,OAAA,CACEsE,IAAKqZ,GACDne,EAAS,CACb6G,KAAK,QAAO,aACAoV,EAAS,kBACJ/V,EAAc,mBACbgY,EAClBhe,WAAWC,EAAAA,EAAAA,GAAKC,EAAOyhB,KAAMzhB,EAAO0hB,SAAU9hB,EAAUE,aAExDG,EAAAA,cAAA,OAAKH,UAAWE,EAAO,mBACrBC,EAAAA,cAAC0hB,GAAc,CACbvF,cAAeoF,GACf1F,SAvD2Bra,IACjC,MACMke,GADWtE,GAAgB/Z,EAAWK,EAAAA,GACnBwG,GAAU1G,GACnCie,GAAoBC,EAAQ,EAqDtBtD,cAAeU,GACfT,UAAWW,GACXV,UAAWA,KAEbtc,EAAAA,cAAA,OAAK+E,OAtCSqb,I,MACaA,EAAMuB,gBAAuC,QAAtBljB,EAAAwf,EAAejc,eAAO,IAAAvD,OAAA,EAAAA,EAAEmjB,SAASxB,EAAMuB,iBAE3FzD,EAAe,K,EAmCYzZ,IAAKwZ,GAC5Bje,EAAAA,cAACqF,EAAI,CACHE,cAAeA,EACfC,mBAAoBA,EACpBC,YAAaA,EACbC,cAAeA,GACfC,aAAcia,GACdG,YAAaJ,GACbG,aAAcL,GACd7Z,aAAcgZ,EACd/Y,eAAgByW,GAChBxW,OAAQsV,GAAgB,KAAOpb,EAAAA,cAACoI,EAAkB,CAACrF,OAAQib,EAAkBjY,KAAMoZ,KACnFpZ,KAAMoZ,GACNnZ,cA5GajE,GAAeqZ,IAAiB/a,EAAY0B,EAAMmG,IA6G/DjC,WAAYA,GACZC,uBAAwBA,GACxBC,WAAYA,GACZC,qBAAsBA,OAMlC,CGnLc,SAAUwX,GAASnf,G,IAAA,OAC/BsE,EAAS,GAAE,cACXwC,EAAgBA,MAAM,GAAI,YAC1B9C,EAAc,OAAKhE,EAChBW,GAAKC,EAAAA,EAAAA,IAAAZ,EAJuB,0CAM/B,MAAMa,GAAqBC,EAAAA,EAAAA,GAAiB,YAC5C,OACES,EAAAA,cAAC6hB,GAAgB3hB,OAAAC,OAAA,GACXf,EACAE,EAAkB,CACtByD,OAAQA,EACRwC,cAAeA,EACf9C,YAAaA,IAGnB,EAEArC,EAAAA,EAAAA,GAAiBwd,GAAU,W,0GCjBb,SAAUvY,EAAK5G,G,IAAA,eAAEqjB,EAAiB,GAAE,eAAEC,GAAiB,EAAK,SAAE7c,GAAQzG,EAAKujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAArE,gDAC3B,MAAMa,GAAqBC,EAAAA,EAAAA,GAAiB,OAAQ,CAClDH,MAAO,CAAE2iB,oBAELpiB,GAAYC,EAAAA,EAAAA,GAAaoiB,IACxBC,EAAYxd,IAAOyd,EAAAA,EAAAA,QAAwBxf,GAElD,OACE1C,EAAAA,cAACmiB,EAAAA,EAAYjiB,OAAAC,OAAA,GACPR,EACAL,EAAkB,CACtBmF,IAAKA,EACL2d,aAAcH,EACdH,eAAgBA,EAChBC,eAAgBA,IAEf7c,EAGP,EAEA9E,EAAAA,EAAAA,GAAiBiF,EAAM,O,+JChCnB,QACM,4BADN,EAEU,iCCuDP,MAyDP,EAlFA,SAAuBC,GAA4C,IAA3C,SAAEJ,GAAyCI,EACjE,OAAOtF,EAAAA,cAAA,OAAKH,UAAWE,GAAcmF,EACvC,E,cClCI,QACM,4BADN,EAEQ,+BAFR,EAGU,iCCmBd,EARiDI,IAAA,IAAC,QAAE+c,EAAO,GAAEzU,EAAE,SAAE0U,GAAW,GAAsBhd,EAAA,OAChGtF,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAa,CAAE,CAACA,GAA4B,OAAZsiB,EAAkB,CAACtiB,IAAsBuiB,KAC5FtiB,EAAAA,cAACuiB,EAAAA,EAAU,CAACC,SAAS,EAAMC,QAAQ,MAAM7U,GAAIA,GAC1CyU,GAAWriB,EAAAA,cAAC0iB,EAAc,KAAEL,IAE3B,ECdFM,EAAsC,CAAC,QAAS,QAAS,cAAe,YAEjEC,EAAgBA,CAACpgB,EAA2BqgB,EAAoBC,KAC3E,IAAKtgB,EACH,OAAO,EAET,MAAMugB,EAAQvgB,EAAMiY,cAAcxX,QAAQ4f,GAC1C,OAAOC,EAA2B,IAAVC,EAAcA,GAAS,CAAC,EAG5CC,EAAsBA,CAACC,EAAgC7gB,EAAc0gB,KACzE,MAAMD,EAAazgB,EAAKqY,cAElByI,EAA2BD,EAAeC,OAK1CC,EAA4C,CAAC,QAKnD,OAJKL,GACHK,EAAoBxX,KAAK,iBAGpBgX,EAAiBS,MATCC,GAA0BT,EAAcM,EAAOG,GAAOR,EAAYC,MAS1CK,EAAoBC,MAR3CC,IAA4B,IAAA5kB,EACpD,OAAY,QAAZA,EAAAykB,EAAOG,UAAK,IAAA5kB,OAAA,EAAAA,EAAE2kB,MAAK5gB,GAASogB,EAAcpgB,EAAOqgB,EAAYC,IAAgB,GAOY,EAGhFQ,EAAgB,SAC3BxY,EACA+X,GAEiC,IADjCC,EAAcriB,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,GAEd,GAAmB,KAAfoiB,EACF,OAAO/X,EAGT,IAAIyY,EAAsC,KACtCC,GAAgB,EACpB,OAAO1Y,EAAQ2Y,QAAyB,CAACC,EAAKR,IACxB,WAAhBA,EAAOS,MACTH,GAAgB,EAChBD,EAAeL,EACXF,EAAoBE,EAAQL,EAAYC,KAC1CU,GAAgB,EAChBE,EAAI/X,KAAK4X,IAEJG,IAEW,UAAhBR,EAAOS,OACTJ,EAAe,KACfC,GAAgB,GAEdA,EACFE,EAAI/X,KAAKuX,GACAF,EAAoBE,EAAQL,EAAYC,KAC7CS,IACFG,EAAI/X,KAAK4X,GACTA,EAAe,MAEjBG,EAAI/X,KAAKuX,IAEJQ,IACN,GACL,EAEaE,EAAiBV,KAA8BA,IAAWA,EAAOW,UAA4B,WAAhBX,EAAOS,KAEpFG,EAAsBZ,KAA8BA,IAAWA,EAAOW,SAEtEE,EAAWb,KACpBA,GAAU,YAAaA,EClErBc,EAAe,IAAIC,QCHnB,SAAUC,EACdpZ,EACAqZ,EACAC,GAEA,MAAM,YAAEC,EAAW,UAAEC,GCRQxZ,KAC7B,MAAMwZ,EAAY,IAAIxiB,IAEhBuiB,EAAcvZ,EAAQ2Y,QAAyB,CAACC,EAAKR,KACzD,GAAI,YAAaA,EAAQ,CACvB,MAAM,QAAEpY,GAAqBoY,EAAT9e,GAAI/E,EAAAA,EAAAA,IAAK6jB,EAAvB,aACAqB,EAAuC,CAAEZ,KAAM,SAAUT,UACzDsB,EAAqB1Z,EAAQ2Z,OAAMvB,GAAUA,EAAOW,YACtDX,EAAOW,UAAYW,KACrBD,EAAqBV,UAAW,GAElCH,EAAI/X,KAAK4Y,GACTzZ,EAAQ4Z,SAAQC,IACd,MAAMC,EAAsC,CAAEjB,KAAM,QAAST,OAAQyB,IACjEvgB,EAAKyf,UAAYc,EAAMd,YACzBe,EAAoBf,UAAW,GAEjCH,EAAI/X,KAAKiZ,GACTN,EAAUpiB,IAAI0iB,EAAqBL,EAAqB,G,KAErD,CACL,MAAMtB,EAAiC,CAAEC,UACrCA,EAAOW,WACTZ,EAAeY,UAAW,GAE5BH,EAAI/X,KAAKsX,E,CAGX,OAAOS,CAAG,GACT,IAEH,MAAO,CACLW,cACAC,YACD,ED1BkCO,CAAe/Z,GAC5Cga,EAAoC,SAAlBX,EAA2BE,EAAcf,EAAce,EAAaD,GAE5F,MDFiCW,EACjCC,EACAC,KAEA,IAAIC,EAAe,EACfC,EAAa,EACbC,EAAe,EACf7B,EAAgC,KACpCyB,EAAcN,SAAQW,IACpB,MAAMtB,EAAwB,WAAdsB,EAAK1B,KACf2B,EAAQvB,EAAUsB,EAAOJ,EAAeI,GAC1CC,GAASA,IAAU/B,IACrBA,EAAe+B,EACfH,GAAc,EACdC,EAAe,GAEbrB,EACFC,EAAa9hB,IAAImjB,EAAM,CAAEF,eAChBG,GAAuB,UAAdD,EAAK1B,KACvBK,EAAa9hB,IAAImjB,EAAM,CACrBH,aAAcA,IACdC,aACAC,aAAcA,MAEO,UAAdC,EAAK1B,MAAqB0B,EAAK1B,MACxCK,EAAa9hB,IAAImjB,EAAM,CAAEH,aAAcA,K,GAEzC,EC1BFH,CAAoBD,EAAiBR,EAAUriB,IAAIsjB,KAAKjB,IACjD,CACLQ,kBACAR,YACAkB,WAAYnB,EAAYhiB,OACxBojB,aAAcX,EAAgBziB,OAElC,C,+DEnBI,SACF,YAAe,mCACf,KAAQ,6BACR,SAAY,iCACZ,OAAU,+BACV,QAAW,gCACX,eAAgB,qCAChB,cAAe,oCACf,gBAAiB,sCACjB,iBAAkB,uCAClB,uBAAwB,6CACxB,oBAAqB,0CACrB,eAAgB,qCAChB,iBAAkB,uCAClB,kCAAmC,wDACnC,uBAAwB,6CACxB,iCAAkC,uDAClC,+BAAgC,qDAChC,uBAAwB,6CACxB,eAAgB,qCAChB,wBAAyB,8CACzB,0BAA2B,iDCkB7B,EA3BerC,EAAAA,YAAiB,CAACvB,EAAgDgG,K,IAAhD,cAAE0f,GAAa1lB,EAAKinB,GAAWrmB,EAAAA,EAAAA,IAAAZ,EAA/B,mBAC/B,MAAsB,SAAlB0lB,EACK,KAIPnkB,EAAAA,cAAC2lB,EAAAA,EAAazlB,OAAAC,OAAA,CACZsE,IAAKA,EACLkf,KAAK,eACL9jB,UAAWE,EAAO6lB,OAClBC,cAAc,EACdC,2BAA2B,EAC3BC,SAAS,EACTC,kBAAkB,GACdN,EAAW,CACfO,mBAAkB/lB,OAAAC,OAAA,CAChB,iBAAiB,EACjB,iBAAiB,EACjBqG,KAAM,WACN0f,YAAa,MACbC,eAAgB,OACbT,EAAYO,sBAEjB,I,sDCnCF,QACQ,+BADR,EAEU,iCAFV,EAGQ,+BAHR,EAIa,oCAJb,EAKS,gCALT,EAMe,sCANf,EAOO,8BAPP,EAQK,4BARL,EASW,kCATX,GAUc,qCAVd,GAWM,6BAXN,GAYa,oCAZb,GAaU,iCAbV,GAcM,6BAdN,GAee,sCAff,GAgB2B,kDAhB3B,GAiBiB,wCCQfG,GAAY9gB,IAAA,IAAC,IAAE+gB,GAA0B/gB,EAAA,OAC7C+gB,EAAMrmB,EAAAA,cAAA,QAAMH,UAAWE,IAAsCsmB,GAAc,IAAI,EAEnE,SAAUC,GAAc/b,GAA4C,IAA3C,IAAE8b,EAAG,cAAEE,GAAoChc,EAChF,IAAK8b,IAAQE,EACX,OAAOvmB,EAAAA,cAAA,YAAOqmB,GAGhB,GAAIA,IAAQE,EACV,OAAOvmB,EAAAA,cAAComB,GAAS,CAACC,IAAKA,IAGzB,MAAM,UAAEG,EAAS,QAAEC,GAjCIC,EAACL,EAAaE,KAGrC,GAAIA,EAAclkB,OAAS,IACzB,MAAO,CAAEmkB,UAAW,CAACH,GAAMI,QAAS,MAItC,MAAME,EAAmBJ,EAAc1iB,QAAQ,wBAAyB,QAClE+iB,EAAS,IAAIC,OAAOF,EAAkB,MAI5C,MAAO,CAAEH,UAHSH,EAAI3L,MAAMkM,GAGRH,QAFJJ,EAAIviB,MAAM8iB,GAEG,EAoBEF,CAAiBL,EAAKE,GAE/CO,EAAwC,GAU9C,OARAN,EAAU9B,SAAQ,CAACqC,EAASC,KAC1BF,EAAYnb,KAAK3L,EAAAA,cAAA,QAAM6G,IAAG,WAAAvE,OAAa0kB,IAAQD,IAE3CN,GAAWO,EAAMP,EAAQpkB,QAC3BykB,EAAYnb,KAAK3L,EAAAA,cAAComB,GAAS,CAACvf,IAAG,SAAAvE,OAAW0kB,GAAOX,IAAKI,EAAQO,K,IAI3DhnB,EAAAA,cAAA,YAAO8mB,EAChB,CCnCO,MAAMG,GAAQ3hB,IAAA,IAAC,MAAE4hB,EAAK,OAAEC,EAAM,cAAEZ,EAAa,eAAEa,GAA4B9hB,EAAA,OAChFtF,EAAAA,cAAA,QAAMH,WAAWC,EAAAA,EAAAA,GAAKC,EAAcqnB,GAAkBrnB,KACnDonB,GACCnnB,EAAAA,cAAA,QAAMH,WAAWC,EAAAA,EAAAA,GAAKC,GAAwBqnB,GAAkBrnB,KAA6BonB,EAAM,KAErGnnB,EAAAA,cAACsmB,GAAc,CAACD,IAAKa,EAAOX,cAAeA,IACtC,EAQIc,GAAW9c,IAAA,IAAC,SAAE+c,EAAQ,cAAEf,EAAa,eAAEa,GAA+B7c,EAAA,OACjF+c,EACEtnB,EAAAA,cAAA,QAAMH,WAAWC,EAAAA,EAAAA,GAAKC,EAAqBqnB,GAAkBrnB,KAC3DC,EAAAA,cAACsmB,GAAc,CAACD,IAAKiB,EAAUf,cAAeA,KAE9C,IAAI,EASGgB,GAAcC,IAAA,IAAC,YAC1BC,EAAW,kBACXC,EAAiB,cACjBnB,EAAa,eACboB,EAAc,eACdP,GACiBI,EAAA,OACjBC,EACEznB,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,GAAoB,CAClC,CAACA,IAA4BqnB,EAC7B,CAACrnB,GAAqB2nB,EACtB,CAAC3nB,IAAkB4nB,KAGrB3nB,EAAAA,cAACsmB,GAAc,CAACD,IAAKoB,EAAalB,cAAeA,KAEjD,IAAI,EASGqB,GAAOC,IAAA,IAAC,KAAEC,EAAI,kBAAEJ,EAAiB,cAAEnB,EAAa,eAAEoB,EAAc,eAAEP,GAA2BS,EAAA,OACxGC,EACE9nB,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,GAAa,CAC3B,CAACA,GAAqB2nB,EACtB,CAAC3nB,IAAkB4nB,KAGpBG,EAAKphB,KAAI,CAACqhB,EAAKf,IACdhnB,EAAAA,cAAA,QAAM6G,IAAKmgB,EAAKnnB,WAAWC,EAAAA,EAAAA,GAAKC,EAAYqnB,GAAkBrnB,KAC5DC,EAAAA,cAACsmB,GAAc,CAACD,IAAK0B,EAAKxB,cAAeA,QAI7C,IAAI,EASGyB,GAAgBC,IAML,IANM,cAC5BC,EAAa,kBACbR,EAAiB,cACjBnB,EAAa,eACboB,EAAc,eACdP,GACkBa,EAClB,IAAK1B,IAAkB2B,EACrB,OAAO,KAGT,MAAMC,EAAgB5B,EAAc9L,cAEpC,OACEza,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,GAAa,CAC3B,CAACA,GAAqB2nB,EACtB,CAAC3nB,IAAkB4nB,KAGpBO,EAAcxhB,KAAI,CAAC0hB,EAAcvhB,KACqC,IAAvDuhB,EAAa3N,cAAcxX,QAAQklB,GAG7CnoB,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAYqnB,GAAkBrnB,IAC9C8G,IAAKA,EAAG,iBACO,GAEf7G,EAAAA,cAACsmB,GAAc,CAACD,IAAK+B,EAAc7B,cAAeA,KAIjD,OAEJ,EAIE8B,GAAcjpB,GACpBA,EAAMkpB,MAASlpB,EAAMmpB,KAAQnpB,EAAMopB,IAKtCxoB,EAAAA,cAAA,QAAMH,WAAWC,EAAAA,EAAAA,GAAKC,GAA4B,QAAfX,EAAMqpB,MAAkB,CAAC1oB,MAC1DC,EAAAA,cAAC0oB,EAAAA,EAAYxoB,OAAAC,OAAA,GAAKf,KALb,KCvHX,SAASupB,GAAoBnmB,EAA2BomB,GACjC,qBAAVpmB,GAA0C,kBAAVA,IACzCuB,EAAAA,EAAAA,IACE,iBAAgB,2DAAAzB,OAC2CsmB,EAAY,UAAAtmB,cAAgBE,EAAK,8CAGlG,CAEA,MA8FA,GA9FgB/D,I,aAAA,OACdykB,EAAM,cACNqD,EAAa,eACba,GAAiB,EAAK,cACtByB,GAAgB,EAAK,eACrBC,GAAiB,EAAI,kBACrBpB,GAAoB,EAAK,eACzBC,GAAiB,GAAKlpB,EACnBujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EARE,mHAUd,IAAKykB,EACH,OAAO,KAET,MAAM,SAAEW,GAAaX,EACfvjB,GAAYC,EAAAA,EAAAA,GAAaoiB,GAE3B+G,EAAAA,IACFJ,GAAoBzF,EAAOgE,MAAO,SAClCyB,GAAoBzF,EAAOuE,YAAa,eACxCkB,GAAoBzF,EAAOoE,SAAU,YAC1B,QAAXpK,EAAAgG,EAAO4E,YAAI,IAAA5K,GAAAA,EAAEwH,SAAQ,CAACqD,EAAKhF,KACzB4F,GAAoBZ,EAAK,QAAFzlB,OAAUygB,EAAK,KAAI,IAExB,QAApB1F,EAAA6F,EAAOgF,qBAAa,IAAA7K,GAAAA,EAAEqH,SAAQ,CAACqD,EAAKhF,KAClC4F,GAAoBZ,EAAK,iBAAFzlB,OAAmBygB,EAAK,KAAI,KAIvD,MAAMljB,GAAYC,EAAAA,EAAAA,GAChBC,EACA8jB,GAAY9jB,EACZ8oB,GAAiB9oB,EACjB2nB,GAAqB3nB,GAGjBipB,EAAO9F,EAAO+F,cAClBjpB,EAAAA,cAACqoB,GAAU,CACTC,KAAMpF,EAAOnH,SACbwM,IAAKrF,EAAOgG,QACZV,IAAKtF,EAAOiG,QACZC,IAAKlG,EAAOmG,QACZZ,KAAMvF,EAAOuE,aAAevE,EAAO4E,KAAO,MAAQ,WAOhDwB,EAAoBR,EACtB,CACES,MAAmB,QAAZC,EAAAtG,EAAOgE,aAAK,IAAAsC,EAAAA,EAAItG,EAAO1gB,MAC9B,gBAAiBqhB,QAEnBnhB,EAEJ,OACE1C,EAAAA,cAAA,OAAAE,OAAAC,OAAA,cAAkB+iB,EAAO1gB,MAAO3C,UAAWA,EAAW4pB,KAAMvG,EAAOuG,MAAUH,EAAuB3pB,GACjGqpB,EACDhpB,EAAAA,cAAA,QAAMH,UAAWE,GACfC,EAAAA,cAAA,QAAMH,UAAWE,GACfC,EAAAA,cAACinB,GAAK,CACJC,MAAmB,QAAZwC,EAAAxG,EAAOgE,aAAK,IAAAwC,EAAAA,EAAIxG,EAAO1gB,MAC9B2kB,OAAQjE,EAAOyG,cACfpD,cAAeA,EACfa,eAAgBA,IAElBpnB,EAAAA,cAACqnB,GAAQ,CAACC,SAAUpE,EAAOoE,SAAUf,cAAeA,EAAea,eAAgBA,KAErFpnB,EAAAA,cAACunB,GAAW,CACVE,YAAavE,EAAOuE,YACpBC,kBAAmBA,EACnBC,eAAgBA,EAChBpB,cAAeA,EACfa,eAAgBA,IAElBpnB,EAAAA,cAAC4nB,GAAI,CACHE,KAAM5E,EAAO4E,KACbJ,kBAAmBA,EACnBC,eAAgBA,EAChBpB,cAAeA,EACfa,eAAgBA,IAElBpnB,EAAAA,cAACgoB,GAAa,CACZE,cAAehF,EAAOgF,cACtBR,kBAAmBA,EACnBC,eAAgBA,EAChBpB,cAAeA,EACfa,eAAgBA,KAGf,ECjHP,GACiB,uCADjB,GAEY,mCAFZ,GAGgB,uCAHhB,GAIa,oCAJb,GAKU,iCALV,GAMU,iCANV,GAOoB,2CAPpB,GAQa,oCARb,GASQ,+BATR,GAUmB,0CAVnB,GAWO,8BAXP,GAYS,gCAZT,GAae,sCAbf,GAesB,6CAftB,GAgBgB,uCCgHpB,GAAepnB,EAAAA,YArGQ4pB,CACrBnrB,EAoBAgG,K,IAnBES,SAAUmd,EAAO,aACjBwH,EAAY,YACZC,EAAW,SACXvK,EAAQ,YACRuH,EAAW,SACXjD,EAAQ,cACRkG,EAAa,SACbC,EAAQ,QACRC,EAAO,gBACPC,EAAe,UACfC,EAAS,eACTC,EAAc,qBACdC,EAAoB,oBACpBC,EAAmB,aACnBC,EAAY,YACZC,EAAW,cACXC,GAAahsB,EACVujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAlBd,6PAsBA,MAAMye,GAAyBtd,EAAAA,EAAAA,GAAaoiB,IAAtC,UAAEniB,GAASqd,EAAK9Y,GAAI/E,EAAAA,EAAAA,IAAA6d,EAApB,eACAwN,GAAa5qB,EAAAA,EAAAA,GAAKD,EAAWE,GAA2B,CAC5D,CAACA,IAAkBwf,EACnB,CAACxf,IAAqB+mB,EACtB,CAAC/mB,IAA2BgqB,EAC5B,CAAChqB,IAAgBiqB,EACjB,CAACjqB,IAAekqB,EAChB,CAAClqB,IAA0C,aAAlB0qB,EACzB,CAAC1qB,IAAkB8jB,EACnB,CAAC9jB,SAAqC2C,IAApBwnB,EAClB,CAACnqB,IAAuBoqB,EACxB,CAACpqB,IAA+BqqB,EAChC,CAACrqB,IAA2BsqB,IAGxBM,GAAa9oB,EAAAA,EAAAA,QAAuB,MACpC+oB,GAAyB/oB,EAAAA,EAAAA,QAAuB,OAEtDgpB,EAAAA,EAAAA,kBAAgB,KAMV/D,GAAewD,IACbK,EAAW3oB,SACb2oB,EAAW3oB,QAAQ8oB,aAAa,cAAe,QAE7CF,EAAuB5oB,UACzB4oB,EAAuB5oB,QAAQ+oB,YAAcT,G,GAGhD,CAACxD,EAAawD,EAAqBK,EAAYC,IAElD,MAAMI,OACgBtoB,IAApBwnB,EACI,CACEe,UAAW,cAAF3oB,OAAgB4nB,EAAe,aAE1CxnB,EAEAwoB,EAAwE,CAC5E,gBAAiBrH,GAyBnB,OAtBImG,IAAaK,IACfa,EAAe,gBAAiB,QAGbxoB,IAAjBmnB,IACFqB,EAAe,iBAAmBrB,QAIhBnnB,IAAhBonB,IACFoB,EAAe,gBAAkBpB,GAG/BS,GAAgBC,IAClBU,EAAe,iBAAmBX,EAClCW,EAAe,gBAAkBV,GAG/BxI,EAAUnE,kBACZqN,EAAe,oBAAsBlJ,EAAUnE,iBAI/C7d,EAAAA,cAAA,KAAAE,OAAAC,OAAA,CAAIqG,KAAK,SAAS3G,UAAW6qB,EAAYM,MAAOA,GAAWE,EAAoB9mB,GAC7EpE,EAAAA,cAAA,OAAKH,UAAWE,GAA0B0E,IAAKkmB,GAC5CtI,GAEHriB,EAAAA,cAAA,OAAKH,UAAWE,GAAyB0E,IAAKA,IAC9CzE,EAAAA,cAAA,OAAKH,UAAWE,GAAgC0E,IAAKmmB,IAClD,I,0BC7FT,MAwFA,GAAe5qB,EAAAA,KAAWA,EAAAA,YAxFbmrB,CACX1sB,EAeAgG,K,IAfA,OACEye,EAAM,YACN4D,EAAW,SACXvH,EAAQ,eACR6L,EAAc,YACdC,EAAW,gBACXnB,EAAe,UACfC,EAAS,eACTC,EAAc,oBACdE,EAAmB,aACnBC,EAAY,YACZC,EAAW,cACXC,GAAahsB,EACVujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAbd,sLAiBA,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaoiB,GAEzBgI,EAA2B,WAAhB9G,EAAOS,KAClBsG,EAA0B,UAAhB/G,EAAOS,KACjB2H,EAAkCpI,EAAOA,OACzCW,EAAWX,EAAOW,UAAYyH,EAAczH,SAC5C1f,EAAiB0f,GAAYyH,EAAcnnB,eAAiBmnB,EAAcnnB,eAAiB,GAC3FE,IAAyBF,EACzBonB,GAAc1pB,EAAAA,EAAAA,QAAuB,OAErC,cAAE0C,EAAa,cAAEinB,IAAkBhnB,EAAAA,GAAAA,GAAqBL,GAE9D,OACEnE,EAAAA,cAAC4pB,GAAc1pB,OAAAC,OAAA,CACb0pB,aAAc4B,QAAQlM,GACtBA,SAAUA,EACV6K,eAAgBA,EAChBtD,YAAaA,EACbjD,SAAUX,EAAOW,SACjBmG,SAAUA,EACVC,QAASA,EACTxlB,KAAKI,EAAAA,EAAAA,GAAaJ,EAAK8mB,GACvBrB,gBAAiBA,EACjBC,UAAWA,EACXG,oBAAqBA,EACrBC,aAAcA,EACdC,YAAaA,EACbC,cAAeA,EACf5M,gBAAiBxZ,EAAuBmnB,EAAgB,IACpD7rB,GAEJK,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOslB,MAAO2E,GAAYsB,EAAchE,UAAYvnB,EAAO,oBAC7EsrB,IAAgBrB,GACfhqB,EAAAA,cAAA,OAAKH,UAAWE,EAAO2rB,UACrB1rB,EAAAA,cAAC2rB,EAAAA,EAAY,CAACC,QAASrM,IAAY,EAAOsE,SAAUX,EAAOW,YAG9DmG,EACChqB,EAAAA,cAAA,YAAOsrB,EAAcpE,OAASoE,EAAc9oB,OAE5CxC,EAAAA,cAAC6rB,GAAM,CACL3I,OAAMhjB,OAAAC,OAAAD,OAAAC,OAAA,GAAOmrB,GAAa,CAAEzH,aAC5B6D,kBAAmBZ,EACnBa,eAAgBpI,EAChBgH,cAAe6E,KAGjBC,IAAgBrB,GAAYzK,GAC5Bvf,EAAAA,cAAA,OAAKH,UAAWE,EAAO,kBACrBC,EAAAA,cAAC0oB,EAAAA,EAAY,CAACJ,KAAK,WAGtBjkB,GACCrE,EAAAA,cAAAA,EAAAA,SAAA,KACGuE,EACAuiB,GACC9mB,EAAAA,cAACmF,GAAAA,EAAO,CACNtF,UAAWE,EAAO,2BAClBqF,SAAUmmB,EACV/oB,MAAO2B,EACP2nB,SAAS,YAMJ,KCTrB,GAAe9rB,EAAAA,KAAWA,EAAAA,YAxFF+rB,CACtBttB,EAgBAgG,K,IAhBA,OACEye,EAAM,YACN4D,EAAW,SACXvH,EAAQ,eACR6L,EAAc,YACdC,EAAW,gBACXnB,EAAe,UACfC,EAAS,eACTC,EAAc,cACd4B,EAAa,oBACb1B,EAAmB,aACnBC,EAAY,YACZC,EAAW,cACXC,GAAahsB,EACVujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAdd,sMAkBA,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaoiB,GAEzBgI,EAA2B,WAAhB9G,EAAOS,KAClBsG,EAA0B,UAAhB/G,EAAOS,KACjB2H,EAAkCpI,EAAOA,OACzCW,EAAWX,EAAOW,UAAYyH,EAAczH,SAC5C1f,EACJ0f,IAAaX,EAAO/e,gBAAkBmnB,EAAcnnB,gBAChD+e,EAAO/e,gBAAkBmnB,EAAcnnB,eACvC,GACAE,IAAyBF,EACzBonB,GAAc1pB,EAAAA,EAAAA,QAAuB,MACrChC,GAAYC,EAAAA,EAAAA,GAAKC,EAAOslB,KAAM,CAClC,CAACtlB,EAAO8jB,UAAWA,KAGf,cAAE2H,EAAa,cAAEjnB,IAAkBC,EAAAA,GAAAA,GAAqBL,GAE9D,OACEnE,EAAAA,cAAC4pB,GAAc1pB,OAAAC,OAAA,CACb2pB,YAAaE,GAAYgC,EAAgB,QAAUP,QAAQlM,GAC3DA,SAAUA,EACV6K,eAAgBA,EAChBtD,YAAaA,EACbjD,SAAUA,EACVmG,SAAUA,EACVC,QAASA,EACTQ,cAAeA,EACfhmB,KAAKI,EAAAA,EAAAA,GAAaJ,EAAK8mB,GACvBrB,gBAAiBA,EACjBC,UAAWA,EACXE,sBAAsB,EACtBC,oBAAqBA,EACrBC,aAAcA,EACdC,YAAaA,EACb3M,gBAAiBxZ,EAAuBmnB,EAAgB,IACpD7rB,GAEJK,EAAAA,cAAA,OAAKH,UAAWA,GACbwrB,GACCrrB,EAAAA,cAAA,OAAKH,UAAWE,EAAO2rB,UACrB1rB,EAAAA,cAAC2rB,EAAAA,EAAY,CAACC,QAASrM,EAAUyM,cAAehC,GAAYgC,EAAenI,SAAUX,EAAOW,YAGhG7jB,EAAAA,cAAC6rB,GAAM,CACL3I,OAAMhjB,OAAAC,OAAAD,OAAAC,OAAA,GAAOmrB,GAAa,CAAEzH,aAC5B6D,kBAAmBZ,EACnBa,eAAgBpI,EAChBgH,cAAe6E,EACfvC,cAAemB,KAGlB3lB,GACCrE,EAAAA,cAAAA,EAAAA,SAAA,KACGuE,EACAuiB,GACC9mB,EAAAA,cAACmF,GAAAA,EAAO,CACNtF,UAAWE,EAAO,2BAClBqF,SAAUmmB,EACV/oB,MAAO2B,EACP2nB,SAAS,WAKF,KC3FRG,GAAe3mB,IAAqF,IAApF,OAAE4d,EAAM,MAAEH,EAAK,eAAEmJ,EAAc,eAAEd,EAAc,WAAEe,GAAa,GAAkB7mB,EAC3G,MAAM8mB,EAAcF,EAAehJ,EAAQH,GAC3CqJ,EAAYhB,eAAiBA,EAC7B,MAAM,aAAEhG,EAAY,WAAED,EAAU,aAAED,GbJqBG,IAAYrB,EAAa/hB,IAAIojB,GaIjCgH,CAAqBnJ,IAAW,CAAC,EACpF,OAAAhjB,OAAAC,OAAAD,OAAAC,OAAA,GACKisB,GAAW,CACdf,YAAac,EACb,mBAAsBhH,EACtB,mBAAsBC,EACtB,kBAAqBF,GAAY,ECExBoH,GAAgBhnB,IAWL,IAXM,QAC5BwF,EAAO,eACPohB,EAAc,eACdd,EAAc,cACdX,EAAa,WACb0B,GAAa,EAAK,kBAClBI,EAAiB,aACjBC,EAAY,qBACZnC,EAAoB,oBACpBC,EAAmB,YACnBE,GACkBllB,EAClB,OAAOwF,EAAQpE,KAAI,CAACwc,EAAQH,KAC1B,MAAM0J,EAAcD,GAAgBA,EAAazJ,GAC3C2J,EAAcD,EAAcA,EAAY1J,MAAQA,EAChD3jB,EAAQ6sB,GAAa,CACzB/I,SACAH,MAAO2J,EACPR,iBACAd,iBACAe,eAGIQ,EAAa5J,IAAUjY,EAAQzI,OAAS,EACxC8nB,GAAaoC,GAAqBI,EAClCC,EAAWvC,EAAuBwC,GAAkB1B,GAE1D,OACEnrB,EAAAA,cAAC4sB,EAAQ1sB,OAAAC,OAAA,CACP0G,IAAK6lB,GACDttB,EAAK,CACT8qB,gBAAiBuC,GAAeA,EAAYK,MAC5CroB,IAAKgoB,GAAeA,EAAYM,WAChC5C,UAAWA,EACXG,oBAAqBA,EACrBC,aAAcmC,EAAc,EAC5BlC,YAAaA,EACbC,cAAeA,EAAc9G,OAC7B,GAEJ,ECcJ,IAAe1f,EAAAA,EAAAA,aAhDG+oB,CAAA1nB,EAahBb,KACE,IAbF,UACEwoB,EAAS,eACTf,EAAc,gBACdpH,EAAe,eACfsG,EAAc,cACdX,EAAa,WACb0B,EAAU,kBACVI,EAAiB,WACjBW,EAAU,qBACV7C,EAAoB,oBACpBC,GACgBhlB,EAGlB,MAAM6nB,EAAUF,EAAUxoB,IAY1B,OAXA2oB,EAAAA,EAAAA,qBACE3oB,GACA,IAAOse,I,MACL,MAAMsC,EAAsB,QAAf5mB,EAAA0uB,EAAQnrB,eAAO,IAAAvD,OAAA,EAAAA,EAAEkF,cAAa,uBAAArB,OAAqCygB,EAAK,OACjF0H,EAAc4C,WAAahI,IAC7BiI,EAAAA,EAAAA,IAAsBjI,E,GAG1B,CAACoF,EAAe0C,IAIhBntB,EAAAA,cAACutB,EAAAA,EAAWrtB,OAAAC,OAAA,GAAK8sB,GACdX,GAAc,CACbxhB,QAASga,EACToH,iBACAd,iBACAX,gBACA0B,aACAI,oBACAlC,uBACAC,wBAED4C,EACCltB,EAAAA,cAAA,MAAIwG,KAAK,SAAS3G,UAAWE,EAAO,gBACjCmtB,GAED,KACQ,ICxEd,GACgB,uCADhB,GAEO,8BAFP,GAGoB,2CAHpB,GAIW,kCAJX,GAMS,gCANT,GAOU,iCAPV,GAQU,iCARV,GASS,gCATT,GAUS,gCAVT,GAWe,sCC8GnB,GAAeltB,EAAAA,YAxFOwtB,CACpB/uB,EAwBAgG,K,IAxBA,SACES,EAAQ,QACRuoB,GAAU,EAAK,UACfC,GAAY,EAAK,SACjB7J,GAAW,EAAK,SAChB8J,GAAW,EAAK,QAChB5H,GAAU,EAAK,QACf6H,GAAU,EAAK,aACfC,EAAY,iBACZC,EAAgB,aAChBC,EAAY,UACZnS,EAAS,eACT/V,EAAc,gBACdgY,EAAe,aACfmQ,EAAY,UACZvnB,EAAS,QACTwnB,EAAO,YACPC,EAAW,QACX7mB,EAAO,QACPvC,EAAO,OACPC,EAAM,UACNopB,GAAS1vB,EACNujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAtBd,0QA0BA,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaoiB,GAC/B,IAAIoM,EAAUluB,OAAAC,OAAAD,OAAAC,OAAA,GACTR,GAAS,CACZgkB,KAAM,SACN9jB,WAAWC,EAAAA,EAAAA,GACTC,GACAJ,EAAUE,UACV4tB,GAAW1tB,GACX8jB,GAAY9jB,GACZgmB,GAAWhmB,GACX6tB,IAAY7H,GAAWhmB,IACtB2tB,GAAa3tB,GACd4tB,GAAY5tB,GACZ+tB,GAAoB/tB,GACpB8tB,GAAgB9tB,IAElB8jB,SAAUA,EACV,gBAAiB4J,EACjB,aAAc7R,EACd,kBAAmB/V,EACnB,mBAAoBgY,EACpB,gBAA6B,OAAZkQ,QAAY,IAAZA,EAAAA,EAAgB,UACjC,gBAAiBC,EACjB,gBAAiBL,IAAa9J,EAAW,YAASnhB,EAClDyrB,cAmBF,OAhBKR,IACHS,EAAUluB,OAAAC,OAAAD,OAAAC,OAAA,GACLiuB,GAAU,CACb3nB,UAAWA,GAAa,CAAC2Z,IAASiO,EAAAA,EAAAA,IAAkB5nB,EAAW2Z,IAC/D6N,QAASA,GAAW,CAAC7N,IAASiO,EAAAA,EAAAA,IAAkBJ,EAAS7N,IACzD8N,YAAaA,GAAe,CAAC9N,IAASkO,EAAAA,EAAAA,IAAoBJ,EAAa,CAAC,EAAG9N,IAC3E/Y,QAASA,GAAW,CAAC+Y,IAASkO,EAAAA,EAAAA,IAAoBjnB,EAAS,CAAC,EAAG+Y,IAC/Dtb,QAASA,GAAW,CAACsb,IAASkO,EAAAA,EAAAA,IAAoBxpB,EAAS,CAAC,EAAGsb,IAC/Drb,OAAQA,GAAU,CAACqb,IAASkO,EAAAA,EAAAA,IAAoBvpB,EAAQ,CAAE4c,cAAevB,EAAMuB,eAAiBvB,OAIhG2F,IACFqI,EAAW,gBAAkBrI,GAI7B/lB,EAAAA,cAAA,SAAAE,OAAAC,OAAA,CAAQsE,IAAKA,GAAS2pB,GACnBlpB,GACCwoB,GACA1tB,EAAAA,cAAA,QAAMH,UAAWE,IACfC,EAAAA,cAAC0oB,EAAAA,EAAY,CAACJ,KAAK,oBAAoBtM,QAAS6H,GAAY8J,EAAW,WAAa,YAGjF,I,eCjFb,MAmHA,GAnHgB3tB,EAAAA,YACd,CAAAsF,EAkBEb,KACE,IAlBF,eACEoB,EAAc,gBACdgY,EAAe,UACf0Q,EAAS,QACTxI,EAAO,gBACPyI,EAAe,QACfZ,EAAO,aACPa,EAAY,eACZ9G,EAAc,gBACd+G,EAAe,eACftH,EAAc,iBACd0G,EAAgB,OAChBa,EAAM,YACNC,EAAW,SACX/K,EAAQ,SACR8J,GACaroB,EAGf,MAAMupB,GAAkBC,EAAAA,GAAAA,KAClBC,GAAc/P,EAAAA,EAAAA,KACdpR,EAAc,OAAT2gB,QAAS,IAATA,EAAAA,EAAaQ,EAClBC,GAAmBhQ,EAAAA,EAAAA,GAAY,oBAErC,IAAIiQ,GAAoBC,EAAAA,EAAAA,GAAYrpB,EAAgBmpB,GAEhDG,EAAiB,KACE,WAAnB/H,GACiB,OAAfsH,QAAe,IAAfA,OAAe,EAAfA,EAAiBrsB,SACnB8sB,EACEnvB,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GACTC,EAAO,wBACP8jB,GAAY9jB,EAAO,kCACnB8uB,GAAmB9uB,EAAO,oBAG5BC,EAAAA,cAAA,QAAMH,UAAWE,EAAO,sBACrB2uB,EAAgBhoB,KAAI,CAAA6D,EAAYmB,KAAC,IAAZ,MAAEwb,GAAO3c,EAAA,OAC7BvK,EAAAA,cAAA,QAAM6G,IAAK6E,EAAG7L,UAAWE,EAAO,iBAC7BmnB,EACI,KAGXlnB,EAAAA,cAAA,QAAMH,UAAWE,EAAO,wBAAyB6N,GAAIohB,GACnDhvB,EAAAA,cAAA,QAAMH,UAAWE,EAAO,oCAAqC6uB,GAC7D5uB,EAAAA,cAAA,gBAAQ0uB,EAAgBrsB,OAAM,OAIpC4sB,EAAoBppB,GAEpBspB,EACEnvB,EAAAA,cAAA,wBAAoB,OAAOH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO6uB,YAAa7uB,EAAOqvB,SAAUxhB,GAAIohB,GACjFJ,GAWPO,EAPUxH,EAMkB,WAAnBP,EACQpnB,EAAAA,cAAC6rB,GAAM,CAACje,GAAIohB,EAAkB9L,OAAMhjB,OAAAC,OAAAD,OAAAC,OAAA,GAAOwnB,GAAc,CAAE9D,aAAYuD,gBAAgB,IAGtGpnB,EAAAA,cAAA,QAAM4N,GAAIohB,EAAkBnvB,UAAWE,EAAOqvB,SAC3CzH,EAAeT,OAASS,EAAenlB,OAT1CxC,EAAAA,cAAA,wBAAoB,OAAOH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO6uB,YAAa7uB,EAAOqvB,SAAUxhB,GAAIohB,GACjFJ,GAaP,MAAMS,GAAYxqB,EAAAA,EAAAA,GAAa4pB,EAAahqB,IAAKA,GAC3C6qB,EACJtvB,EAAAA,cAACwtB,GAAattB,OAAAC,OAAA,GACRsuB,EAAY,CAChB7gB,GAAIA,EACJnJ,IAAK4qB,EACL5B,QAASkB,EACT9K,SAAUA,EACV8J,SAAUA,EACV5H,QAASA,EACT6H,QAASA,IAAY7H,EACrB+H,iBAAkBA,EAClBD,aAAiC,WAAnBzG,EACdvJ,gBAAiBA,EACjBhY,eAAgBopB,IAEfE,GAGL,OACEnvB,EAAAA,cAAAA,EAAAA,SAAA,KACGwuB,EACCxuB,EAAAA,cAAA,OAAKH,UAAWE,EAAO,yBACrBC,EAAAA,cAAA,SACEuvB,QAAShB,EACT1uB,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,gBAAiB8jB,GAAY9jB,EAAO,2BAE1DyuB,GAEHxuB,EAAAA,cAAA,OAAKH,UAAWE,EAAO,iCAAkCuvB,IAG3DtvB,EAAAA,cAAAA,EAAAA,SAAA,KAAGsvB,GAEJ,I,cC1GT,SAASE,KAeP,OAdAA,GAAWtvB,OAAOC,QAAU,SAAUsvB,GACpC,IAAK,IAAI/jB,EAAI,EAAGA,EAAIjL,UAAU4B,OAAQqJ,IAAK,CACzC,IAAIgkB,EAASjvB,UAAUiL,GAEvB,IAAK,IAAI7E,KAAO6oB,EACVxvB,OAAOyvB,UAAUC,eAAeC,KAAKH,EAAQ7oB,KAC/C4oB,EAAO5oB,GAAO6oB,EAAO7oB,GAG3B,CAEA,OAAO4oB,CACT,EAEOD,GAASM,MAAMC,KAAMtvB,UAC9B,CAiBA,IAiBIuvB,GAjBA5wB,GAAQ,CAAC,SAAU,SAAU,OAAQ,QAAS,MAAO,SAgBrD6wB,GAA6B,IAAInuB,IAGjCouB,GAAM,SAASA,IACjB,IAAIC,EAAgB,GACpBF,GAAcvL,SAAQ,SAAU0L,EAAOC,GACrC,IApBmCC,EAAGC,EAoBlCC,EAAUH,EAAKI,wBApBgBH,EAsBnBE,EAtBsBD,EAsBbH,EAAMM,UArBvB,IAANJ,IACFA,EAAI,CAAC,QAGG,IAANC,IACFA,EAAI,CAAC,GAGAnxB,GAAMgkB,MAAK,SAAUuN,GAC1B,OAAOL,EAAEK,KAAUJ,EAAEI,EACvB,MAYIP,EAAMM,KAAOF,EACbL,EAAcxkB,KAAKykB,GAEvB,IACAD,EAAczL,SAAQ,SAAU0L,GAC9BA,EAAMQ,UAAUlM,SAAQ,SAAUmM,GAChC,OAAOA,EAAGT,EAAMM,KAClB,GACF,IACAV,GAAQc,OAAOC,sBAAsBb,EACvC,EAmCA,IAAIc,GAA8C,qBAAXF,OAAyB9wB,EAAAA,gBAAwBA,EAAAA,UAExF,SAASixB,GAAQC,EAASC,QACJ,IAAhBA,IACFA,EAAc,CACZC,MAAO,EACPzyB,OAAQ,IAIZ,IAAI0yB,EAAkBrxB,EAAAA,SAAekxB,EAAQlvB,SACzCsvB,EAAUD,EAAgB,GAC1BE,EAAaF,EAAgB,GAE7BG,EAAoBxxB,EAAAA,WAAiByxB,GAAaN,GAClDT,EAAOc,EAAkB,GACzBE,EAAWF,EAAkB,GAE7BG,EAAiB3xB,EAAAA,QAAa,GAgClC,OA/BAgxB,IAA0B,WACpBE,EAAQlvB,UAAYsvB,GACtBC,EAAWL,EAAQlvB,QAEvB,IACAgvB,IAA0B,WACxB,GAAIM,IAAYK,EAAe3vB,QAAS,CACtC2vB,EAAe3vB,SAAU,EAEzB,IAAI4vB,EAAQN,EAAQb,wBAEpBiB,EAAS,CACPhB,KAAMkB,GAEV,CACF,GAAG,CAACN,IACJtxB,EAAAA,WAAgB,WACd,GAAKsxB,EAAL,CAIA,IAzEiBjB,EAAMQ,EAyEnBgB,GAzEaxB,EAyEUiB,EAzEJT,EAyEa,SAAUH,GAC5CgB,EAAS,CACPhB,KAAMA,GAEV,EA5EK,CACLoB,QAAS,WACP,IAAIC,EAAkC,IAAvB9B,GAAcxH,KAEzBwH,GAAc+B,IAAI3B,GACpBJ,GAAchuB,IAAIouB,GAAMO,UAAUjlB,KAAKklB,GAEvCZ,GAAc/tB,IAAImuB,EAAM,CACtBK,UAAMhuB,EACNuvB,gBAAgB,EAChBrB,UAAW,CAACC,KAIZkB,GAAU7B,IAChB,EACAgC,UAAW,WACT,IAAI9B,EAAQH,GAAchuB,IAAIouB,GAE9B,GAAID,EAAO,CAET,IAAIrN,EAAQqN,EAAMQ,UAAU3tB,QAAQ4tB,GAChC9N,GAAS,GAAGqN,EAAMQ,UAAUuB,OAAOpP,EAAO,GAEzCqN,EAAMQ,UAAUvuB,QAAQ4tB,GAAsB,OAAEI,GAEhDJ,GAAcxH,MAAM2J,qBAAqBpC,GAChD,CACF,IAkDA,OADA6B,EAASC,UACF,WACLD,EAASK,WACX,CAVA,CAWF,GAAG,CAACZ,IACGZ,CACT,CAEA,SAASe,GAAYrB,EAAOiC,GAC1B,IAAI3B,EAAO2B,EAAO3B,KAElB,OAAIN,EAAMzxB,SAAW+xB,EAAK/xB,QAAUyxB,EAAMgB,QAAUV,EAAKU,MAChDV,EAGFN,CACT,CAEA,IAAIkC,GAAsB,WACxB,OAAO,EACT,EAEIC,GAAsB,SAA6BxP,GACrD,OAAOA,CACT,EAEIyP,GAAqB,SAA4BC,EAAIC,GAEvD,OAAOD,EADGC,EAAa,cAAgB,eAEzC,EAEIC,GAAwB,SAA+BC,GAKzD,IAJA,IAAI9F,EAAQ/jB,KAAK8pB,IAAID,EAAM9F,MAAQ8F,EAAME,SAAU,GAC/CC,EAAMhqB,KAAKiqB,IAAIJ,EAAMG,IAAMH,EAAME,SAAUF,EAAMnK,KAAO,GACxDwK,EAAM,GAEDvnB,EAAIohB,EAAOphB,GAAKqnB,EAAKrnB,IAC5BunB,EAAItnB,KAAKD,GAGX,OAAOunB,CACT,EACA,SAASC,GAAW5tB,GAClB,IAAI6tB,EAEAC,EAAY9tB,EAAKmjB,KACjBA,OAAqB,IAAd2K,EAAuB,EAAIA,EAClCC,EAAoB/tB,EAAKguB,aACzBA,OAAqC,IAAtBD,EAA+Bf,GAAsBe,EACpEE,EAAgBjuB,EAAKwtB,SACrBA,OAA6B,IAAlBS,EAA2B,EAAIA,EAC1CC,EAAoBluB,EAAKmuB,aACzBA,OAAqC,IAAtBD,EAA+B,EAAIA,EAClDE,EAAkBpuB,EAAKquB,WACvBA,OAAiC,IAApBD,EAA6B,EAAIA,EAC9CE,EAAYtuB,EAAKsuB,UACjBlB,EAAaptB,EAAKotB,WAClBmB,EAAavuB,EAAKuuB,WAClBC,EAAcxuB,EAAKwuB,YACnB3C,EAAc7rB,EAAK6rB,YACnB4C,EAAkBzuB,EAAKyuB,gBACvBC,EAAiB1uB,EAAK0uB,eACtBC,EAAoB3uB,EAAK4uB,aACzBA,OAAqC,IAAtBD,EAA+B1B,GAAsB0B,EACpEE,EAAmB7uB,EAAK8uB,YACxBA,OAAmC,IAArBD,EAA8B3B,GAAqB2B,EACjEE,EAAsB/uB,EAAKgvB,eAC3BA,OAAyC,IAAxBD,EAAiC1B,GAAwB0B,EAC1EE,EAAU7B,EAAa,QAAU,SACjC8B,EAAY9B,EAAa,aAAe,YACxC+B,EAAYz0B,EAAAA,OAAa,CAC3B00B,aAAc,EACdC,aAAc,KAGZtD,EAAkBrxB,EAAAA,SAAe,GACjC00B,EAAerD,EAAgB,GAC/BuD,EAAkBvD,EAAgB,GAEtCoD,EAAUzyB,QAAQ0yB,aAAeA,EACjC,IAGIG,GAHmBf,GAAe7C,IAEG2C,EAAWzC,GAClBoD,GAElCE,EAAUzyB,QAAQ6yB,UAAYA,EAC9B,IAAIC,EAAoB90B,EAAAA,aAAkB,SAAU+0B,GAC9CnB,EAAU5xB,UACZ4xB,EAAU5xB,QAAQwyB,GAAaO,EAEnC,GAAG,CAACnB,EAAWY,IACXQ,EAAqBnB,GAAciB,EACvCjB,EAAa7zB,EAAAA,aAAkB,SAAU+0B,GACvCC,EAAmBD,EAAQD,EAC7B,GAAG,CAACA,EAAmBE,IAEvB,IAAIC,EAAmBj1B,EAAAA,SAAe,CAAC,GACnCk1B,EAAgBD,EAAiB,GACjCE,EAAmBF,EAAiB,GAEpCG,EAAUp1B,EAAAA,aAAkB,WAC9B,OAAOm1B,EAAiB,CAAC,EAC3B,GAAG,IACCE,EAAiCr1B,EAAAA,OAAa,IAC9C20B,EAAe30B,EAAAA,SAAc,WAC/B,IAAIgzB,EAAMqC,EAA+BrzB,QAAQK,OAAS,EAAI0G,KAAKiqB,IAAIlD,MAAM/mB,KAAMssB,EAA+BrzB,SAAW,EAC7HqzB,EAA+BrzB,QAAU,GAGzC,IAFA,IAAI2yB,EAAeF,EAAUzyB,QAAQ2yB,aAAaW,MAAM,EAAGtC,GAElDtnB,EAAIsnB,EAAKtnB,EAAI+c,EAAM/c,IAAK,CAC/B,IAAI7E,EAAMqtB,EAAaxoB,GACnB6pB,EAAeL,EAAcruB,GAE7B2uB,EAASb,EAAajpB,EAAI,GAAKipB,EAAajpB,EAAI,GAAGqnB,IAAMU,EAEzDgC,EAAgC,kBAAjBF,EAA4BA,EAAejC,EAAa5nB,GAEvEgqB,EAAOF,EAASC,EAEpBd,EAAajpB,GAAK,CAChBqX,MAAOrX,EACPohB,MAAO0I,EACP/M,KAAMgN,EACN1C,IAAK2C,EACL7uB,IAAKA,EAET,CAEA,OAAO8tB,CACT,GAAG,CAACrB,EAAc4B,EAAezB,EAAchL,EAAMyL,IACjDyB,IAA0D,OAA3CxC,EAAgBwB,EAAalM,EAAO,SAAc,EAAS0K,EAAcJ,MAAQU,GAAgBE,EACpHc,EAAUzyB,QAAQ2yB,aAAeA,EACjCF,EAAUzyB,QAAQ2zB,UAAYA,EAC9B,IAAIrE,EAAUyC,EAAkBA,EAAgB/xB,QAAU4xB,EAAU5xB,QAChE4zB,EAAoB51B,EAAAA,OAAag0B,GACrC4B,EAAkB5zB,QAAUgyB,EAC5BhD,IAA0B,WACxB,GAAKM,EAAL,CAKA,IAAIuE,EAAW,SAAkBzV,GAC/B,IAAI2U,EAASa,EAAkB5zB,QAAU4zB,EAAkB5zB,QAAQoe,GAASkR,EAAQkD,GACpFI,EAAgBG,EAClB,EAOA,OALAc,IACAvE,EAAQwE,iBAAiB,SAAUD,EAAU,CAC3CE,SAAS,EACTC,SAAS,IAEJ,WACL1E,EAAQ2E,oBAAoB,SAAUJ,EACxC,CAdA,CAFEjB,EAAgB,EAiBpB,GAAG,CAACtD,EAASkD,IAEb,IAAI0B,EAoKN,SAAwBrO,GACtB,IAAI8M,EAAe9M,EAAM8M,aACrBE,EAAYhN,EAAMgN,UAClBH,EAAe7M,EAAM6M,aACrBjM,EAAOkM,EAAatyB,OAAS,EAE7B8zB,EAAY,SAAmBpT,GACjC,OAAO4R,EAAa5R,GAAO+J,KAC7B,EAEIA,EAAQsJ,GAAwB,EAAG3N,EAAM0N,EAAWzB,GACpD3B,EAAMjG,EAEV,KAAOiG,EAAMtK,GAAQkM,EAAa5B,GAAKA,IAAM2B,EAAeG,GAC1D9B,IAGF,MAAO,CACLjG,MAAOA,EACPiG,IAAKA,EAET,CAzLwBsD,CAAe5B,EAAUzyB,SAC3C8qB,EAAQoJ,EAAgBpJ,MACxBiG,EAAMmD,EAAgBnD,IAEtBuD,EAAUt2B,EAAAA,SAAc,WAC1B,OAAOs0B,EAAe,CACpBxH,MAAOA,EACPiG,IAAKA,EACLD,SAAUA,EACVrK,KAAMkM,EAAatyB,QAEvB,GAAG,CAACyqB,EAAOiG,EAAKD,EAAU6B,EAAatyB,OAAQiyB,IAC3CiC,EAAiBv2B,EAAAA,OAAao0B,GAClCmC,EAAev0B,QAAUoyB,EACzB,IAAI5H,EAAexsB,EAAAA,SAAc,WAiC/B,IAhCA,IAAIwsB,EAAe,GAEfgK,EAAQ,SAAeC,EAAGC,GAC5B,IAAIhrB,EAAI4qB,EAAQG,GAGZpR,EAAOmK,GAASA,GAAS,CAAC,EAFZmF,EAAajpB,IAEgB,CAAC,EAAG,CACjDqhB,WAAY,SAAoB0F,GAC9B,GAAIA,EAAI,CACN,IAAI8C,EAAegB,EAAev0B,QAAQywB,EAAIC,GAE9C,GAAI6C,IAAiBlQ,EAAKoD,KAAM,CAC9B,IAAIkO,EAAgBlC,EAAUzyB,QAAQ0yB,aAElCrP,EAAKyH,MAAQ6J,GACf7B,EAAkB6B,GAAiBpB,EAAelQ,EAAKoD,OAGzD4M,EAA+BrzB,QAAQ2J,KAAKD,GAC5CypB,GAAiB,SAAUyB,GACzB,IAAIC,EAEJ,OAAOrH,GAASA,GAAS,CAAC,EAAGoH,GAAM,CAAC,IAAIC,EAAY,CAAC,GAAaxR,EAAKxe,KAAO0uB,EAAcsB,GAC9F,GACF,CACF,CACF,IAGFrK,EAAa7gB,KAAK0Z,EACpB,EAESoR,EAAI,EAAGC,EAAMJ,EAAQj0B,OAAQo0B,EAAIC,EAAKD,IAC7CD,EAAMC,GAGR,OAAOjK,CACT,GAAG,CAAC8J,EAASxB,EAAmBpC,EAAYiC,IACxCmC,EAAa92B,EAAAA,QAAa,GAC9BgxB,IAA0B,WACpB8F,EAAW90B,SACbmzB,EAAiB,CAAC,GAGpB2B,EAAW90B,SAAU,CACvB,GAAG,CAACsxB,IACJ,IAAIyD,EAAiB/2B,EAAAA,aAAkB,SAAUg3B,EAAUC,GACzD,IACIC,QADkB,IAAVD,EAAmB,CAAC,EAAIA,GACZE,MACpBA,OAAwB,IAAhBD,EAAyB,QAAUA,EAE3CE,EAAqB3C,EAAUzyB,QAC/B0yB,EAAe0C,EAAmB1C,aAClCG,EAAYuC,EAAmBvC,UAErB,SAAVsC,IAEAA,EADEH,GAAYtC,EACN,QACCsC,GAAYtC,EAAeG,EAC5B,MAEA,SAIE,UAAVsC,EACFtD,EAAWmD,GACQ,QAAVG,EACTtD,EAAWmD,EAAWnC,GACH,WAAVsC,GACTtD,EAAWmD,EAAWnC,EAAY,EAEtC,GAAG,CAAChB,IACAwD,EAAmBr3B,EAAAA,aAAkB,SAAU+iB,EAAOuU,GACxD,IAAI9P,OAAmB,IAAX8P,EAAoB,CAAC,EAAIA,EACjCC,EAAc/P,EAAM2P,MACpBA,OAAwB,IAAhBI,EAAyB,OAASA,EAC1CnzB,EA3XR,SAAuCsrB,EAAQ8H,GAC7C,GAAc,MAAV9H,EAAgB,MAAO,CAAC,EAC5B,IAEI7oB,EAAK6E,EAFL+jB,EAAS,CAAC,EACVgI,EAAav3B,OAAOogB,KAAKoP,GAG7B,IAAKhkB,EAAI,EAAGA,EAAI+rB,EAAWp1B,OAAQqJ,IACjC7E,EAAM4wB,EAAW/rB,GACb8rB,EAASv0B,QAAQ4D,IAAQ,IAC7B4oB,EAAO5oB,GAAO6oB,EAAO7oB,IAGvB,OAAO4oB,CACT,CA8WeiI,CAA8BlQ,EAAO,CAAC,UAE7CmQ,EAAsBlD,EAAUzyB,QAChC2yB,EAAegD,EAAoBhD,aACnCD,EAAeiD,EAAoBjD,aACnCG,EAAY8C,EAAoB9C,UAChC+C,EAAcjD,EAAa5rB,KAAK8pB,IAAI,EAAG9pB,KAAKiqB,IAAIjQ,EAAO0F,EAAO,KAElE,GAAKmP,EAAL,CAIA,GAAc,SAAVT,EACF,GAAIS,EAAY7E,KAAO2B,EAAeG,EACpCsC,EAAQ,UACH,MAAIS,EAAY9K,OAAS4H,GAG9B,OAFAyC,EAAQ,OAGV,CAGF,IAAIH,EAAqB,WAAVG,EAAqBS,EAAY9K,MAAQ8K,EAAYnP,KAAO,EAAc,QAAV0O,EAAkBS,EAAY7E,IAAM6E,EAAY9K,MAC/HiK,EAAeC,EAAUxH,GAAS,CAChC2H,MAAOA,GACN/yB,GAfH,CAgBF,GAAG,CAAC2yB,EAAgBtO,IAChBoP,EAAgB73B,EAAAA,aAAkB,WACpC,IAAK,IAAI83B,EAAOr3B,UAAU4B,OAAQ01B,EAAO,IAAIzc,MAAMwc,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQv3B,UAAUu3B,GAQzBX,EAAiBvH,WAAM,EAAQiI,GAC/BhH,uBAAsB,WACpBsG,EAAiBvH,WAAM,EAAQiI,EACjC,GACF,GAAG,CAACV,IACJ,MAAO,CACL7K,aAAcA,EACdmJ,UAAWA,EACXoB,eAAgBA,EAChBc,cAAeA,EACfzC,QAASA,EAEb,CAEA,IAAIgB,GAA0B,SAAiC6B,EAAKC,EAAMC,EAAiB31B,GACzF,KAAOy1B,GAAOC,GAAM,CAClB,IAAIE,GAAUH,EAAMC,GAAQ,EAAI,EAC5BG,EAAeF,EAAgBC,GAEnC,GAAIC,EAAe71B,EACjBy1B,EAAMG,EAAS,MACV,MAAIC,EAAe71B,GAGxB,OAAO41B,EAFPF,EAAOE,EAAS,CAGlB,CACF,CAEA,OAAIH,EAAM,EACDA,EAAM,EAEN,CAEX,ECzeA,MAIMK,IAAkBr0B,EAAAA,EAAAA,aACtB,CAAAqB,EAaEb,KACE,IAbF,UACEwoB,EAAS,eACTf,EAAc,gBACdpH,EAAe,eACfsG,EAAc,cACdX,EAAa,WACb0B,EAAU,kBACVI,EAAiB,WACjBW,EAAU,qBACV7C,EAAoB,oBACpBC,GACgBhlB,EAIlB,MAAO8rB,EAAOmH,IAAkBC,EAAAA,GAAAA,IAAkB9H,GAAQA,EAAK+H,iBAAiB,IAC1EC,GAAgB72B,EAAAA,EAAAA,QAAO,MACvBsrB,GAAUtoB,EAAAA,EAAAA,GAAa0zB,EAAgBG,EAAezL,EAAUxoB,MAEhE,aAAE+nB,EAAY,UAAEmJ,EAAS,cAAEkC,GCP/B,SAAoBvyB,GAIF,IAJwB,MAC9CqzB,EAAK,UACL/E,EAAS,aACTN,GACsBhuB,EACtB,MAAMszB,EAAiBC,GAAkB,CAAEpQ,KAAMkQ,EAAMt2B,OAAQuxB,YAAWN,eAAcR,SAAU,IAG5FgG,GAAgBj3B,EAAAA,EAAAA,QAAO,IAAIoiB,SAG3B8U,EAAaH,EAAepM,aAAa9lB,KAAI2e,GAAQ,GAAJ/iB,OAAO+iB,EAAKtC,SAASiW,KAAK,KAoBjF,OAnBA5Z,EAAAA,EAAAA,YAAU,KACR0Z,EAAc92B,QAAU,IAAIiiB,OAAS,GACpC,CAAC8U,EAAYJ,EAAOrF,IAiBhB,CACL9G,cAhBmBnR,EAAAA,EAAAA,UACnB,IACEud,EAAepM,aAAa9lB,KAAI+lB,GAAevsB,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EAC5CssB,GAAW,CACdM,WAAasD,I,MACX,MAAM4I,EAAkE,QAAnDx6B,EAAAq6B,EAAc92B,QAAQC,IAAI02B,EAAMlM,EAAY1J,eAAO,IAAAtkB,EAAAA,EAAI,EACxEw6B,EAhDU,MAiDZxM,EAAYM,WAAWsD,GACvByI,EAAc92B,QAAQE,IAAIy2B,EAAMlM,EAAY1J,OAAQkW,EAAe,G,OAI3E,CAACN,EAAOC,EAAepM,eAKvBmJ,UAAWiD,EAAejD,UAC1BkC,cAAee,EAAef,cAElC,CD7BuD3E,CAAW,CAC5DyF,MAAO7T,EACP8O,UAAW8E,EAMXpF,cAAc4F,EAAAA,EAAAA,cAAY,IAAM,IAAI,CAAC9H,EAAOhG,OAG9CgC,EAAAA,EAAAA,qBACE3oB,GACA,IAAOse,IACD0H,EAAc4C,WAChBwK,EAAc9U,E,GAGlB,CAAC0H,EAAeoN,IAElB,MAAMsB,EAAe7M,GAAc,CACjCxhB,QAAS0hB,EAAa9lB,KAAI6D,IAAA,IAAC,MAAEwY,GAAOxY,EAAA,OAAKua,EAAgB/B,EAAM,IAC/DmJ,iBACAd,iBACAX,gBACA0B,aACAI,oBACAC,eACAnC,uBACAC,sBACAE,YAAa1F,EAAgBziB,SAG/B,OACErC,EAAAA,cAACutB,EAAAA,EAAWrtB,OAAAC,OAAA,GAAK8sB,EAAS,CAAExoB,IAAK0oB,IAC/BntB,EAAAA,cAAA,qBAAiB,OAAO6G,IAAI,aAAahH,UAAWE,EAAO,gBAAiBirB,MAAO,CAAErsB,OAAQg3B,KAC5FwD,EACAjM,EACCltB,EAAAA,cAAA,MAAIwG,KAAK,SAAS3G,UAAWE,EAAO,gBACjCmtB,GAED,KACQ,IAKdkM,IAAoBn1B,EAAAA,EAAAA,aACxB,CAAAujB,EAA6C/iB,KAAiD,IAA7F,UAAEwoB,EAAS,WAAEC,GAA6B1F,EAEzC,OADA4F,EAAAA,EAAAA,qBAAoB3oB,GAAK,IAAM,QAAU,IAEvCzE,EAAAA,cAACutB,EAAAA,EAAWrtB,OAAAC,OAAA,GAAK8sB,EAAS,CAAExoB,IAAKwoB,EAAUxoB,MACxCyoB,EACCltB,EAAAA,cAAA,MAAIwG,KAAK,SAAS3G,UAAWE,EAAO,gBACjCmtB,GAED,KACQ,IAKpB,IAAejpB,EAAAA,EAAAA,aAvFKo1B,CAACj6B,EAAwBqF,IACpCrF,EAAM6tB,UAAUqM,KAAOt5B,EAAAA,cAACs4B,GAAep4B,OAAAC,OAAA,GAAKf,EAAK,CAAEqF,IAAKA,KAAUzE,EAAAA,cAACo5B,GAAiBl5B,OAAAC,OAAA,GAAKf,EAAK,CAAEqF,IAAKA,OEXvG,MAiBM80B,GAAkBA,CAACzuB,EAA0CoY,KACxE,IAAK,IAAIH,EAAQ,EAAGA,EAAQjY,EAAQzI,OAAQ0gB,IAAS,CACnD,MAAMyW,EAAW1uB,EAAQiY,GACzB,GAAIyW,IAAatW,GAAUsW,EAASh3B,QAAU0gB,EAAO1gB,MACnD,OAAOugB,C,CAGX,OAAQ,CAAC,ECXX,SAbA,SAAkCG,EAA0BuW,GAC1D,MAAO,CACLA,GAAeA,EAAYvS,MAC3BhE,EAAOyG,cACPzG,EAAOgE,OAAShE,EAAO1gB,MACvB0gB,EAAOuE,YACPvE,EAAOoE,UAENhlB,OAAO4gB,EAAO4E,MACdlC,QAAO6M,KAAQA,IACfuG,KAAK,IACV,E,eCFO,MAAMU,GAAkBrT,GAAgBA,EAAI3L,MAAM,IAAI+J,OAAMkV,GAAKA,IAAMtT,EAAI,KAqD5E,SAAUuT,GAAepS,GAMR,IANS,UAC9BvgB,EAAS,QACT6D,EAAO,gBACP+uB,EAAe,kBACfnS,EAAiB,qBACjB2C,GACqB7C,EACrB,MAAMhlB,GAAQX,EAAAA,EAAAA,QAAO,IAEfi4B,GAAoBC,EAAAA,GAAAA,IAAoB,IAAOv3B,EAAMR,QAAU,IAAK,KAE1E,OAAQoe,IACN,IAAKnZ,EACH,OAGF,MAAM,IAAEJ,GAAQuZ,EAEhB,IAAKvZ,GAAsB,IAAfA,EAAIxE,OACd,OAGFy3B,IACA,MAAME,EAAWx3B,EAAMR,QAAU6E,EACjCrE,EAAMR,QAAUg4B,EAEhB,MAAMC,EArEV,SACEnvB,EACA+X,EACAqX,EACA7P,GAEA,MAAM8P,EAAqB9P,EAAuBvG,EAAqBF,EACjEgC,EAAU/C,GACdS,EAAcxY,EAAS+X,GAAY,GAAM+C,QAAO1C,GAAUiX,EAAmBjX,KACzEkX,EAAkBxU,EAAO/C,GAE/B,GAA+B,IAA3BuX,EAAgB/3B,OAClB,OAAO+3B,EAAgB,GAIzB,GAAIF,GAAoBrX,EAAWxgB,OAAS,GAAKq3B,GAAe7W,GAAa,CAC3E,MAAMuX,EAAkBxU,EAAO/C,EAAW,IAE1C,GAAIuX,EAAgB/3B,OAAS,EAAG,CAE9B,IAAIg4B,EAAiBtW,EAAQmW,GACzBE,EAAgB1zB,KAAIpB,IAAA,IAAC,OAAE4d,GAAQ5d,EAAA,OAAK4d,CAAM,IAAEjgB,QAAQi3B,GACpDE,EACG1zB,KAAI6D,IAAA,IAAC,OAAE2Y,GAAQ3Y,EAAA,OAAM2Y,EAA4B1gB,KAAK,IACtDS,QAASi3B,EAAsC13B,OAMtD,OAFA63B,GAAU,EACVA,GAAkBD,EAAgB/3B,OAC3B+3B,EAAgBC,E,EAM3B,OAAID,EAAgB/3B,OAAS,EACpB+3B,EAAgB,GAElB,IACT,CA4B0BE,CAAmBxvB,EAASkvB,EAAUtS,EAAmB2C,GAC3E4P,GACFJ,EAAgBI,E,CAGtB,CC7FM,MAAOM,GACXC,WAAAA,CACS7W,GACwC,IAAxC0J,EAAA5sB,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAA8B,aAATkjB,EADrB,KAAAA,KAAAA,EACA,KAAA0J,UAAAA,CACN,EAyBC,SAAUoN,GAAoBn1B,GAGC,IAHY,QAC/CwF,EAAO,gBACP4vB,GACmCp1B,EACnC,MAAOq1B,EAAkBC,IAA4Bh2B,EAAAA,EAAAA,WAAU,IACxD6lB,EAAeoQ,IAAoBj2B,EAAAA,EAAAA,UAAwB,IAAI21B,GAAc,aAC9EO,GAAsB5B,EAAAA,EAAAA,cAAY,CAACnW,EAAe0H,KACtDmQ,EAAyB7X,GACzB8X,EAAiBpQ,EAAc,GAC9B,IAEG/C,EACJ5c,EAAQ6vB,IAAqBD,EAAgB5vB,EAAQ6vB,IAAqB7vB,EAAQ6vB,QAAoBj4B,EAElGq4B,EAAoB,SAACC,GAAkF,IAA/DC,EAAUx6B,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAGk6B,EAAkBlQ,EAA4BhqB,UAAA4B,OAAA,EAAA5B,UAAA,QAAAiC,EAEvG,IAAIw4B,GADkC,IAAhBD,IAAoC,IAAfD,EACZlwB,EAAQzI,OAAS44B,EAChD,GACEC,GAAYF,QACLlwB,EAAQowB,KAAcR,EAAgB5vB,EAAQowB,KAEnDpwB,EAAQowB,IACVJ,EAAoBI,EAAUzQ,EAElC,EAKMoP,GAAkBX,EAAAA,EAAAA,cACtB,CAAChW,EAAoBuH,KACnB,MAAM1H,EAAQjY,EAAQ7H,QAAQigB,GAC9B4X,EAAoB/X,EAAO0H,EAAc,GAE3C,CAAC3f,EAASgwB,IAGZ,MAAO,CACL,CAAErQ,gBAAekQ,mBAAkBjT,qBACnC,CACEyT,6BAA8B,SAACpY,GAAgC,OAC7D+X,EAAoB/X,EAAO,IAAIwX,GAAc,QADQ95B,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,IACY,EACnE26B,0BAA4BJ,GAhBVK,EAACL,EAAmBvQ,IACxCsQ,EAAkBC,EAAWL,EAAkBlQ,GAeK4Q,CAAcL,EAAW,IAAIT,GAAc,aAC7Fe,4BAA8BpY,GAAuB2W,EAAgB3W,EAAQ,IAAIqX,GAAc,aAC/FgB,2BAA4BA,IAAMT,GAAqB,EAAG,IAAIP,GAAc,aAC5EiB,mBAAoBA,IAAMT,EAAkB,GAAI,EAAG,IAAIR,GAAc,aACrEkB,kBAAmBA,IAAMV,GAAmB,EAAGjwB,EAAQzI,OAAQ,IAAIk4B,GAAc,cAGvF,CChFO,MAAMmB,GAAcA,CAACC,EAAgB5Y,KAC1C,KAAIA,EAAQ,GAGZ,MAAO,GAAPzgB,OAAUq5B,EAAM,YAAAr5B,OAAWygB,EAAK,E,wCCuC5B,SAAU6Y,GAASt2B,GAaR,IAbS,gBACxBopB,EAAe,qBACfmN,EAAoB,QACpB/wB,EAAO,cACPqZ,EAAa,OACbpf,EAAM,QACND,EAAO,YACPg3B,EAAW,SACXC,EAAQ,cACRC,EAAa,kBACbC,EAAiB,qBACjB5R,GAAuB,EAAK,WAC5BprB,GACeqG,EACf,MAAM60B,EAAqB9P,EAAuBvG,EAAqBF,EAEjE8W,EAAmBxX,KAA8BA,IAAWmH,GAAwC,WAAhBnH,EAAOS,MAE3FuY,GAAYr6B,EAAAA,EAAAA,QAAyB,MACrCs6B,GAAat6B,EAAAA,EAAAA,QAA0B,MACvCsrB,GAAUtrB,EAAAA,EAAAA,QAAyB,MACnCu6B,EAA8B,SAAlBjY,EACZkY,EAAYD,EAAYF,EAAY/O,EACpCmP,ELhE6BC,EACnCzxB,EACA4jB,KAEQA,GAAmB,IAAIhoB,KAAIihB,IACjC,IAAK,MAAM1E,KAAkBnY,EAC3B,GAC0B,WAAxBmY,EAAeU,MACdV,EAAeC,OAA4B1gB,QAAUmlB,EAAenlB,MAErE,OAAOygB,EAGX,MAAO,CAAEC,OAAQyE,EAAgB,IKmDT4U,CAAsBzxB,EAAS4jB,GACnD8N,EAAsB9N,EAAgBjL,QAAO,CAACgZ,EAAgCpX,KAC9EA,EAAK7iB,OACPi6B,EAAkBC,IAAIrX,EAAK7iB,OAEtBi6B,IACN,IAAIE,OAEL,cAAElS,EAAa,kBAAE/C,EAAiB,iBAAEiT,IACpC,0BACES,EAAyB,2BACzBG,EAA0B,6BAC1BJ,EAA4B,4BAC5BG,EAA2B,mBAC3BE,EAAkB,kBAClBC,IAEAhB,GAAqB,CAAE3vB,UAAS4vB,qBAE9B,OAAE/L,EAAM,aAAEiO,EAAY,cAAEC,EAAa,eAAEC,EAAc,mBAAEC,IAAuBC,EAAAA,GAAAA,GAAa,CAC/FC,OAAQA,IAAMjB,EAAc,IAC5BkB,QAASA,KACP3B,IACAU,EAAkB,GAAG,IAInBkB,EAAcA,MAClBtd,EAAAA,EAAAA,IAAuB/a,EAAS,CAAC,EAAE,EAG/Bs4B,EAAaA,MACjBvd,EAAAA,EAAAA,IAAuB9a,EAAQ,CAAC,GAChC83B,GAAe,EAGXQ,EAAoBf,EAAkBj6B,OAAS,EAC/Cs5B,GAAS3c,EAAAA,EAAAA,GAAY,eACrBse,GAAWte,EAAAA,EAAAA,GAAY,UACvBue,EAAsB7B,GAAYC,EAAQhB,GAE1C6C,EAAgBta,I,MACpB,MAAMua,EAAiBva,GAAUwE,EAC5B+V,GAAmBtD,EAAmBsD,KAG3C5B,EAAqB4B,EAAeva,QAC/B6Y,IACe,QAAlBt9B,EAAA09B,EAAWn6B,eAAO,IAAAvD,GAAAA,EAAE6H,QACpBu2B,K,EAIEa,ECnGwCp4B,KAQ3C,IAR4C,KAC/Cq4B,EAAI,OACJC,EAAM,aACNJ,EAAY,OACZK,EAAM,MACNC,EAAK,cACLjB,EAAa,mBACbkB,GAAqB,GACtBz4B,EACC,OAAO4zB,EAAAA,EAAAA,cACJ8E,IACC,OAAQA,EAAEC,OAAOnd,SACf,KAAKP,GAAAA,EAAQC,GACXwd,EAAEjd,iBACF4c,IACA,MACF,KAAKpd,GAAAA,EAAQE,KACXud,EAAEjd,iBACF6c,IACA,MACF,KAnCK,GAoCHC,IACA,MACF,KArCI,GAsCFC,IACA,MACF,KAAKvd,GAAAA,EAAQ2d,OACXF,EAAEG,kBACFtB,IACA,MACF,KAAKtc,GAAAA,EAAQM,MACXmd,EAAEjd,iBACFyc,IACA,MACF,KAAKjd,GAAAA,EAAQK,MACPmd,IACFC,EAAEjd,iBACFyc,K,GAIR,CAACA,EAAcK,EAAQC,EAAOjB,EAAekB,EAAoBJ,EAAMC,GACxE,EDyD4BQ,CAAgB,CAC3CT,KAAMA,MAEAtT,GAAoD,WAAX,OAAjB3C,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmB/D,OAAyC,IAArBgX,GAC5C,IAArBA,EAEAc,IAIFL,GAA2B,EAAE,EAE/BwC,OAAQA,KACFjD,IAAqB7vB,EAAQzI,OAAS,EAK1C+4B,EAA0B,GAJxBI,GAI0B,EAE9BgC,eACAK,OAAQrC,EACRsC,MAAOrC,EACPoB,cAAeA,K,MACK,QAAlBp+B,EAAA09B,EAAWn6B,eAAO,IAAAvD,GAAAA,EAAE6H,QACpBu2B,GAAe,EAEjBkB,oBAAqB3B,IAGjBiC,EChF8C9zB,KAA6B,IAA5B,aAAEqyB,EAAY,OAAEiB,GAAQtzB,EAC7E,OAAO2uB,EAAAA,EAAAA,cACJ8E,IACC,OAAQA,EAAEC,OAAOnd,SACf,KAAKP,GAAAA,EAAQC,GACb,KAAKD,GAAAA,EAAQE,KACXud,EAAEjd,iBACF8c,IACAjB,IACA,MACF,KAAKrc,GAAAA,EAAQK,MACb,KAAKL,GAAAA,EAAQM,MACXmd,EAAEjd,iBACF6b,I,GAIN,CAACA,EAAciB,GAChB,ED8D6BS,CAAmB,CAC/C1B,aAAcA,IAAMA,GAAa,GACjCiB,OAAQrC,IAkFJ+C,EAAiBrb,IACrB,MAAMsb,EAAgBtb,EAAOpY,QAAQ8a,QAAOP,KAAUA,EAAK7iB,OAASg6B,EAAoBxK,IAAI3M,EAAK7iB,SAAQH,OACnGo8B,EAAcD,EAAgB,EAC9BE,EAAcF,IAAkBtb,EAAOpY,QAAQzI,OACrD,MAAO,CACLkd,SAAUkf,GAAeC,EACzB1S,cAAeyS,IAAgBC,EAChC,EA2BGC,GAAWC,EAAAA,EAAAA,GAAqBjQ,IACtCvP,EAAAA,EAAAA,YAAU,KAGJuP,IAAWgQ,GAAYtB,IAAsBjB,IAC3CW,EACFzB,EAA4BgB,EAAkB,IAE9CnB,EAA6BrwB,EAAQ7H,QAAQq5B,EAAkB,KAAK,G,GAGvE,CACD3N,EACA2N,EACAe,EACAlC,EACAG,EACAyB,EACAjyB,EACA6zB,EACAvC,KAGFhd,EAAAA,EAAAA,YAAU,K,MACJuP,IAIe,QAAjBlwB,EAAA49B,EAAUr6B,eAAO,IAAAvD,GAAAA,EAAE6H,MAAM,CAAEu4B,eAAe,I,GAE3C,CAAClQ,EAAQ0N,KAEZyC,EAAAA,GAAAA,GAAgBhD,EAAaK,GAC7B,MAAM4C,KACFrX,GAAqB3D,EAAQ2D,EAAkBxE,SAAWqb,EAAc7W,EAAkBxE,QAAQ3D,SAChGyf,KACFtX,IAAsB4U,EAAkBr5B,QAAQykB,IAAsB,GAAKqX,IAE/E,MAAO,CACLpQ,SACAjH,oBACAiT,mBACAlQ,gBACAwU,gBAlJsB,WACtB,MAAMxQ,EAAmC,CACvChqB,IAAK03B,EACLr3B,QAASA,IAAM+3B,IACf1O,UAJgD1tB,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,GAKhDstB,aAAcqO,EAAY,SAAW,UACrCpO,aAAcW,EAAUyN,EAAYkB,EAAW3B,OAAUj5B,GAY3D,OAlB+BjC,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,KAS7BguB,EAAaP,YAAe9N,I,MAC1BA,EAAMW,iBACF4N,IACgB,QAAlBlwB,EAAA09B,EAAWn6B,eAAO,IAAAvD,GAAAA,EAAE6H,SAEtBw2B,GAAgB,EAElBrO,EAAahoB,UAAY43B,GAEpB5P,CACT,EAgIEyQ,iBA1JEA,KAAA,CACFp6B,QAASq4B,EACTp4B,OAAQq4B,EACR+B,kBAAmB7B,EACnB8B,oBAAqBhD,EAAY,cAAW15B,IAuJ5C28B,aAxGmBA,KACnB,MAAMpS,EAAuB,CAC3Brf,GAAI+tB,EACJl3B,IAAK0oB,EACLmM,KAAM3K,EACN2Q,UAAWC,IACLA,GAAa,GACf/B,EAAa1yB,EAAQy0B,G,EAGzBC,YAAaD,IACPA,GAAa,GACfpE,EAA6BoE,E,EAGjCtgC,cAQF,OANKm9B,IACHnP,EAAUxmB,UAAYi3B,EACtBzQ,EAAUwS,iBAAmB,CAC3B,wBAAyBlC,IAGtBtQ,CAAS,EAkFhByS,eAhIqBA,IAChBtD,EAIE,CACL33B,IAAKy3B,EACLz1B,UAAWi3B,EACX7hB,SAAUuE,IACR6b,EAAkB7b,EAAM6d,OAAOz7B,OAC/B+4B,GAA4B,EAE9BoE,iBAAkBvf,IAChB4b,EAAc5b,EAAM6d,OAAOz7B,MAAM,EAEnCyjB,mBAAoB,CAClB,wBAAyBsX,EACzB,YAAe5B,EACf,gBAAmBA,IAhBd,CAAC,EA+HVzP,eAvEqBA,CAAChJ,EAAwBH,K,MAC9C,MAAM+D,EAAc5D,IAAWwE,EACzBkY,EAAa7b,EAAQb,EAAOA,QAAUqb,EAAcrb,EAAOA,aAAUxgB,EACrE6c,EAAW+c,EAAkBr5B,QAAQigB,IAAW,MAAiB,OAAV0c,QAAU,IAAVA,OAAU,EAAVA,EAAYrgB,UACnEsgB,EAA+B,QAAlBphC,EAAAqM,EAAQiY,EAAQ,UAAE,IAAAtkB,OAAA,EAAAA,EAAEykB,OAiBvC,MAXyB,CACvBrc,IAAKkc,EACLG,SACA4D,cACAvH,WACA6K,eATEyV,GAAc9b,EAAQ8b,GACpBtB,EAAcsB,GAAYtgB,SAC1B+c,EAAkBr5B,QAAQ6H,EAAQiY,EAAQ,KAAO,EAQrDiJ,iBAA2B,OAAV4T,QAAU,IAAVA,OAAU,EAAVA,EAAY5T,eAC7B,oBAAuB0O,EAAgBxX,GAAUH,GAAS,EAC1DnV,GAAI8tB,GAAYC,EAAQ5Y,GAGR,EAmDlB8W,gBAAiByB,EACjBkC,eACAwB,oBACA1B,WAEJ,C,eEhUI,UACF,KAAQ,4BACR,WAAc,mCACd,SAAY,iCACZ,KAAQ,6BACR,YAAa,kCACb,0BAA2B,gDAC3B,OAAU,+BACV,YAAe,oCACf,UAAa,mCCFTwC,GAAgB,IAAHx9B,OAAOvC,GAAO,cAC3BggC,GAAuB,IAAHz9B,OAAOvC,GAAOigC,QCY1B,SAAUC,GAAgB36B,GAShB,IATiB,UACvCipB,EAAS,UACT2R,EAAS,SACTC,EAAQ,sBACRC,EAAqB,QACrB/4B,EAAO,YACPmV,EAAc,CAAC,EAAC,wBAChB6jB,EAAuB,uBACvBC,GACsBh7B,EACtB,MAAMsX,GAAOC,EAAAA,EAAAA,IAAgB,eAEvB0jB,EAA4BL,EAAYE,EAAwB,IAAH99B,OAAO89B,GACpE3Y,EAAc0Y,EAChBvjB,EAAK,6BAA8BJ,EAAYgkB,gBAAe,GAAAl+B,OAC3Dsa,EAAK,4BAA6BJ,EAAYikB,gBAAkB,GAAE,MAAAn+B,OAAKi+B,EAAyB,KACjG3kB,EAAYukB,EAAWE,EAA0BC,EAEjDI,GAAcxH,EAAAA,EAAAA,cAAY,MAC9BrZ,EAAAA,EAAAA,IAAuBxY,EAAS,KAAK,GACpC,CAACA,IAEJ,OACErH,EAAAA,cAAA,UACE2jB,KAAK,SACL9jB,UAAWE,GAAOigC,OAClB34B,QAASq5B,EAAW,gBACLnS,EAAS,gBACT4R,EAAQ,aACXvkB,GAEZ5b,EAAAA,cAAC0oB,EAAAA,EAAY,CAACJ,KAAM6X,EAAW,oBAAsB,oBACrDngC,EAAAA,cAAA,QAAMH,UAAWE,GAAO0nB,aAAcA,GAG5C,CC1Cc,SAAUkZ,GAASr7B,GAWV,IAXiB,MACtCqzB,EAAK,UACLiI,EAAS,WACTC,EAAU,MACVC,EAAK,MACLC,EAAK,YACLvkB,EAAW,wBACX6jB,EAAuB,uBACvBC,EAAsB,qBACtBU,EAAoB,gBACpBC,EAAkBA,MAAe,IACZ37B,EACrB,MAAM47B,EFfF,SAAiC57B,GAAmE,IAAlE,qBAAE07B,GAAgE17B,EACxG,MAAM47B,GAAer/B,EAAAA,EAAAA,QAAuB,MAmC5C,OAjCAud,EAAAA,EAAAA,YAAU,K,QACR,QAA6B1c,IAAzBs+B,GAA+D,OAAzBA,GAA0D,OAAzBE,EAAal/B,QACtF,OAGF,MAAMm/B,EAAgBD,EAAal/B,QAAQo/B,iBAAiBtB,IACtDuB,EAAeH,EAAal/B,QAAQ2B,cAAco8B,IAExD,IAAIuB,EAAmBl4B,OAAOm4B,kBAC1BC,EAAmBp4B,OAAOq4B,kBAE9B,IAAK,IAAIC,EAAc,EAAGA,EAAcP,EAAc9+B,OAAQq/B,IACxDA,EAAcV,EAChBM,EACEN,EAAuBU,EAAcV,EAAuBM,EAAmBI,EAAcJ,EAE/FE,EACEE,EAAcV,EAAuBQ,EAAmBR,EAAuBU,EAAcF,EAInG,MAAMG,EAAcR,EAAcK,GAC5BI,EAAcT,EAAcG,GAE9BK,aAAuBE,YACK,QAA9BpjC,GAAAqjC,EAAAA,GAAAA,IAAkBH,UAAY,IAAAljC,GAAAA,EAAE6H,QACvBs7B,aAAuBC,YACF,QAA9B3kB,GAAA4kB,EAAAA,GAAAA,IAAkBF,UAAY,IAAA1kB,GAAAA,EAAE5W,QACvB+6B,aAAwBQ,aACjCR,EAAa/6B,O,GAEd,CAAC06B,IAEGE,CACT,CEtBuBa,CAAwB,CAAEf,qBAAsBA,IAC/DzS,GAAYvP,EAAAA,EAAAA,MAEXmhB,EAAU6B,IAAep9B,EAAAA,EAAAA,WAAS,GACnC0d,EAAWqW,EAAMt2B,OAAS,EAC1B4/B,EAAiB3f,QAAsB5f,IAAVo+B,GAAuBnI,EAAMt2B,OAASy+B,EACnEoB,EAAeD,IAAmB9B,EAAWxH,EAAMrD,MAAM,EAAGwL,GAASnI,EACrEwJ,EAAkBD,EAAa7/B,OAAS,EAExC29B,EAASiC,EACbjiC,EAAAA,cAAA,OAAKH,UAAWE,GAAO,oBAADuC,OAAqBs+B,KACzC5gC,EAAAA,cAACigC,GAAgB,CACf1R,UAAW4T,EAAkB5T,OAAY7rB,EACzCw9B,UAAqB,IAAVY,EACXX,SAAUA,EACVC,sBAAuBzH,EAAMt2B,OAAS6/B,EAAa7/B,OACnDma,YAAaA,EACb6jB,wBAAyBA,EACzBC,uBAAwBA,EACxBj5B,QAASA,KACP,MAAM+6B,GAAcjC,EACpB6B,EAAYI,GACZnB,EAAgBmB,EAAW,KAI/B,KAEJ,MAAkB,WAAdxB,EAEA5gC,EAAAA,cAAA,OAAKyE,IAAKy8B,EAAcrhC,WAAWC,EAAAA,EAAAA,GAAKC,GAAOyhB,KAAMzhB,GAAO2yB,aACzDpQ,GACCtiB,EAAAA,cAAA,MAAI4N,GAAI2gB,EAAW1uB,UAAWE,GAAOsiC,MAClCH,EAAax7B,KAAI,CAAC2e,EAAMka,IACvBv/B,EAAAA,cAAA,MACE6G,IAAK04B,EACL1/B,UAAWE,GAAO,aAAY,eAChB44B,EAAMt2B,OAAM,gBACXk9B,EAAY,GAE1BsB,EAAWxb,EAAMka,OAKzBS,EACAe,GAAS/gC,EAAAA,cAAA,OAAKH,UAAWE,GAAOuiC,YAChCvB,GAML/gC,EAAAA,cAAA,OAAKyE,IAAKy8B,EAAcrhC,WAAWC,EAAAA,EAAAA,GAAKC,GAAOyhB,KAAMzhB,GAAOwiC,WACzDJ,GACCniC,EAAAA,cAAA,MAAI4N,GAAI2gB,EAAW1uB,WAAWC,EAAAA,EAAAA,GAAKC,GAAOsiC,KAAMtiC,GAAO6gC,KACpDsB,EAAax7B,KAAI,CAAC2e,EAAMka,IACvBv/B,EAAAA,cAAA,MACE6G,IAAK04B,EACL1/B,UAAWE,GAAO,aAAY,eAChB44B,EAAMt2B,OAAM,gBACXk9B,EAAY,GAE1BsB,EAAWxb,EAAMka,OAKzBS,EACAe,EAGP,C,eCjGI,UACF,KAAQ,6BACR,YAAa,kCACb,aAAc,mCACd,iBAAkB,uCAClB,MAAS,8BACT,YAAa,kCACb,kBAAmB,wCACnB,oBAAqB,0CACrB,qBAAsB,2CACtB,qBAAsB,4CCGxB,IAAe98B,EAAAA,EAAAA,aAEf,SAAsBqB,EAEpBb,GAA2B,IAD3B,SAAEof,EAAQ,aAAE2e,EAAY,UAAEC,EAAS,SAAE9U,GAA8BroB,EAGnE,OACEtF,EAAAA,cAAA,UACEyE,IAAKA,EACLkf,KAAK,SACL9jB,UAAWE,GAAO,kBAAiB,mBACpB8jB,IAAY8J,SAAkBjrB,EAC7C2E,QAASA,KACHwc,GAAY8J,IAAa8U,GAI7BA,GAAW,EACZ,aACWD,GAEZxiC,EAAAA,cAAC0oB,EAAAA,EAAY,CAACJ,KAAK,UAGzB,ICZM,SAAUoa,GAAMjkC,G,IAAA,UACpBmd,EAAS,SACTiI,EAAQ,SACR8J,EAAQ,aACR6U,EAAY,UACZC,EAAS,SACTv9B,EAAQ,UACRy9B,EAAS,YACTC,EAAW,mBACXC,EAAkB,qBAClBC,GAAoBrkC,EACjBujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAXQ,iJAapB,MAAMskC,GAAU/jB,EAAAA,EAAAA,GAAY,SACtBgkB,GAAYhkB,EAAAA,EAAAA,GAAY,WACxBrf,GAAYC,EAAAA,EAAAA,GAAaoiB,GAEzBihB,EAAcL,IAAgBD,EAEpC,OACE3iC,EAAAA,cAAA,MAAAE,OAAAC,OAAA,GACMR,EAAS,CACbE,WAAWC,EAAAA,EAAAA,GAAKC,GAAOmjC,MAAOvjC,EAAUE,WACxC2G,KAAK,QAAO,aACAoV,EAAS,mBACH+mB,EAAYI,EAAUH,EAAcI,OAAYtgC,EAAS,gBAC5DmhB,IAEf7jB,EAAAA,cAAA,OACEH,WAAWC,EAAAA,EAAAA,GACTC,GAAO,aACP8jB,GAAY9jB,GAAO,sBACnB4tB,GAAY5tB,GAAO,sBACnB4iC,GAAa5iC,GAAO,mBACpBkjC,GAAeljC,GAAO,uBAGvBmF,EACAu9B,GACCziC,EAAAA,cAACmjC,GAAa,CAACtf,SAAUA,EAAU2e,aAAcA,EAAcC,UAAWA,EAAW9U,SAAUA,KAGlGgV,GACC3iC,EAAAA,cAACojC,EAAAA,GAAc,CAACx1B,GAAIm1B,EAASF,mBAAoBA,GAC9CF,GAGJM,GACCjjC,EAAAA,cAACqjC,EAAAA,GAAgB,CAACz1B,GAAIo1B,EAAWF,qBAAsBA,GACpDF,GAKX,CC9Dc,SAAUU,GAAmB7kC,G,IAAA,UACzCmiC,EAAS,MACTjI,EAAK,UACL8J,EAAS,MACT3B,EAAK,YACLtkB,EAAW,oBACX+mB,EAAmB,wBACnBlD,EAAuB,uBACvBC,EAAsB,SACtB3S,EAAQ,kBACR7P,GAAiBrf,EACdW,GAAKC,EAAAA,EAAAA,IAAAZ,EAXiC,kKAazCsf,EAAAA,GAAAA,GAAgB,aAAc,QAAS4a,EAAO,YAAa8J,GAE3D,MAAOe,EAAkBC,IAAuB7+B,EAAAA,EAAAA,UAAwB,MAElEjF,GAAYC,EAAAA,EAAAA,GAAaR,GACzBkjB,EAAWqW,EAAMt2B,OAAS,EAChC,OACErC,EAAAA,cAAA,MAAAE,OAAAC,OAAA,GACMR,EAAS,CACbE,WAAWC,EAAAA,EAAAA,GACTH,EAAUE,UACVE,GAAOyhB,KACPc,GAAYviB,GAAO,aACnBwjC,GAAuBxjC,GAAO,eAEhC0E,IAAKqZ,IAEL9d,EAAAA,cAAC2gC,GAAS,CACRC,UAAWA,EACXjI,MAAOA,EACPmI,MAAOA,EACPD,WAAYA,CAACxb,EAAMka,IACjBv/B,EAAAA,cAAC0iC,GAAK,CACJ9mB,UAAWyJ,EAAK6B,MAChBsb,aAAcnd,EAAKmd,aACnBC,UAAWA,MACT5iB,EAAAA,EAAAA,IAAuB4iB,EAAW,CAAElD,cACpCkE,EAAoBlE,EAAU,EAEhC1b,SAAUwB,EAAKxB,SACf8J,SAAUA,GAEV3tB,EAAAA,cAAC6rB,GAAM,CAAC3I,OAAQmC,EAAMyD,gBAAgB,KAG1CtM,YAAaA,EACb6jB,wBAAyBA,EACzBC,uBAAwBA,EACxBU,qBAAsBwC,EACtBvC,gBAAiBmB,IAEbqB,EADErB,GAActB,EACIA,EAEA,K,IAMhC,CC/EI,SACM,4BADN,GAEQ,+BCoCN4C,GAAsB1jC,EAAAA,YAC1B,CACEvB,EAsCAq9B,K,OAtCA,QACEhxB,EAAU,GAAE,cACZqZ,EAAgB,OAAM,qBACtBwf,EAAoB,mBACpBC,EAAkB,wBAClBC,EAAuB,qBACvBC,EAAoB,aACpBC,EAAY,YACZnV,EAAW,SACX/K,EAAQ,SACR8J,EAAQ,UACR/R,EAAS,WACT3c,EAAa,WAAU,MACvB+kC,EAAK,YACLC,EAAW,aACXC,EAAY,UACZvB,EAAS,QACT5b,EAAO,0BACPod,EAAyB,gBACzBzV,EAAkB,GAAE,kBACpB0V,EAAiB,SACjBrI,GAAW,EAAI,WACfsI,EAAU,YACV7nB,EAAW,OACXzX,EAAM,QACND,EAAO,YACPw/B,EAAW,SACXzoB,EAAQ,cACR0oB,EAAa,aACb1W,GAAe,EAAK,WACpB2W,IAAa,EAAK,iBAClBC,GAAgB,6BAChBC,GAA4B,4BAC5BC,GAA2B,kBAC3B7mB,GAAoB,KAAI,UACxBqQ,IAAS1vB,EACNujB,IAAS3iB,EAAAA,EAAAA,IAAAZ,EApCd,kjBCpCE,SACJmmC,EACAhc,EACAic,GAEA,GAAI9b,EAAAA,EAAe,CACjB,IAAK8b,EACH,QAG4BA,EAAcpgB,OAAM6M,GACzC,YAAaA,GAAW,UAAWA,MAI1CvtB,EAAAA,EAAAA,IACE6gC,EAAa,oBAAAtiC,OACQsmB,EAAY,6I,CAIzC,CDuDIkc,CAAsB,cAAe,UAAWh6B,GAEhD,MAAMnL,IAAYC,EAAAA,EAAAA,GAAaoiB,IACzB+iB,IAAmBC,EAAAA,EAAAA,GAAoBhjB,IACvCpF,IAAOC,EAAAA,EAAAA,IAAgB,eAEvBooB,IAAapoB,EAAAA,EAAAA,IAAgB,UAC7BqoB,GAAeD,GAAW,eAAgBjjB,GAAUkjB,cACpDrC,GAAqBoC,GAAW,qBAAsBjjB,GAAU6gB,oBAChEsC,GAAoBF,GAAW,oBAAqBjjB,GAAUmjB,mBAEhEnjB,GAAUkjB,eAAiBZ,IAC7BvgC,EAAAA,EAAAA,IAAS,cAAe,sEAG1B,MAAM,eAAEqhC,GAAc,oBAAEC,GAAmB,cAAErJ,IElFrB12B,KAA4D,IAA3D,YAAEg/B,EAAW,QAAEx5B,EAAO,WAAE7L,GAA+BqG,EAClF,MAAMggC,GAAoBzjC,EAAAA,EAAAA,aAA2Ba,GA2BrD,MAAO,CACLs5B,cA1BqB5X,IACjBkhB,EAAkBtjC,UAAYoiB,IAGlCkhB,EAAkBtjC,QAAUoiB,GAC5BvE,EAAAA,EAAAA,IAAuBykB,EAAa,CAAElgB,gBAAemhB,WAAW,EAAMC,UAAU,IAAQ,EAsBxFJ,eAnBqBA,KACrB,MAAMG,EAA+B,IAAnBz6B,EAAQzI,OACX,YAAfpD,IACE4gB,EAAAA,EAAAA,IAAuBykB,EAAa,CAClCiB,YACAC,UAAU,EACVphB,cAAekhB,EAAkBtjC,SAAW,IAC5C,EAaJqjC,oBAV0BA,KAC1BxlB,EAAAA,EAAAA,IAAuBykB,EAAa,CAClCiB,WAAW,EACXC,UAAU,EACVphB,cAAekhB,EAAkBtjC,SAAW,KAO/C,EFkDgEyjC,CAAa,CAC1EnB,cACAx5B,UACA7L,eAEIorB,IAAuB,GACtBe,GAAgB6Q,KAAqBr3B,EAAAA,EAAAA,UAAS,KAC/C,gBAAEkgB,GAAe,UAAER,GAAS,WAAEkB,GAAU,aAAEC,IAAiBvB,EAC/DpZ,EACAqZ,EACAiH,IAGIyQ,IAAuB3C,EAAAA,EAAAA,cAC1BhW,IACC,MAAMwiB,EAAW5gB,GAAgBc,QAAOP,GAAsB,WAAdA,EAAK1B,OAAmBjd,KAAI2e,GAAQA,EAAKnC,SAInFyiB,EAAyBC,GAC7BA,EAAanhB,OAAMY,GAAQkU,GAAgB7K,EAAiBrJ,IAAS,GAAKA,EAAKxB,WAK3EgiB,EAASA,CAAC/6B,EAA6B4jB,IAF/BoX,EAACC,EAAoCj7B,IACjDi7B,EAAengB,QAAOP,IAA4C,IAApCkU,GAAgBzuB,EAASua,KAAc/iB,OAAOwI,GAErEg7B,CAAMpX,EAAiB5jB,GAE1Bk7B,EAAWA,CAACl7B,EAA6B4jB,IACtCA,EAAgB9I,QAAO1C,IAAgD,IAAtCqW,GAAgBzuB,EAASoY,KAEnE,IAAI+iB,EAAqB,IAAIvX,GAE7B,GAAI3K,EAAQb,GAAS,CACnB,MAAM6iB,EAbaG,EAACH,EAAoCj7B,IACxDi7B,EAAengB,QAAOP,GAAQkU,GAAgBzuB,EAASua,IAAS,IAAMA,EAAKxB,WAYpDqiB,CAAa,IAAIhjB,EAAOpY,SAAU46B,GACzDO,EAAqBN,EAAsBI,GACvCC,EAASD,EAAgBE,GACzBJ,EAAOE,EAAgBE,E,MAE3BA,EAAqBN,EAAsB,CAACziB,IACxC8iB,EAAS,CAAC9iB,GAAS+iB,GACnBJ,EAAO,CAAC3iB,GAAS+iB,IAGvBpmB,EAAAA,EAAAA,IAAuBhE,EAAU,CAC/B6S,gBAAiBuX,GACjB,GAEJ,CAACpqB,EAAU6S,EAAiB5J,KAGxBqhB,IAAUtkC,EAAAA,EAAAA,QAAuB,MAEjCukC,IAAgBpnB,EAAAA,EAAAA,GAAY,WAC5BuP,GAAsC,QAA1BrR,EAAA6nB,GAAiBxW,iBAAS,IAAArR,EAAAA,EAAIkpB,GAE1CC,IAAyBrnB,EAAAA,EAAAA,GAAY,0BAErCsnB,IAAWtnB,EAAAA,EAAAA,GAAY,UAEvB6Y,IAAgBh2B,EAAAA,EAAAA,QAAsC,OACtD,OACJ8sB,GAAM,cACNlE,GAAa,kBACb/C,GAAiB,iBACjBiT,GAAgB,gBAChBsE,GAAe,iBACfC,GAAgB,eAChBQ,GAAc,aACdL,GAAY,eACZnT,GAAc,gBACd2N,GAAe,iBACfmF,IACEpD,GAAU,CACZlN,kBACAmN,wBACA/wB,QAASga,GACTX,gBACArf,UACAC,SACA+2B,cACAC,WACAC,iBACAC,qBACA5R,wBACAprB,eAGIsnC,GAAqB3M,GAAgB,CACzC3yB,UAA6B,SAAlBkd,GAA4BwK,GACvC7jB,QAASga,GACT+U,gBAAiBA,GACjBnS,kBAAoC,OAAjBA,SAAiB,IAAjBA,QAAiB,EAAjBA,GAAmBxE,OACtCmH,0BAGImc,IAAW17B,GAA8B,IAAnBA,EAAQzI,OAC9BokC,GAAY3hB,IAA8C,IAA3BA,GAAgBziB,OAC/CqkC,GACc,SAAlBviB,GAA4BiH,GAAe/oB,OAAS,GAAKyiB,IAAmBA,GAAgBziB,OAAS,EAEjGskC,G1C3I0Cp8B,KAe/C,IAfgD,WACnDtL,EAAU,MACV+kC,EAAK,YACLC,EAAW,aACXC,EAAY,qBACZJ,EAAoB,UACpBnB,EAAS,aACTuC,EAAY,QACZsB,EAAO,UACPC,EAAS,WACTC,EAAU,QACV3f,EAAO,gBACP6f,EAAe,oBACfC,GAAsB,EAAK,mBAC3BhE,GACDt4B,EACC,MAAMu8B,GAAqBlI,EAAAA,EAAAA,GAAY3/B,GACjC8nC,EAAqC,CAAEC,UAAU,EAAM3kB,QAAS,MAqCtE,MAnCmB,YAAfpjB,EACF8nC,EAAa1kB,QAAUriB,EAAAA,cAACinC,EAAAA,EAAuB,CAACtjB,KAAM,WAAYsgB,GAC1C,UAAfhlC,EACT8nC,EAAa1kB,QACXriB,EAAAA,cAAA,YACEA,EAAAA,cAACinC,EAAAA,EAAuB,CACtBtjB,KAAK,QACLujB,UAAU,SACVC,UAAkC,UAAvBL,EACXM,cAAevE,GAEdF,GACwB,MACxBuC,GAAgB2B,GACjB7mC,EAAAA,cAACqnC,EAAAA,EAAY,CACXC,SAAUA,KAAMznB,EAAAA,EAAAA,IAAuB+mB,GACvC5qB,QAAQ,WACRnc,UAAWE,GAEVmlC,IAKAsB,GAAWxC,EACpB+C,EAAa1kB,QAAU2hB,EACdyC,GAAa1f,EACtBggB,EAAa1kB,QAAU0E,EACd2f,GAAc5C,EACvBiD,EAAa1kB,QAAUyhB,EACC,aAAf7kC,GAA6BilC,IACtC6C,EAAa1kB,QAAU6hB,EACvB6C,EAAaC,UAAW,GAGnBD,CAAY,E0CqFMQ,CAAkB,CACvCtoC,aACA+kC,QACAC,cACAC,eACAvB,YACAuC,gBACAsB,WACAC,aACA1f,UACA2f,cACA5C,qBAZmB4C,GAAiC,OAApB5C,QAAoB,IAApBA,OAAoB,EAApBA,EAAuBre,GAAcD,SAAc9iB,EAanFkkC,gBAAiBvB,GACjBxC,mBAAoBA,GACpBgE,sBAAuBvC,IAGnB1e,GACJ5lB,EAAAA,cAACwnC,EAAMtnC,OAAAC,OAAA,CACLsnC,eAAgB5D,EAChB1f,cAAeA,EACfyK,YAAa+U,EACb/nB,UAAWgoB,EACXG,aAAcA,EACdvhC,MAAO4oB,IACHsU,OAIFtQ,GACJpvB,EAAAA,cAAC0nC,GAAOxnC,OAAAC,OAAA,CACNyuB,YAAaA,EACb/K,SAAUA,EACV8J,SAAUA,EACVc,aAAcwQ,GAAgBpb,EAAUsK,IACxCxG,eAAgB,KAChB+G,gBAAiBA,EACjBtH,eAAgByG,EAAe,SAAW,cAC1Cc,OAAQA,IACJoW,GAAgB,CACpBxW,UAAWA,GACX1oB,gBAAgBqpB,EAAAA,EAAAA,GAAY6V,GAAiBl/B,eAAgBwgC,OAI3DpZ,GAAS/sB,OAAAC,OAAAD,OAAAC,OAAA,GACVk/B,MAAc,CACjBsI,WAAYvC,GACZv/B,gBAAgBqpB,EAAAA,EAAAA,GAAYmX,GAAwB9X,IACpD1Q,gBAAiB8oB,GAAetkB,QAAUikB,QAAW5jC,IAGjDklC,GGxOJ,SAAyBtiC,GAY9B,IAZ4D,iBAC3D05B,EAAgB,kBAChBtX,EAAiB,UACjBmgB,EAAS,kBACT1C,EAAiB,0BACjBhB,GAOD7+B,EACC,MAAMwiC,GAAqBjmC,EAAAA,EAAAA,aAAgCa,GAY3D,IATA0c,EAAAA,EAAAA,YAAU,KACR,GAAIsI,EAAmB,CACrB,MAAMqgB,EAAUhX,uBAAsB,KACpC+W,EAAmB9lC,QAAU6lC,EAAUngB,EAAkB,IAE3D,MAAO,IAAM0K,qBAAqB2V,E,MAIjCrgB,EACH,MAAO,GAGT,MAAMxE,EAASwE,EAAkBxE,OAC3B8kB,EAASH,EAAUngB,GAEnBpC,EAAQ0iB,GAAUA,IAAWF,EAAmB9lC,QAAUgmC,OAAStlC,EAGzE,OAAIyhC,EACKA,EAA0BjhB,EAAQoC,GAMpC,CAFsB0Z,GAAoBmG,EAAoBA,EAAoB,GAC9D8C,GAAyB/kB,EAAQoC,IACVM,OAAO6F,SAASuN,KAAK,IACzE,CH6LyBkP,CAAgB,CACnClJ,oBACAtX,qBACAmgB,UAAW3kB,IAAS,IAAAzkB,EAAC,OAAqB,QAArBA,EAAA6lB,GAAUriB,IAAIihB,UAAO,IAAAzkB,OAAA,EAAAA,EAAEykB,MAAiC,EAC7EiiB,qBACAhB,8BAGIgE,GAAmCzZ,EAAgBhoB,KAAIwc,IAAU,CACrEgE,MAAOhE,EAAOgE,MACdrD,SAAUA,GAAYX,EAAOW,SAC7ByD,SAAUpE,EAAOoE,SACjBG,YAAavE,EAAOuE,YACpB4B,QAASnG,EAAOmG,QAChBtN,SAAUmH,EAAOnH,SACjBmN,QAAShG,EAAOgG,QAChBC,QAASjG,EAAOiG,QAChBrB,KAAM5E,EAAO4E,KACb0a,aAAc5lB,GAAK,oBAAsC,OAAjBwnB,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAoBlhB,IAASklB,IAAS,IAAA3pC,EAC5E,OAAA2pC,EAAO,CAAEC,cAA2B,QAAZ5pC,EAAAykB,EAAOgE,aAAK,IAAAzoB,EAAAA,EAAI,IAAK,SAIjD2gB,EAAAA,EAAAA,YAAU,K,MACa,QAArB3gB,EAAAo5B,GAAc71B,eAAO,IAAAvD,GAAAA,EAAAoxB,KAAAgI,GAAG8C,GAAiB,GACxC,CAACA,KAEJ,MAAM2N,GAAgB/D,EAAgBlL,GAAcrM,GAW9Cub,IAAc/D,KAAe3W,GAAgBsa,GAAO9lC,OAAS,EAU7DmmC,GAAqD,CACzDhI,eAA2B,OAAXhkB,QAAW,IAAXA,OAAW,EAAXA,EAAaisB,oBAC7BhI,cAA0B,OAAXjkB,QAAW,IAAXA,OAAW,EAAXA,EAAaksB,oBAGxBrZ,IAAYxqB,EAAAA,EAAAA,GAAashC,GAASroB,IAElC6qB,GAAgBzJ,KAEtB,OACEl/B,EAAAA,cAAA,MAAAE,OAAAC,OAAA,GACMR,GAAS,CACb8E,IAAK4qB,GACLxvB,WAAWC,EAAAA,EAAAA,GAAKC,GAAaJ,GAAUE,WACvC+oC,WAAYrC,KAEZvmC,EAAAA,cAAC6oC,EAAAA,EAAQ3oC,OAAAC,OAAA,GACHwoC,GAAa,CACjB9iC,eACE8iC,GAAcvJ,qBAAsBlQ,EAAAA,EAAAA,GAAYmX,GAAwB9X,SAAa7rB,EAEvFmb,gBACE8qB,GAAcvJ,qBAAuBuH,GAAetkB,QAAUikB,QAAwB5jC,EAExF42B,KAAM3K,GACNS,QAASA,GACTtpB,OAAQ8f,GACRsI,YA9CmB9N,IACRA,EAAMqP,SAEN/rB,SAASolC,eAEtB1oB,EAAMW,gB,EA0CJgoB,OACEpC,GAAeK,SACbhnC,EAAAA,cAACgpC,EAAc,CAAC3mB,QAASsM,GAASgY,GAAetkB,QAAU,KAAMzU,GAAI04B,KACnE,KAEN7B,iBAAkBA,GAClBwE,2BAA2B,IAE3BjpC,EAAAA,cAACsoC,GAAa,CACZpb,WACGyZ,GAAeK,SAEZ,KADFhnC,EAAAA,cAACgpC,EAAc,CAAC3mB,QAASsM,GAASgY,GAAetkB,QAAU,KAAMzU,GAAI04B,KAGzErZ,UAAWA,GACXf,eAAgBA,GAChBpH,gBAAiBA,GACjBsG,eAAgBA,GAChB3mB,IAAKozB,GACLtL,kBAA8C,OAA3Boa,GAAetkB,QAClC8J,YAAY,EACZ9B,qBAAsBA,GACtBC,oBAAqBsd,GACrBnd,cAAeA,MAGlB8d,IACCvoC,EAAAA,cAACsjC,GAAkB,CACjBzjC,UAAWE,GACX6gC,UAAU,aACVE,MAAOuD,EACP1L,MAAOwP,GACP1F,UArEiDn9B,IAAe,IAAd,OAAE24B,GAAQ34B,EAClE,MAAM4jC,EAAmBxa,EAAgBuP,EAAOsB,WAChD1D,GAAqBqN,GACrB,MAAMC,EAAYlK,KAAkBx6B,IAChC0kC,EAAUnnC,SACZmnC,EAAUnnC,QAAQsE,O,EAiEdkW,YAAagsB,GACblI,uBAAwBqE,GACxBtE,wBAAyBqE,GACzBnB,qBAAqB,EACrB5V,SAAUA,IAGd3tB,EAAAA,cAACsH,EAAAA,EAAgB,CAACsG,GAAIy4B,IAAyBzqB,GAC3C,IAKZ,M,eIlXI,SACM,4BADN,GAEc,qCAFd,GAGqB,4CC8BzB,IAAewtB,EAAAA,EAAAA,OAEf,SAAwB3qC,G,IAAA,OAAEC,EAAM,YAAE8d,EAAW,eAAE6sB,EAAc,SAAExtB,GAAQpd,EAAKujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAA7D,sDACtB,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaoiB,GACzBniB,GAAYC,EAAAA,EAAAA,GAAKH,EAAUE,UAAWE,IACtC6c,GAAOC,EAAAA,EAAAA,IAAgB,YAEvBysB,EAAiB5qC,EAAOgI,KAAI,CAAC6iC,EAAG79B,KAAM,CAC1Cwb,MAAOqiB,EAAEriB,MACT1kB,MAAO,GAAKkJ,EACZ89B,MAAOD,EAAEC,MACTvgB,aACEjpB,EAAAA,cAAA,QAAMH,UAAWE,IACfC,EAAAA,cAACypC,GAAAA,EAAY,CAACC,MAAOH,EAAEG,MAAO/lB,KAAM4lB,EAAE5lB,YAKtC+K,EAAkB4a,EAAe1jB,QAAO1C,IAAqD,KAA7B,OAAdmmB,QAAc,IAAdA,OAAc,EAAdA,EAAgBpmC,QAAQigB,EAAOsmB,UAEjFG,GAAkBzQ,EAAAA,EAAAA,cACtB5zB,IAAoC,IAAjC24B,QAAQ,gBAAEvP,IAAmBppB,EAC9B,MAAM+jC,EAAiBC,EACpB1jB,QAAO1C,IAA+C,IAArCwL,EAAgBzrB,QAAQigB,KACzCxc,KAAIwc,GAAUA,EAAOsmB,QACxB3tB,EAASwtB,EAAe,GAE1B,CAACxtB,EAAUytB,IAGb,OACEtpC,EAAAA,cAAC4pC,EAAAA,GAAiB1pC,OAAAC,OAAA,GACZR,EAAS,CACbunB,MAAOtK,EAAK,0BAAsC,OAAXJ,QAAW,IAAXA,OAAW,EAAXA,EAAaqtB,aACpDhqC,UAAWA,IAEXG,EAAAA,cAAC0jC,GAAmB,CAClB9U,YAAahS,EAAK,gCAA4C,OAAXJ,QAAW,IAAXA,OAAW,EAAXA,EAAastB,mBAChEh/B,QAASw+B,EACT5a,gBAAiBA,EACjB7S,SAAU8tB,EACV9pC,UAAWE,GACXolC,kBAA8B,OAAX3oB,QAAW,IAAXA,OAAW,EAAXA,EAAautB,wBAChCvF,YAAY,IAIpB,G,4GChFI,QACQ,8BADR,EAEM,6BAFN,EAGO,8BAHP,EAIM,6BAJN,EAKgB,uCALhB,EAMqB,4CCqBzB,GAAe4E,EAAAA,EAAAA,OAEf,SAAoB9jC,GAOE,IAPE,OACtB5G,EAAM,kBACNsrC,EAAiB,kBACjBC,EAAiB,YACjBC,EAAW,UACXtuB,EAAS,iBACTuuB,GACoB7kC,EACpB,MAAMsX,GAAOC,EAAAA,EAAAA,IAAgB,YACvButB,GAAevoC,EAAAA,EAAAA,QAAuB,MACtCwoC,GAAcxoC,EAAAA,EAAAA,QAAoC,IAElDyoC,EA+GR,SAA4B5rC,EAA2C6rC,GACrE,IAAK,IAAIxnB,EAAQ,EAAGA,EAAQrkB,EAAO2D,OAAQ0gB,IACzC,GAAIrkB,EAAOqkB,GAAOymB,QAAUe,EAC1B,OAAOxnB,EAGX,MACF,CAtHiCynB,CAAgB9rC,EAAQurC,GA0BjDQ,EAAmB1nB,IACnBrkB,EAAOqkB,GAAOymB,QAAUS,GAC1BD,EAAkBtrC,EAAOqkB,GAAOymB,M,EAwB9BkB,EAAmBA,KACvBV,EAAkB,KAAK,EAGzB,OACEhqC,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,OACEyE,IAAK2lC,EACL5jC,KAAK,UAAS,aACF0jC,GAAettB,EAAK,8BAA+BhB,GAC/D/b,UAAWE,EACX0G,UAjDkB2Z,IAClBA,EAAMU,UAAYP,EAAAA,EAAQI,OAASP,EAAMU,UAAYP,EAAAA,EAAQG,OAE/DN,EAAMW,kBAENC,EAAAA,EAAAA,GAAUZ,EAAO,CACfgB,cAAeA,IAlBQupB,M,MAC3B,MAAMC,EAAqC,OAAtBN,QAAsB,IAAtBA,EAAAA,EAA0B,EACzCO,EAAYD,EAAe,GAAK,EAAIA,EAAe,EAAIlsC,EAAO2D,OAAS,EAC/C,QAA9B5D,EAAA4rC,EAAYroC,QAAQ6oC,UAAU,IAAApsC,GAAAA,EAAE6H,OAAO,EAedqkC,GACrBtpB,YAAaA,IAbQypB,M,MACzB,MAAMF,EAAqC,OAAtBN,QAAsB,IAAtBA,EAAAA,EAA0B,EACzCO,EAAYD,EAAe,EAAIlsC,EAAO2D,OAASuoC,EAAe,EAAI,EAC1C,QAA9BnsC,EAAA4rC,EAAYroC,QAAQ6oC,UAAU,IAAApsC,GAAAA,EAAE6H,OAAO,EAUhBwkC,K,EA2CnB/lC,OAhCcqb,I,OAKQ,OAAxBA,EAAMuB,eACLyoB,EAAapoC,UACXooC,EAAapoC,QAAQ4f,SAASxB,EAAMuB,kBACX,QAAzBljB,EAAgB,OAAhB0rC,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBnoC,eAAO,IAAAvD,OAAA,EAAAA,EAAEmjB,SAASxB,EAAMuB,kBAE7CqoB,EAAkB,K,GAwBfE,GACClqC,EAAAA,cAAC+qC,EAAAA,EAAW,CAACC,WAAW,OAAOnrC,UAAWE,GACvCmqC,GAILlqC,EAAAA,cAAA,OAAKH,UAAWE,GACbrB,EAAOgI,KAAI,CAACukC,EAAGloB,KACd,MAAMmoB,EAAwC,OAAtBjB,EAClBkB,EAAgBlB,IAAsBgB,EAAEzB,MACxC4B,EAAWF,IAAoBC,EACrC,OACEnrC,EAAAA,cAAA,OACEwG,KAAK,SACLK,IAAKkc,EAAK,eACIooB,EACdtrC,WAAWC,EAAAA,EAAAA,GAAKC,EAAe,CAC7B,CAACA,GAA2BqrC,EAC5B,CAACrrC,GAAgCorC,IAEnC1mC,IAAK4mC,IACCA,EACFhB,EAAYroC,QAAQ+gB,GAASsoB,SAEtBhB,EAAYroC,QAAQ+gB,E,EAG/B3b,SACE2b,IAAUunB,QAAsD5nC,IAA3B4nC,GAAkD,IAAVvnB,EAAe,GAAK,EAEnGje,QAASA,IAAM2lC,EAAgB1nB,GAC/B1b,QAASA,IAAMojC,EAAgB1nB,GAC/BuoB,YAAaA,IApDFL,KACnBA,IAAMhB,GACRD,EAAkBiB,E,EAkDWM,CAAgBN,EAAEzB,OACrCvkC,aAAcylC,GAEd1qC,EAAAA,cAACypC,EAAAA,EAAY,CAACC,MAAOuB,EAAEvB,MAAO/lB,KAAMsnB,EAAEtnB,OAAQ,IAAEsnB,EAAE/jB,MAC9C,MAOpB,G,kGCtJI,SACF,KAAQ,4BACR,UAAa,kCACb,QAAW,gCACX,gBAAiB,sCACjB,YAAe,qCCWjB,GAAejjB,EAAAA,EAAAA,aAEf,SAA8BqB,EAE5Bb,GAA8B,IAD9B,iBAAE+mC,EAAgB,iBAAEC,EAAgB,QAAE3mC,EAAO,OAAEC,EAAM,UAAE0B,GAAuCnB,EAG9F,MAAM8kC,GAAevoC,EAAAA,EAAAA,QAAoB,MACnC6pC,GAAiB7pC,EAAAA,EAAAA,QAAoB,MACrC8pC,GAAqB9pC,EAAAA,EAAAA,SAAO,IAC3B+pC,EAAWC,IAAcjnC,EAAAA,EAAAA,WAAS,GAGnCknC,GAAqB5S,EAAAA,EAAAA,cACxB9Y,KACoC,IAA/BurB,EAAmB3pC,SACrB6pC,GAAW,GACX/mC,GAAWA,EAAQsb,IAEnBurB,EAAmB3pC,SAAU,C,GAGjC,CAAC8C,IAGGinC,GAAoB7S,EAAAA,EAAAA,cACvB9Y,KACoC,IAA/BurB,EAAmB3pC,UACrB6pC,GAAW,GACX9mC,GAAUA,EAAOqb,GAwEzB,SAAyB4rB,GAEvB,IAAK,MAAMC,KAAiBD,EAAIE,oBACR,SAAlBD,GAA0D,SAA9BA,EAAc3W,MAAM,EAAG,IACrD0W,EAAIG,gBAAgBF,GAKxBD,EAAI5kC,UAAY,EAChB4kC,EAAIlhB,aAAa,YAAa,SAC9BkhB,EAAIlhB,aAAa,cAAe,OAClC,CAlFQshB,CAAgBV,EAAe1pC,S,GAGnC,CAAC+C,IAEGsnC,EAAuB5lC,EAsB7B,OApBA2mB,EAAAA,EAAAA,qBACE3oB,GACA,KAAM,CACJ6B,MAAOA,IAAMgmC,EAAiBZ,EAAe1pC,SAA0B,OAAhBypC,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBzpC,UAAW,SAEtF,CAACypC,KAIHrsB,EAAAA,EAAAA,YAAU,KAEHwsB,IAA4C,IAA/BD,EAAmB3pC,UAGrC2pC,EAAmB3pC,SAAU,EAC7BooC,EAAapoC,QAASuqC,YAAYb,EAAe1pC,SACjDooC,EAAapoC,QAASwqC,YAAYd,EAAe1pC,SACjDsqC,EAAiBZ,EAAe1pC,SAA0B,OAAhBypC,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBzpC,UAAW,MAAK,GAC3E,CAAC4pC,EAAWJ,EAAkBC,IAG/BzrC,EAAAA,cAAA,KAAGyE,IAAK2lC,GACNpqC,EAAAA,cAAA,KACEoH,UAAW,EACX3C,IAAKinC,EACL5mC,QAASgnC,EACT/mC,OAAQgnC,EACRtlC,UAAW4lC,EACXxsC,UAAWE,EAAO0sC,cAI1B,IAGA,SAASH,EAAiBN,EAAkBvc,GAE1C,IAAK,MAAMwc,KAAiBD,EAAIE,oBACR,SAAlBD,GAA0D,SAA9BA,EAAc3W,MAAM,EAAG,IACrD0W,EAAIG,gBAAgBF,GAKxB,GAAIxc,EACF,IAAK,MAAMwc,KAAiBxc,EAAOyc,oBACjC,GAAsB,SAAlBD,GAA0D,SAA9BA,EAAc3W,MAAM,EAAG,GAAe,CACpE,MAAMoX,EAAiBjd,EAAO7rB,aAAaqoC,GAC3CS,GAAkBV,EAAIlhB,aAAamhB,EAAeS,E,CAMxDV,EAAI5kC,SAAW,EACf4kC,EAAIlhB,aAAa,YAAa,QAC9BkhB,EAAIlhB,aAAa,cAAe,SAGhCkhB,EAAI1lC,MAAM,CAAEu4B,eAAe,GAC7B,C,cCzEc,SAAU8N,EAAYrnC,GAA0D,IAAzD,WAAEsnC,EAAU,WAAEC,EAAU,OAAE9X,EAAS,GAAsBzvB,EAC5F,MAAMb,GAAM5C,EAAAA,EAAAA,QAAuB,MAC7BirC,EA5BR,WACE,MAAOA,EAAcC,IAAmBnoC,EAAAA,EAAAA,WAAS,GAsBjD,OArBAwa,EAAAA,EAAAA,YAAU,KACR,SAAS4tB,IACP,OAAOD,GAAgB,EACzB,CAEA,SAASE,EAAc7sB,IAGhB8sB,EAAAA,EAAAA,IAAc9sB,IACjB2sB,GAAgB,EAEpB,CAIA,OAFArpC,SAASoyB,iBAAiB,YAAakX,GACvCtpC,SAASoyB,iBAAiB,UAAWmX,GAC9B,KACLvpC,SAASuyB,oBAAoB,YAAa+W,GAC1CtpC,SAASuyB,oBAAoB,UAAWgX,EAAc,CACvD,IAGIH,CACT,CAIuBK,GAerB,OAbA/tB,EAAAA,EAAAA,YAAU,KA8BZ,IAAqBqT,EA7BjB,GAAKhuB,EAAIzC,QAIT,GAAI8qC,GAAgBF,GAAcC,GAAcA,EAAW7qC,SAAW6qC,EAAW7qC,QAAQorC,QAAS,CAChG,MAAM9b,EAAUub,EAAW7qC,QAAQorC,WAUzC,SACE3a,EACA3G,EACAiJ,GAEA,MAAMsY,EAA4B,kBAAXtY,EAAsBA,EAASA,EAAOuY,EACvDC,EAA4B,kBAAXxY,EAAsBA,EAASA,EAAOyY,EAC7D/a,EAAG3H,aAAa,KAAMgB,EAASwhB,EAAID,GAAS9vB,YAC5CkV,EAAG3H,aAAa,KAAMgB,EAAS0hB,EAAID,GAAShwB,YAC5CkV,EAAG3H,aAAa,SAAUgB,EAASsF,MAAQ,EAAIic,GAAS9vB,YACxDkV,EAAG3H,aAAa,UAAWgB,EAASntB,OAAS,EAAI4uC,GAAShwB,YAC1DkV,EAAGzH,MAAMyiB,WAAa,SACxB,CArBMC,CAAYjpC,EAAIzC,QAASsvB,EAASyD,E,MAuBnBtC,EArBHhuB,EAAIzC,SAsBjBgpB,MAAMyiB,WAAa,SACtBhb,EAAG0Z,gBAAgB,KACnB1Z,EAAG0Z,gBAAgB,KACnB1Z,EAAG0Z,gBAAgB,SACnB1Z,EAAG0Z,gBAAgB,S,GAxBhB,CAACW,EAAcF,EAAYC,EAAY9X,IAEnC/0B,EAAAA,cAAA,QAAMyE,IAAKA,EAAG,cAAc,OAAO5E,UAAWE,EAAO,iBAAkB4tC,GAAG,KACnF,CC7CA,MAAMC,EAA4B,EAC5BC,EAA+B,EA+CrC,GAAe5pC,EAAAA,EAAAA,aAEf,SAAkBqB,EA6BhBb,GAA4B,IA5B5B,MACE2sB,EAAK,OACLzyB,EAAM,UACNssB,EAAS,UACT6iB,EAAS,aACTC,EAAY,WACZC,EAAU,YACVC,EAAW,UACXryB,EAAS,eACT/V,EAAc,oBACdqoC,EAAmB,gBACnBC,EAAe,gBACftwB,EAAe,iBACf2tB,EAAgB,iBAChBC,EAAgB,eAChB2C,EAAc,YACdC,EAAW,UACXC,EAAS,SACTppC,EAAQ,QACRmC,EAAO,UACPZ,EAAS,YACT8nC,EAAcX,EAAyB,yBACvCY,EAA2BX,EAA4B,YACvDrO,EAAW,WACXiP,EAAU,kBACV1C,EAAiB,mBACjBD,GACexmC,EAGjB,MAAMsX,GAAOC,EAAAA,EAAAA,IAAgB,YACvB6xB,GAAS7sC,EAAAA,EAAAA,QAAsB,MAC/B6pC,GAAiB7pC,EAAAA,EAAAA,QAAuB,MACxC8sC,GAAiB9sC,EAAAA,EAAAA,SAAO,IACvB+sC,EAAeC,IAAkBjqC,EAAAA,EAAAA,WAAS,IAC1CkqC,EAAsBC,IAAyBnqC,EAAAA,EAAAA,WAAS,GAEzDoqC,GAAwBhwB,EAAAA,EAAAA,GAAY,iCACpCiwB,EAAoB,CAACd,GAAmBa,EAAuBnxB,GAAiB+H,OAAO6F,SAASuN,KAAK,MAE3G5L,EAAAA,EAAAA,qBAAoB3oB,GAAK,KAAM,CAC7B+jB,IAAKkmB,EAAO1sC,QACZktC,UAAWA,IAAMR,EAAO1sC,QAASsE,QACjCgmC,iBAAkBA,IAAMZ,EAAe1pC,QAASsE,YAGlD,MA2CM+lC,EAAuB5lC,EAEvB0oC,GAAiBL,EACjBM,EAAeD,EAAgB,GAAK,EACpCE,EAAYP,EAOd,CAAC,EAND,CACE,aAAclzB,EACd,kBAAmB/V,EACnB,mBAAoBopC,EACpB,uBAAwBryB,EAAK,uCAAwCsxB,IAI3E,OACEluC,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,MAAAE,OAAAC,OAAA,CACEq/B,YAAaA,EACbiP,WAAYA,EACZa,UAAWH,EACX/nC,SAAUgoC,EACV5oC,KAAK,cAAa,cACN,SACR6oC,EAAQ,CACZ5qC,IAAKiqC,EACL1jB,MAAO,CACLoG,QACAzyB,SACA4wC,UAAWzB,EACX0B,aAAczB,EACd0B,WAAYzB,EACZ0B,YAAazB,GAEfpuC,WAAWC,EAAAA,EAAAA,GAAKC,EAAOyhB,KAAM,CAC3B,CAACzhB,EAAO4vC,WAAYtB,EACpB,CAACtuC,EAAO6vC,SAAUtB,IAEpBpgB,YA/EkB2hB,KAEtBlB,EAAe3sC,SAAU,CAAI,EA8EzBqF,QAlEe+Y,IACnB/Y,GAAWA,EAAQ+Y,EAAM,EAkErBtb,QA7Eesb,IAGfuuB,EAAe3sC,SAAawpC,EAC9BE,EAAe1pC,QAASsE,QACf8Z,EAAMqP,SAAWif,EAAO1sC,SAEjC6sC,GAAe,E,EAuEb9pC,OAjEcqb,IACdA,EAAMqP,SAAWif,EAAO1sC,SAC1B6sC,GAAe,E,EAgEbpoC,UA5DiB2Z,IACjBwuB,IAGoC,IADxB,CAACruB,EAAAA,EAAQK,MAAOL,EAAAA,EAAQM,MAAON,EAAAA,EAAQC,GAAID,EAAAA,EAAQG,KAAMH,EAAAA,EAAQI,MAAOJ,EAAAA,EAAQE,MACpFxd,QAAQmd,EAAMU,UACtB4qB,EAAe1pC,QAASsE,O,IAyDxBtG,EAAAA,cAAC2sC,EAAY,CAACE,WAAY6B,EAAQ9B,WAAYgC,EAAe7Z,OAAQwZ,IAErEvuC,EAAAA,cAAA,KAAGirB,UAAWA,GACZjrB,EAAAA,cAAC8vC,EAAqB,CACpBtE,iBAAmBsD,GAAwBtD,GAAqB,KAChEC,iBAAkBA,EAClBhnC,IAAKinC,EACL5mC,QA3DsBsb,IAC9B0rB,GAAsBA,EAAmB1rB,EAAOuuB,EAAe3sC,QAAU,QAAU,YAEnF2sC,EAAe3sC,SAAU,EACzB+sC,GAAsB,EAAK,EAwDnBhqC,OAtDqBqb,IAC7B2rB,GAAqBA,EAAkB3rB,GACvC2uB,GAAsB,EAAM,EAqDpBtoC,UAAW4lC,IAIZ8B,GAAmBgB,GAClBnvC,EAAAA,cAAA,sBAAkB,OAAO4N,GAAIohC,GAC1Bb,GAIJjpC,EAEDlF,EAAAA,cAAC2sC,EAAY,CACXE,WAAYpB,EACZmB,WAAYkC,GAAwBtD,EACpCzW,OAAQyZ,MAKdxuC,EAAAA,cAACuiB,EAAAA,EAAU,KAAE6rB,GAGnB,G,gDCnOI,SACF,KAAQ,4BCGI,SAAU2B,EAAkBzqC,GAA4C,IAA3C,SAAEJ,GAAyCI,EACpF,OAAOtF,EAAAA,cAAA,OAAKH,UAAWE,EAAOyhB,MAAOtc,EACvC,C,0ICNI,QACM,4BADN,EAEY,mCAFZ,EAGc,qCC+ClB,EAAelF,EAAAA,YAEf,SACEvB,EAqBAgG,G,IArBA,SACEqnB,EAAW,QAAO,KAClBrD,EAAO,SAAQ,WACfunB,GAAa,EAAK,cAClBC,GAAgB,EAAK,iBACrBC,EAAgB,SAEhBhrC,EAAQ,MAERqkB,EAAK,SACLnkB,EAAQ,SACR+qC,EAAQ,UACR1N,EAAS,UACT2N,EAAS,aAETprC,EAAY,aACZC,EAAY,OACZF,GAAMtG,EAEHujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAnBd,6KAuBA,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaoiB,GACzBquB,GAAmBxuC,EAAAA,EAAAA,QAA8B,MAEjDyuC,GAAazrC,EAAAA,EAAAA,GAAawrC,EAAkB5rC,IAElD2a,EAAAA,EAAAA,YAAU,KACR,MAAMmxB,EAAmBnwB,KAErBA,EAAMqP,SACL+gB,EAAAA,EAAAA,GAAYH,EAAiBruC,QAASoe,EAAMqP,UAC5CghB,EAAAA,EAAAA,GAAaL,EAAWhwB,EAAMqP,SAE/BgT,GAAU,E,EAKd,OADA/+B,SAASoyB,iBAAiB,YAAaya,EAAiB,CAAExa,SAAS,IAC5D,KACLryB,SAASuyB,oBAAoB,YAAasa,EAAiB,CAAExa,SAAS,GAAO,CAC9E,GACA,CAACqa,EAAW3N,IAGf,MAAMiO,EAAWT,EAEjB,OACEjwC,EAAAA,cAAA,MAAAE,OAAAC,OAAA,GACMR,EAAS,CACbE,WAAWC,EAAAA,EAAAA,GAAK6wC,EAAAA,EAAcnvB,KAAMzhB,EAAaJ,EAAUE,WAC3D4E,IAAK6rC,EACLtrC,aAAcA,EACdC,aAAcA,EACdF,OAAQA,EAGRqC,UAAW,IAEXpH,EAAAA,cAAC4wC,EAAAA,EAAgB,CACfnoB,KAAMA,EACNunB,WAAYA,EACZlkB,SAAUA,EACV1mB,SAAUA,EACV+qC,SAAUA,EACVU,MAAO/kB,GACL9rB,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAK6wC,EAAAA,EAAcE,MAAOF,EAAAA,EAAc,kBAADruC,OAAmBwpB,MACxE9rB,EAAAA,cAAA,OAAKH,UAAW8wC,EAAAA,EAAc,iBAC9B3wC,EAAAA,cAAA,OAAKH,UAAW8wC,EAAAA,EAAc,kBAGlCG,cAAc,EACdC,uBAAuB,EACvBC,iBAAkBN,GAElB1wC,EAAAA,cAAA,OAAKH,UAAWE,GACdC,EAAAA,cAACixC,EAAAA,EAAW,CACVhB,cAAeA,EACfC,iBAAkBA,EAClBpqC,OAAQyjB,EACRkZ,UAAWA,EACXyO,gBAAgB,UAChBrxC,UAAWE,GAEVmF,KAMb,G,sHChJI,SACF,OAAU,8BACV,OAAU,+BACV,eAAgB,qCAChB,oBAAqB,0CACrB,2BAA4B,iDAC5B,iBAAkB,uCAClB,KAAQ,6BACR,MAAS,8BACT,WAAc,mCACd,YAAa,kCACb,kBAAmB,wCACnB,iBAAkB,uCAClB,qBAAsB,2CACtB,IAAO,4BACP,YAAa,kCACb,KAAQ,6BACR,QAAW,gCACX,iBAAkB,uCAClB,aAAc,mCACd,UAAa,mCCqBf,SAAekkC,EAAAA,EAAAA,OAAKnlC,EAAAA,EAAAA,aAEpB,SACExF,EACAgG,G,IADA,QAAE0sC,EAAO,eAAEC,EAAc,eAAEC,EAAc,iBAAEC,EAAgB,YAAEC,GAAW9yC,EAAKujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAAtF,gFAGA,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaoiB,GACzBniB,GAAYC,EAAAA,EAAAA,GAAKH,EAAUE,UAAWE,EAAOyhB,MAC7CgwB,GAAa3vC,EAAAA,EAAAA,QAA8B,MAC3CwtB,GAAYxqB,EAAAA,EAAAA,GAAaJ,EAAK+sC,IAIpCpyB,EAAAA,EAAAA,YAAU,KACR,GAAIiyB,EAIF,OAHIG,EAAWxvC,SACbqvC,GCtDqC/f,EDsDDkgB,EAAWxvC,QCrD5BsZ,MAAMm2B,KAC7BngB,EAAQ8P,iBAAiB,IAAD9+B,OAAKvC,EAAO2xC,UAAS,MAAApvC,OAAKqvC,EAAAA,EAA+B7rC,UAGhFY,KAAI4qB,I,MACH,GAAIA,aAAmBuQ,YACrB,OAAwB,QAAjBpjC,EAAA6yB,EAAQsgB,iBAAS,IAAAnzC,OAAA,EAAAA,EACpBic,MAAM,MACPhU,KAAIukC,GAAKA,EAAE4G,SACX7Y,KAAK,KACL6Y,M,IAGNjsB,OAAO6F,SACPuN,KAAK,QDyCG,KACLqY,EAAe,GAAG,ECzDZ,IAA+B/f,C,GD4DxC,CAAC6f,EAASE,IAIb,OACErxC,EAAAA,cAAA,MAAAE,OAAAC,OAAA,GAASR,EAAS,CAAEE,UAAWA,EAAW4E,IAAK4qB,IAC7CrvB,EAAAA,cAAA,MAAIH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOsiC,KAAMkP,GAAexxC,EAAO+xC,UACpDX,EAAQzqC,KAAI,CAAApB,EAAsEyd,KAAK,IAA1E,IAAElc,EAAG,MAAErE,EAAK,WAAEuvC,EAAU,MAAErI,EAAK,SAAE0B,EAAQ,SAAE4G,EAAQ,aAAEC,GAAc3sC,EAAA,OAC/EtF,EAAAA,cAAA,MACE6G,IAAKkc,EACLljB,WAAWC,EAAAA,EAAAA,GAAK,CACd,CAACC,EAAOmyC,QAAS9G,EACjB,CAACrrC,EAAO,eAAe,EACvB,CAACA,EAAO,mBAA4B,OAARiyC,QAAQ,IAARA,OAAQ,EAARA,EAAU3vC,OACtC,CAACtC,EAAOoyC,cAAeF,MAGhB,OAARD,QAAQ,IAARA,OAAQ,EAARA,EAAU3vC,SAAY4vC,EACrBjyC,EAAAA,cAACoyC,EAAgB,CACfC,QAASxrC,EACTrE,MAAOA,EACPuvC,WAAYA,EACZrI,MAAOA,EACPsI,SAAUA,EACV7R,UAtBMmS,EAsBeL,IAtBWb,GAAkBA,EAAepf,IAAIsgB,IAuBrEhB,iBAAkBlhB,GAASkhB,GAAoBA,EAAiBW,EAAc7hB,KAGhFpwB,EAAAA,cAACuyC,EAAmB,CAClBF,QAASxrC,EACTrE,MAAOA,EACPuvC,WAAYA,EACZrI,MAAOA,EACPsI,SAAUA,KA/BJM,KAkCP,KAKf,KAEA,SAASE,EAAQjoC,GAQhB,IARiB,MAChBouB,EAAK,WACLwZ,EAAU,SACVhS,GAKD51B,EACC,OACEvK,EAAAA,cAAA,MAAIH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,aAAcoyC,GAAcpyC,EAAOoyC,aAC3DxZ,EAAMjyB,KAAI,CAAA8gB,EAAiBzE,KAAK,IAArB,IAAElc,EAAG,MAAErE,GAAOglB,EAAA,OACxBxnB,EAAAA,cAAA,MACE6G,IAAKkc,EACLljB,WAAWC,EAAAA,EAAAA,GACTC,EAAO,mBACPA,EAAO,mBACNogC,IAAagS,IAAepyC,EAAO2xC,YAGtC1xC,EAAAA,cAAA,QAAMH,UAAWE,EAAO8G,KAAMA,GAC9B7G,EAAAA,cAAA,QAAMH,UAAWE,EAAOyC,OAAQA,GAC7B,IAIb,CAEA,SAAS4vC,EAAgBvqB,GAYtB,IAZuB,QACxBwqB,EAAO,MACP7vC,EAAK,SACLwvC,EAAQ,WACRD,EAAU,MACVrI,EAAK,SACLvJ,EAAQ,iBACRmR,GAKCzpB,EACD,OACE7nB,EAAAA,cAAA,OAAKH,UAAWE,EAAO,uBACpBgyC,GAAcrI,GAAS1pC,EAAAA,cAACyyC,EAAAA,EAAiB,CAAC9uB,KAAMouB,EAAYrI,MAAOA,IACpE1pC,EAAAA,cAAA,OAAKH,UAAWE,EAAO,eACrBC,EAAAA,cAAC0yC,EAAAA,EAAyB,CACxB12B,QAAQ,UACRuF,WAAY8wB,EACZM,cAAe3yC,EAAAA,cAAA,QAAMH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOyC,MAAOzC,EAAOoyC,aAAc3vC,GACxE29B,SAAUA,EACVtkB,SAAUoM,IAAA,IAAC,OAAEgW,GAAQhW,EAAA,OAAKqpB,EAAiBrT,EAAOkC,SAAS,GAE3DngC,EAAAA,cAACwyC,EAAQ,CAAC7Z,MAAOqZ,EAAUG,YAAY,EAAMhS,SAAUA,MAKjE,CAEA,SAASoS,EAAmBK,GAA+D,IAA9D,QAAEP,EAAO,MAAE7vC,EAAK,SAAEwvC,EAAQ,WAAED,EAAU,MAAErI,GAAsBkJ,EACzF,OACE5yC,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,kBAAmBA,EAAO2xC,YACpD1xC,EAAAA,cAAA,OAAKH,UAAWE,EAAO8G,KACpBkrC,GAAcrI,GAAS1pC,EAAAA,cAACyyC,EAAAA,EAAiB,CAAC9uB,KAAMouB,EAAYrI,MAAOA,IACpE1pC,EAAAA,cAAA,YAAOqyC,IAETryC,EAAAA,cAAA,QAAMH,UAAWE,EAAOyC,OAAQA,IAEjCwvC,GAAYhyC,EAAAA,cAACwyC,EAAQ,CAAC7Z,MAAOqZ,IAGpC,C,0DElLI,SACF,OAAU,8BACV,eAAgB,qCAChB,oBAAqB,0CACrB,2BAA4B,iDAC5B,iBAAkB,wCCSpB,GAAe5I,EAAAA,EAAAA,OAEf,SAA0B9jC,GAAiD,IAAhD,KAAEqe,EAAO,OAAM,MAAE+lB,GAA+BpkC,EACzE,OACEtF,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO8yC,OAAQ9yC,EAAO,WAADuC,OAAYqhB,KACjDqH,MAAO,CAAE8nB,gBAAiBpJ,GAAO,cACrB,QAGlB,G,gGCxBI,SACF,KAAQ,2BACR,MAAS,8BC0BL,SAAUqJ,EAAcztC,GAQ7B,IARoC,aACnC0tC,EAAY,YACZC,EAAW,WACXh0C,GAKDqG,EACC,MAAMkhC,GAAWyM,GAAsC,IAAvBA,EAAY5wC,OAG5C,MAAO,CAAEmkC,UAASC,UAFAD,GAAWyM,EAAY5wC,SAAW2wC,EAAa3wC,OAEpC6wC,UADI,aAAfj0C,IAA8BunC,EAElD,CAEc,SAAU2M,EAAoB5oC,GAWhB,IAXiB,WAC3CtL,EAAU,UACV0jC,EAAS,YACTsB,EAAW,aACXiB,EAAY,QACZne,EAAO,MACPid,EAAK,gBACL4C,EAAe,UACfH,EAAS,QACTD,EAAO,UACP0M,GAC0B3oC,EAC1B,MAAMqS,GAAOC,EAAAA,EAAAA,IAAgB,YAEvBu2B,GAAkB/3B,EAAAA,EAAAA,UAAQ,KAC9B,MAAMgqB,EAAuBjlB,IAC3BA,EAAMW,kBACNlB,EAAAA,EAAAA,IAAuB+mB,EAAgB,EAEzC,GAAmB,UAAf3nC,EAAwB,CAC1B,MAAMo0C,EAAuBz2B,EAAK,eAAgBsoB,GAClD,OACEllC,EAAAA,cAAA,YACEA,EAAAA,cAACinC,EAAAA,EAAuB,CAACtjB,KAAK,SAAS/G,EAAK,YAAa+lB,IAAsC,MAC5F0Q,KAA0BzM,GAC3B5mC,EAAAA,cAACqnC,EAAAA,EAAY,CAACC,SAAUjC,EAAqBrpB,QAAQ,YAClDq3B,G,CAOX,MAAmB,YAAfp0C,EACKe,EAAAA,cAACinC,EAAAA,EAAuB,CAACtjB,KAAK,WAAW/G,EAAK,cAAeqnB,IAGlEwC,EACKzmC,EAAAA,cAAA,OAAKH,UAAWE,EAAOikC,OAAQjd,GAGpCyf,EACKxmC,EAAAA,cAAA,OAAKH,UAAWE,EAAOikC,OAAQA,QADxC,C,GAGC,CAACpnB,EAAM3d,EAAY2nC,EAAiBJ,EAASC,EAAWvB,EAAcjB,EAAatB,EAAWqB,EAAOjd,IAExG,OACE/mB,EAAAA,cAAA,OAAKH,UAAWE,EAAOyhB,KAAI,YAAY,SAAQ,cAAa,SACxD0xB,GAAaE,EAGrB,C,kGC9FI,SACF,QAAW,+BACX,sBAAuB,4CACvB,4BAA6B,kDAC7B,qBAAsB,2CACtB,QAAW,gCACX,0BAA2B,gDAC3B,0BAA2B,gDAC3B,sBAAuB,4CACvB,mBAAoB,0CCeTE,GAAervC,EAAAA,EAAAA,aAC1B,CACExF,EAcAgG,K,IAdA,cACE8uC,EAAa,kBACbC,EAAiB,mBACjBC,EAAkB,mBAClBC,EAAkB,YAClBC,EAAW,MACXC,EAAK,OACLC,EAAM,OACN9uC,EAAM,iBACN+uC,EAAgB,iBAChBC,EAAgB,UAChBv0C,GAASf,EACNW,GAAKC,EAAAA,EAAAA,IAAAZ,EAZV,2KAgBA,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaR,GAEzB40C,GAAeT,GAAiBC,IACpCxzC,EAAAA,cAAC+qC,EAAAA,EAAW,CAAClrC,UAAWE,EAAO,oBAAqBk0C,OAAQ,CAAEC,OAAQ,MACpEl0C,EAAAA,cAACm0C,EAAAA,EAAoB,CACnB1rB,KAAK,IACLuS,UAAU,aACVn7B,WAAWC,EAAAA,EAAAA,GAAK,CAAE,CAACC,EAAO,yBAA0BwzC,KAEnDA,EACAC,IAKDY,EAAaP,GAAU7zC,EAAAA,cAAC+qC,EAAAA,EAAW,CAACkJ,OAAQ,CAAEI,IAAK,MAAQR,GAEjE,OAAIr0C,EAEAQ,EAAAA,cAAA,MAAAE,OAAAC,OAAA,CACEsE,IAAKA,GACD9E,EAAS,CACbE,WAAWC,EAAAA,EAAAA,GAAKH,EAAUE,UAAWE,EAAOu0C,QAASv0C,EAAO,wBAC5DgF,OAAQA,IAER/E,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,iBAAkBA,EAAO,+BAClDi0C,EAEDh0C,EAAAA,cAAA,OACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOsiB,QAASyxB,EAAkB,CAChD,CAAC/zC,EAAO,4BAA6B0zC,EACrC,CAAC1zC,EAAO,4BAA6B2zC,EACrC,CAAC3zC,EAAO,yBAAyB,KAGlC4zC,EACAC,GAGFQ,IAOPp0C,EAAAA,cAAA,MAAAE,OAAAC,OAAA,CAAKsE,IAAKA,GAAS9E,EAAS,CAAEE,WAAWC,EAAAA,EAAAA,GAAKH,EAAUE,UAAWE,EAAOu0C,SAAUvvC,OAAQA,IACzFivC,EAEDh0C,EAAAA,cAAA,OACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOsiB,QAASyxB,EAAkB,CAChD,CAAC/zC,EAAO,4BAA6B0zC,EACrC,CAAC1zC,EAAO,4BAA6B2zC,IAEvC1oB,MAAO,CAAEupB,UAAWR,IAEnBJ,EACAC,GAGFQ,EACG,G,kECpGN,SAAUI,EAAaC,GAC3B,OAAIA,EAASC,sBACJD,EAASC,yBAEV,CACV,CCMA,SAAetL,EAAAA,EAAAA,OAEf,SAAuB9jC,GAA6D,IAA5D,EAAEgoC,EAAC,EAAEE,EAAC,UAAE3tC,EAAS,SAAEqF,EAAQ,SAAEyvC,GAA+BrvC,EAClF,MAAMsvC,GAAU/yC,EAAAA,EAAAA,QAAuB,MAQvC,OALAud,EAAAA,EAAAA,YAAU,KACR,MAAMy1B,GAAQC,EAAAA,EAAAA,IAASF,EAAQ5yC,SAC/B+yC,EAAkBH,EAAQ5yC,QAAUkD,EAAUyvC,EAAUE,EAAM,GAC7D,CAACF,EAAUzvC,IAGZlF,EAAAA,cAAA,QAAMyE,IAAKmwC,EAAStH,EAAGA,EAAGE,EAAGA,EAAGxiB,MAAO,CAAEgqB,WAAY,OAASn1C,UAAWA,GACtEqF,EAGP,IAEM,SAAU6vC,EAAkBN,EAA0BryC,EAAcuyC,EAAkBE,GAC1F,IAAII,EAAgB7yC,EAAKC,OACzB,KAAO4yC,GAAiB,GAAG,CAGzB,GAFAR,EAAS1pB,YAAcmqB,EAAa9yC,EAAM6yC,EAAeJ,GAErDL,EAAaC,IAAaE,EAC5B,OAEAM,G,CAGN,CAEA,SAASC,EAAa9yC,EAAc+yC,EAAmBN,GACrD,OAAIzyC,EAAKC,SAAW8yC,EACX/yC,EAELyyC,EACKzyC,EAAKkzB,MAAMlzB,EAAKC,OAAS8yC,GAAa,SAExC/yC,EAAKkzB,MAAM,EAAG6f,GAAa,QACpC,C,0DChDc,SAAUp3B,EACtB6mB,EACAhc,EACAic,EACAuQ,EACAC,QAEsB3yC,IAAlBmiC,QAAgDniC,IAAjB2yC,GAA8BtsB,EAAAA,IAC/DhlB,EAAAA,EAAAA,IACE6gC,EAAa,iBAAAtiC,OACKsmB,EAAY,uBAAAtmB,OAAwB8yC,EAAW,mGAAA9yC,OAAoG8yC,EAAW,cAGtL,C,yDCVM,SAAUE,EACdC,GAE+B,IAD/BC,EAAI/0C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,GACJg1C,EAAAh1C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAA6B,GAE7B,MAAOi1C,EAAgBC,IAAa/wC,EAAAA,EAAAA,UAAS,GAEvCgxC,GAAmB1c,EAAAA,EAAAA,aAAYqc,EAAY,IAAIE,EAAMD,IAE3D,OADAK,EAAAA,EAAAA,IAAkBD,GAAkBE,IAAUN,GAAQG,EAAUG,EAAMC,mBAC9DP,OAAwB9yC,EAAjBgzC,CACjB,C,+CChBO,MAAMM,EAAkB,CAC7B7N,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,IACAA,EAAAA,K,cChDY,SAAU8N,EACtBtd,GAEoD,IADpDud,EAAAz1C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAoC,KAAM,EAC1C01C,EAAA11C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAA0C,IAAM,KAEhD,MAAM21C,EAAS,GAEf,IAAIC,EAAgB,EACpB,IAAK,MAAMC,KAAM3d,EAAO,CACtB,MAAM4d,EAAWJ,EAAYG,GACvBE,EAAeN,EAAYI,GAAMG,EAAAA,IAAiBT,EAAgBK,EAAgBL,EAAgB3zC,QACxG+zC,EAAOzqC,MAAK+qC,EAAAA,EAAAA,IAAiBH,GAAYC,IAEpCN,EAAYI,IAAQC,GACvBF,G,CAIJ,OAAOD,CACT,C,+CCnBc,SAAUO,IAET,IADbC,EAAYn2C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EACfo2C,EAASp2C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EAEZ,MAAO2wB,EAAO3sB,IAAO+zB,EAAAA,EAAAA,IAA0B,CAAC9H,EAAMrR,IACvC,OAATA,GAGGtW,KAAKC,IAAIqW,EAAOqR,EAAK+H,kBAAoBoe,EAFvCnmB,EAAK+H,gBAEqEpZ,IAGrF,MAAO,CAAM,OAAL+R,QAAK,IAALA,EAAAA,EAASwlB,EAAcnyC,EACjC,C,4GChBI,QACM,2BCYV,SAASqyC,EAA4Cr4C,G,IAAA,OACnDC,EAAS,GAAE,OACXC,EAAS,IAAG,WACZC,EAAa,SAAQ,WACrBC,EAAa,SAAQ,kBACrBG,EAAoB,SAAQ,WAC5BC,EAAa,WAAU,sBACvBC,GAAwB,GAAIT,EACzBW,GAAKC,EAAAA,EAAAA,IAAAZ,EAR2C,wGAUnD,MAAMa,GAAqBC,EAAAA,EAAAA,GAAiB,YAAa,CACvDH,MAAO,CACLJ,oBACAE,wBACAM,UAAWJ,EAAMI,UACjBC,WAAYL,EAAMK,WAClBC,WAAYN,EAAMM,WAClBd,aACAC,gBAGEc,GAAYC,EAAAA,EAAAA,GAAaR,GACzBS,GAAYC,EAAAA,EAAAA,GAAKH,EAAUE,UAAWE,GAE5C,OACEC,EAAAA,cAACC,EAAAA,EAAyBC,OAAAC,OAAA,GACpBf,EACAE,EAAkB,CACtBO,UAAWA,EACXlB,OAAQA,EACRC,WAAYA,EACZC,WAAYA,EACZC,aAAa,EACbC,gBAAgB,EAChBL,OAAQA,EACRM,kBAAmBA,EACnBC,WAAYA,EACZC,sBAAuBA,IAG7B,EAEAkB,EAAAA,EAAAA,GAAiB02C,EAAW,aAE5B,S,kGC7CA,MAAMC,EAAO/2C,EAAAA,YACX,CAACvB,EAAkFgG,K,IAAlF,SAAEuyC,EAAW,SAAQ,MAAEtN,EAAQ,SAAQ,SAAEuN,GAAW,GAAKx4C,EAAKW,GAAKC,EAAAA,EAAAA,IAAAZ,EAAnE,iCACC,MAAMa,GAAqBC,EAAAA,EAAAA,GAAiB,OAAQ,CAClDH,MAAO,CAAEsqC,QAAOuN,WAAUD,WAAUE,IAAK93C,EAAM83C,IAAKznB,OAAQrwB,EAAMqwB,OAAQzT,QAAS5c,EAAM4c,WAGrFm7B,EAA4D,CAChE9kB,OAAQ,QACR4L,OAAQ,CACN/W,MAAO,CAAE1F,KAAM,QACfy1B,SAAU,GAAF30C,OAAK20C,IAEf9zC,UAAW,CACTmlB,KAAM,aACNpB,MAAO,CAAE1F,KAAM,QACf41B,WAAY,CAAEp7B,QAAS5c,EAAM4c,SAAW,eAQ5C,OAJI5c,EAAMi4C,OACRF,EAAkBlZ,OAAOoZ,KAAOj4C,EAAMi4C,MAItCr3C,EAAAA,cAACqnC,EAAAA,EAAYnnC,OAAAC,OAAA,CACX62C,SAAUA,EACVtN,MAAOA,EACPuN,SAAUA,GACN73C,EACAE,EAAkB,CACtBmF,IAAKA,IACD6yC,EAAAA,EAAAA,IAA8BH,IAClC,KAKR/2C,EAAAA,EAAAA,GAAiB22C,EAAM,QACvB,S,uMClDI,SACF,KAAQ,2BACR,kBAAmB,uCACnB,mBAAoB,wCACpB,aAAc,kCACd,gBAAiB,qCACjB,gBAAiB,qCACjB,KAAQ,4BACR,YAAe,mCACf,YAAe,mCACf,WAAY,gCACZ,WAAY,gCACZ,gBAAiB,qCACjB,sBAAuB,2CACvB,MAAS,6BACT,6BAA8B,kDAC9B,8BAA+B,mDAC/B,mBAAoB,wCACpB,yBAA0B,8CAC1B,gCAAiC,qDACjC,gBAAiB,sCACjB,kBAAmB,wCACnB,aAAc,mCACd,wBAAyB,8CACzB,wBAAyB,8CACzB,+BAAgC,qDAChC,uBAAwB,6CACxB,gCAAiC,uDCdnC,GAAe3N,EAAAA,EAAAA,OAEf,SAAkB9jC,GAA0C,IAAzC,MAAEikB,EAAK,KAAEguB,EAAI,SAAEzrB,GAA0BxmB,EAC1D,IAAKikB,EACH,OAAO,KAGT,OACEvpB,EAAAA,cAAC+qC,EAAAA,EAAW,CACVlrC,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,cAAwB,MAATw3C,EAAex3C,EAAO,iBAAmBA,EAAO,kBACtFirC,WAAW,OACXwM,UAAwB,SAAb1rB,EAAsB,OAAS,SAC1CmoB,OAAQ,CAAEC,OAAqB,SAAbpoB,EAAsB,IAAM,MAE9C9rB,EAAAA,cAAA,sBAAkB,QAAQupB,GAGhC,I,cC9BO,MAAMkuB,EAAc,EACdC,EAAc,EACdC,EAAmB,GACnBC,EAAqB,IACrBC,EAAqB,GCD5BC,EAAgB,EAQhB,SAAUC,EAAWzyC,GAU1B,IAV2B,MAC1B0yC,EAAK,MACLC,EAAK,cACLC,EAAa,cACbC,GAMD7yC,EACC,OAAO0yC,EAAMtxC,KAAI0xC,I,MACf,MAAMtsB,EAAqC,QAA1BrtB,EAAAw5C,EAAMI,QAAQD,UAAY,IAAA35C,EAAAA,EAAI65C,IAEzCC,IADQJ,EAAgBA,EAAcC,GAAeA,EAAK76B,YACzC,IAAI7C,MAAM,MACjC,MAAO,CAAEoR,WAAUysB,QAAO33B,MAAO7X,KAAK8pB,OAAO0lB,EAAM7xC,IAAIwxC,IAAiB,GAE5E,CAEM,SAAUM,EAAgBR,EAAiCvG,EAAcgH,GAAmC,IAApBC,EAAYj4C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,GAExG,OADAu3C,EAIF,SAAyBA,EAAiCvG,EAAcgH,GACtE,OAAOT,EAAMpyB,QAAOwyB,GAAQ3G,GAAQ2G,EAAKtsB,SAAWssB,EAAKx3B,MAAQ,GAAKw3B,EAAKtsB,SAAWssB,EAAKx3B,MAAQ,GAAK63B,GAC1G,CANUE,CAAgBX,EAAOvG,EAAMgH,GAC9BC,EAOT,SAAyBV,GACvB,MAAMY,EAAmBC,EAAqBb,GAExCc,EAAe,GACrB,IAAK,IAAI/1B,EAAQ,EAAGA,EAAQi1B,EAAM31C,OAAQ0gB,GAAS61B,EACjDE,EAAantC,KAAKqsC,EAAMj1B,IAE1B,OAAO+1B,CACT,CAfwBC,CAAgBf,GA8BxC,SAA6BA,GAC3B,MAAMgB,EAAe,GACrB,IAAIC,EAAW,KACf,IAAK,MAAMb,KAAQJ,EACZiB,GAAaC,EAAgBD,EAAUb,KAC1CY,EAAartC,KAAKysC,GAClBa,EAAWb,GAGf,OAAOY,CACT,CAxCiDG,CAAoBnB,EACrE,CAiBA,SAASa,EAAqBb,GAA0C,IAAToB,EAAK34C,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EACrE,GAAI24C,GAASpB,EAAM31C,OACjB,OAAO+2C,EAET,IAAK,IAAI1tC,EAAI0tC,EAAO1tC,EAAIssC,EAAM31C,OAAQqJ,GAAK0tC,EACzC,GAAIF,EAAgBlB,EAAMtsC,EAAI0tC,GAAQpB,EAAMtsC,IAC1C,OAAOmtC,EAAqBb,EAAOoB,EAAQ,GAG/C,OAAOA,CACT,CAcA,SAASF,EAAgB5oB,EAAkBC,GACzC,MAAO7P,EAAMC,GAAS2P,EAAExE,SAAWyE,EAAEzE,SAAW,CAACwE,EAAGC,GAAK,CAACA,EAAGD,GAG7D,OAFiB5P,EAAKoL,SAAWpL,EAAKE,MAAQ,EAAIk3B,EAChCn3B,EAAMmL,SAAWnL,EAAMC,MAAQ,CAEnD,CCjBA,SAAewoB,EAAAA,EAAAA,OAGf,SAAuB7+B,GAWD,IAXE,KACtBgtC,EAAO,IAAG,MACVnmB,EAAK,OACLzyB,EAAM,MACNs5C,EAAK,MACL1uB,EAAK,oBACL2kB,EAAmB,WACnBF,EAAa,EAAC,YACdC,EAAc,EAAC,eACfoL,EAAc,eACdC,GACoB/uC,EACpB,MAAMqS,GAAOC,EAAAA,EAAAA,IAAgB,YAEvB08B,EAAUtB,EAAMuB,iBAA4B,MAATjC,EAAexuC,KAAK8pB,IAAI,EAAGolB,EAAMI,QAAQoB,YAAc,GAAK,EAAI,EAEnGhI,EAAO,EAAIzD,EAAauL,EACxBd,EAAQrnB,EAAQ6c,EAAcsL,EAC9BG,EAAyB,MAATnC,GAAoC,QAApBU,EAAM0B,UACtCX,EAAeR,EAAgBc,EAAgB7H,EAAMgH,EAAOiB,GAElE,OACE15C,EAAAA,cAAA,KACEirB,UAAS,eAAA3oB,OAAiB3D,EAAM,KAChCkB,UAAWE,EAAO,oBAAmB,aACzBwpB,EACZ/iB,KAAK,OAAM,uBACWoW,EAAK,uCAAwCsxB,GAAoB,eAC1E,GAEZ8K,EAAatyC,KACZ,CAAA8gB,EAAsBzE,KAAK,IAA1B,SAAE+I,EAAQ,MAAEysB,GAAO/wB,EAAA,OAClBoyB,SAAS9tB,IACP9rB,EAAAA,cAAA,KACE6G,IAAKkc,EACLkI,UAAS,aAAA3oB,OAAewpB,EAAWytB,EAAO,OAC1C15C,WAAWC,EAAAA,EAAAA,GAAKC,EAAOi4C,MAAOj4C,EAAO,iBAAkB,CACrD,CAACA,EAAO,aAAuB,MAATw3C,EACtB,CAACx3C,EAAO,aAAuB,MAATw3C,IAExB/wC,KAAK,WAAU,aACH+xC,EAAMvf,KAAK,OAEvBh5B,EAAAA,cAAA,QAAMH,UAAWE,EAAO85C,YAAaC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAIxC,EAAW,cAAc,SACtFc,EAAM7xC,KAAI,CAACwzC,EAAMC,IAChBn6C,EAAAA,cAAA,QACEH,UAAWE,EAAOq6C,YAClBvzC,IAAKszC,EACL7M,EAAG,EACHE,EAAGiK,EAAcC,EAAcyC,EAAYxC,GAE1CuC,KAIR,IAGLl6C,EAAAA,cAAA,QAAMyE,IAAK40C,EAAgB/L,EAAG,EAAGE,EAAG,EAAGxiB,MAAO,CAAEyiB,WAAY,UAAU,cAAc,SAG1F,IC9GA,MAEa4M,GAA0Bp2C,EAAAA,EAAAA,aACrC,CAAAqB,EAUEb,KACE,IAVF,UACE8vC,EAAS,UACT/0C,EAAS,cACT86C,EAAa,qBACbC,EAAoB,gBACpBC,EAAe,UACfC,EAAS,QACTC,GAC6Bp1C,EAG/B,OAAI9F,EAEAQ,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,mBAAoBA,EAAO,eAAgB0E,IAAKA,GACzE61C,EAEDt6C,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,yBAA0BA,EAAO,gBAC1Dw6C,EAEDv6C,EAAAA,cAAA,OAAKH,UAAWE,EAAO,0BACrBC,EAAAA,cAAA,OACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,gCAAiCA,EAAO,eAC/DirB,MAAO,CAAEupB,UAAWxrC,KAAK8pB,IAAI0hB,EA1BT,MA4BpBv0C,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,wBAAyBA,EAAO,gBAAiB06C,IAG/Ez6C,EAAAA,cAAA,OAAKH,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,iCAAkCA,EAAO,gBAClEy6C,IAIJE,IAOP16C,EAAAA,cAAA,OAAKH,UAAWE,EAAO,mBAAoB0E,IAAKA,GAC7C61C,EAEDt6C,EAAAA,cAAA,OAAKH,UAAWE,EAAO,0BACpBw6C,EAEDv6C,EAAAA,cAAA,OAAKH,UAAWE,EAAO,0BACpB06C,EACAD,GAGFE,GAEC,ICzDZ,GAAetR,EAAAA,EAAAA,OAEf,SAA2B9jC,GAA8D,IAA7D,KAAEiyC,EAAO,IAAG,MAAEnmB,EAAK,OAAEzyB,EAAM,MAAEs5C,GAAgC3yC,E,MAEvF,MAAMq1C,EAA4B,QAAhBl8C,EAAAw5C,EAAMI,QAAQ,UAAE,IAAA55C,EAAAA,EAAI65C,IAGtC,GAF+B,MAATf,GAAgBqC,SAASe,IAAcA,GAAah8C,EAGxE,OACEqB,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOw3C,KAAMx3C,EAAO,qBACpC+5C,IAAKpC,EACLqC,GAAI3oB,EACJ4oB,GAAIW,EACJV,GAAIU,EAAS,cACD,SAKlB,GAAa,MAATpD,EACF,OACEv3C,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOw3C,KAAMx3C,EAAO,qBACpC+5C,GAAI,EACJE,GAAI,EACJD,GAAI,EACJE,GAAIt7C,EAAS84C,EAAW,cACZ,SAKlB,OAAO,IACT,IC9BA,SAAerO,EAAAA,EAAAA,OAAKnlC,EAAAA,EAAAA,aAEpB,SAAyBqB,EAEvBb,GAA2B,IAD3B,MAAEm2C,EAAK,KAAEp0C,EAAO,QAAO,UAAEoV,EAAS,aAAEmS,EAAY,aAAE8sB,GAAqCv1C,EAGvF,IAAKs1C,EACH,OAAO,KAGT,OACE56C,EAAAA,cAAA,KAAGyE,IAAKA,EAAK+B,KAAMA,EAAI,aAAcoV,EAAS,gBAAiBmS,EAAY,gBAAiB8sB,GAC1F76C,EAAAA,cAAA,UACE6G,IAAK+zC,EAAM/zC,IAAG,cACF,OACZhH,UAAWE,EAAO,iCAClB+6C,GAAIF,EAAMtN,EACVyN,GAAIH,EAAMpN,EACVwN,EAAG,EACHC,OAAQL,EAAMlR,MACdnuB,KAAMq/B,EAAMlR,QAIpB,K,cC7BA,MAcA,GAAeN,EAAAA,EAAAA,OAGf,SAA0B9jC,GAUD,IAVE,KACzBiyC,EAAO,IAAG,UACV2D,EAAS,WACTC,EAAU,eACVC,EAAiBhyC,OAAOq4B,kBAAiB,MACzCwW,EAAK,MACLD,EAAK,cACLG,EAAa,MACb5uB,EAAK,oBACL2kB,GACuB5oC,EACvB,MAAMsX,GAAOC,EAAAA,EAAAA,IAAgB,YACvBw8B,GAAiBx3C,EAAAA,EAAAA,QAAuB,MAExCw5C,EAAmB,MAAT9D,GAAgBU,EAAMuB,gBAAkBzwC,KAAK8pB,IAAI,EAAGolB,EAAMI,QAAQoB,YAAc,GAAK,EAAI,EAEnG6B,GAAkBz5C,EAAAA,EAAAA,QAA2E,CAAC,GAY9Fy3C,EAAiBvB,EAAY,CAAEC,QAAOC,QAAOC,cAX5BhxB,I,YACrB,YAAuCxkB,IAAnC44C,EAAgBt5C,QAAQklB,GACmB,QAAtChK,EAA8B,QAA9Bze,EAAA68C,EAAgBt5C,QAAQklB,UAAM,IAAAzoB,OAAA,EAAAA,EAAEE,cAAM,IAAAue,EAAAA,EAAI,GAE/Cm8B,EAAer3C,UACjBq3C,EAAer3C,QAAQ+oB,YAAc7D,GAEvCo0B,EAAgBt5C,QAAQklB,GL4BtB,SAAyBoK,GAC7B,GAAIA,GAAWA,EAAQ8b,QACrB,OAAO9b,EAAQ8b,SAGnB,CKjCqCmO,CAAelC,EAAer3C,SAClB,QAAtCwnB,EAA8B,QAA9BnM,EAAAi+B,EAAgBt5C,QAAQklB,UAAM,IAAA7J,OAAA,EAAAA,EAAE1e,cAAM,IAAA6qB,EAAAA,EAAI,EAAC,EAGc2uB,kBAE9DkB,EAAer3C,UACjBq3C,EAAer3C,QAAQ+oB,YAAc,IAGvC,MAEMiuB,EAAeR,EAAgBc,GAFxB,GAAgB+B,EACfF,EApDE,GAoDuBE,GAGjCxG,IAAQwE,EAAer3C,UAAU8yC,EAAAA,EAAAA,IAASuE,EAAer3C,SAE/D,OACEhC,EAAAA,cAAA,KACEH,UAAWE,EAAO,uBAAsB,aAC5BwpB,EACZ/iB,KAAK,OAAM,uBACWoW,EAAK,uCAAwCsxB,GAAoB,eAC1E,GAEZ8K,EAAatyC,KACZ,CAAA6D,EAAsBwY,KAAK,IAA1B,SAAE+I,EAAQ,MAAEysB,GAAOhuC,EAAA,OAClBqvC,SAAS9tB,IACP9rB,EAAAA,cAAA,KACE6G,IAAKkc,EACLvc,KAAK,WACLykB,UAAS,eAAA3oB,OAAiBwpB,EAAWuvB,EAAO,KAC5Cx7C,WAAWC,EAAAA,EAAAA,GAAKC,EAAOi4C,MAAgB,MAATT,EAAex3C,EAAO,YAAcA,EAAO,cAE/D,MAATw3C,GACCv3C,EAAAA,cAAA,QACEH,WAAWC,EAAAA,EAAAA,GAAKC,EAAOy7C,KAAMz7C,EAAO07C,YACpC3B,IAAKrC,EACLuC,GAAI,EACJD,GAAImB,EACJjB,GAAI,EAAC,cACO,SAIf1B,EAAM7xC,KAAI,CAACwzC,EAAMC,K,QAChB,MAAM7M,IAAMmK,EAAcC,GACpBgE,EAAgB,CACpBpO,EAAIuH,EAAYqG,EAAY5N,EAAhBA,EACZE,GAAI2M,EAAiC,IAApB5B,EAAMl2C,OAAS,IAAYs1C,EAC5C93C,UAAWE,EAAOq6C,YAClBl1C,SAAUg1C,GAEZ,OAAgD,QAAxCh9B,EAAiC,QAAjCze,EAAA68C,EAAgBt5C,QAAQu2C,EAAM,WAAG,IAAA95C,OAAA,EAAAA,EAAE2yB,aAAK,IAAAlU,EAAAA,EAAI,GAAKk+B,EACvDp7C,EAAAA,cAAC27C,EAAAA,EAAcz7C,OAAAC,OAAA,CAAC0G,IAAKszC,GAAeuB,EAAa,CAAE/G,SAAUyG,KAE7Dp7C,EAAAA,cAAA,OAAAE,OAAAC,OAAA,CAAM0G,IAAKszC,GAAeuB,GAC3B,IAGN,IAGL17C,EAAAA,cAAA,QAAMyE,IAAK40C,EAAgB/L,EAAG,EAAGE,EAAG,EAAGxiB,MAAO,CAAEyiB,WAAY,UAAU,cAAc,SAG1F,I,aCtGA,SAAerE,EAAAA,EAAAA,OAGf,SAAsB9jC,GAA+E,IAA9E,MAAE2yC,EAAK,MAAED,EAAK,cAAEG,EAAa,UAAEyD,EAAS,eAAER,GAAoC91C,EACnG,MAAO8rB,EAAO3sB,IAAO+zB,EAAAA,EAAAA,IAA0B9H,GAAQA,EAAK+H,mBAG5DrZ,EAAAA,EAAAA,YAAU,KACRw8B,EAAUxqB,GAAS,EAAE,GACpB,CAACwqB,EAAWxqB,IAsBf,OACEpxB,EAAAA,cAAA,OACEyE,IAAKA,EACL5E,WAAWC,EAAAA,EAAAA,GAAKC,EAAO,uBAAwBA,EAAO,gCACtDirB,MAAO,CAAE2pB,SAAUyG,IAElBpD,EAAMtxC,KA1BUlE,IACnB,MAAMq5C,EAAc5D,EAAMI,QAAQ71C,GAClC,QAAoBE,IAAhBm5C,IAA8BjC,SAASiC,GACzC,OAAO,KAGT,MACMtD,IADiBJ,EAAgBA,EAAc31C,GAAgBA,EAAM+a,YAC3C,IAAI7C,MAAM,MAE1C,OACE1a,EAAAA,cAAC87C,EAAAA,SAAQ,CAACj1C,IAAG,GAAAvE,OAAKE,IACf+1C,EAAM7xC,KAAI,CAACwzC,EAAMC,IAChBn6C,EAAAA,cAAA,OAAK6G,IAAKszC,EAAWt6C,UAAWE,EAAO,8BAA6B,cAAc,QAC/Em6C,KAGI,IAajB,ICkKA,SAAS6B,EAAUzrB,EAAGC,GACpB,OAAY,MAALD,GAAkB,MAALC,EAAY+nB,IAAMhoB,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAI+nB,GAC9E,CAEA,SAAS0D,EAAW1rB,EAAGC,GACrB,OAAY,MAALD,GAAkB,MAALC,EAAY+nB,IAC5B/nB,EAAID,GAAK,EACTC,EAAID,EAAI,EACRC,GAAKD,EAAI,EACTgoB,GACN,CAEA,SAAS2D,EAASC,GAChB,IAAIC,EAAUC,EAAUC,EAiBxB,SAAS37B,EAAK4P,EAAGgd,GAA0B,IAAvB/+B,EAAE9N,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EAAG4L,EAAE5L,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG6vB,EAAEjuB,OACjC,GAAIkM,EAAKlC,EAAI,CACX,GAAuB,IAAnB8vC,EAAS7O,EAAGA,GAAU,OAAOjhC,EACjC,EAAG,CACD,MAAMiwC,EAAO/tC,EAAKlC,IAAQ,EACtB+vC,EAAS9rB,EAAEgsB,GAAMhP,GAAK,EAAG/+B,EAAK+tC,EAAM,EACnCjwC,EAAKiwC,CACZ,OAAS/tC,EAAKlC,EAChB,CACA,OAAOkC,CACT,CAmBA,OAvCiB,IAAb2tC,EAAE75C,QACJ85C,EAAWJ,EACXK,EAAWA,CAAC7S,EAAG+D,IAAMyO,EAAUG,EAAE3S,GAAI+D,GACrC+O,EAAQA,CAAC9S,EAAG+D,IAAM4O,EAAE3S,GAAK+D,IAEzB6O,EAAWD,IAAMH,GAAaG,IAAMF,EAAaE,EAAIK,EACrDH,EAAWF,EACXG,EAAQH,GAgCH,CAACx7B,OAAM87B,OALd,SAAgBlsB,EAAGgd,GAA0B,IAAvB/+B,EAAE9N,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EACzB,MAAMiL,EAAIgV,EAAK4P,EAAGgd,EAAG/+B,GADS9N,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG6vB,EAAEjuB,QACL,GAC9B,OAAOqJ,EAAI6C,GAAM8tC,EAAM/rB,EAAE5kB,EAAI,GAAI4hC,IAAM+O,EAAM/rB,EAAE5kB,GAAI4hC,GAAK5hC,EAAI,EAAIA,CAClE,EAEsBiV,MAjBtB,SAAe2P,EAAGgd,GAA0B,IAAvB/+B,EAAE9N,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EAAG4L,EAAE5L,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG6vB,EAAEjuB,OAClC,GAAIkM,EAAKlC,EAAI,CACX,GAAuB,IAAnB8vC,EAAS7O,EAAGA,GAAU,OAAOjhC,EACjC,EAAG,CACD,MAAMiwC,EAAO/tC,EAAKlC,IAAQ,EACtB+vC,EAAS9rB,EAAEgsB,GAAMhP,IAAM,EAAG/+B,EAAK+tC,EAAM,EACpCjwC,EAAKiwC,CACZ,OAAS/tC,EAAKlC,EAChB,CACA,OAAOkC,CACT,EAQF,CAEA,SAASguC,IACP,OAAO,CACT,CAMA,MACME,EADkBR,EAASF,GACGp7B,MACpCs7B,GANA,SAAkB3O,GAChB,OAAa,OAANA,EAAagL,KAAOhL,CAC7B,IAImBkP,OACnB,IAAIE,EAASD,EAEb,MAAME,UAAkB76C,IACtB04B,WAAAA,CAAYoiB,GAAsB,IAAb/1C,EAAGpG,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAGo8C,EAGzB,GAFAC,QACA58C,OAAO68C,iBAAiBhtB,KAAM,CAACitB,QAAS,CAACx6C,MAAO,IAAIV,KAAQk2B,KAAM,CAACx1B,MAAOqE,KAC3D,MAAX+1C,EAAiB,IAAK,MAAO/1C,EAAKrE,KAAUo6C,EAAS7sB,KAAK7tB,IAAI2E,EAAKrE,EACzE,CACAP,GAAAA,CAAI4E,GACF,OAAOi2C,MAAM76C,IAAIg7C,EAAWltB,KAAMlpB,GACpC,CACAmrB,GAAAA,CAAInrB,GACF,OAAOi2C,MAAM9qB,IAAIirB,EAAWltB,KAAMlpB,GACpC,CACA3E,GAAAA,CAAI2E,EAAKrE,GACP,OAAOs6C,MAAM56C,IAYjB,SAAmBqI,EAAkB/H,GAAO,IAAxB,QAACw6C,EAAO,KAAEhlB,GAAKztB,EACjC,MAAM1D,EAAMmxB,EAAKx1B,GACjB,OAAIw6C,EAAQhrB,IAAInrB,GAAam2C,EAAQ/6C,IAAI4E,IACzCm2C,EAAQ96C,IAAI2E,EAAKrE,GACVA,EACT,CAjBqB06C,CAAWntB,KAAMlpB,GAAMrE,EAC1C,CACA26C,OAAOt2C,GACL,OAAOi2C,MAAMK,OAgBjB,SAAsB31B,EAAkBhlB,GAAO,IAAxB,QAACw6C,EAAO,KAAEhlB,GAAKxQ,EACpC,MAAM3gB,EAAMmxB,EAAKx1B,GACbw6C,EAAQhrB,IAAInrB,KACdrE,EAAQw6C,EAAQ/6C,IAAI4E,GACpBm2C,EAAQG,OAAOt2C,IAEjB,OAAOrE,CACT,CAvBwB46C,CAAcrtB,KAAMlpB,GAC1C,EAGF,SAASo2C,EAAU33C,EAAkB9C,GAAO,IAAxB,QAACw6C,EAAO,KAAEhlB,GAAK1yB,EACjC,MAAMuB,EAAMmxB,EAAKx1B,GACjB,OAAOw6C,EAAQhrB,IAAInrB,GAAOm2C,EAAQ/6C,IAAI4E,GAAOrE,CAC/C,CAkBA,SAASq6C,EAAMr6C,GACb,OAAiB,OAAVA,GAAmC,kBAAVA,EAAqBA,EAAM66C,UAAY76C,CACzE,CAEA,IAAI86C,EAAMv0C,KAAKw0C,KAAK,IAChBC,EAAKz0C,KAAKw0C,KAAK,IACfE,EAAK10C,KAAKw0C,KAAK,GAEnB,SAASvF,EAAMlrB,EAAO4wB,EAAMC,GAC1B,IAAIC,EAEAC,EACA7F,EACA1tC,EAHAoB,GAAK,EAMT,GAD8BiyC,GAASA,GAAzB7wB,GAASA,MAAvB4wB,GAAQA,IACcC,EAAQ,EAAG,MAAO,CAAC7wB,GAEzC,IADI8wB,EAAUF,EAAO5wB,KAAO+wB,EAAI/wB,EAAOA,EAAQ4wB,EAAMA,EAAOG,GACT,KAA9CvzC,EAAOwzC,EAAchxB,EAAO4wB,EAAMC,MAAkB/D,SAAStvC,GAAO,MAAO,GAEhF,GAAIA,EAAO,EAAG,CACZ,IAAIyzC,EAAKh1C,KAAKi1C,MAAMlxB,EAAQxiB,GAAO2zC,EAAKl1C,KAAKi1C,MAAMN,EAAOpzC,GAI1D,IAHIyzC,EAAKzzC,EAAOwiB,KAASixB,EACrBE,EAAK3zC,EAAOozC,KAAQO,EACxBjG,EAAQ,IAAI18B,MAAMuiC,EAAII,EAAKF,EAAK,KACvBryC,EAAImyC,GAAG7F,EAAMtsC,IAAMqyC,EAAKryC,GAAKpB,CACxC,KAAO,CACLA,GAAQA,EACR,IAAIyzC,EAAKh1C,KAAKi1C,MAAMlxB,EAAQxiB,GAAO2zC,EAAKl1C,KAAKi1C,MAAMN,EAAOpzC,GAI1D,IAHIyzC,EAAKzzC,EAAOwiB,KAASixB,EACrBE,EAAK3zC,EAAOozC,KAAQO,EACxBjG,EAAQ,IAAI18B,MAAMuiC,EAAII,EAAKF,EAAK,KACvBryC,EAAImyC,GAAG7F,EAAMtsC,IAAMqyC,EAAKryC,GAAKpB,CACxC,CAIA,OAFIszC,GAAS5F,EAAM4F,UAEZ5F,CACT,CAEA,SAAS8F,EAAchxB,EAAO4wB,EAAMC,GAClC,IAAIrzC,GAAQozC,EAAO5wB,GAAS/jB,KAAK8pB,IAAI,EAAG8qB,GACpCO,EAAQn1C,KAAKo1C,MAAMp1C,KAAKq1C,IAAI9zC,GAAQvB,KAAKs1C,MACzCC,EAAQh0C,EAAOvB,KAAKw1C,IAAI,GAAIL,GAChC,OAAOA,GAAS,GACTI,GAAShB,EAAM,GAAKgB,GAASd,EAAK,EAAIc,GAASb,EAAK,EAAI,GAAK10C,KAAKw1C,IAAI,GAAIL,IAC1En1C,KAAKw1C,IAAI,IAAKL,IAAUI,GAAShB,EAAM,GAAKgB,GAASd,EAAK,EAAIc,GAASb,EAAK,EAAI,EACzF,CAEA,SAASe,GAAS1xB,EAAO4wB,EAAMC,GAC7B,IAAIc,EAAQ11C,KAAKC,IAAI00C,EAAO5wB,GAAS/jB,KAAK8pB,IAAI,EAAG8qB,GAC7Ce,EAAQ31C,KAAKw1C,IAAI,GAAIx1C,KAAKo1C,MAAMp1C,KAAKq1C,IAAIK,GAAS11C,KAAKs1C,OACvDC,EAAQG,EAAQC,EAIpB,OAHIJ,GAAShB,EAAKoB,GAAS,GAClBJ,GAASd,EAAIkB,GAAS,EACtBJ,GAASb,IAAIiB,GAAS,GACxBhB,EAAO5wB,GAAS4xB,EAAQA,CACjC,CAgBA,SAASC,GAAUC,EAAQhsB,GACzB,OAAQnyB,UAAU4B,QAChB,KAAK,EAAG,MACR,KAAK,EAAG0tB,KAAK6C,MAAMgsB,GAAS,MAC5B,QAAS7uB,KAAK6C,MAAMA,GAAOgsB,OAAOA,GAEpC,OAAO7uB,IACT,CAEA,MAAM8uB,GAAWC,OAAO,YAExB,SAASC,KACP,IAAIh8B,EAAQ,IAAI45B,EACZiC,EAAS,GACThsB,EAAQ,GACRosB,EAAUH,GAEd,SAAS5G,EAAM1O,GACb,IAAI79B,EAAIqX,EAAM9gB,IAAIsnC,GAClB,QAAU7mC,IAANgJ,EAAiB,CACnB,GAAIszC,IAAYH,GAAU,OAAOG,EACjCj8B,EAAM7gB,IAAIqnC,EAAG79B,EAAIkzC,EAAOjzC,KAAK49B,GAAK,EACpC,CACA,OAAO3W,EAAMlnB,EAAIknB,EAAMvwB,OACzB,CA0BA,OAxBA41C,EAAM2G,OAAS,SAASpjC,GACtB,IAAK/a,UAAU4B,OAAQ,OAAOu8C,EAAOtpB,QACrCspB,EAAS,GAAI77B,EAAQ,IAAI45B,EACzB,IAAK,MAAMn6C,KAASgZ,EACduH,EAAMiP,IAAIxvB,IACdugB,EAAM7gB,IAAIM,EAAOo8C,EAAOjzC,KAAKnJ,GAAS,GAExC,OAAOy1C,CACT,EAEAA,EAAMrlB,MAAQ,SAASpX,GACrB,OAAO/a,UAAU4B,QAAUuwB,EAAQtX,MAAMm2B,KAAKj2B,GAAIy8B,GAASrlB,EAAM0C,OACnE,EAEA2iB,EAAM+G,QAAU,SAASxjC,GACvB,OAAO/a,UAAU4B,QAAU28C,EAAUxjC,EAAGy8B,GAAS+G,CACnD,EAEA/G,EAAMgH,KAAO,WACX,OAAOF,GAAQH,EAAQhsB,GAAOosB,QAAQA,EACxC,EAEAL,GAAU7uB,MAAMmoB,EAAOx3C,WAEhBw3C,CACT,CAEA,SAASiH,KACP,IAKI50C,EACAmvC,EANAxB,EAAQ8G,KAAUC,aAAQt8C,GAC1Bk8C,EAAS3G,EAAM2G,OACfO,EAAelH,EAAMrlB,MACrBmrB,EAAK,EACLE,EAAK,EAGLD,GAAQ,EACRoB,EAAe,EACfC,EAAe,EACfloB,EAAQ,GAIZ,SAASmoB,IACP,IAAIzB,EAAIe,IAASv8C,OACbu7C,EAAUK,EAAKF,EACfjxB,EAAQ8wB,EAAUK,EAAKF,EACvBL,EAAOE,EAAUG,EAAKE,EAC1B3zC,GAAQozC,EAAO5wB,GAAS/jB,KAAK8pB,IAAI,EAAGgrB,EAAIuB,EAA8B,EAAfC,GACnDrB,IAAO1zC,EAAOvB,KAAKo1C,MAAM7zC,IAC7BwiB,IAAU4wB,EAAO5wB,EAAQxiB,GAAQuzC,EAAIuB,IAAiBjoB,EACtDsiB,EAAYnvC,GAAQ,EAAI80C,GACpBpB,IAAOlxB,EAAQ/jB,KAAKi1C,MAAMlxB,GAAQ2sB,EAAY1wC,KAAKi1C,MAAMvE,IAC7D,IAAI8F,EA5FR,SAAezyB,EAAO4wB,EAAMpzC,GAC1BwiB,GAASA,EAAO4wB,GAAQA,EAAMpzC,GAAQuzC,EAAIp9C,UAAU4B,QAAU,GAAKq7C,EAAO5wB,EAAOA,EAAQ,EAAG,GAAK+wB,EAAI,EAAI,GAAKvzC,EAM9G,IAJA,IAAIoB,GAAK,EACLmyC,EAAoD,EAAhD90C,KAAK8pB,IAAI,EAAG9pB,KAAKy2C,MAAM9B,EAAO5wB,GAASxiB,IAC3CsoB,EAAQ,IAAItX,MAAMuiC,KAEbnyC,EAAImyC,GACXjrB,EAAMlnB,GAAKohB,EAAQphB,EAAIpB,EAGzB,OAAOsoB,CACT,CAgFiBA,CAAMirB,GAAGn3C,KAAI,SAASgF,GAAK,OAAOohB,EAAQxiB,EAAOoB,CAAG,IACjE,OAAOyzC,EAAavB,EAAU2B,EAAO3B,UAAY2B,EACnD,CAkDA,cAhEOtH,EAAM+G,QAgBb/G,EAAM2G,OAAS,SAASpjC,GACtB,OAAO/a,UAAU4B,QAAUu8C,EAAOpjC,GAAI8jC,KAAaV,GACrD,EAEA3G,EAAMrlB,MAAQ,SAASpX,GACrB,OAAO/a,UAAU4B,SAAW07C,EAAIE,GAAMziC,EAAGuiC,GAAMA,EAAIE,GAAMA,EAAIqB,KAAa,CAACvB,EAAIE,EACjF,EAEAhG,EAAMwH,WAAa,SAASjkC,GAC1B,OAAQuiC,EAAIE,GAAMziC,EAAGuiC,GAAMA,EAAIE,GAAMA,EAAID,GAAQ,EAAMsB,GACzD,EAEArH,EAAMwB,UAAY,WAChB,OAAOA,CACT,EAEAxB,EAAM3tC,KAAO,WACX,OAAOA,CACT,EAEA2tC,EAAM+F,MAAQ,SAASxiC,GACrB,OAAO/a,UAAU4B,QAAU27C,IAAUxiC,EAAG8jC,KAAatB,CACvD,EAEA/F,EAAMyH,QAAU,SAASlkC,GACvB,OAAO/a,UAAU4B,QAAU+8C,EAAer2C,KAAKiqB,IAAI,EAAGqsB,GAAgB7jC,GAAI8jC,KAAaF,CACzF,EAEAnH,EAAMmH,aAAe,SAAS5jC,GAC5B,OAAO/a,UAAU4B,QAAU+8C,EAAer2C,KAAKiqB,IAAI,EAAGxX,GAAI8jC,KAAaF,CACzE,EAEAnH,EAAMoH,aAAe,SAAS7jC,GAC5B,OAAO/a,UAAU4B,QAAUg9C,GAAgB7jC,EAAG8jC,KAAaD,CAC7D,EAEApH,EAAM9gB,MAAQ,SAAS3b,GACrB,OAAO/a,UAAU4B,QAAU80B,EAAQpuB,KAAK8pB,IAAI,EAAG9pB,KAAKiqB,IAAI,EAAGxX,IAAK8jC,KAAanoB,CAC/E,EAEA8gB,EAAMgH,KAAO,WACX,OAAOC,GAAKN,IAAU,CAACb,EAAIE,IACtBD,MAAMA,GACNoB,aAAaA,GACbC,aAAaA,GACbloB,MAAMA,EACb,EAEOwnB,GAAU7uB,MAAMwvB,IAAW7+C,UACpC,CAEA,SAASk/C,GAAOnlB,EAAaolB,EAASjwB,GACpC6K,EAAY7K,UAAYiwB,EAAQjwB,UAAYA,EAC5CA,EAAU6K,YAAcA,CAC1B,CAEA,SAASqlB,GAAO7X,EAAQ8X,GACtB,IAAInwB,EAAYzvB,OAAO6/C,OAAO/X,EAAOrY,WACrC,IAAK,IAAI9oB,KAAOi5C,EAAYnwB,EAAU9oB,GAAOi5C,EAAWj5C,GACxD,OAAO8oB,CACT,CAEA,SAASqwB,KAAS,CAElB,IAAIC,GAAS,GACTC,GAAW,EAAID,GAEfE,GAAM,sBACNC,GAAM,oDACNC,GAAM,qDACNC,GAAQ,qBACRC,GAAe,IAAI15B,OAAO,UAADvkB,OAAW69C,GAAG,KAAA79C,OAAI69C,GAAG,KAAA79C,OAAI69C,GAAG,SACrDK,GAAe,IAAI35B,OAAO,UAADvkB,OAAW+9C,GAAG,KAAA/9C,OAAI+9C,GAAG,KAAA/9C,OAAI+9C,GAAG,SACrDI,GAAgB,IAAI55B,OAAO,WAADvkB,OAAY69C,GAAG,KAAA79C,OAAI69C,GAAG,KAAA79C,OAAI69C,GAAG,KAAA79C,OAAI89C,GAAG,SAC9DM,GAAgB,IAAI75B,OAAO,WAADvkB,OAAY+9C,GAAG,KAAA/9C,OAAI+9C,GAAG,KAAA/9C,OAAI+9C,GAAG,KAAA/9C,OAAI89C,GAAG,SAC9DO,GAAe,IAAI95B,OAAO,UAADvkB,OAAW89C,GAAG,KAAA99C,OAAI+9C,GAAG,KAAA/9C,OAAI+9C,GAAG,SACrDO,GAAgB,IAAI/5B,OAAO,WAADvkB,OAAY89C,GAAG,KAAA99C,OAAI+9C,GAAG,KAAA/9C,OAAI+9C,GAAG,KAAA/9C,OAAI89C,GAAG,SAE9DS,GAAQ,CACVC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAkBf,SAASC,KACP,OAAOn6B,KAAKo6B,MAAMC,WACpB,CAUA,SAASC,KACP,OAAOt6B,KAAKo6B,MAAMG,WACpB,CAEA,SAAS5gB,GAAMtB,GACb,IAAImiB,EAAGC,EAEP,OADApiB,GAAUA,EAAS,IAAIyJ,OAAOp3B,eACtB8vC,EAAIjK,GAAMmK,KAAKriB,KAAYoiB,EAAID,EAAE,GAAGloD,OAAQkoD,EAAIG,SAASH,EAAE,GAAI,IAAW,IAANC,EAAUG,GAAKJ,GAC/E,IAANC,EAAU,IAAII,GAAKL,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,GAAiB,GAAJA,IAAY,EAAU,GAAJA,EAAU,GACzG,IAANC,EAAUK,GAAKN,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACrE,IAANC,EAAUK,GAAMN,GAAK,GAAK,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,IAAkB,GAAJA,IAAY,EAAU,GAAJA,GAAY,KAClJ,OACCA,EAAIhK,GAAakK,KAAKriB,IAAW,IAAIwiB,GAAIL,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC3DA,EAAI/J,GAAaiK,KAAKriB,IAAW,IAAIwiB,GAAW,IAAPL,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAI9J,GAAcgK,KAAKriB,IAAWyiB,GAAKN,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAI7J,GAAc+J,KAAKriB,IAAWyiB,GAAY,IAAPN,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAI5J,GAAa8J,KAAKriB,IAAW0iB,GAAKP,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAI3J,GAAc6J,KAAKriB,IAAW0iB,GAAKP,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxE1J,GAAMjxB,eAAewY,GAAUuiB,GAAK9J,GAAMzY,IAC/B,gBAAXA,EAA2B,IAAIwiB,GAAItS,IAAKA,IAAKA,IAAK,GAClD,IACR,CAEA,SAASqS,GAAK9M,GACZ,OAAO,IAAI+M,GAAI/M,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,EAC1D,CAEA,SAASgN,GAAK7P,EAAG+P,EAAGx6B,EAAGD,GAErB,OADIA,GAAK,IAAG0qB,EAAI+P,EAAIx6B,EAAI+nB,KACjB,IAAIsS,GAAI5P,EAAG+P,EAAGx6B,EAAGD,EAC1B,CASA,SAAS06B,GAAMhQ,EAAG+P,EAAGx6B,EAAG06B,GACtB,OAA4B,IAArBxqD,UAAU4B,SARC6oD,EAQyBlQ,aAPxBgF,KAAQkL,EAAIxhB,GAAMwhB,IAChCA,EAEE,IAAIN,IADXM,EAAIA,EAAEf,OACWnP,EAAGkQ,EAAEH,EAAGG,EAAE36B,EAAG26B,EAAED,SAFjB,IAAIL,IAM6B,IAAIA,GAAI5P,EAAG+P,EAAGx6B,EAAc,MAAX06B,EAAkB,EAAIA,GARzF,IAAoBC,CASpB,CAEA,SAASN,GAAI5P,EAAG+P,EAAGx6B,EAAG06B,GACpBl7B,KAAKirB,GAAKA,EACVjrB,KAAKg7B,GAAKA,EACVh7B,KAAKQ,GAAKA,EACVR,KAAKk7B,SAAWA,CAClB,CA8BA,SAASE,KACP,MAAO,IAAP7oD,OAAW8oD,GAAIr7B,KAAKirB,IAAE14C,OAAG8oD,GAAIr7B,KAAKg7B,IAAEzoD,OAAG8oD,GAAIr7B,KAAKQ,GAClD,CAMA,SAAS86B,KACP,MAAM/6B,EAAIg7B,GAAOv7B,KAAKk7B,SACtB,MAAO,GAAP3oD,OAAgB,IAANguB,EAAU,OAAS,SAAOhuB,OAAGipD,GAAOx7B,KAAKirB,GAAE,MAAA14C,OAAKipD,GAAOx7B,KAAKg7B,GAAE,MAAAzoD,OAAKipD,GAAOx7B,KAAKQ,IAAEjuB,OAAS,IAANguB,EAAU,IAAM,KAAHhuB,OAAQguB,EAAC,KACtH,CAEA,SAASg7B,GAAOL,GACd,OAAOvsC,MAAMusC,GAAW,EAAIliD,KAAK8pB,IAAI,EAAG9pB,KAAKiqB,IAAI,EAAGi4B,GACtD,CAEA,SAASM,GAAO/oD,GACd,OAAOuG,KAAK8pB,IAAI,EAAG9pB,KAAKiqB,IAAI,IAAKjqB,KAAKi1C,MAAMx7C,IAAU,GACxD,CAEA,SAAS4oD,GAAI5oD,GAEX,QADAA,EAAQ+oD,GAAO/oD,IACC,GAAK,IAAM,IAAMA,EAAM+a,SAAS,GAClD,CAEA,SAASutC,GAAKU,EAAGvgB,EAAGuf,EAAGl6B,GAIrB,OAHIA,GAAK,EAAGk7B,EAAIvgB,EAAIuf,EAAIlS,IACfkS,GAAK,GAAKA,GAAK,EAAGgB,EAAIvgB,EAAIqN,IAC1BrN,GAAK,IAAGugB,EAAIlT,KACd,IAAImT,GAAID,EAAGvgB,EAAGuf,EAAGl6B,EAC1B,CAEA,SAASo7B,GAAWR,GAClB,GAAIA,aAAaO,GAAK,OAAO,IAAIA,GAAIP,EAAEM,EAAGN,EAAEjgB,EAAGigB,EAAEV,EAAGU,EAAED,SAEtD,GADMC,aAAalL,KAAQkL,EAAIxhB,GAAMwhB,KAChCA,EAAG,OAAO,IAAIO,GACnB,GAAIP,aAAaO,GAAK,OAAOP,EAE7B,IAAIlQ,GADJkQ,EAAIA,EAAEf,OACInP,EAAI,IACV+P,EAAIG,EAAEH,EAAI,IACVx6B,EAAI26B,EAAE36B,EAAI,IACVyC,EAAMjqB,KAAKiqB,IAAIgoB,EAAG+P,EAAGx6B,GACrBsC,EAAM9pB,KAAK8pB,IAAImoB,EAAG+P,EAAGx6B,GACrBi7B,EAAIlT,IACJrN,EAAIpY,EAAMG,EACVw3B,GAAK33B,EAAMG,GAAO,EAUtB,OATIiY,GACaugB,EAAXxQ,IAAMnoB,GAAUk4B,EAAIx6B,GAAK0a,EAAc,GAAT8f,EAAIx6B,GAC7Bw6B,IAAMl4B,GAAUtC,EAAIyqB,GAAK/P,EAAI,GAC5B+P,EAAI+P,GAAK9f,EAAI,EACvBA,GAAKuf,EAAI,GAAM33B,EAAMG,EAAM,EAAIH,EAAMG,EACrCw4B,GAAK,IAELvgB,EAAIuf,EAAI,GAAKA,EAAI,EAAI,EAAIgB,EAEpB,IAAIC,GAAID,EAAGvgB,EAAGuf,EAAGU,EAAED,QAC5B,CAMA,SAASQ,GAAID,EAAGvgB,EAAGuf,EAAGS,GACpBl7B,KAAKy7B,GAAKA,EACVz7B,KAAKkb,GAAKA,EACVlb,KAAKy6B,GAAKA,EACVz6B,KAAKk7B,SAAWA,CAClB,CAsCA,SAASU,GAAOnpD,GAEd,OADAA,GAASA,GAAS,GAAK,KACR,EAAIA,EAAQ,IAAMA,CACnC,CAEA,SAASopD,GAAOppD,GACd,OAAOuG,KAAK8pB,IAAI,EAAG9pB,KAAKiqB,IAAI,EAAGxwB,GAAS,GAC1C,CAGA,SAASqpD,GAAQL,EAAGM,EAAIC,GACtB,OAGY,KAHJP,EAAI,GAAKM,GAAMC,EAAKD,GAAMN,EAAI,GAChCA,EAAI,IAAMO,EACVP,EAAI,IAAMM,GAAMC,EAAKD,IAAO,IAAMN,GAAK,GACvCM,EACR,CAlOAnM,GAAOK,GAAOtW,GAAO,CACnBuV,IAAAA,CAAK+M,GACH,OAAO9rD,OAAOC,OAAO,IAAI4vB,KAAKyK,YAAazK,KAAMi8B,EACnD,EACAC,WAAAA,GACE,OAAOl8B,KAAKo6B,MAAM8B,aACpB,EACAb,IAAKlB,GACLE,UAAWF,GACXgC,WAUF,WACE,OAAOn8B,KAAKo6B,MAAM+B,YACpB,EAXEC,UAaF,WACE,OAAOT,GAAW37B,MAAMo8B,WAC1B,EAdE7B,UAAWD,GACX9sC,SAAU8sC,KAiEZ1K,GAAOiL,GAAKI,GAAOnL,GAAOG,GAAO,CAC/BE,QAAAA,CAASzpB,GAEP,OADAA,EAAS,MAALA,EAAYypB,GAAWn3C,KAAKw1C,IAAI2B,GAAUzpB,GACvC,IAAIm0B,GAAI76B,KAAKirB,EAAIvkB,EAAG1G,KAAKg7B,EAAIt0B,EAAG1G,KAAKQ,EAAIkG,EAAG1G,KAAKk7B,QAC1D,EACAhL,MAAAA,CAAOxpB,GAEL,OADAA,EAAS,MAALA,EAAYwpB,GAASl3C,KAAKw1C,IAAI0B,GAAQxpB,GACnC,IAAIm0B,GAAI76B,KAAKirB,EAAIvkB,EAAG1G,KAAKg7B,EAAIt0B,EAAG1G,KAAKQ,EAAIkG,EAAG1G,KAAKk7B,QAC1D,EACAd,GAAAA,GACE,OAAOp6B,IACT,EACAq8B,KAAAA,GACE,OAAO,IAAIxB,GAAIW,GAAOx7B,KAAKirB,GAAIuQ,GAAOx7B,KAAKg7B,GAAIQ,GAAOx7B,KAAKQ,GAAI+6B,GAAOv7B,KAAKk7B,SAC7E,EACAgB,WAAAA,GACE,OAAS,IAAOl8B,KAAKirB,GAAKjrB,KAAKirB,EAAI,QAC1B,IAAOjrB,KAAKg7B,GAAKh7B,KAAKg7B,EAAI,QAC1B,IAAOh7B,KAAKQ,GAAKR,KAAKQ,EAAI,OAC3B,GAAKR,KAAKk7B,SAAWl7B,KAAKk7B,SAAW,CAC/C,EACAG,IAAKD,GACLf,UAAWe,GACXe,WASF,WACE,MAAO,IAAP5pD,OAAW8oD,GAAIr7B,KAAKirB,IAAE14C,OAAG8oD,GAAIr7B,KAAKg7B,IAAEzoD,OAAG8oD,GAAIr7B,KAAKQ,IAAEjuB,OAAG8oD,GAA+C,KAA1C1sC,MAAMqR,KAAKk7B,SAAW,EAAIl7B,KAAKk7B,UAC3F,EAVEX,UAAWe,GACX9tC,SAAU8tC,MAyEZ1L,GAAO8L,IAXP,SAAaD,EAAGvgB,EAAGuf,EAAGS,GACpB,OAA4B,IAArBxqD,UAAU4B,OAAeqpD,GAAWF,GAAK,IAAIC,GAAID,EAAGvgB,EAAGuf,EAAc,MAAXS,EAAkB,EAAIA,EACzF,GASiBpL,GAAOG,GAAO,CAC7BE,QAAAA,CAASzpB,GAEP,OADAA,EAAS,MAALA,EAAYypB,GAAWn3C,KAAKw1C,IAAI2B,GAAUzpB,GACvC,IAAIg1B,GAAI17B,KAAKy7B,EAAGz7B,KAAKkb,EAAGlb,KAAKy6B,EAAI/zB,EAAG1G,KAAKk7B,QAClD,EACAhL,MAAAA,CAAOxpB,GAEL,OADAA,EAAS,MAALA,EAAYwpB,GAASl3C,KAAKw1C,IAAI0B,GAAQxpB,GACnC,IAAIg1B,GAAI17B,KAAKy7B,EAAGz7B,KAAKkb,EAAGlb,KAAKy6B,EAAI/zB,EAAG1G,KAAKk7B,QAClD,EACAd,GAAAA,GACE,IAAIqB,EAAIz7B,KAAKy7B,EAAI,IAAqB,KAAdz7B,KAAKy7B,EAAI,GAC7BvgB,EAAIvsB,MAAM8sC,IAAM9sC,MAAMqR,KAAKkb,GAAK,EAAIlb,KAAKkb,EACzCuf,EAAIz6B,KAAKy6B,EACTuB,EAAKvB,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAKvf,EACjC6gB,EAAK,EAAItB,EAAIuB,EACjB,OAAO,IAAInB,GACTiB,GAAQL,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAKM,EAAIC,GAC1CF,GAAQL,EAAGM,EAAIC,GACfF,GAAQL,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAKM,EAAIC,GACzCh8B,KAAKk7B,QAET,EACAmB,KAAAA,GACE,OAAO,IAAIX,GAAIE,GAAO57B,KAAKy7B,GAAII,GAAO77B,KAAKkb,GAAI2gB,GAAO77B,KAAKy6B,GAAIc,GAAOv7B,KAAKk7B,SAC7E,EACAgB,WAAAA,GACE,OAAQ,GAAKl8B,KAAKkb,GAAKlb,KAAKkb,GAAK,GAAKvsB,MAAMqR,KAAKkb,KACzC,GAAKlb,KAAKy6B,GAAKz6B,KAAKy6B,GAAK,GACzB,GAAKz6B,KAAKk7B,SAAWl7B,KAAKk7B,SAAW,CAC/C,EACAkB,SAAAA,GACE,MAAM77B,EAAIg7B,GAAOv7B,KAAKk7B,SACtB,MAAO,GAAP3oD,OAAgB,IAANguB,EAAU,OAAS,SAAOhuB,OAAGqpD,GAAO57B,KAAKy7B,GAAE,MAAAlpD,OAAsB,IAAjBspD,GAAO77B,KAAKkb,GAAQ,OAAA3oC,OAAuB,IAAjBspD,GAAO77B,KAAKy6B,GAAQ,KAAAloD,OAAU,IAANguB,EAAU,IAAM,KAAHhuB,OAAQguB,EAAC,KACpI,KAoBF,IAAI+7B,GAAW/e,GAAK,IAAMA,EAc1B,SAASgf,GAAM9e,GACb,OAAoB,KAAZA,GAAKA,GAAW+e,GAAU,SAASj8B,EAAGC,GAC5C,OAAOA,EAAID,EARf,SAAqBA,EAAGC,EAAGid,GACzB,OAAOld,EAAIvnB,KAAKw1C,IAAIjuB,EAAGkd,GAAIjd,EAAIxnB,KAAKw1C,IAAIhuB,EAAGid,GAAKld,EAAGkd,EAAI,EAAIA,EAAG,SAASgf,GACrE,OAAOzjD,KAAKw1C,IAAIjuB,EAAIk8B,EAAIj8B,EAAGid,EAC7B,CACF,CAImBif,CAAYn8B,EAAGC,EAAGid,GAAK6e,GAAS3tC,MAAM4R,GAAKC,EAAID,EAChE,CACF,CAEA,SAASi8B,GAAQj8B,EAAGC,GAClB,IAAIgZ,EAAIhZ,EAAID,EACZ,OAAOiZ,EApBT,SAAkBjZ,EAAGiZ,GACnB,OAAO,SAASijB,GACd,OAAOl8B,EAAIk8B,EAAIjjB,CACjB,CACF,CAgBamjB,CAASp8B,EAAGiZ,GAAK8iB,GAAS3tC,MAAM4R,GAAKC,EAAID,EACtD,CAEA,IAAI65B,GAAO,SAASwC,EAASnf,GAC3B,IAAI9D,EAAQ4iB,GAAM9e,GAElB,SAAS2c,EAAIr9B,EAAOiG,GAClB,IAAIioB,EAAItR,GAAO5c,EAAQk+B,GAAMl+B,IAAQkuB,GAAIjoB,EAAMi4B,GAAMj4B,IAAMioB,GACvD+P,EAAIrhB,EAAM5c,EAAMi+B,EAAGh4B,EAAIg4B,GACvBx6B,EAAImZ,EAAM5c,EAAMyD,EAAGwC,EAAIxC,GACvB06B,EAAUsB,GAAQz/B,EAAMm+B,QAASl4B,EAAIk4B,SACzC,OAAO,SAASuB,GAKd,OAJA1/B,EAAMkuB,EAAIA,EAAEwR,GACZ1/B,EAAMi+B,EAAIA,EAAEyB,GACZ1/B,EAAMyD,EAAIA,EAAEi8B,GACZ1/B,EAAMm+B,QAAUA,EAAQuB,GACjB1/B,EAAQ,EACjB,CACF,CAIA,OAFAq9B,EAAImC,MAAQK,EAELxC,CACT,CApBW,CAoBR,GAEH,SAASyC,GAAYt8B,EAAGC,GACjBA,IAAGA,EAAI,IACZ,IAEI7kB,EAFAmyC,EAAIvtB,EAAIvnB,KAAKiqB,IAAIzC,EAAEluB,OAAQiuB,EAAEjuB,QAAU,EACvCs3B,EAAIpJ,EAAE+E,QAEV,OAAO,SAASk3B,GACd,IAAK9gD,EAAI,EAAGA,EAAImyC,IAAKnyC,EAAGiuB,EAAEjuB,GAAK4kB,EAAE5kB,IAAM,EAAI8gD,GAAKj8B,EAAE7kB,GAAK8gD,EACvD,OAAO7yB,CACT,CACF,CAMA,SAASkzB,GAAav8B,EAAGC,GACvB,IAII7kB,EAJAohD,EAAKv8B,EAAIA,EAAEluB,OAAS,EACpB0qD,EAAKz8B,EAAIvnB,KAAKiqB,IAAI85B,EAAIx8B,EAAEjuB,QAAU,EAClCirC,EAAI,IAAIhyB,MAAMyxC,GACdpzB,EAAI,IAAIre,MAAMwxC,GAGlB,IAAKphD,EAAI,EAAGA,EAAIqhD,IAAMrhD,EAAG4hC,EAAE5hC,GAAKshD,GAAY18B,EAAE5kB,GAAI6kB,EAAE7kB,IACpD,KAAOA,EAAIohD,IAAMphD,EAAGiuB,EAAEjuB,GAAK6kB,EAAE7kB,GAE7B,OAAO,SAAS8gD,GACd,IAAK9gD,EAAI,EAAGA,EAAIqhD,IAAMrhD,EAAGiuB,EAAEjuB,GAAK4hC,EAAE5hC,GAAG8gD,GACrC,OAAO7yB,CACT,CACF,CAEA,SAASszB,GAAO38B,EAAGC,GACjB,IAAIgZ,EAAI,IAAIpiC,KACZ,OAAOmpB,GAAKA,EAAGC,GAAKA,EAAG,SAASi8B,GAC9B,OAAOjjB,EAAE2jB,QAAQ58B,GAAK,EAAIk8B,GAAKj8B,EAAIi8B,GAAIjjB,CACzC,CACF,CAEA,SAAS4jB,GAAkB78B,EAAGC,GAC5B,OAAOD,GAAKA,EAAGC,GAAKA,EAAG,SAASi8B,GAC9B,OAAOl8B,GAAK,EAAIk8B,GAAKj8B,EAAIi8B,CAC3B,CACF,CAEA,SAASY,GAAO98B,EAAGC,GACjB,IAEIkG,EAFA/qB,EAAI,CAAC,EACLiuB,EAAI,CAAC,EAMT,IAAKlD,KAHK,OAANnG,GAA2B,kBAANA,IAAgBA,EAAI,CAAC,GACpC,OAANC,GAA2B,kBAANA,IAAgBA,EAAI,CAAC,GAEpCA,EACJkG,KAAKnG,EACP5kB,EAAE+qB,GAAKu2B,GAAY18B,EAAEmG,GAAIlG,EAAEkG,IAE3BkD,EAAElD,GAAKlG,EAAEkG,GAIb,OAAO,SAAS+1B,GACd,IAAK/1B,KAAK/qB,EAAGiuB,EAAElD,GAAK/qB,EAAE+qB,GAAG+1B,GACzB,OAAO7yB,CACT,CACF,CAEA,IAAI0zB,GAAM,8CACNC,GAAM,IAAIzmC,OAAOwmC,GAAI39B,OAAQ,KAcjC,SAAS69B,GAAOj9B,EAAGC,GACjB,IACI9iB,EACA+/C,EACAC,EAHAC,EAAKL,GAAIM,UAAYL,GAAIK,UAAY,EAIrCjiD,GAAK,EACLu/B,EAAI,GACJ2iB,EAAI,GAMR,IAHAt9B,GAAQ,GAAIC,GAAQ,IAGZ9iB,EAAK4/C,GAAI5C,KAAKn6B,MACdk9B,EAAKF,GAAI7C,KAAKl6B,MACfk9B,EAAKD,EAAGzqC,OAAS2qC,IACpBD,EAAKl9B,EAAE+E,MAAMo4B,EAAID,GACbxiB,EAAEv/B,GAAIu/B,EAAEv/B,IAAM+hD,EACbxiB,IAAIv/B,GAAK+hD,IAEXhgD,EAAKA,EAAG,OAAS+/C,EAAKA,EAAG,IACxBviB,EAAEv/B,GAAIu/B,EAAEv/B,IAAM8hD,EACbviB,IAAIv/B,GAAK8hD,GAEdviB,IAAIv/B,GAAK,KACTkiD,EAAEjiD,KAAK,CAACD,EAAGA,EAAG4hC,EAAG6f,GAAkB1/C,EAAI+/C,MAEzCE,EAAKJ,GAAIK,UAYX,OARID,EAAKn9B,EAAEluB,SACTorD,EAAKl9B,EAAE+E,MAAMo4B,GACTziB,EAAEv/B,GAAIu/B,EAAEv/B,IAAM+hD,EACbxiB,IAAIv/B,GAAK+hD,GAKTxiB,EAAE5oC,OAAS,EAAKurD,EAAE,GA7C3B,SAAar9B,GACX,OAAO,SAASi8B,GACd,OAAOj8B,EAAEi8B,GAAK,EAChB,CACF,CA0CQqB,CAAID,EAAE,GAAGtgB,GApDjB,SAAc/c,GACZ,OAAO,WACL,OAAOA,CACT,CACF,CAiDQu9B,CAAKv9B,IACJA,EAAIq9B,EAAEvrD,OAAQ,SAASmqD,GACtB,IAAK,IAAWtB,EAAPx/C,EAAI,EAAMA,EAAI6kB,IAAK7kB,EAAGu/B,GAAGigB,EAAI0C,EAAEliD,IAAIA,GAAKw/C,EAAE5d,EAAEkf,GACrD,OAAOvhB,EAAEjS,KAAK,GAChB,EACR,CAEA,SAASg0B,GAAY18B,EAAGC,GACtB,IAAkBoJ,EAvHG2T,EAuHjBkf,SAAWj8B,EACf,OAAY,MAALA,GAAmB,YAANi8B,EAAkBH,GAAS97B,IAClC,WAANi8B,EAAiBW,GACZ,WAANX,GAAmB7yB,EAAI+P,GAAMnZ,KAAOA,EAAIoJ,EAAGwwB,IAAOoD,GAClDh9B,aAAamZ,GAAQygB,GACrB55B,aAAappB,KAAO8lD,IA5HL3f,EA6HD/c,GA5Hbw9B,YAAYC,OAAO1gB,IAAQA,aAAa2gB,SA6HzC3yC,MAAM4yC,QAAQ39B,GAAKs8B,GACE,oBAAdt8B,EAAE8sB,SAAgD,oBAAf9sB,EAAEhT,UAA2BmB,MAAM6R,GAAK68B,GAClFD,GAHmBP,KAGAt8B,EAAGC,EAC9B,CAEA,SAAS49B,GAAiB79B,EAAGC,GAC3B,OAAOD,GAAKA,EAAGC,GAAKA,EAAG,SAASi8B,GAC9B,OAAOzjD,KAAKi1C,MAAM1tB,GAAK,EAAIk8B,GAAKj8B,EAAIi8B,EACtC,CACF,CAQA,SAAS4B,GAAS9gB,GAChB,OAAQA,CACV,CAEA,IAAI+gB,GAAO,CAAC,EAAG,GAEf,SAASC,GAAWhhB,GAClB,OAAOA,CACT,CAEA,SAASihB,GAAUj+B,EAAGC,GACpB,OAAQA,GAAMD,GAAKA,GACb,SAASgd,GAAK,OAAQA,EAAIhd,GAAKC,CAAG,GAlBvB+c,EAmBD5uB,MAAM6R,GAAK+nB,IAAM,GAlB1B,WACL,OAAOhL,CACT,GAHF,IAAmBA,CAoBnB,CAUA,SAASkhB,GAAM5P,EAAQhsB,EAAOo6B,GAC5B,IAAIyB,EAAK7P,EAAO,GAAI8P,EAAK9P,EAAO,GAAIb,EAAKnrB,EAAM,GAAIqrB,EAAKrrB,EAAM,GAG9D,OAFI87B,EAAKD,GAAIA,EAAKF,GAAUG,EAAID,GAAK1Q,EAAKiP,EAAY/O,EAAIF,KACrD0Q,EAAKF,GAAUE,EAAIC,GAAK3Q,EAAKiP,EAAYjP,EAAIE,IAC3C,SAAS3Q,GAAK,OAAOyQ,EAAG0Q,EAAGnhB,GAAK,CACzC,CAEA,SAASqhB,GAAQ/P,EAAQhsB,EAAOo6B,GAC9B,IAAIvxC,EAAI1S,KAAKiqB,IAAI4rB,EAAOv8C,OAAQuwB,EAAMvwB,QAAU,EAC5CknC,EAAI,IAAIjuB,MAAMG,GACdu/B,EAAI,IAAI1/B,MAAMG,GACd/P,GAAK,EAQT,IALIkzC,EAAOnjC,GAAKmjC,EAAO,KACrBA,EAASA,EAAOtpB,QAAQsoB,UACxBhrB,EAAQA,EAAM0C,QAAQsoB,aAGflyC,EAAI+P,GACX8tB,EAAE79B,GAAK6iD,GAAU3P,EAAOlzC,GAAIkzC,EAAOlzC,EAAI,IACvCsvC,EAAEtvC,GAAKshD,EAAYp6B,EAAMlnB,GAAIknB,EAAMlnB,EAAI,IAGzC,OAAO,SAAS4hC,GACd,IAAI5hC,EAAIgxC,EAAOkC,EAAQtR,EAAG,EAAG7xB,GAAK,EAClC,OAAOu/B,EAAEtvC,GAAG69B,EAAE79B,GAAG4hC,GACnB,CACF,CAEA,SAAS2R,GAAKvvB,EAAQD,GACpB,OAAOA,EACFmvB,OAAOlvB,EAAOkvB,UACdhsB,MAAMlD,EAAOkD,SACbo6B,YAAYt9B,EAAOs9B,eACnBZ,MAAM18B,EAAO08B,SACbpN,QAAQtvB,EAAOsvB,UACtB,CAEA,SAAS4P,KACP,IAGI3jC,EACA4jC,EACA7P,EAEA8P,EACAC,EACAC,EATApQ,EAASyP,GACTz7B,EAAQy7B,GACRY,EAAgBjC,GAIhBZ,EAAQkC,GAKZ,SAAShP,IACP,IAAIzB,EAAI90C,KAAKiqB,IAAI4rB,EAAOv8C,OAAQuwB,EAAMvwB,QAItC,OAHI+pD,IAAUkC,KAAYlC,EA7D9B,SAAiB97B,EAAGC,GAClB,IAAIi8B,EAEJ,OADIl8B,EAAIC,IAAGi8B,EAAIl8B,EAAGA,EAAIC,EAAGA,EAAIi8B,GACtB,SAASlf,GAAK,OAAOvkC,KAAK8pB,IAAIvC,EAAGvnB,KAAKiqB,IAAIzC,EAAG+c,GAAK,CAC3D,CAyDsC4hB,CAAQtQ,EAAO,GAAIA,EAAOf,EAAI,KAChEiR,EAAYjR,EAAI,EAAI8Q,GAAUH,GAC9BO,EAASC,EAAQ,KACV/W,CACT,CAEA,SAASA,EAAM3K,GACb,OAAY,MAALA,GAAa5uB,MAAM4uB,GAAKA,GAAK0R,GAAW+P,IAAWA,EAASD,EAAUlQ,EAAOl4C,IAAIukB,GAAY2H,EAAOq8B,KAAiBhkC,EAAUmhC,EAAM9e,IAC9I,CA8BA,OA5BA2K,EAAMkX,OAAS,SAAS3hB,GACtB,OAAO4e,EAAMyC,GAAaG,IAAUA,EAAQF,EAAUl8B,EAAOgsB,EAAOl4C,IAAIukB,GAAYkiC,MAAqB3f,IAC3G,EAEAyK,EAAM2G,OAAS,SAASpjC,GACtB,OAAO/a,UAAU4B,QAAUu8C,EAAStjC,MAAMm2B,KAAKj2B,EAAG4yC,IAAW9O,KAAaV,EAAOtpB,OACnF,EAEA2iB,EAAMrlB,MAAQ,SAASpX,GACrB,OAAO/a,UAAU4B,QAAUuwB,EAAQtX,MAAMm2B,KAAKj2B,GAAI8jC,KAAa1sB,EAAM0C,OACvE,EAEA2iB,EAAMwH,WAAa,SAASjkC,GAC1B,OAAOoX,EAAQtX,MAAMm2B,KAAKj2B,GAAIyzC,EAAgBd,GAAkB7O,GAClE,EAEArH,EAAMmU,MAAQ,SAAS5wC,GACrB,OAAO/a,UAAU4B,QAAU+pD,IAAQ5wC,GAAW8yC,GAAYhP,KAAa8M,IAAUkC,EACnF,EAEArW,EAAM+U,YAAc,SAASxxC,GAC3B,OAAO/a,UAAU4B,QAAU4sD,EAAgBzzC,EAAG8jC,KAAa2P,CAC7D,EAEAhX,EAAM+G,QAAU,SAASxjC,GACvB,OAAO/a,UAAU4B,QAAU28C,EAAUxjC,EAAGy8B,GAAS+G,CACnD,EAEO,SAASwN,EAAG4C,GAEjB,OADAnkC,EAAYuhC,EAAGqC,EAAcO,EACtB9P,GACT,CACF,CAEA,SAAS+P,KACP,OAAOT,KAAcN,GAAYA,GACnC,CAWA,SAASgB,GAAmBhiB,EAAGiiB,GAC7B,IAAK7jD,GAAK4hC,EAAIiiB,EAAIjiB,EAAEkiB,cAAcD,EAAI,GAAKjiB,EAAEkiB,iBAAiBvsD,QAAQ,MAAQ,EAAG,OAAO,KACxF,IAAIyI,EAAG+jD,EAAcniB,EAAEhY,MAAM,EAAG5pB,GAIhC,MAAO,CACL+jD,EAAYptD,OAAS,EAAIotD,EAAY,GAAKA,EAAYn6B,MAAM,GAAKm6B,GAChEniB,EAAEhY,MAAM5pB,EAAI,GAEjB,CAEA,SAASgkD,GAASpiB,GAChB,OAAOA,EAAIgiB,GAAmBvmD,KAAKC,IAAIskC,KAASA,EAAE,GAAKgL,GACzD,CA8BA,IA2DIqX,GA3DAC,GAAK,2EAET,SAASC,GAAgBC,GACvB,KAAMhsD,EAAQ8rD,GAAGnF,KAAKqF,IAAa,MAAM,IAAIC,MAAM,mBAAqBD,GACxE,IAAIhsD,EACJ,OAAO,IAAIksD,GAAgB,CACzBz0C,KAAMzX,EAAM,GACZqzB,MAAOrzB,EAAM,GACb+E,KAAM/E,EAAM,GACZmsD,OAAQnsD,EAAM,GACdgqD,KAAMhqD,EAAM,GACZstB,MAAOttB,EAAM,GACbosD,MAAOpsD,EAAM,GACbqsD,UAAWrsD,EAAM,IAAMA,EAAM,GAAGwxB,MAAM,GACtCuc,KAAM/tC,EAAM,GACZ6f,KAAM7f,EAAM,KAEhB,CAIA,SAASksD,GAAgBF,GACvB//B,KAAKxU,UAA0B7Y,IAAnBotD,EAAUv0C,KAAqB,IAAMu0C,EAAUv0C,KAAO,GAClEwU,KAAKoH,WAA4Bz0B,IAApBotD,EAAU34B,MAAsB,IAAM24B,EAAU34B,MAAQ,GACrEpH,KAAKlnB,UAA0BnG,IAAnBotD,EAAUjnD,KAAqB,IAAMinD,EAAUjnD,KAAO,GAClEknB,KAAKkgC,YAA8BvtD,IAArBotD,EAAUG,OAAuB,GAAKH,EAAUG,OAAS,GACvElgC,KAAK+9B,OAASgC,EAAUhC,KACxB/9B,KAAKqB,WAA4B1uB,IAApBotD,EAAU1+B,WAAsB1uB,GAAaotD,EAAU1+B,MACpErB,KAAKmgC,QAAUJ,EAAUI,MACzBngC,KAAKogC,eAAoCztD,IAAxBotD,EAAUK,eAA0BztD,GAAaotD,EAAUK,UAC5EpgC,KAAK8hB,OAASie,EAAUje,KACxB9hB,KAAKpM,UAA0BjhB,IAAnBotD,EAAUnsC,KAAqB,GAAKmsC,EAAUnsC,KAAO,EACnE,CA0CA,SAASysC,GAAc9iB,EAAGiiB,GACxB,IAAIhmB,EAAI+lB,GAAmBhiB,EAAGiiB,GAC9B,IAAKhmB,EAAG,OAAO+D,EAAI,GACnB,IAAImiB,EAAclmB,EAAE,GAChBmmB,EAAWnmB,EAAE,GACjB,OAAOmmB,EAAW,EAAI,KAAO,IAAIp0C,OAAOo0C,GAAU12B,KAAK,KAAOy2B,EACxDA,EAAYptD,OAASqtD,EAAW,EAAID,EAAYn6B,MAAM,EAAGo6B,EAAW,GAAK,IAAMD,EAAYn6B,MAAMo6B,EAAW,GAC5GD,EAAc,IAAIn0C,MAAMo0C,EAAWD,EAAYptD,OAAS,GAAG22B,KAAK,IACxE,CA/DA62B,GAAgBlgC,UAAYqgC,GAAgBrgC,UAe5CqgC,GAAgBrgC,UAAUpS,SAAW,WACnC,OAAOwS,KAAKxU,KACNwU,KAAKoH,MACLpH,KAAKlnB,KACLknB,KAAKkgC,QACJlgC,KAAK+9B,KAAO,IAAM,UACHprD,IAAfqtB,KAAKqB,MAAsB,GAAKroB,KAAK8pB,IAAI,EAAgB,EAAb9C,KAAKqB,SACjDrB,KAAKmgC,MAAQ,IAAM,UACAxtD,IAAnBqtB,KAAKogC,UAA0B,GAAK,IAAMpnD,KAAK8pB,IAAI,EAAoB,EAAjB9C,KAAKogC,aAC3DpgC,KAAK8hB,KAAO,IAAM,IACnB9hB,KAAKpM,IACb,EAuCA,IAAI0sC,GAAc,CAChB,IAAKC,CAAChjB,EAAGiiB,KAAW,IAAJjiB,GAASijB,QAAQhB,GACjC,EAAMjiB,GAAMvkC,KAAKi1C,MAAM1Q,GAAG/vB,SAAS,GACnC,EAAM+vB,GAAMA,EAAI,GAChB,EA7IF,SAAuBA,GACrB,OAAOvkC,KAAKC,IAAIskC,EAAIvkC,KAAKi1C,MAAM1Q,KAAO,KAChCA,EAAEhwB,eAAe,MAAMzZ,QAAQ,KAAM,IACrCypC,EAAE/vB,SAAS,GACnB,EA0IE,EAAKygB,CAACsP,EAAGiiB,IAAMjiB,EAAEkiB,cAAcD,GAC/B,EAAKrT,CAAC5O,EAAGiiB,IAAMjiB,EAAEijB,QAAQhB,GACzB,EAAKxE,CAACzd,EAAGiiB,IAAMjiB,EAAEkjB,YAAYjB,GAC7B,EAAMjiB,GAAMvkC,KAAKi1C,MAAM1Q,GAAG/vB,SAAS,GACnC,EAAKgyC,CAACjiB,EAAGiiB,IAAMa,GAAkB,IAAJ9iB,EAASiiB,GACtC,EAAKa,GACL,EAlCF,SAA0B9iB,EAAGiiB,GAC3B,IAAIhmB,EAAI+lB,GAAmBhiB,EAAGiiB,GAC9B,IAAKhmB,EAAG,OAAO+D,EAAI,GACnB,IAAImiB,EAAclmB,EAAE,GAChBmmB,EAAWnmB,EAAE,GACb79B,EAAIgkD,GAAYC,GAAuE,EAAtD5mD,KAAK8pB,KAAK,EAAG9pB,KAAKiqB,IAAI,EAAGjqB,KAAKo1C,MAAMuR,EAAW,MAAY,EAC5F7R,EAAI4R,EAAYptD,OACpB,OAAOqJ,IAAMmyC,EAAI4R,EACX/jD,EAAImyC,EAAI4R,EAAc,IAAIn0C,MAAM5P,EAAImyC,EAAI,GAAG7kB,KAAK,KAChDttB,EAAI,EAAI+jD,EAAYn6B,MAAM,EAAG5pB,GAAK,IAAM+jD,EAAYn6B,MAAM5pB,GAC1D,KAAO,IAAI4P,MAAM,EAAI5P,GAAGstB,KAAK,KAAOs2B,GAAmBhiB,EAAGvkC,KAAK8pB,IAAI,EAAG08B,EAAI7jD,EAAI,IAAI,EAC1F,EAwBE,EAAM4hC,GAAMvkC,KAAKi1C,MAAM1Q,GAAG/vB,SAAS,IAAIzC,cACvC,EAAMwyB,GAAMvkC,KAAKi1C,MAAM1Q,GAAG/vB,SAAS,KAGrC,SAASkzC,GAASnjB,GAChB,OAAOA,CACT,CAEA,IA4IIojB,GACAtoB,GACAuoB,GA9IAjqD,GAAM4U,MAAMqU,UAAUjpB,IACtBkqD,GAAW,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,OAAI,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAE/E,SAASC,GAAe9tD,GACtB,IAxImB+tD,EAAUC,EAwIzBzrC,OAA4B5iB,IAApBK,EAAO+tD,eAA+CpuD,IAArBK,EAAOguD,UAA0BN,IAxI3DK,EAwIkFpqD,GAAImpB,KAAK9sB,EAAO+tD,SAAU1nD,QAxIlG2nD,EAwI2GhuD,EAAOguD,UAAY,GAvIpJ,SAASvuD,EAAO4uB,GAOrB,IANA,IAAI1lB,EAAIlJ,EAAMH,OACVmqD,EAAI,GACJ/wC,EAAI,EACJsvC,EAAI+F,EAAS,GACbzuD,EAAS,EAENqJ,EAAI,GAAKq/C,EAAI,IACd1oD,EAAS0oD,EAAI,EAAI35B,IAAO25B,EAAIhiD,KAAK8pB,IAAI,EAAGzB,EAAQ/uB,IACpDmqD,EAAE7gD,KAAKnJ,EAAMwuD,UAAUtlD,GAAKq/C,EAAGr/C,EAAIq/C,OAC9B1oD,GAAU0oD,EAAI,GAAK35B,KACxB25B,EAAI+F,EAASr1C,GAAKA,EAAI,GAAKq1C,EAASzuD,QAGtC,OAAOmqD,EAAE5O,UAAU5kB,KAAK+3B,EAC1B,GAyHIE,OAAqCvuD,IAApBK,EAAOmuD,SAAyB,GAAKnuD,EAAOmuD,SAAS,GAAK,GAC3EC,OAAqCzuD,IAApBK,EAAOmuD,SAAyB,GAAKnuD,EAAOmuD,SAAS,GAAK,GAC3EE,OAA6B1uD,IAAnBK,EAAOquD,QAAwB,IAAMruD,EAAOquD,QAAU,GAChEC,OAA+B3uD,IAApBK,EAAOsuD,SAAyBZ,GAzHjD,SAAwBY,GACtB,OAAO,SAAS7uD,GACd,OAAOA,EAAMqB,QAAQ,UAAU,SAAS6H,GACtC,OAAO2lD,GAAU3lD,EACnB,GACF,CACF,CAmH4D4lD,CAAe5qD,GAAImpB,KAAK9sB,EAAOsuD,SAAUE,SAC/FC,OAA6B9uD,IAAnBK,EAAOyuD,QAAwB,IAAMzuD,EAAOyuD,QAAU,GAChEC,OAAyB/uD,IAAjBK,EAAO0uD,MAAsB,SAAM1uD,EAAO0uD,MAAQ,GAC1DtlD,OAAqBzJ,IAAfK,EAAOoJ,IAAoB,MAAQpJ,EAAOoJ,IAAM,GAE1D,SAASulD,EAAU5B,GAGjB,IAAIv0C,GAFJu0C,EAAYD,GAAgBC,IAEPv0C,KACjB4b,EAAQ24B,EAAU34B,MAClBtuB,EAAOinD,EAAUjnD,KACjBonD,EAASH,EAAUG,OACnBnC,EAAOgC,EAAUhC,KACjB18B,EAAQ0+B,EAAU1+B,MAClB8+B,EAAQJ,EAAUI,MAClBC,EAAYL,EAAUK,UACtBte,EAAOie,EAAUje,KACjBluB,EAAOmsC,EAAUnsC,KAGR,MAATA,GAAcusC,GAAQ,EAAMvsC,EAAO,KAG7B0sC,GAAY1sC,UAAqBjhB,IAAdytD,IAA4BA,EAAY,IAAKte,GAAO,EAAMluB,EAAO,MAG1FmqC,GAAkB,MAATvyC,GAA0B,MAAV4b,KAAgB22B,GAAO,EAAMvyC,EAAO,IAAK4b,EAAQ,KAI9E,IAAIhQ,EAAoB,MAAX8oC,EAAiBgB,EAA4B,MAAXhB,GAAkB,SAAS0B,KAAKhuC,GAAQ,IAAMA,EAAKlJ,cAAgB,GAC9Gm3C,EAAoB,MAAX3B,EAAiBkB,EAAiB,OAAOQ,KAAKhuC,GAAQ6tC,EAAU,GAKzEK,EAAaxB,GAAY1sC,GACzBmuC,EAAc,aAAaH,KAAKhuC,GAUpC,SAASykB,EAAO5lC,GACd,IAEIkJ,EAAGmyC,EAAGlkB,EAFNo4B,EAAc5qC,EACd6qC,EAAcJ,EAGlB,GAAa,MAATjuC,EACFquC,EAAcH,EAAWrvD,GAASwvD,EAClCxvD,EAAQ,OACH,CAIL,IAAIyvD,GAHJzvD,GAASA,GAGmB,GAAK,EAAIA,EAAQ,EAiB7C,GAdAA,EAAQkc,MAAMlc,GAAS2J,EAAM0lD,EAAW9oD,KAAKC,IAAIxG,GAAQ2tD,GAGrDte,IAAMrvC,EAjIlB,SAAoByoC,GAClBinB,EAAK,IAAK,IAAkCC,EAA9BtU,EAAI5S,EAAE5oC,OAAQqJ,EAAI,EAAG0mD,GAAM,EAAO1mD,EAAImyC,IAAKnyC,EACvD,OAAQu/B,EAAEv/B,IACR,IAAK,IAAK0mD,EAAKD,EAAKzmD,EAAG,MACvB,IAAK,IAAgB,IAAP0mD,IAAUA,EAAK1mD,GAAGymD,EAAKzmD,EAAG,MACxC,QAAS,KAAMu/B,EAAEv/B,GAAI,MAAMwmD,EAASE,EAAK,IAAGA,EAAK,GAGrD,OAAOA,EAAK,EAAInnB,EAAE3V,MAAM,EAAG88B,GAAMnnB,EAAE3V,MAAM68B,EAAK,GAAKlnB,CACrD,CAwH0BonB,CAAW7vD,IAGzByvD,GAA4B,KAAVzvD,GAAwB,MAATqG,IAAcopD,GAAgB,GAGnEF,GAAeE,EAA0B,MAATppD,EAAeA,EAAO4oD,EAAkB,MAAT5oD,GAAyB,MAATA,EAAe,GAAKA,GAAQkpD,EAC3GC,GAAwB,MAATruC,EAAeitC,GAAS,EAAIjB,GAAiB,GAAK,IAAMqC,GAAeC,GAA0B,MAATppD,EAAe,IAAM,IAIxHipD,EAEF,IADApmD,GAAK,EAAGmyC,EAAIr7C,EAAMH,SACTqJ,EAAImyC,GACX,GAA6B,IAAzBlkB,EAAIn3B,EAAM8vD,WAAW5mD,KAAciuB,EAAI,GAAI,CAC7Cq4B,GAAqB,KAANr4B,EAAWy3B,EAAU5uD,EAAM8yB,MAAM5pB,EAAI,GAAKlJ,EAAM8yB,MAAM5pB,IAAMsmD,EAC3ExvD,EAAQA,EAAM8yB,MAAM,EAAG5pB,GACvB,KACF,CAGN,CAGIwkD,IAAUpC,IAAMtrD,EAAQ8iB,EAAM9iB,EAAO+vD,MAGzC,IAAIlwD,EAAS0vD,EAAY1vD,OAASG,EAAMH,OAAS2vD,EAAY3vD,OACzDq9C,EAAUr9C,EAAS+uB,EAAQ,IAAI9V,MAAM8V,EAAQ/uB,EAAS,GAAG22B,KAAKzd,GAAQ,GAM1E,OAHI20C,GAASpC,IAAMtrD,EAAQ8iB,EAAMo6B,EAAUl9C,EAAOk9C,EAAQr9C,OAAS+uB,EAAQ4gC,EAAY3vD,OAASkwD,KAAW7S,EAAU,IAG7GvoB,GACN,IAAK,IAAK30B,EAAQuvD,EAAcvvD,EAAQwvD,EAActS,EAAS,MAC/D,IAAK,IAAKl9C,EAAQuvD,EAAcrS,EAAUl9C,EAAQwvD,EAAa,MAC/D,IAAK,IAAKxvD,EAAQk9C,EAAQpqB,MAAM,EAAGjzB,EAASq9C,EAAQr9C,QAAU,GAAK0vD,EAAcvvD,EAAQwvD,EAActS,EAAQpqB,MAAMjzB,GAAS,MAC9H,QAASG,EAAQk9C,EAAUqS,EAAcvvD,EAAQwvD,EAGnD,OAAOX,EAAS7uD,EAClB,CAMA,OAtEA2tD,OAA0BztD,IAAdytD,EAA0B,EAChC,SAASwB,KAAKhuC,GAAQ5a,KAAK8pB,IAAI,EAAG9pB,KAAKiqB,IAAI,GAAIm9B,IAC/CpnD,KAAK8pB,IAAI,EAAG9pB,KAAKiqB,IAAI,GAAIm9B,IAgE/B/nB,EAAO7qB,SAAW,WAChB,OAAOuyC,EAAY,EACrB,EAEO1nB,CACT,CAYA,MAAO,CACLA,OAAQspB,EACRf,aAZF,SAAsBb,EAAWttD,GAC/B,IAAI05C,EAAIwV,IAAW5B,EAAYD,GAAgBC,IAAsBnsC,KAAO,IAAKmsC,IAC7E9xB,EAAiE,EAA7Dj1B,KAAK8pB,KAAK,EAAG9pB,KAAKiqB,IAAI,EAAGjqB,KAAKo1C,MAAMuR,GAASltD,GAAS,KAC1Di0B,EAAI1tB,KAAKw1C,IAAI,IAAKvgB,GAClB7W,EAASypC,GAAS,EAAI5yB,EAAI,GAC9B,OAAO,SAASx7B,GACd,OAAO05C,EAAEzlB,EAAIj0B,GAAS2kB,CACxB,CACF,EAMF,CAgCA,SAASqrC,GAAW1lC,EAAO4wB,EAAMC,EAAOmS,GACtC,IACIK,EADA7lD,EAAOk0C,GAAS1xB,EAAO4wB,EAAMC,GAGjC,QADAmS,EAAYD,GAA6B,MAAbC,EAAoB,KAAOA,IACrCnsC,MAChB,IAAK,IACH,IAAInhB,EAAQuG,KAAK8pB,IAAI9pB,KAAKC,IAAI8jB,GAAQ/jB,KAAKC,IAAI00C,IAE/C,OAD2B,MAAvBoS,EAAUK,WAAsBzxC,MAAMyxC,EAhBhD,SAAyB7lD,EAAM9H,GAC7B,OAAOuG,KAAK8pB,IAAI,EAAgE,EAA7D9pB,KAAK8pB,KAAK,EAAG9pB,KAAKiqB,IAAI,EAAGjqB,KAAKo1C,MAAMuR,GAASltD,GAAS,KAAWktD,GAAS3mD,KAAKC,IAAIsB,IACxG,CAc4DmoD,CAAgBnoD,EAAM9H,MAASstD,EAAUK,UAAYA,GACpGQ,GAAab,EAAWttD,GAEjC,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACwB,MAAvBstD,EAAUK,WAAsBzxC,MAAMyxC,EApBhD,SAAwB7lD,EAAMuoB,GAE5B,OADAvoB,EAAOvB,KAAKC,IAAIsB,GAAOuoB,EAAM9pB,KAAKC,IAAI6pB,GAAOvoB,EACtCvB,KAAK8pB,IAAI,EAAG68B,GAAS78B,GAAO68B,GAASplD,IAAS,CACvD,CAiB4DooD,CAAepoD,EAAMvB,KAAK8pB,IAAI9pB,KAAKC,IAAI8jB,GAAQ/jB,KAAKC,IAAI00C,QAAUoS,EAAUK,UAAYA,GAAgC,MAAnBL,EAAUnsC,OACrK,MAEF,IAAK,IACL,IAAK,IACwB,MAAvBmsC,EAAUK,WAAsBzxC,MAAMyxC,EAjChD,SAAwB7lD,GACtB,OAAOvB,KAAK8pB,IAAI,GAAI68B,GAAS3mD,KAAKC,IAAIsB,IACxC,CA+B4DqoD,CAAeroD,MAAQwlD,EAAUK,UAAYA,EAAuC,GAAP,MAAnBL,EAAUnsC,OAI9H,OAAOykB,GAAO0nB,EAChB,CAwDA,SAAS8C,KACP,IAAI3a,EAAQoX,KAQZ,OANApX,EAAMgH,KAAO,WACX,OAAOA,GAAKhH,EAAO2a,KACrB,EAEAjU,GAAU7uB,MAAMmoB,EAAOx3C,WA7DzB,SAAmBw3C,GACjB,IAAI2G,EAAS3G,EAAM2G,OAkDnB,OAhDA3G,EAAMD,MAAQ,SAAS2F,GACrB,IAAIpU,EAAIqV,IACR,OAAO5G,EAAMzO,EAAE,GAAIA,EAAEA,EAAElnC,OAAS,GAAa,MAATs7C,EAAgB,GAAKA,EAC3D,EAEA1F,EAAMua,WAAa,SAAS7U,EAAOmS,GACjC,IAAIvmB,EAAIqV,IACR,OAAO4T,GAAWjpB,EAAE,GAAIA,EAAEA,EAAElnC,OAAS,GAAa,MAATs7C,EAAgB,GAAKA,EAAOmS,EACvE,EAEA7X,EAAM4a,KAAO,SAASlV,GACP,MAATA,IAAeA,EAAQ,IAE3B,IAKImV,EACAxoD,EANAi/B,EAAIqV,IACJwT,EAAK,EACLD,EAAK5oB,EAAElnC,OAAS,EAChByqB,EAAQyc,EAAE6oB,GACV1U,EAAOnU,EAAE4oB,GAGTY,EAAU,GAOd,IALIrV,EAAO5wB,IACTxiB,EAAOwiB,EAAOA,EAAQ4wB,EAAMA,EAAOpzC,EACnCA,EAAO8nD,EAAIA,EAAKD,EAAIA,EAAK7nD,GAGpByoD,KAAY,GAAG,CAEpB,IADAzoD,EAAOwzC,EAAchxB,EAAO4wB,EAAMC,MACrBmV,EAGX,OAFAvpB,EAAE6oB,GAAMtlC,EACRyc,EAAE4oB,GAAMzU,EACDkB,EAAOrV,GACT,GAAIj/B,EAAO,EAChBwiB,EAAQ/jB,KAAKo1C,MAAMrxB,EAAQxiB,GAAQA,EACnCozC,EAAO30C,KAAKy2C,KAAK9B,EAAOpzC,GAAQA,MAC3B,MAAIA,EAAO,GAIhB,MAHAwiB,EAAQ/jB,KAAKy2C,KAAK1yB,EAAQxiB,GAAQA,EAClCozC,EAAO30C,KAAKo1C,MAAMT,EAAOpzC,GAAQA,CAGnC,CACAwoD,EAAUxoD,CACZ,CAEA,OAAO2tC,CACT,EAEOA,CACT,CAWS+a,CAAU/a,EACnB,CAEA,SAAS4a,GAAKjU,EAAQqU,GAGpB,IAIIzG,EAJA4F,EAAK,EACLD,GAHJvT,EAASA,EAAOtpB,SAGAjzB,OAAS,EACrB6wD,EAAKtU,EAAOwT,GACZtY,EAAK8E,EAAOuT,GAUhB,OAPIrY,EAAKoZ,IACP1G,EAAI4F,EAAIA,EAAKD,EAAIA,EAAK3F,EACtBA,EAAI0G,EAAIA,EAAKpZ,EAAIA,EAAK0S,GAGxB5N,EAAOwT,GAAMa,EAAS9U,MAAM+U,GAC5BtU,EAAOuT,GAAMc,EAASzT,KAAK1F,GACpB8E,CACT,CAEA,SAASuU,GAAa7lB,GACpB,OAAOvkC,KAAKq1C,IAAI9Q,EAClB,CAEA,SAAS8lB,GAAa9lB,GACpB,OAAOvkC,KAAKsqD,IAAI/lB,EAClB,CAEA,SAASgmB,GAAchmB,GACrB,OAAQvkC,KAAKq1C,KAAK9Q,EACpB,CAEA,SAASimB,GAAcjmB,GACrB,OAAQvkC,KAAKsqD,KAAK/lB,EACpB,CAEA,SAASkmB,GAAMlmB,GACb,OAAOsM,SAAStM,KAAO,KAAOA,GAAKA,EAAI,EAAI,EAAIA,CACjD,CAeA,SAASmmB,GAAQvX,GACf,MAAO,CAAC5O,EAAG7W,KAAOylB,GAAG5O,EAAG7W,EAC1B,CAEA,SAASi9B,GAAQzoC,GACf,MAAMgtB,EAAQhtB,EAAUkoC,GAAcC,IAChCxU,EAAS3G,EAAM2G,OACrB,IACI+U,EACAC,EAFAC,EAAO,GAIX,SAASvU,IAQP,OAPAqU,EAnBJ,SAAcE,GACZ,OAAOA,IAAS9qD,KAAK+qD,EAAI/qD,KAAKq1C,IACf,KAATyV,GAAe9qD,KAAKgrD,OACV,IAATF,GAAc9qD,KAAKirD,OAClBH,EAAO9qD,KAAKq1C,IAAIyV,GAAOvmB,GAAKvkC,KAAKq1C,IAAI9Q,GAAKumB,EACpD,CAcWI,CAAKJ,GAAOD,EAzBvB,SAAcC,GACZ,OAAgB,KAATA,EAAcL,GACfK,IAAS9qD,KAAK+qD,EAAI/qD,KAAKsqD,IACvB/lB,GAAKvkC,KAAKw1C,IAAIsV,EAAMvmB,EAC5B,CAqB8B4mB,CAAKL,GAC3BjV,IAAS,GAAK,GAChB+U,EAAOF,GAAQE,GAAOC,EAAOH,GAAQG,GACrC3oC,EAAUqoC,GAAeC,KAEzBtoC,EAAUkoC,GAAcC,IAEnBnb,CACT,CAwEA,OAtEAA,EAAM4b,KAAO,SAASr4C,GACpB,OAAO/a,UAAU4B,QAAUwxD,GAAQr4C,EAAG8jC,KAAauU,CACrD,EAEA5b,EAAM2G,OAAS,SAASpjC,GACtB,OAAO/a,UAAU4B,QAAUu8C,EAAOpjC,GAAI8jC,KAAaV,GACrD,EAEA3G,EAAMD,MAAQ2F,IACZ,MAAMpU,EAAIqV,IACV,IAAIwQ,EAAI7lB,EAAE,GACN4qB,EAAI5qB,EAAEA,EAAElnC,OAAS,GACrB,MAAM24C,EAAImZ,EAAI/E,EAEVpU,KAAKoU,EAAG+E,GAAK,CAACA,EAAG/E,IAErB,IAEI34B,EACA+1B,EAHA9gD,EAAIioD,EAAKvE,GACT3zC,EAAIk4C,EAAKQ,GAGb,MAAMtW,EAAa,MAATF,EAAgB,IAAMA,EAChC,IAAIyW,EAAI,GAER,KAAMP,EAAO,IAAMp4C,EAAI/P,EAAImyC,EAAG,CAE5B,GADAnyC,EAAI3C,KAAKo1C,MAAMzyC,GAAI+P,EAAI1S,KAAKy2C,KAAK/jC,GAC7B2zC,EAAI,GAAG,KAAO1jD,GAAK+P,IAAK/P,EAC1B,IAAK+qB,EAAI,EAAGA,EAAIo9B,IAAQp9B,EAEtB,GADA+1B,EAAI9gD,EAAI,EAAI+qB,EAAIm9B,GAAMloD,GAAK+qB,EAAIm9B,EAAKloD,KAChC8gD,EAAI4C,GAAR,CACA,GAAI5C,EAAI2H,EAAG,MACXC,EAAEzoD,KAAK6gD,EAFY,OAIhB,KAAO9gD,GAAK+P,IAAK/P,EACtB,IAAK+qB,EAAIo9B,EAAO,EAAGp9B,GAAK,IAAKA,EAE3B,GADA+1B,EAAI9gD,EAAI,EAAI+qB,EAAIm9B,GAAMloD,GAAK+qB,EAAIm9B,EAAKloD,KAChC8gD,EAAI4C,GAAR,CACA,GAAI5C,EAAI2H,EAAG,MACXC,EAAEzoD,KAAK6gD,EAFY,CAKR,EAAX4H,EAAE/xD,OAAaw7C,IAAGuW,EAAIpc,EAAMoX,EAAG+E,EAAGtW,GACxC,MACEuW,EAAIpc,EAAMtsC,EAAG+P,EAAG1S,KAAKiqB,IAAIvX,EAAI/P,EAAGmyC,IAAIn3C,IAAIktD,GAE1C,OAAO5Y,EAAIoZ,EAAExW,UAAYwW,CAAC,EAG5Bnc,EAAMua,WAAa,CAAC7U,EAAOmS,KAOzB,GANa,MAATnS,IAAeA,EAAQ,IACV,MAAbmS,IAAmBA,EAAqB,KAAT+D,EAAc,IAAM,KAC9B,oBAAd/D,IACH+D,EAAO,GAA4D,OAArD/D,EAAYD,GAAgBC,IAAYK,YAAmBL,EAAUje,MAAO,GAChGie,EAAY1nB,GAAO0nB,IAEjBnS,IAAU4U,IAAU,OAAOzC,EAC/B,MAAMr5B,EAAI1tB,KAAK8pB,IAAI,EAAGghC,EAAOlW,EAAQ1F,EAAMD,QAAQ31C,QACnD,OAAOknC,IACL,IAAI79B,EAAI69B,EAAIqqB,EAAK7qD,KAAKi1C,MAAM2V,EAAKpqB,KAEjC,OADI79B,EAAImoD,EAAOA,EAAO,KAAKnoD,GAAKmoD,GACzBnoD,GAAK+qB,EAAIq5B,EAAUvmB,GAAK,EAAE,CAClC,EAGH0O,EAAM4a,KAAO,IACJjU,EAAOiU,GAAKjU,IAAU,CAC3BT,MAAO7Q,GAAKsmB,EAAK7qD,KAAKo1C,MAAMwV,EAAKrmB,KACjCkS,KAAMlS,GAAKsmB,EAAK7qD,KAAKy2C,KAAKmU,EAAKrmB,QAI5B2K,CACT,CAEA,SAASmG,KACP,MAAMnG,EAAQyb,GAAQ9E,MAAehQ,OAAO,CAAC,EAAG,KAGhD,OAFA3G,EAAMgH,KAAO,IAAMA,GAAKhH,EAAOmG,MAAOyV,KAAK5b,EAAM4b,QACjDlV,GAAU7uB,MAAMmoB,EAAOx3C,WAChBw3C,CACT,CAxQEyY,GAAWG,GAPG,CACdE,UAAW,IACXD,SAAU,CAAC,GACXI,SAAU,CAAC,IAAK,MAKhB9oB,GAASsoB,GAAStoB,OAClBuoB,GAAeD,GAASC,aAwQ1B,MAAM0D,GAAK,IAAIltD,KAAMmtD,GAAK,IAAIntD,KAE9B,SAASotD,GAAaC,EAAQC,EAAS9W,EAAO+W,GAE5C,SAASzB,EAASlxD,GAChB,OAAOyyD,EAAOzyD,EAA4B,IAArBtB,UAAU4B,OAAe,IAAI8E,KAAO,IAAIA,MAAMpF,IAAQA,CAC7E,CA6DA,OA3DAkxD,EAAS9U,MAASp8C,IACTyyD,EAAOzyD,EAAO,IAAIoF,MAAMpF,IAAQA,GAGzCkxD,EAASzT,KAAQz9C,IACRyyD,EAAOzyD,EAAO,IAAIoF,KAAKpF,EAAO,IAAK0yD,EAAQ1yD,EAAM,GAAIyyD,EAAOzyD,GAAOA,GAG5EkxD,EAASjV,MAASj8C,IAChB,MAAM0sD,EAAKwE,EAASlxD,GAAO2sD,EAAKuE,EAASzT,KAAKz9C,GAC9C,OAAOA,EAAO0sD,EAAKC,EAAK3sD,EAAO0sD,EAAKC,CAAE,EAGxCuE,EAASl+B,OAAS,CAAChzB,EAAMuI,KAChBmqD,EAAQ1yD,EAAO,IAAIoF,MAAMpF,GAAe,MAARuI,EAAe,EAAIvB,KAAKo1C,MAAM7zC,IAAQvI,GAG/EkxD,EAASrgC,MAAQ,CAAC9F,EAAO4wB,EAAMpzC,KAC7B,MAAMsoB,EAAQ,GAGd,GAFA9F,EAAQmmC,EAASzT,KAAK1yB,GACtBxiB,EAAe,MAARA,EAAe,EAAIvB,KAAKo1C,MAAM7zC,KAC/BwiB,EAAQ4wB,MAAWpzC,EAAO,GAAI,OAAOsoB,EAC3C,IAAI+hC,EACJ,GAAG/hC,EAAMjnB,KAAKgpD,EAAW,IAAIxtD,MAAM2lB,IAAS2nC,EAAQ3nC,EAAOxiB,GAAOkqD,EAAO1nC,SAClE6nC,EAAW7nC,GAASA,EAAQ4wB,GACnC,OAAO9qB,CAAK,EAGdqgC,EAASrtC,OAAU+rC,GACV4C,IAAcxyD,IACnB,GAAIA,GAAQA,EAAM,KAAOyyD,EAAOzyD,IAAQ4vD,EAAK5vD,IAAOA,EAAKmrD,QAAQnrD,EAAO,EAAE,IACzE,CAACA,EAAMuI,KACR,GAAIvI,GAAQA,EACV,GAAIuI,EAAO,EAAG,OAASA,GAAQ,GAC7B,KAAOmqD,EAAQ1yD,GAAO,IAAK4vD,EAAK5vD,UAC3B,OAASuI,GAAQ,GACtB,KAAOmqD,EAAQ1yD,EAAM,IAAM4vD,EAAK5vD,KAEpC,IAIA47C,IACFsV,EAAStV,MAAQ,CAAC7wB,EAAOiG,KACvBshC,GAAGnH,SAASpgC,GAAQwnC,GAAGpH,SAASn6B,GAChCyhC,EAAOH,IAAKG,EAAOF,IACZvrD,KAAKo1C,MAAMR,EAAM0W,GAAIC,MAG9BrB,EAASxuC,MAASna,IAChBA,EAAOvB,KAAKo1C,MAAM7zC,GACVsvC,SAAStvC,IAAWA,EAAO,EAC3BA,EAAO,EACT2oD,EAASrtC,OAAO8uC,EACXnrB,GAAMmrB,EAAMnrB,GAAKj/B,IAAS,EAC1Bi/B,GAAM0pB,EAAStV,MAAM,EAAGpU,GAAKj/B,IAAS,GAH7B2oD,EADoB,OAQrCA,CACT,CAEA,MAAM2B,GAAcL,IAAa,SAE9B,CAACxyD,EAAMuI,KACRvI,EAAKmrD,SAASnrD,EAAOuI,EAAK,IACzB,CAACwiB,EAAOiG,IACFA,EAAMjG,IAIf8nC,GAAYnwC,MAASgS,IACnBA,EAAI1tB,KAAKo1C,MAAM1nB,GACVmjB,SAASnjB,IAAQA,EAAI,EACpBA,EAAI,EACH89B,IAAcxyD,IACnBA,EAAKmrD,QAAQnkD,KAAKo1C,MAAMp8C,EAAO00B,GAAKA,EAAE,IACrC,CAAC10B,EAAMuI,KACRvI,EAAKmrD,SAASnrD,EAAOuI,EAAOmsB,EAAE,IAC7B,CAAC3J,EAAOiG,KACDA,EAAMjG,GAAS2J,IANJm+B,GADgB,MAWvCA,GAAYhiC,MAEZ,MAAMiiC,GAAiB,IACjBC,GAAiBD,IACjBE,GAAeD,KACfE,GAAcD,MACdE,GAAeD,OACfE,GAAgBF,OAChBG,GAAeH,QAEfI,GAASb,IAAcxyD,IAC3BA,EAAKmrD,QAAQnrD,EAAOA,EAAKszD,kBAAkB,IAC1C,CAACtzD,EAAMuI,KACRvI,EAAKmrD,SAASnrD,EAAOuI,EAAOuqD,GAAe,IAC1C,CAAC/nC,EAAOiG,KACDA,EAAMjG,GAAS+nC,KACrB9yD,GACKA,EAAKuzD,kBAGdF,GAAOxiC,MAEP,MAAM2iC,GAAahB,IAAcxyD,IAC/BA,EAAKmrD,QAAQnrD,EAAOA,EAAKszD,kBAAoBtzD,EAAKyzD,aAAeX,GAAe,IAC/E,CAAC9yD,EAAMuI,KACRvI,EAAKmrD,SAASnrD,EAAOuI,EAAOwqD,GAAe,IAC1C,CAAChoC,EAAOiG,KACDA,EAAMjG,GAASgoC,KACrB/yD,GACKA,EAAK0zD,eAGdF,GAAW3iC,MAEX,MAAM8iC,GAAYnB,IAAcxyD,IAC9BA,EAAK4zD,cAAc,EAAG,EAAE,IACvB,CAAC5zD,EAAMuI,KACRvI,EAAKmrD,SAASnrD,EAAOuI,EAAOwqD,GAAe,IAC1C,CAAChoC,EAAOiG,KACDA,EAAMjG,GAASgoC,KACrB/yD,GACKA,EAAK6zD,kBAGdF,GAAU9iC,MAEV,MAAMijC,GAAWtB,IAAcxyD,IAC7BA,EAAKmrD,QAAQnrD,EAAOA,EAAKszD,kBAAoBtzD,EAAKyzD,aAAeX,GAAiB9yD,EAAK0zD,aAAeX,GAAe,IACpH,CAAC/yD,EAAMuI,KACRvI,EAAKmrD,SAASnrD,EAAOuI,EAAOyqD,GAAa,IACxC,CAACjoC,EAAOiG,KACDA,EAAMjG,GAASioC,KACrBhzD,GACKA,EAAK+zD,aAGdD,GAASjjC,MAET,MAAMmjC,GAAUxB,IAAcxyD,IAC5BA,EAAKi0D,cAAc,EAAG,EAAG,EAAE,IAC1B,CAACj0D,EAAMuI,KACRvI,EAAKmrD,SAASnrD,EAAOuI,EAAOyqD,GAAa,IACxC,CAACjoC,EAAOiG,KACDA,EAAMjG,GAASioC,KACrBhzD,GACKA,EAAKk0D,gBAGdF,GAAQnjC,MAER,MAAMsjC,GAAU3B,IACdxyD,GAAQA,EAAK0G,SAAS,EAAG,EAAG,EAAG,KAC/B,CAAC1G,EAAMuI,IAASvI,EAAK8F,QAAQ9F,EAAKc,UAAYyH,KAC9C,CAACwiB,EAAOiG,KAASA,EAAMjG,GAASiG,EAAIojC,oBAAsBrpC,EAAMqpC,qBAAuBrB,IAAkBE,KACzGjzD,GAAQA,EAAKc,UAAY,IAG3BqzD,GAAQtjC,MAER,MAAMwjC,GAAS7B,IAAcxyD,IAC3BA,EAAKs0D,YAAY,EAAG,EAAG,EAAG,EAAE,IAC3B,CAACt0D,EAAMuI,KACRvI,EAAKu0D,WAAWv0D,EAAKw0D,aAAejsD,EAAK,IACxC,CAACwiB,EAAOiG,KACDA,EAAMjG,GAASkoC,KACrBjzD,GACKA,EAAKw0D,aAAe,IAG7BH,GAAOxjC,MAEP,MAAM4jC,GAAUjC,IAAcxyD,IAC5BA,EAAKs0D,YAAY,EAAG,EAAG,EAAG,EAAE,IAC3B,CAACt0D,EAAMuI,KACRvI,EAAKu0D,WAAWv0D,EAAKw0D,aAAejsD,EAAK,IACxC,CAACwiB,EAAOiG,KACDA,EAAMjG,GAASkoC,KACrBjzD,GACKgH,KAAKo1C,MAAMp8C,EAAOizD,MAK3B,SAASyB,GAAY/qD,GACnB,OAAO6oD,IAAcxyD,IACnBA,EAAK8F,QAAQ9F,EAAKc,WAAad,EAAK6F,SAAW,EAAI8D,GAAK,GACxD3J,EAAK0G,SAAS,EAAG,EAAG,EAAG,EAAE,IACxB,CAAC1G,EAAMuI,KACRvI,EAAK8F,QAAQ9F,EAAKc,UAAmB,EAAPyH,EAAS,IACtC,CAACwiB,EAAOiG,KACDA,EAAMjG,GAASiG,EAAIojC,oBAAsBrpC,EAAMqpC,qBAAuBrB,IAAkBG,IAEpG,CAXAuB,GAAQ5jC,MAaR,MAAM8jC,GAAaD,GAAY,GACzBE,GAAaF,GAAY,GACzBG,GAAcH,GAAY,GAC1BI,GAAgBJ,GAAY,GAC5BK,GAAeL,GAAY,GAC3BM,GAAaN,GAAY,GACzBO,GAAeP,GAAY,GAUjC,SAASQ,GAAWvrD,GAClB,OAAO6oD,IAAcxyD,IACnBA,EAAKu0D,WAAWv0D,EAAKw0D,cAAgBx0D,EAAKm1D,YAAc,EAAIxrD,GAAK,GACjE3J,EAAKs0D,YAAY,EAAG,EAAG,EAAG,EAAE,IAC3B,CAACt0D,EAAMuI,KACRvI,EAAKu0D,WAAWv0D,EAAKw0D,aAAsB,EAAPjsD,EAAS,IAC5C,CAACwiB,EAAOiG,KACDA,EAAMjG,GAASmoC,IAE3B,CAjBAyB,GAAW9jC,MACX+jC,GAAW/jC,MACXgkC,GAAYhkC,MACZikC,GAAcjkC,MACdkkC,GAAalkC,MACbmkC,GAAWnkC,MACXokC,GAAapkC,MAab,MAAMukC,GAAYF,GAAW,GACvBG,GAAYH,GAAW,GACvBI,GAAaJ,GAAW,GACxBK,GAAeL,GAAW,GAC1BM,GAAcN,GAAW,GACzBO,GAAYP,GAAW,GACvBQ,GAAcR,GAAW,GAE/BE,GAAUvkC,MACVwkC,GAAUxkC,MACVykC,GAAWzkC,MACX0kC,GAAa1kC,MACb2kC,GAAY3kC,MACZ4kC,GAAU5kC,MACV6kC,GAAY7kC,MAEZ,MAAM8kC,GAAYnD,IAAcxyD,IAC9BA,EAAK8F,QAAQ,GACb9F,EAAK0G,SAAS,EAAG,EAAG,EAAG,EAAE,IACxB,CAAC1G,EAAMuI,KACRvI,EAAK41D,SAAS51D,EAAKjB,WAAawJ,EAAK,IACpC,CAACwiB,EAAOiG,IACFA,EAAIjyB,WAAagsB,EAAMhsB,WAAyD,IAA3CiyB,EAAIlyB,cAAgBisB,EAAMjsB,iBACpEkB,GACKA,EAAKjB,aAGd42D,GAAU9kC,MAEV,MAAMglC,GAAWrD,IAAcxyD,IAC7BA,EAAKu0D,WAAW,GAChBv0D,EAAKs0D,YAAY,EAAG,EAAG,EAAG,EAAE,IAC3B,CAACt0D,EAAMuI,KACRvI,EAAK81D,YAAY91D,EAAK+1D,cAAgBxtD,EAAK,IAC1C,CAACwiB,EAAOiG,IACFA,EAAI+kC,cAAgBhrC,EAAMgrC,cAAkE,IAAjD/kC,EAAIglC,iBAAmBjrC,EAAMirC,oBAC7Eh2D,GACKA,EAAK+1D,gBAGdF,GAAShlC,MAET,MAAMolC,GAAWzD,IAAcxyD,IAC7BA,EAAK41D,SAAS,EAAG,GACjB51D,EAAK0G,SAAS,EAAG,EAAG,EAAG,EAAE,IACxB,CAAC1G,EAAMuI,KACRvI,EAAKyG,YAAYzG,EAAKlB,cAAgByJ,EAAK,IAC1C,CAACwiB,EAAOiG,IACFA,EAAIlyB,cAAgBisB,EAAMjsB,gBAC/BkB,GACKA,EAAKlB,gBAIdm3D,GAASvzC,MAASgS,GACRmjB,SAASnjB,EAAI1tB,KAAKo1C,MAAM1nB,KAASA,EAAI,EAAY89B,IAAcxyD,IACrEA,EAAKyG,YAAYO,KAAKo1C,MAAMp8C,EAAKlB,cAAgB41B,GAAKA,GACtD10B,EAAK41D,SAAS,EAAG,GACjB51D,EAAK0G,SAAS,EAAG,EAAG,EAAG,EAAE,IACxB,CAAC1G,EAAMuI,KACRvI,EAAKyG,YAAYzG,EAAKlB,cAAgByJ,EAAOmsB,EAAE,IALC,KASpDuhC,GAASplC,MAET,MAAMqlC,GAAU1D,IAAcxyD,IAC5BA,EAAK81D,YAAY,EAAG,GACpB91D,EAAKs0D,YAAY,EAAG,EAAG,EAAG,EAAE,IAC3B,CAACt0D,EAAMuI,KACRvI,EAAKm2D,eAAen2D,EAAKg2D,iBAAmBztD,EAAK,IAChD,CAACwiB,EAAOiG,IACFA,EAAIglC,iBAAmBjrC,EAAMirC,mBAClCh2D,GACKA,EAAKg2D,mBAgBd,SAASI,GAAOx1D,EAAMC,EAAO6I,EAAMb,EAAKwtD,EAAMC,GAE5C,MAAMC,EAAgB,CACpB,CAAClD,GAAS,EAAQP,IAClB,CAACO,GAAS,EAAI,KACd,CAACA,GAAQ,GAAI,MACb,CAACA,GAAQ,GAAI,KACb,CAACiD,EAAS,EAAQvD,IAClB,CAACuD,EAAS,EAAI,KACd,CAACA,EAAQ,GAAI,KACb,CAACA,EAAQ,GAAI,MACb,CAAGD,EAAO,EAAQrD,IAClB,CAAGqD,EAAO,EAAI,OACd,CAAGA,EAAO,EAAI,OACd,CAAGA,EAAM,GAAI,OACb,CAAIxtD,EAAM,EAAQoqD,IAClB,CAAIpqD,EAAM,EAAI,QACd,CAAGa,EAAO,EAAQwpD,IAClB,CAAEryD,EAAQ,EAAQsyD,IAClB,CAAEtyD,EAAQ,EAAI,QACd,CAAGD,EAAO,EAAQwyD,KAWpB,SAASoD,EAAazrC,EAAO4wB,EAAMC,GACjC,MAAMluB,EAAS1mB,KAAKC,IAAI00C,EAAO5wB,GAAS6wB,EAClCjyC,EAAIuwC,GAASp0B,IAAA,IAAE,CAAC,CAAEvd,GAAKud,EAAA,OAAKvd,CAAI,IAAEqW,MAAM23C,EAAe7oC,GAC7D,GAAI/jB,IAAM4sD,EAAcj2D,OAAQ,OAAOM,EAAK8hB,MAAM+5B,GAAS1xB,EAAQqoC,GAAczX,EAAOyX,GAAcxX,IACtG,GAAU,IAANjyC,EAAS,OAAOkpD,GAAYnwC,MAAM1b,KAAK8pB,IAAI2rB,GAAS1xB,EAAO4wB,EAAMC,GAAQ,IAC7E,MAAO6O,EAAGliD,GAAQguD,EAAc7oC,EAAS6oC,EAAc5sD,EAAI,GAAG,GAAK4sD,EAAc5sD,GAAG,GAAK+jB,EAAS/jB,EAAI,EAAIA,GAC1G,OAAO8gD,EAAE/nC,MAAMna,EACjB,CAEA,MAAO,CAjBP,SAAewiB,EAAO4wB,EAAMC,GAC1B,MAAMC,EAAUF,EAAO5wB,EACnB8wB,KAAU9wB,EAAO4wB,GAAQ,CAACA,EAAM5wB,IACpC,MAAMmmC,EAAWtV,GAAgC,oBAAhBA,EAAM/qB,MAAuB+qB,EAAQ4a,EAAazrC,EAAO4wB,EAAMC,GAC1F3F,EAAQib,EAAWA,EAASrgC,MAAM9F,GAAQ4wB,EAAO,GAAK,GAC5D,OAAOE,EAAU5F,EAAM4F,UAAY5F,CACrC,EAWeugB,EACjB,CArDAN,GAAQxzC,MAASgS,GACPmjB,SAASnjB,EAAI1tB,KAAKo1C,MAAM1nB,KAASA,EAAI,EAAY89B,IAAcxyD,IACrEA,EAAKm2D,eAAenvD,KAAKo1C,MAAMp8C,EAAKg2D,iBAAmBthC,GAAKA,GAC5D10B,EAAK81D,YAAY,EAAG,GACpB91D,EAAKs0D,YAAY,EAAG,EAAG,EAAG,EAAE,IAC3B,CAACt0D,EAAMuI,KACRvI,EAAKm2D,eAAen2D,EAAKg2D,iBAAmBztD,EAAOmsB,EAAE,IALL,KASpDwhC,GAAQrlC,MA6CRulC,GAAOF,GAASL,GAAUT,GAAWX,GAAST,GAASL,IACvD,MAAO8C,GAAWC,IAAoBN,GAAOH,GAAUN,GAAWhB,GAAYR,GAASL,GAAUN,IAEjG,SAASmD,GAAUnvB,GACjB,GAAI,GAAKA,EAAEiE,GAAKjE,EAAEiE,EAAI,IAAK,CACzB,IAAIzrC,EAAO,IAAIoF,MAAM,EAAGoiC,EAAEghB,EAAGhhB,EAAEA,EAAGA,EAAEovB,EAAGpvB,EAAEqvB,EAAGrvB,EAAEsvB,EAAGtvB,EAAEuvB,GAEnD,OADA/2D,EAAKyG,YAAY+gC,EAAEiE,GACZzrC,CACT,CACA,OAAO,IAAIoF,KAAKoiC,EAAEiE,EAAGjE,EAAEghB,EAAGhhB,EAAEA,EAAGA,EAAEovB,EAAGpvB,EAAEqvB,EAAGrvB,EAAEsvB,EAAGtvB,EAAEuvB,EAClD,CAEA,SAASC,GAAQxvB,GACf,GAAI,GAAKA,EAAEiE,GAAKjE,EAAEiE,EAAI,IAAK,CACzB,IAAIzrC,EAAO,IAAIoF,KAAKA,KAAK6xD,KAAK,EAAGzvB,EAAEghB,EAAGhhB,EAAEA,EAAGA,EAAEovB,EAAGpvB,EAAEqvB,EAAGrvB,EAAEsvB,EAAGtvB,EAAEuvB,IAE5D,OADA/2D,EAAKm2D,eAAe3uB,EAAEiE,GACfzrC,CACT,CACA,OAAO,IAAIoF,KAAKA,KAAK6xD,IAAIzvB,EAAEiE,EAAGjE,EAAEghB,EAAGhhB,EAAEA,EAAGA,EAAEovB,EAAGpvB,EAAEqvB,EAAGrvB,EAAEsvB,EAAGtvB,EAAEuvB,GAC3D,CAEA,SAASp5C,GAAQ8tB,EAAG+c,EAAGhhB,GACrB,MAAO,CAACiE,EAAGA,EAAG+c,EAAGA,EAAGhhB,EAAGA,EAAGovB,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EACjD,CAkWA,IAuTI/1D,GACAk2D,GAxTAC,GAAO,CAAC,IAAK,GAAI,EAAK,IAAK,EAAK,KAChCC,GAAW,UACXC,GAAY,KACZC,GAAY,sBAEhB,SAASC,GAAI92D,EAAO+Y,EAAM6V,GACxB,IAAIvoB,EAAOrG,EAAQ,EAAI,IAAM,GACzB+qD,GAAU1kD,GAAQrG,EAAQA,GAAS,GACnCH,EAASkrD,EAAOlrD,OACpB,OAAOwG,GAAQxG,EAAS+uB,EAAQ,IAAI9V,MAAM8V,EAAQ/uB,EAAS,GAAG22B,KAAKzd,GAAQgyC,EAASA,EACtF,CAEA,SAASgM,GAAQtuB,GACf,OAAOA,EAAEpnC,QAAQw1D,GAAW,OAC9B,CAEA,SAASG,GAASC,GAChB,OAAO,IAAI5yC,OAAO,OAAS4yC,EAAM/yD,IAAI6yD,IAASvgC,KAAK,KAAO,IAAK,IACjE,CAEA,SAAS0gC,GAAaD,GACpB,OAAO,IAAI33D,IAAI23D,EAAM/yD,KAAI,CAAC4hB,EAAM5c,IAAM,CAAC4c,EAAK7N,cAAe/O,KAC7D,CAEA,SAASiuD,GAAyBpwB,EAAGgkB,EAAQ7hD,GAC3C,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEqwB,GAAK/b,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAASw3D,GAAyBtwB,EAAGgkB,EAAQ7hD,GAC3C,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAE6lB,GAAKvR,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAASy3D,GAAsBvwB,EAAGgkB,EAAQ7hD,GACxC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEwwB,GAAKlc,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAAS23D,GAAmBzwB,EAAGgkB,EAAQ7hD,GACrC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAE0wB,GAAKpc,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAAS63D,GAAsB3wB,EAAGgkB,EAAQ7hD,GACxC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAE4wB,GAAKtc,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAAS+3D,GAAc7wB,EAAGgkB,EAAQ7hD,GAChC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEiE,GAAKqQ,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAASg4D,GAAU9wB,EAAGgkB,EAAQ7hD,GAC5B,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEiE,GAAKqQ,EAAE,KAAOA,EAAE,GAAK,GAAK,KAAO,KAAOnyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC5E,CAEA,SAASi4D,GAAU/wB,EAAGgkB,EAAQ7hD,GAC5B,IAAImyC,EAAI,+BAA+B4M,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAChE,OAAOmyC,GAAKtU,EAAEgxB,EAAI1c,EAAE,GAAK,IAAMA,EAAE,IAAMA,EAAE,IAAM,OAAQnyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC7E,CAEA,SAASm4D,GAAajxB,EAAGgkB,EAAQ7hD,GAC/B,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEqkB,EAAW,EAAP/P,EAAE,GAAS,EAAGnyC,EAAImyC,EAAE,GAAGx7C,SAAW,CACtD,CAEA,SAASo4D,GAAiBlxB,EAAGgkB,EAAQ7hD,GACnC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEghB,EAAI1M,EAAE,GAAK,EAAGnyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAClD,CAEA,SAASq4D,GAAgBnxB,EAAGgkB,EAAQ7hD,GAClC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEA,GAAKsU,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAASs4D,GAAepxB,EAAGgkB,EAAQ7hD,GACjC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEghB,EAAI,EAAGhhB,EAAEA,GAAKsU,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CACxD,CAEA,SAASu4D,GAAYrxB,EAAGgkB,EAAQ7hD,GAC9B,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEovB,GAAK9a,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAASw4D,GAAatxB,EAAGgkB,EAAQ7hD,GAC/B,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEqvB,GAAK/a,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAASy4D,GAAavxB,EAAGgkB,EAAQ7hD,GAC/B,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEsvB,GAAKhb,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAAS04D,GAAkBxxB,EAAGgkB,EAAQ7hD,GACpC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEuvB,GAAKjb,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAAS24D,GAAkBzxB,EAAGgkB,EAAQ7hD,GACpC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC1C,OAAOmyC,GAAKtU,EAAEuvB,EAAI/vD,KAAKo1C,MAAMN,EAAE,GAAK,KAAOnyC,EAAImyC,EAAE,GAAGx7C,SAAW,CACjE,CAEA,SAAS44D,GAAoB1xB,EAAGgkB,EAAQ7hD,GACtC,IAAImyC,EAAIub,GAAU3O,KAAK8C,EAAOj4B,MAAM5pB,EAAGA,EAAI,IAC3C,OAAOmyC,EAAInyC,EAAImyC,EAAE,GAAGx7C,QAAU,CAChC,CAEA,SAAS64D,GAAmB3xB,EAAGgkB,EAAQ7hD,GACrC,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,IACnC,OAAOmyC,GAAKtU,EAAE4xB,GAAKtd,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAAS+4D,GAA0B7xB,EAAGgkB,EAAQ7hD,GAC5C,IAAImyC,EAAIsb,GAAS1O,KAAK8C,EAAOj4B,MAAM5pB,IACnC,OAAOmyC,GAAKtU,EAAE0B,GAAK4S,EAAE,GAAInyC,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/C,CAEA,SAASg5D,GAAiB9xB,EAAGgmB,GAC3B,OAAO+J,GAAI/vB,EAAE1mC,UAAW0sD,EAAG,EAC7B,CAEA,SAAS+L,GAAa/xB,EAAGgmB,GACvB,OAAO+J,GAAI/vB,EAAEusB,WAAYvG,EAAG,EAC9B,CAEA,SAASgM,GAAahyB,EAAGgmB,GACvB,OAAO+J,GAAI/vB,EAAEusB,WAAa,IAAM,GAAIvG,EAAG,EACzC,CAEA,SAASiM,GAAgBjyB,EAAGgmB,GAC1B,OAAO+J,GAAI,EAAIpD,GAAQvY,MAAMqa,GAASzuB,GAAIA,GAAIgmB,EAAG,EACnD,CAEA,SAASkM,GAAmBlyB,EAAGgmB,GAC7B,OAAO+J,GAAI/vB,EAAE8rB,kBAAmB9F,EAAG,EACrC,CAEA,SAASmM,GAAmBnyB,EAAGgmB,GAC7B,OAAOkM,GAAmBlyB,EAAGgmB,GAAK,KACpC,CAEA,SAASoM,GAAkBpyB,EAAGgmB,GAC5B,OAAO+J,GAAI/vB,EAAEzoC,WAAa,EAAGyuD,EAAG,EAClC,CAEA,SAASqM,GAAcryB,EAAGgmB,GACxB,OAAO+J,GAAI/vB,EAAEksB,aAAclG,EAAG,EAChC,CAEA,SAASsM,GAActyB,EAAGgmB,GACxB,OAAO+J,GAAI/vB,EAAEisB,aAAcjG,EAAG,EAChC,CAEA,SAASuM,GAA0BvyB,GACjC,IAAI3+B,EAAM2+B,EAAE3hC,SACZ,OAAe,IAARgD,EAAY,EAAIA,CACzB,CAEA,SAASmxD,GAAuBxyB,EAAGgmB,GACjC,OAAO+J,GAAI5C,GAAW/Y,MAAMqa,GAASzuB,GAAK,EAAGA,GAAIgmB,EAAG,EACtD,CAEA,SAASyM,GAAKzyB,GACZ,IAAI3+B,EAAM2+B,EAAE3hC,SACZ,OAAQgD,GAAO,GAAa,IAARA,EAAaksD,GAAavtB,GAAKutB,GAAatX,KAAKjW,EACvE,CAEA,SAAS0yB,GAAoB1yB,EAAGgmB,GAE9B,OADAhmB,EAAIyyB,GAAKzyB,GACF+vB,GAAIxC,GAAanZ,MAAMqa,GAASzuB,GAAIA,IAA+B,IAAzByuB,GAASzuB,GAAG3hC,UAAiB2nD,EAAG,EACnF,CAEA,SAAS2M,GAA0B3yB,GACjC,OAAOA,EAAE3hC,QACX,CAEA,SAASu0D,GAAuB5yB,EAAGgmB,GACjC,OAAO+J,GAAI3C,GAAWhZ,MAAMqa,GAASzuB,GAAK,EAAGA,GAAIgmB,EAAG,EACtD,CAEA,SAAS6M,GAAW7yB,EAAGgmB,GACrB,OAAO+J,GAAI/vB,EAAE1oC,cAAgB,IAAK0uD,EAAG,EACvC,CAEA,SAAS8M,GAAc9yB,EAAGgmB,GAExB,OAAO+J,IADP/vB,EAAIyyB,GAAKzyB,IACI1oC,cAAgB,IAAK0uD,EAAG,EACvC,CAEA,SAAS+M,GAAe/yB,EAAGgmB,GACzB,OAAO+J,GAAI/vB,EAAE1oC,cAAgB,IAAO0uD,EAAG,EACzC,CAEA,SAASgN,GAAkBhzB,EAAGgmB,GAC5B,IAAI3kD,EAAM2+B,EAAE3hC,SAEZ,OAAO0xD,IADP/vB,EAAK3+B,GAAO,GAAa,IAARA,EAAaksD,GAAavtB,GAAKutB,GAAatX,KAAKjW,IACrD1oC,cAAgB,IAAO0uD,EAAG,EACzC,CAEA,SAASiN,GAAWjzB,GAClB,IAAI6qB,EAAI7qB,EAAE4sB,oBACV,OAAQ/B,EAAI,EAAI,KAAOA,IAAM,EAAG,MAC1BkF,GAAIlF,EAAI,GAAK,EAAG,IAAK,GACrBkF,GAAIlF,EAAI,GAAI,IAAK,EACzB,CAEA,SAASqI,GAAoBlzB,EAAGgmB,GAC9B,OAAO+J,GAAI/vB,EAAEgtB,aAAchH,EAAG,EAChC,CAEA,SAASmN,GAAgBnzB,EAAGgmB,GAC1B,OAAO+J,GAAI/vB,EAAE0sB,cAAe1G,EAAG,EACjC,CAEA,SAASoN,GAAgBpzB,EAAGgmB,GAC1B,OAAO+J,GAAI/vB,EAAE0sB,cAAgB,IAAM,GAAI1G,EAAG,EAC5C,CAEA,SAASqN,GAAmBrzB,EAAGgmB,GAC7B,OAAO+J,GAAI,EAAIlD,GAAOzY,MAAMsa,GAAQ1uB,GAAIA,GAAIgmB,EAAG,EACjD,CAEA,SAASsN,GAAsBtzB,EAAGgmB,GAChC,OAAO+J,GAAI/vB,EAAEuzB,qBAAsBvN,EAAG,EACxC,CAEA,SAASwN,GAAsBxzB,EAAGgmB,GAChC,OAAOsN,GAAsBtzB,EAAGgmB,GAAK,KACvC,CAEA,SAASyN,GAAqBzzB,EAAGgmB,GAC/B,OAAO+J,GAAI/vB,EAAEuuB,cAAgB,EAAGvI,EAAG,EACrC,CAEA,SAAS0N,GAAiB1zB,EAAGgmB,GAC3B,OAAO+J,GAAI/vB,EAAEqsB,gBAAiBrG,EAAG,EACnC,CAEA,SAAS2N,GAAiB3zB,EAAGgmB,GAC3B,OAAO+J,GAAI/vB,EAAE+rB,gBAAiB/F,EAAG,EACnC,CAEA,SAAS4N,GAA6B5zB,GACpC,IAAI6zB,EAAM7zB,EAAE2tB,YACZ,OAAe,IAARkG,EAAY,EAAIA,CACzB,CAEA,SAASC,GAA0B9zB,EAAGgmB,GACpC,OAAO+J,GAAInC,GAAUxZ,MAAMsa,GAAQ1uB,GAAK,EAAGA,GAAIgmB,EAAG,EACpD,CAEA,SAAS+N,GAAQ/zB,GACf,IAAI3+B,EAAM2+B,EAAE2tB,YACZ,OAAQtsD,GAAO,GAAa,IAARA,EAAa2sD,GAAYhuB,GAAKguB,GAAY/X,KAAKjW,EACrE,CAEA,SAASg0B,GAAuBh0B,EAAGgmB,GAEjC,OADAhmB,EAAI+zB,GAAQ/zB,GACL+vB,GAAI/B,GAAY5Z,MAAMsa,GAAQ1uB,GAAIA,IAAiC,IAA3B0uB,GAAQ1uB,GAAG2tB,aAAoB3H,EAAG,EACnF,CAEA,SAASiO,GAA6Bj0B,GACpC,OAAOA,EAAE2tB,WACX,CAEA,SAASuG,GAA0Bl0B,EAAGgmB,GACpC,OAAO+J,GAAIlC,GAAUzZ,MAAMsa,GAAQ1uB,GAAK,EAAGA,GAAIgmB,EAAG,EACpD,CAEA,SAASmO,GAAcn0B,EAAGgmB,GACxB,OAAO+J,GAAI/vB,EAAEwuB,iBAAmB,IAAKxI,EAAG,EAC1C,CAEA,SAASoO,GAAiBp0B,EAAGgmB,GAE3B,OAAO+J,IADP/vB,EAAI+zB,GAAQ/zB,IACCwuB,iBAAmB,IAAKxI,EAAG,EAC1C,CAEA,SAASqO,GAAkBr0B,EAAGgmB,GAC5B,OAAO+J,GAAI/vB,EAAEwuB,iBAAmB,IAAOxI,EAAG,EAC5C,CAEA,SAASsO,GAAqBt0B,EAAGgmB,GAC/B,IAAI3kD,EAAM2+B,EAAE2tB,YAEZ,OAAOoC,IADP/vB,EAAK3+B,GAAO,GAAa,IAARA,EAAa2sD,GAAYhuB,GAAKguB,GAAY/X,KAAKjW,IACnDwuB,iBAAmB,IAAOxI,EAAG,EAC5C,CAEA,SAASuO,KACP,MAAO,OACT,CAEA,SAASC,KACP,MAAO,GACT,CAEA,SAASC,GAAoBz0B,GAC3B,OAAQA,CACV,CAEA,SAAS00B,GAA2B10B,GAClC,OAAOxgC,KAAKo1C,OAAO5U,EAAI,IACzB,CAyBA,SAASxnC,GAAKyqD,GACZ,OAAO,IAAIrlD,KAAKqlD,EAClB,CAEA,SAAS0R,GAAO1R,GACd,OAAOA,aAAarlD,MAAQqlD,GAAK,IAAIrlD,MAAMqlD,EAC7C,CAEA,SAAS/qC,GAASu2B,EAAOugB,EAAc51D,EAAMC,EAAO6I,EAAMb,EAAKwtD,EAAMC,EAAQjD,EAAQhtB,GACnF,IAAI6P,EAAQoX,KACRF,EAASlX,EAAMkX,OACfvQ,EAAS3G,EAAM2G,OAEfuf,EAAoB/1B,EAAO,OAC3Bg2B,EAAeh2B,EAAO,OACtBi2B,EAAej2B,EAAO,SACtBk2B,EAAal2B,EAAO,SACpBm2B,EAAYn2B,EAAO,SACnBo2B,EAAap2B,EAAO,SACpBq2B,EAAcr2B,EAAO,MACrBg0B,EAAah0B,EAAO,MAExB,SAASoqB,EAAWzwD,GAClB,OAAQqzD,EAAOrzD,GAAQA,EAAOo8D,EACxB9F,EAAOt2D,GAAQA,EAAOq8D,EACtBhG,EAAKr2D,GAAQA,EAAOs8D,EACpBzzD,EAAI7I,GAAQA,EAAOu8D,EACnB17D,EAAMb,GAAQA,EAAQ0J,EAAK1J,GAAQA,EAAOw8D,EAAYC,EACtD77D,EAAKZ,GAAQA,EAAO08D,EACpBrC,GAAYr6D,EACpB,CA6BA,OA3BAk2C,EAAMkX,OAAS,SAAS3hB,GACtB,OAAO,IAAIrmC,KAAKgoD,EAAO3hB,GACzB,EAEAyK,EAAM2G,OAAS,SAASpjC,GACtB,OAAO/a,UAAU4B,OAASu8C,EAAOtjC,MAAMm2B,KAAKj2B,EAAG0iD,KAAWtf,IAASl4C,IAAI3E,GACzE,EAEAk2C,EAAMD,MAAQ,SAASib,GACrB,IAAI1pB,EAAIqV,IACR,OAAO5G,EAAMzO,EAAE,GAAIA,EAAEA,EAAElnC,OAAS,GAAgB,MAAZ4wD,EAAmB,GAAKA,EAC9D,EAEAhb,EAAMua,WAAa,SAAS7U,EAAOmS,GACjC,OAAoB,MAAbA,EAAoB0C,EAAapqB,EAAO0nB,EACjD,EAEA7X,EAAM4a,KAAO,SAASI,GACpB,IAAI1pB,EAAIqV,IAER,OADKqU,GAAsC,oBAAnBA,EAASrgC,QAAsBqgC,EAAWsF,EAAahvB,EAAE,GAAIA,EAAEA,EAAElnC,OAAS,GAAgB,MAAZ4wD,EAAmB,GAAKA,IACvHA,EAAWrU,EAAOiU,GAAKtpB,EAAG0pB,IAAahb,CAChD,EAEAA,EAAMgH,KAAO,WACX,OAAOA,GAAKhH,EAAOx2B,GAASu2B,EAAOugB,EAAc51D,EAAMC,EAAO6I,EAAMb,EAAKwtD,EAAMC,EAAQjD,EAAQhtB,GACjG,EAEO6P,CACT,CAEA,SAASymB,KACP,OAAO/f,GAAU7uB,MAAMrO,GAAS+2C,GAAWC,GAAkBT,GAAUN,GAAWhB,GAAYR,GAASL,GAAUN,GAAYH,GAAQ6D,IAAYra,OAAO,CAAC,IAAIz3C,KAAK,IAAM,EAAG,GAAI,IAAIA,KAAK,IAAM,EAAG,KAAM1G,UACzM,CCv4FA,SAASk+D,GAAmBh7C,EAAiBi7B,GAC3C,IAAI3G,EACJ,GACO,QADCt0B,EAEJs0B,EAAQ2mB,UAGR3mB,EAAQ4mB,KAOZ,OAtBF,SAAyBjgB,GACvB,OAAOA,EAAOv8C,OAAS,GAA0B,kBAAdu8C,EAAO,EAC5C,CAgBMkgB,CAAgBlgB,IAClB3G,EAAM2G,OAAOA,GAGR3G,CACT,CAEA,SAAS8mB,GAAgBngB,GACvB,MAAM3G,EAAQ+mB,KAId,OA1BF,SAAsBpgB,GACpB,OAAOA,EAAOv8C,OAAS,GAAKu8C,EAAO,aAAcz3C,IACnD,CAqBM83D,CAAargB,IACf3G,EAAM2G,OAAOA,GAER3G,CACT,CAEA,SAASinB,GAAgBtgB,GACvB,MAAM3G,EAAQknB,KAA4Bzf,QAAQ,IAElD,OADAzH,EAAM2G,OAAOA,GACN3G,CACT,EDiyFA,SAAuB6H,GACrB/8C,GAtqBF,SAAsBA,GACpB,IAAIq8D,EAAkBr8D,EAAOs8D,SACzBC,EAAcv8D,EAAOhB,KACrBw9D,EAAcx8D,EAAO27D,KACrBc,EAAiBz8D,EAAO08D,QACxBC,EAAkB38D,EAAO4H,KACzBg1D,EAAuB58D,EAAO68D,UAC9BC,EAAgB98D,EAAO+8D,OACvBC,EAAqBh9D,EAAOi9D,YAE5BC,EAAWzG,GAASgG,GACpBU,EAAexG,GAAa8F,GAC5BW,EAAY3G,GAASkG,GACrBU,EAAgB1G,GAAagG,GAC7BW,EAAiB7G,GAASmG,GAC1BW,EAAqB5G,GAAaiG,GAClCY,EAAU/G,GAASqG,GACnBW,EAAc9G,GAAamG,GAC3BY,EAAejH,GAASuG,GACxBW,EAAmBhH,GAAaqG,GAEhCY,EAAU,CACZ,EAkQF,SAA4Bp3B,GAC1B,OAAOo2B,EAAqBp2B,EAAE3hC,SAChC,EAnQE,EAqQF,SAAuB2hC,GACrB,OAAOm2B,EAAgBn2B,EAAE3hC,SAC3B,EAtQE,EAwQF,SAA0B2hC,GACxB,OAAOw2B,EAAmBx2B,EAAEzoC,WAC9B,EAzQE,EA2QF,SAAqByoC,GACnB,OAAOs2B,EAAct2B,EAAEzoC,WACzB,EA5QE,EAAK,KACL,EAAKu6D,GACL,EAAKA,GACL,EAAKK,GACL,EAAKW,GACL,EAAKE,GACL,EAAKjB,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKE,GACL,EAAKC,GACL,EAkQF,SAAsBryB,GACpB,OAAOi2B,IAAiBj2B,EAAEusB,YAAc,IAC1C,EAnQE,EAqQF,SAAuBvsB,GACrB,OAAO,KAAOA,EAAEzoC,WAAa,EAC/B,EAtQE,EAAKk9D,GACL,EAAKC,GACL,EAAKpC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKE,GACL,EAAKC,GACL,EAAKC,GACL,EAAK,KACL,EAAK,KACL,EAAKC,GACL,EAAKE,GACL,EAAKE,GACL,IAAKuB,IAGH6C,EAAa,CACf,EAuPF,SAA+Br3B,GAC7B,OAAOo2B,EAAqBp2B,EAAE2tB,YAChC,EAxPE,EA0PF,SAA0B3tB,GACxB,OAAOm2B,EAAgBn2B,EAAE2tB,YAC3B,EA3PE,EA6PF,SAA6B3tB,GAC3B,OAAOw2B,EAAmBx2B,EAAEuuB,cAC9B,EA9PE,EAgQF,SAAwBvuB,GACtB,OAAOs2B,EAAct2B,EAAEuuB,cACzB,EAjQE,EAAK,KACL,EAAK2E,GACL,EAAKA,GACL,EAAKM,GACL,EAAKY,GACL,EAAKE,GACL,EAAKnB,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKG,GACL,EAAKC,GACL,EAuPF,SAAyB1zB,GACvB,OAAOi2B,IAAiBj2B,EAAE0sB,eAAiB,IAC7C,EAxPE,EA0PF,SAA0B1sB,GACxB,OAAO,KAAOA,EAAEuuB,cAAgB,EAClC,EA3PE,EAAKkG,GACL,EAAKC,GACL,EAAKf,GACL,EAAKC,GACL,EAAKE,GACL,EAAKE,GACL,EAAKC,GACL,EAAKC,GACL,EAAK,KACL,EAAK,KACL,EAAKC,GACL,EAAKE,GACL,EAAKE,GACL,IAAKC,IAGH8C,EAAS,CACX,EA4JF,SAA2Bt3B,EAAGgkB,EAAQ7hD,GACpC,IAAImyC,EAAIwiB,EAAe5V,KAAK8C,EAAOj4B,MAAM5pB,IACzC,OAAOmyC,GAAKtU,EAAEqwB,EAAI0G,EAAmBr+D,IAAI47C,EAAE,GAAGpjC,eAAgB/O,EAAImyC,EAAE,GAAGx7C,SAAW,CACpF,EA9JE,EAgKF,SAAsBknC,EAAGgkB,EAAQ7hD,GAC/B,IAAImyC,EAAIsiB,EAAU1V,KAAK8C,EAAOj4B,MAAM5pB,IACpC,OAAOmyC,GAAKtU,EAAEqwB,EAAIwG,EAAcn+D,IAAI47C,EAAE,GAAGpjC,eAAgB/O,EAAImyC,EAAE,GAAGx7C,SAAW,CAC/E,EAlKE,EAoKF,SAAyBknC,EAAGgkB,EAAQ7hD,GAClC,IAAImyC,EAAI4iB,EAAahW,KAAK8C,EAAOj4B,MAAM5pB,IACvC,OAAOmyC,GAAKtU,EAAEghB,EAAImW,EAAiBz+D,IAAI47C,EAAE,GAAGpjC,eAAgB/O,EAAImyC,EAAE,GAAGx7C,SAAW,CAClF,EAtKE,EAwKF,SAAoBknC,EAAGgkB,EAAQ7hD,GAC7B,IAAImyC,EAAI0iB,EAAQ9V,KAAK8C,EAAOj4B,MAAM5pB,IAClC,OAAOmyC,GAAKtU,EAAEghB,EAAIiW,EAAYv+D,IAAI47C,EAAE,GAAGpjC,eAAgB/O,EAAImyC,EAAE,GAAGx7C,SAAW,CAC7E,EA1KE,EA4KF,SAA6BknC,EAAGgkB,EAAQ7hD,GACtC,OAAOo1D,EAAev3B,EAAG61B,EAAiB7R,EAAQ7hD,EACpD,EA7KE,EAAKgvD,GACL,EAAKA,GACL,EAAKM,GACL,EAAKX,GACL,EAAKD,GACL,EAAKQ,GACL,EAAKA,GACL,EAAKD,GACL,EAAKI,GACL,EAAKN,GACL,EAAKI,GACL,EAuIF,SAAqBtxB,EAAGgkB,EAAQ7hD,GAC9B,IAAImyC,EAAIoiB,EAASxV,KAAK8C,EAAOj4B,MAAM5pB,IACnC,OAAOmyC,GAAKtU,EAAEgmB,EAAI2Q,EAAaj+D,IAAI47C,EAAE,GAAGpjC,eAAgB/O,EAAImyC,EAAE,GAAGx7C,SAAW,CAC9E,EAzIE,EAAKm4D,GACL,EAAKU,GACL,EAAKE,GACL,EAAKN,GACL,EAAKjB,GACL,EAAKC,GACL,EAAKE,GACL,EAAKL,GACL,EAAKO,GACL,EA0JF,SAAyB3wB,EAAGgkB,EAAQ7hD,GAClC,OAAOo1D,EAAev3B,EAAG+1B,EAAa/R,EAAQ7hD,EAChD,EA3JE,EA6JF,SAAyB69B,EAAGgkB,EAAQ7hD,GAClC,OAAOo1D,EAAev3B,EAAGg2B,EAAahS,EAAQ7hD,EAChD,EA9JE,EAAK2uD,GACL,EAAKD,GACL,EAAKE,GACL,IAAKW,IAWP,SAASvJ,EAAU5B,EAAW6Q,GAC5B,OAAO,SAAS5+D,GACd,IAII43B,EACA2/B,EACAlxB,EANAmlB,EAAS,GACT7hD,GAAK,EACL+P,EAAI,EACJoiC,EAAIiS,EAAUztD,OAOlB,IAFMN,aAAgBoF,OAAOpF,EAAO,IAAIoF,MAAMpF,MAErC2J,EAAImyC,GACqB,KAA5BiS,EAAUwC,WAAW5mD,KACvB6hD,EAAO5hD,KAAKmkD,EAAUx6B,MAAM7Z,EAAG/P,IACgB,OAA1C4tD,EAAMJ,GAAKv/B,EAAIm2B,EAAUiR,SAASr1D,KAAciuB,EAAIm2B,EAAUiR,SAASr1D,GACvE4tD,EAAY,MAAN3/B,EAAY,IAAM,KACzByO,EAASu4B,EAAQhnC,MAAIA,EAAIyO,EAAOrmC,EAAMu3D,IAC1C/L,EAAO5hD,KAAKguB,GACZle,EAAI/P,EAAI,GAKZ,OADA6hD,EAAO5hD,KAAKmkD,EAAUx6B,MAAM7Z,EAAG/P,IACxB6hD,EAAOv0B,KAAK,GACrB,CACF,CAEA,SAASgoC,EAASlR,EAAWyK,GAC3B,OAAO,SAAShN,GACd,IAEI9hD,EAAMb,EAFN2+B,EAAI7pB,GAAQ,UAAMhd,EAAW,GAGjC,GAFQo+D,EAAev3B,EAAGumB,EAAWvC,GAAU,GAAI,IAE1CA,EAAOlrD,OAAQ,OAAO,KAG/B,GAAI,MAAOknC,EAAG,OAAO,IAAIpiC,KAAKoiC,EAAE4xB,GAChC,GAAI,MAAO5xB,EAAG,OAAO,IAAIpiC,KAAW,IAANoiC,EAAE0B,GAAY,MAAO1B,EAAIA,EAAEuvB,EAAI,IAY7D,GATIyB,KAAO,MAAOhxB,KAAIA,EAAEgxB,EAAI,GAGxB,MAAOhxB,IAAGA,EAAEovB,EAAIpvB,EAAEovB,EAAI,GAAW,GAANpvB,EAAEgmB,QAGrB7sD,IAAR6mC,EAAEghB,IAAiBhhB,EAAEghB,EAAI,MAAOhhB,EAAIA,EAAEqkB,EAAI,GAG1C,MAAOrkB,EAAG,CACZ,GAAIA,EAAE0wB,EAAI,GAAK1wB,EAAE0wB,EAAI,GAAI,OAAO,KAC1B,MAAO1wB,IAAIA,EAAEqwB,EAAI,GACnB,MAAOrwB,GAC2B3+B,GAApCa,EAAOstD,GAAQr5C,GAAQ6pB,EAAEiE,EAAG,EAAG,KAAgB0pB,YAC/CzrD,EAAOb,EAAM,GAAa,IAARA,EAAYwsD,GAAU5X,KAAK/zC,GAAQ2rD,GAAU3rD,GAC/DA,EAAO2qD,GAAOrhC,OAAOtpB,EAAkB,GAAX89B,EAAE0wB,EAAI,IAClC1wB,EAAEiE,EAAI/hC,EAAKssD,iBACXxuB,EAAEghB,EAAI9+C,EAAKqsD,cACXvuB,EAAEA,EAAI99B,EAAK8qD,cAAgBhtB,EAAEqwB,EAAI,GAAK,IAEAhvD,GAAtCa,EAAOitD,GAAUh5C,GAAQ6pB,EAAEiE,EAAG,EAAG,KAAgB5lC,SACjD6D,EAAOb,EAAM,GAAa,IAARA,EAAY+rD,GAAWnX,KAAK/zC,GAAQkrD,GAAWlrD,GACjEA,EAAOyqD,GAAQnhC,OAAOtpB,EAAkB,GAAX89B,EAAE0wB,EAAI,IACnC1wB,EAAEiE,EAAI/hC,EAAK5K,cACX0oC,EAAEghB,EAAI9+C,EAAK3K,WACXyoC,EAAEA,EAAI99B,EAAK5I,WAAa0mC,EAAEqwB,EAAI,GAAK,EAEvC,MAAW,MAAOrwB,GAAK,MAAOA,KACtB,MAAOA,IAAIA,EAAEqwB,EAAI,MAAOrwB,EAAIA,EAAE6lB,EAAI,EAAI,MAAO7lB,EAAI,EAAI,GAC3D3+B,EAAM,MAAO2+B,EAAIwvB,GAAQr5C,GAAQ6pB,EAAEiE,EAAG,EAAG,IAAI0pB,YAAcwB,GAAUh5C,GAAQ6pB,EAAEiE,EAAG,EAAG,IAAI5lC,SACzF2hC,EAAEghB,EAAI,EACNhhB,EAAEA,EAAI,MAAOA,GAAKA,EAAEqwB,EAAI,GAAK,EAAU,EAANrwB,EAAE4wB,GAASvvD,EAAM,GAAK,EAAI2+B,EAAEqwB,EAAU,EAANrwB,EAAEwwB,GAASnvD,EAAM,GAAK,GAKzF,MAAI,MAAO2+B,GACTA,EAAEovB,GAAKpvB,EAAEgxB,EAAI,IAAM,EACnBhxB,EAAEqvB,GAAKrvB,EAAEgxB,EAAI,IACNxB,GAAQxvB,IAIVmvB,GAAUnvB,EACnB,CACF,CAEA,SAASu3B,EAAev3B,EAAGumB,EAAWvC,EAAQ9xC,GAO5C,IANA,IAGIke,EACAsnC,EAJAv1D,EAAI,EACJmyC,EAAIiS,EAAUztD,OACdkoD,EAAIgD,EAAOlrD,OAIRqJ,EAAImyC,GAAG,CACZ,GAAIpiC,GAAK8uC,EAAG,OAAQ,EAEpB,GAAU,MADV5wB,EAAIm2B,EAAUwC,WAAW5mD,OAIvB,GAFAiuB,EAAIm2B,EAAUiR,OAAOr1D,OACrBu1D,EAAQJ,EAAOlnC,KAAKu/B,GAAOpJ,EAAUiR,OAAOr1D,KAAOiuB,MACnCle,EAAIwlD,EAAM13B,EAAGgkB,EAAQ9xC,IAAM,EAAI,OAAQ,OAClD,GAAIke,GAAK4zB,EAAO+E,WAAW72C,KAChC,OAAQ,CAEZ,CAEA,OAAOA,CACT,CAuFA,OAzMAklD,EAAQrzB,EAAIokB,EAAU4N,EAAaqB,GACnCA,EAAQO,EAAIxP,EAAU6N,EAAaoB,GACnCA,EAAQhnC,EAAI+3B,EAAU0N,EAAiBuB,GACvCC,EAAWtzB,EAAIokB,EAAU4N,EAAasB,GACtCA,EAAWM,EAAIxP,EAAU6N,EAAaqB,GACtCA,EAAWjnC,EAAI+3B,EAAU0N,EAAiBwB,GAoMnC,CACLx4B,OAAQ,SAAS0nB,GACf,IAAI5T,EAAIwV,EAAU5B,GAAa,GAAI6Q,GAEnC,OADAzkB,EAAE3+B,SAAW,WAAa,OAAOuyC,CAAW,EACrC5T,CACT,EACA+kB,MAAO,SAASnR,GACd,IAAIP,EAAIyR,EAASlR,GAAa,IAAI,GAElC,OADAP,EAAEhyC,SAAW,WAAa,OAAOuyC,CAAW,EACrCP,CACT,EACA4R,UAAW,SAASrR,GAClB,IAAI5T,EAAIwV,EAAU5B,GAAa,GAAI8Q,GAEnC,OADA1kB,EAAE3+B,SAAW,WAAa,OAAOuyC,CAAW,EACrC5T,CACT,EACAklB,SAAU,SAAStR,GACjB,IAAIP,EAAIyR,EAASlR,GAAa,IAAI,GAElC,OADAP,EAAEhyC,SAAW,WAAa,OAAOuyC,CAAW,EACrCP,CACT,EAEJ,CAwUW8R,CAAavhB,GACtBmZ,GAAal2D,GAAOqlC,OACpBrlC,GAAOk+D,MACPl+D,GAAOo+D,UACPp+D,GAAOq+D,QAET,CAlBAE,CAAc,CACZjC,SAAU,SACVt9D,KAAM,aACN28D,KAAM,eACNe,QAAS,CAAC,KAAM,MAChB90D,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACzEi1D,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDE,OAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACvHE,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,SC9wFvF,MAAOuB,GAIX/mC,WAAAA,CACkBmf,EACAiF,EACAhsB,GACiB,IAAjC4uC,EAAyB/gE,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,GAHT,KAAAk5C,UAAAA,EACA,KAAAiF,OAAAA,EACA,KAAAhsB,MAAAA,EAGhB7C,KAAKkoB,MAxBH,SAAsBt0B,EAAiBi7B,EAAqChsB,GAChF,OAAQjP,GACN,IAAK,SACL,IAAK,MACH,MAAO,CAAEA,KAAM,UAAWs0B,MAAO0mB,GAAmBh7C,EAAMi7B,GAAQhsB,MAAMA,IAE1E,IAAK,OACH,MAAO,CAAEjP,KAAM,OAAQs0B,MAAO8mB,GAAgBngB,GAAQhsB,MAAMA,IAE9D,IAAK,cACH,MAAO,CAAEjP,KAAM,cAAes0B,MAAOinB,GAAgBtgB,GAAQhsB,MAAMA,IAEzE,CAYiB6uC,CAAY1xC,KAAK4pB,UAAW5pB,KAAK6uB,OAAQ7uB,KAAK6C,OAC3D7C,KAAKsoB,QAAUtoB,KAAKkoB,MAAMA,MAEtBloB,KAAKypB,kBACHgoB,GAGFzxC,KAAKsoB,QAAQ+G,aAAa,IAC1BrvB,KAAKsoB,QAAQgH,aAAa,KAE1BtvB,KAAKsoB,QAAQ+G,aAAa,IAC1BrvB,KAAKsoB,QAAQgH,aAAa,MAGhC,CAEAqiB,UAAAA,CAAWC,EAA0BC,EAAyCC,GAC5E,OAAO,IAAIN,GAAWI,GAAgB5xC,KAAK4pB,UAAWioB,GAAa7xC,KAAK6uB,OAAQijB,GAAY9xC,KAAK6C,MACnG,CAEAkvC,SAAAA,GACE,MAA2B,YAApB/xC,KAAKkoB,MAAMt0B,IACpB,CAEAo+C,MAAAA,GACE,MAA2B,SAApBhyC,KAAKkoB,MAAMt0B,IACpB,CAEA61B,aAAAA,GACE,MAA2B,gBAApBzpB,KAAKkoB,MAAMt0B,IACpB,EAGI,MAAOq+C,GAIXxnC,WAAAA,CACkBmf,EAChBiF,EACAhsB,EACAqvC,GAHgB,KAAAtoB,UAAAA,EAKhB,MAAM1B,EAAQ0mB,GAAmBhlB,EAAWiF,GAAQhsB,MAAMA,GACrC,OAAjBqvC,GACFhqB,EAAM4a,KAAKoP,GAEblyC,KAAKkoB,MAAQ,CAAEt0B,KAAM,UAAWs0B,SAChCloB,KAAKsoB,QAAUtoB,KAAKkoB,MAAMA,KAC5B,CAEAuB,aAAAA,GACE,OAAO,CACT,E,eCzIa,SAAS0oB,GAAgCngE,GACtD,IAAIg3D,EAAU,IAAI5xD,KAAKA,KAAK6xD,IAAIj3D,EAAKlB,cAAekB,EAAKjB,WAAYiB,EAAKc,UAAWd,EAAK+zD,WAAY/zD,EAAK0zD,aAAc1zD,EAAKyzD,aAAczzD,EAAKszD,oBAEjJ,OADA0D,EAAQb,eAAen2D,EAAKlB,eACrBkB,EAAKZ,UAAY43D,EAAQ53D,SAClC,C,0BCZIghE,GAAsB,MCG1B,SAASC,GAAgB1hE,EAAUE,GACjC,IAAI+G,EAAOjH,EAASG,cAAgBD,EAAUC,eAAiBH,EAASI,WAAaF,EAAUE,YAAcJ,EAASmC,UAAYjC,EAAUiC,WAAanC,EAASo1D,WAAal1D,EAAUk1D,YAAcp1D,EAAS+0D,aAAe70D,EAAU60D,cAAgB/0D,EAAS80D,aAAe50D,EAAU40D,cAAgB90D,EAAS20D,kBAAoBz0D,EAAUy0D,kBAClV,OAAI1tD,EAAO,GACD,EACCA,EAAO,EACT,EAGAA,CAEX,CAmDe,SAAS06D,GAAiB/hE,EAAeC,IACtDC,EAAAA,GAAAA,GAAa,EAAGC,WAChB,IAAIC,GAAWC,EAAAA,GAAAA,GAAOL,GAClBM,GAAYD,EAAAA,GAAAA,GAAOJ,GACnBsI,EAAOu5D,GAAgB1hE,EAAUE,GACjCkI,EAAaC,KAAKC,IDrCT,SAAkC1I,EAAeC,IAC9DC,EAAAA,GAAAA,GAAa,EAAGC,WAChB,IAAI6hE,GAAiBrhE,EAAAA,GAAAA,GAAWX,GAC5BiiE,GAAkBthE,EAAAA,GAAAA,GAAWV,GAC7BiiE,EAAgBF,EAAenhE,UAAY+gE,GAAgCI,GAC3EG,EAAiBF,EAAgBphE,UAAY+gE,GAAgCK,GAKjF,OAAOx5D,KAAKi1C,OAAOwkB,EAAgBC,GAAkBN,GACvD,CC0B4BO,CAAyBhiE,EAAUE,IAC7DF,EAASmH,QAAQnH,EAASmC,UAAYgG,EAAOC,GAI7C,IACIK,EAASN,GAAQC,EADEM,OAAOg5D,GAAgB1hE,EAAUE,MAAgBiI,IAGxE,OAAkB,IAAXM,EAAe,EAAIA,CAC5B,C,gDCpCe,SAASuzB,GAAIp7B,EAAWqhE,GAErC,IADAniE,EAAAA,GAAAA,GAAa,EAAGC,YACXkiE,GAAkC,YAAtBC,EAAAA,GAAAA,GAAQD,GAAwB,OAAO,IAAIx7D,KAAKmxC,KACjE,IAAIuqB,EAAQF,EAASE,OAAQphE,EAAAA,GAAAA,GAAUkhE,EAASE,OAAS,EACrD/C,EAAS6C,EAAS7C,QAASr+D,EAAAA,GAAAA,GAAUkhE,EAAS7C,QAAU,EACxDgD,EAAQH,EAASG,OAAQrhE,EAAAA,GAAAA,GAAUkhE,EAASG,OAAS,EACrDn4D,EAAOg4D,EAASh4D,MAAOlJ,EAAAA,GAAAA,GAAUkhE,EAASh4D,MAAQ,EAClDo4D,EAAQJ,EAASI,OAAQthE,EAAAA,GAAAA,GAAUkhE,EAASI,OAAS,EACrDC,EAAUL,EAASK,SAAUvhE,EAAAA,GAAAA,GAAUkhE,EAASK,SAAW,EAC3DC,EAAUN,EAASM,SAAUxhE,EAAAA,GAAAA,GAAUkhE,EAASM,SAAW,EAG3DlhE,GAAOpB,EAAAA,GAAAA,GAAOW,GACd4hE,EAAiBpD,GAAU+C,GAAQnhE,EAAAA,GAAAA,GAAUK,EAAM+9D,EAAiB,GAAR+C,GAAc9gE,EAG1EohE,EAAex4D,GAAQm4D,GAAQr4D,EAAAA,GAAAA,GAAQy4D,EAAgBv4D,EAAe,EAARm4D,GAAaI,EAK3EE,EAAyB,KADVH,EAAyB,IADzBD,EAAkB,GAARD,IAI7B,OADgB,IAAI57D,KAAKg8D,EAAahiE,UAAYiiE,EAEpD,CClDM,SAAUC,GAAaprB,EAAmBsH,GAC9C,GAAItH,EAAM6pB,YACR,OAAO7pB,EAAMI,QAAQL,MAAMuH,GACtB,GAAItH,EAAM8pB,SAAU,CACzB,MAAMuB,EAAWrrB,EAAMI,QAAQL,MAAMuH,GAC/BX,EAAS3G,EAAMI,QAAQuG,SAC7B,OAuBJ,SAAiB5G,EAAenlB,GAC9B,GAAImlB,EAAM31C,OAAS,IAOrB,SAA4B21C,GAC1B,IAAIurB,GAAiB,EACjBC,GAAiB,EAErB,IAAK,IAAI93D,EAAI,EAAGA,EAAIssC,EAAM31C,OAAQqJ,IAChC63D,EAAiBA,GAAkBE,GAAczrB,EAAMtsC,EAAI,GAAIssC,EAAMtsC,GAAI,GACzE83D,EAAiBA,GAAkBC,GAAczrB,EAAMtsC,EAAI,GAAIssC,EAAMtsC,GAAI,GAE3E,OAAO63D,GAAkBC,CAC3B,CAhB2BE,CAAmB1rB,GAC1C,OAAOA,EAGT,OAkBF,SAA8BlrB,EAAa+F,GACzC,MAAM1pB,EAAiB,GACvB,IAAIw6D,EAAO72C,EACX,KAAO62C,EAAO9wC,GACZ1pB,EAAOwC,KAAKg4D,GACZA,EAAOjnC,GAAIinC,EAAM,CAAEh5D,KAAM,IAE3B,OAAOxB,CACT,CA1BSy6D,CAAqB5rB,EAAM,GAAInlB,EACxC,CA7BWgxC,CAAQP,EAAU1kB,EAAOA,EAAOv8C,OAAS,G,CAEhD,OAAO41C,EAAMI,QAAQuG,QAEzB,CAsCA,SAAS6kB,GAAcnzC,EAASC,GAAuB,IAAdznB,EAAUrI,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EACpD,OAAOsI,KAAKC,IAAIq5D,GAAiB/xC,EAAGC,MAAQznB,CAC9C,CC7DA,UAAesgC,EAAAA,EAAAA,OAEf,SAA0B9jC,GAAwF,IAAvF,MAAE0yC,EAAK,MAAEC,EAAK,OAAEt5C,GAAuE2G,EAChH,OACEtF,EAAAA,cAAA,mBAAe,QACZg4C,EAAMtxC,KAAI0xC,I,MACT,MAAM9K,EAAuB,QAAnB7uC,EAAAw5C,EAAMI,QAAQD,UAAK,IAAA35C,EAAAA,EAAI65C,IACjC,OAAOsB,SAAStM,IAAMttC,EAAAA,cAAA,QAAM6G,IAAKuxC,EAAMv4C,UAAWE,EAAOy7C,KAAM1B,GAAIxM,EAAG0M,GAAI,EAAGD,GAAIzM,EAAG2M,GAAIt7C,GAAU,IAI1G,ICCA,UAAeyqC,EAAAA,EAAAA,OAAKnlC,EAAAA,EAAAA,aAEpB,SAAuBqB,EAErBb,GAA8B,IAD9B,OAAE9F,EAAM,WAAEmlE,GAAa,EAAI,SAAEC,GAAW,EAAI,OAAEC,GAA6B1+D,EAG3E,MAAO2+D,GAAcD,GAAU,GAE/B,OACEhkE,EAAAA,cAAA,SACEA,EAAAA,cAAA,QACEyE,IAAKA,EAAG,cACI,OACZ5E,UAAWE,EAAO,mBAClBirB,MAAO,CAAEyiB,WAAYs2B,GAAYE,EAAa,UAAY,UAC1DnqB,GAAc,OAAVmqB,QAAU,IAAVA,OAAU,EAAVA,EAAY32B,EAChByM,GAAc,OAAVkqB,QAAU,IAAVA,OAAU,EAAVA,EAAY32B,EAChB0M,GAAI,EACJC,GAAIt7C,IAGLmlE,GACCE,GACAA,EAAOt9D,KAAIk0C,GACT56C,EAAAA,cAAA,UACE6G,IAAK+zC,EAAM/zC,IAAG,cACF,OACZhH,UAAWE,EAAO,0BAClB+6C,GAAIF,EAAMtN,EACVyN,GAAIH,EAAMpN,EACVwN,EAAG,EACHC,OAAQL,EAAMlR,UAK1B,K,+CCtDI,UACF,OAAU,8BACV,cAAe,mCACf,aAAgB,oCAChB,QAAW,gCACX,0BAA2B,8CAC3B,KAAQ,6BACR,sBAAuB,4CACvB,2BAA4B,iDAC5B,iBAAkB,uCAClB,oBAAqB,0CACrB,YAAa,mCCJTw6B,GAAkB,EAgBV,SAAUC,GAAS7+D,GAOlB,IAP6C,UAC1DsW,EAAS,UACTwoD,EAAS,gBACTC,EAAe,UACfC,EAAS,sBACTC,EAAqB,oBACrBC,GACal/D,EACb,OACEtF,EAAAA,cAAA,KAAGwG,KAAK,QAAO,cAAa,QACzB89D,EAAU59D,KAAI,CAAC4e,EAAOvC,IACrB/iB,EAAAA,cAAA,QACE6G,IAAKkc,EACLuqB,EAAGvkC,KAAK8pB,IAAI,EAAGvN,EAAMwG,SAASwhB,EAAI42B,IAClC12B,EAAGzkC,KAAK8pB,IAAI,EAAGvN,EAAMwG,SAAS0hB,EAAI02B,IAClC9yC,MAAO9L,EAAMwG,SAASsF,MAAQ,EAAI8yC,GAClCvlE,OAAQ2mB,EAAMwG,SAASntB,OAAS,EAAIulE,GACpCz/D,IAAKse,IAAUwhD,EAAwBC,OAAsB9hE,EAC7DirC,GAAIy2B,EAAY,EAAI,EACpB59D,KAAK,SAAQ,aACDoV,EAAS,iBACN,EAAI,gBACJyoD,EACf9oD,KAAK,OACL1b,UAAWE,GAAO,iBAK5B,C,gDCxBA,SAAeC,EAAAA,YAEf,SAA0BsF,EAgBxBgrC,GAAkC,IAflC,aACElG,EAAY,SACZhlC,EAAQ,OACRupB,EAAM,SACN+hB,EAAQ,iBACR+zB,EAAgB,OAChB17B,EAAM,UACNtG,EAAS,KACTha,EAAO,SAAQ,iBACfynB,EAAgB,aAChBlrC,EAAY,aACZC,EAAY,OACZF,EAAM,eACNssC,GAC0B/rC,EAG5B,MAAO8rC,EAAgBszB,IAAqB9/D,EAAAA,EAAAA,UAAyC,CAAC,GACtF,OACE5E,EAAAA,cAAC2kE,GAAAA,EAAU,CAACC,GAAIj2C,IACb,CAACyB,EAAO3rB,IACPzE,EAAAA,cAAA,OAAKyE,IAAKA,EAAK5E,WAAWC,EAAAA,EAAAA,GAAe,YAAVswB,GAAuBrwB,GAAO8kE,WACzDl2C,GAAoB,WAAVyB,IAAuBq0C,GACjCzkE,EAAAA,cAAC8kE,GAAAA,EAAY,CACXrgE,IAAK6rC,EACL/mB,MAAOk7C,EAAiB34C,SACxB1mB,SAAUA,EACV+qC,SAAUs0B,EAAiB34C,SAC3BmkB,cAAeS,EACfR,iBAAkBA,EAClBzN,UAAWA,EACX2N,UAAWhG,EAAapoC,QACxBymB,KAAMA,EACNzjB,aAAcA,EACdC,aAAcA,EACdF,OAAQA,GAER/E,EAAAA,cAAC+kE,GAAAA,EAAkB,CACjBl+D,IAAK49D,EAAiB34C,SACtBqlB,QAASszB,EAAiBtzB,QAC1BE,eAAgBA,EAChBD,eAAgBA,EAAeqzB,EAAiB34C,UAChDwlB,iBAAkBA,CAAC1jC,EAAIw0B,IACrBsiC,GAAkBM,IAChB,MAAMC,EAAoC,IAAItoC,IAAIqoC,EAASP,EAAiB34C,WAM5E,OALIsW,EACF6iC,EAAkCvoC,IAAI9uB,GAEtCq3D,EAAkC9nB,OAAOvvC,GAE3C1N,OAAAC,OAAAD,OAAAC,OAAA,GACK6kE,GAAQ,CACX,CAACP,EAAiB34C,UAAWm5C,GAAiC,MAKrEl8B,GAAU/oC,EAAAA,cAAC+vC,GAAAA,EAAkB,KAAEhH,MAO9C,I,eC9FM,SAAUm8B,GAA4B5/D,EAE1C6/D,EACAC,GAAyC,IAFzC,EAAE93B,EAAC,EAAEE,EAAC,MAAEpc,EAAK,OAAEzyB,GAAiE2G,EAIhF,MAAM+/D,EAAc,CAClB,CAAE/3B,IAAGE,KACL,CAAEF,EAAGA,EAAIlc,EAAOoc,KAChB,CAAEF,EAAGA,EAAIlc,EAAOoc,EAAGA,EAAI7uC,GACvB,CAAE2uC,EAAGA,EAAGE,EAAGA,EAAI7uC,IAIXs8B,EAAa,CAAEva,KAAM,EAAGC,MAAO,EAAG0zB,IAAK,EAAGH,OAAQ,GAAIkxB,GAE5D,IAAIE,EAAO,GACX,IAAK,IAAI55D,EAAIuvB,EAAYvvB,EAAIuvB,EAAaoqC,EAAYhjE,OAAS,EAAGqJ,IAAK,CACrE,MAAMohB,EAAQu4C,EAAY35D,EAAI25D,EAAYhjE,QACpC0wB,EAAMsyC,GAAa35D,EAAI,GAAK25D,EAAYhjE,QAGxCs3B,EAAIwrC,GAAUz5D,EAAIuvB,EAAa,EAAIlyB,KAAKiqB,IAAImyC,EAASp8D,KAAKw8D,MAAMxyC,EAAIua,EAAIxgB,EAAMwgB,EAAGva,EAAIya,EAAI1gB,EAAM0gB,GAAI,IAAO,EAG5G9hC,IAAMuvB,IACRqqC,GAAQ,IAAJhjE,OAAQwqB,EAAMwgB,GAAK,EAAI3T,GAAK5G,EAAIua,EAAI3T,EAAC,KAAAr3B,OAAIwqB,EAAM0gB,GAAK,EAAI7T,GAAK5G,EAAIya,EAAI7T,IAGvEjuB,EAAIuvB,IACNqqC,GAAQ,IAAJhjE,OAAQwqB,EAAMwgB,EAAC,KAAAhrC,OAAIwqB,EAAM0gB,EAAC,KAAAlrC,OAAIwqB,EAAMwgB,GAAK,EAAI3T,GAAK5G,EAAIua,EAAI3T,EAAC,KAAAr3B,OAAIwqB,EAAM0gB,GAAK,EAAI7T,GAAK5G,EAAIya,EAAI7T,IAG7FjuB,EAAIuvB,EAAaoqC,EAAYhjE,SAC/BijE,GAAQ,IAAJhjE,OAAQwqB,EAAMwgB,EAAI3T,EAAI5G,EAAIua,GAAK,EAAI3T,GAAE,KAAAr3B,OAAIwqB,EAAM0gB,EAAI7T,EAAI5G,EAAIya,GAAK,EAAI7T,I,CAG5E,OAAO2rC,EAAO,GAChB,CClCO,MAAME,GAAwD,CACnEtrB,KAAM,OACNurB,IAAK,YACL5uB,UAAW,UAIA6uB,GAAuB,SAAIC,EAAwBrB,GAAiD,IAAjBtpC,EAASv6B,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,GAAAA,UAAA,GAAG,EACtGsiB,EAAQ4iD,GAER5iD,EAAQ,GAAKA,GAASuhD,EAAUjiE,UAClC0gB,EAAQ,GAGV,EAAG,CACD,GAAIuhD,EAAUvhD,GAAO6iD,SAAWtB,EAAUvhD,GAAO8iD,QAC/C,OAAO9iD,EAETA,GAASiY,EAGLjY,GAASuhD,EAAUjiE,OACrB0gB,EAAQ,EACCA,EAAQ,IACjBA,EAAQuhD,EAAUjiE,OAAS,E,OAEtB0gB,IAAU4iD,GACnB,OAAO,CACT,EA4BO,MAAMG,GAAWA,CAAIhsB,EAAOC,IAC7BD,aAAc3yC,MAAQ4yC,aAAc5yC,KAC/B2yC,EAAG34C,YAAc44C,EAAG54C,UAEtB24C,IAAOC,EA+BT,MAAMgsB,GAAel/D,GAAyBA,aAAeM,KAAON,EAAI1F,UAAY0F,EAErF,SAAUm/D,GACdtnE,GAEA,MAAuB,cAAhBA,EAAOilB,MAAwB,MAAOjlB,CAC/C,CAEM,SAAUunE,GACdvnE,GAEA,MAAuB,cAAhBA,EAAOilB,MAAwB,MAAOjlB,CAC/C,CAEM,SAAUwnE,GACdxnE,GAEA,MAAuB,SAAhBA,EAAOilB,MAAmC,QAAhBjlB,EAAOilB,IAC1C,CC5Ec,SAAUwiD,GAAS7gE,GAeb,IAfwC,KAC1DiyC,EAAI,OACJ74C,EAAM,MACNgrC,EAAK,OACL08B,EAAM,OACNC,EAAM,YACNv/C,EAAW,OACXorB,EAAM,sBACNqyB,EAAqB,iBACrB+B,EAAgB,YAChBC,EAAW,SACXC,EAAQ,kBACRC,EAAiB,iBACjBC,EAAgB,MAChB7xB,GACkBvvC,EAClB,MAAM8+D,GAAYt1C,EAAAA,GAAAA,KACZ63C,IAAcD,EACdE,EAAsB,MAATrvB,EAEbsvB,EAAe,M,MACnB,GAAoB,QAAhBnoE,EAAOilB,OAAmByiD,EAAO5sB,gBACnC,MAAO,GAGT,MAAMstB,EAAsFT,EAAOhuB,QAC7F0uB,EAAWroE,EAAO8b,KAAqE9T,KAC3F6D,IAAA,IAAC,EAAE+iC,GAAG/iC,EAAA,OAAK67D,EAAO/tB,QAAQ/K,IAAMgL,GAAG,IAG/B0uB,EAAyB,QAAjBvoE,EAAA4nE,EAAOhuB,QAAQ,UAAE,IAAA55C,EAAAA,EAAI65C,IAC7B2uB,EAAQrtB,SAASotB,GAASj+D,KAAKiqB,IAAIwzC,EAAUQ,GAASR,EAE5D,IAAIU,EAAWd,EAAO/tB,QAAQoB,YAW9B,OANKktB,GAAaL,EAAmB,IAEnCY,GAAYA,EALE,GAKUZ,EAAmB,IAAgBA,EAC3DY,EAAWn+D,KAAK8pB,IAAIq0C,EALL,IAQVH,EAAQrgE,KAAI,CAAC4mC,EAAG5hC,K,YACrB,MAAM69B,EAAI7qC,EAAO8b,KAAK9O,GAChB7E,EAAMk/D,GAAYx8B,EAAE+D,GAC1B,IAAI65B,EAAO75B,EACP85B,EAAS79B,EAAEiE,EACX65B,GAAkBV,EAClBW,GAAgBX,EAGpB,GAAIA,EAAW,CACb,MAAMY,EAAsC,QAAzB9oE,EAAAioE,EAAiBzkE,IAAI4E,UAAI,IAAApI,EAAAA,EAAI,IAAIqD,IACpDslE,EAAoC,QAA3BlqD,EAAAqqD,EAAWtlE,IAAIskE,UAAY,IAAArpD,EAAAA,EAAI,EACxC,MAAMsqD,EAAmBlsD,MAAMm2B,KAAK81B,EAAWhoB,UAAUkoB,MAAK,CAACn3C,EAAGC,IAAMD,EAAIC,IAC5E82C,EAAiBD,IAAWI,EAAiB,GAC7CF,EAAeF,IAAWI,EAAiBA,EAAiBnlE,OAAS,E,MAG9DikE,EAAmB,IAC1Ba,GAAQZ,GAAeW,EA3BX,IAiCd,OAFAE,EAASA,EAAS,EAAIA,EAAS79B,EAAEiE,EAAI45B,EAE9B,CACL95B,EAAG65B,EACH35B,EAA0B,QAAvBnwB,EAAAypD,EAAgBM,UAAO,IAAA/pD,EAAAA,EAAIi7B,IAC9BlnB,MAAO81C,EACPvoE,OAAQoK,KAAKC,KAAyB,QAApBwgB,EAAAs9C,EAAgBv9B,EAAEiE,UAAE,IAAAhkB,EAAAA,EAAI8uB,KAAO2uB,GACjDI,iBACAC,eACD,GAEJ,EAzDoB,GA2DfI,EAA8C,OAA1BnD,EAAiC6B,EAAOxnB,OAAO2lB,GAAyB,KAElG,OACEvkE,EAAAA,cAAA,kBACctB,EAAO6qB,MACnBo+C,SAAQ,QAAArlE,OAAUmkE,EAAiB,KACnC5mE,WAAWC,EAAAA,EAAAA,GAAKC,GAAOrB,OAAQqB,GAAO,eAAgB,CACpD,CAACA,GAAO,wBAAyB+mB,EACjC,CAAC/mB,GAAO,mBAAoBmyC,KAG7B20B,EAAangE,KAAI,CAAA8gB,EAAwD9b,KAAK,IAA5D,EAAE4hC,EAAC,EAAEE,EAAC,MAAEpc,EAAK,OAAEzyB,EAAM,eAAE0oE,EAAc,aAAEC,GAAc9/C,EACtE,IAAKoyB,SAAStM,KAAOsM,SAASj7C,GAC5B,OAIF,MACMipE,EAAajpE,EAAS,EACtBkpE,EAAeD,EAAa,EAFTjB,EAAY,EAAI,EAKnCh5B,EAAKy2B,EAAawD,EAAa,EAAI,EAAK,EACxCE,EAAYlB,EACd,CACEt5B,EAAGA,EAAIy6B,EACPv6B,EAAGA,EAAIq6B,EAAe,EACtBz2C,MAAOA,EAPO,EAQdzyB,OAAQA,EAASkpE,GAEnB,CACEv6B,EAAGE,GAAMqH,EAAiB,EAATl2C,GAAckpE,EAAe,EAC9Cr6B,EAAGF,EAAIy6B,EACP32C,MAAOzyB,EAASkpE,EAChBlpE,OAAQyyB,EAdM,GAiBdvxB,GAAYC,EAAAA,EAAAA,GAAKC,GAAOioE,aAAc,CAC1C,CAACjoE,GAAO,mBAA0C,OAAtB2nE,IAA+B5B,GAAS4B,EAAmBhpE,EAAO8b,KAAK9O,GAAG4hC,KAElG26B,EAAa,CAAE1sD,KAAMmuB,EAAO7pC,aAElC,IAAIulE,EAA6D,OAajE,OAXEA,EADEiC,GAAkBC,EACb,MACGD,GAAmBC,EAEpBV,EACFS,EAAiB,SAAW,MACzBxyB,EAGHwyB,EAAiB,QAAU,OAF3BA,EAAiB,OAAS,QAJ1B,OASI,QAATjC,EACKplE,EAAAA,cAAA,OAAAE,OAAAC,OAAA,CAAM0G,IAAK6E,GAAOo8D,EAAeG,EAAU,CAAEt6B,GAAIA,KAE7C,SAATy3B,EACKplE,EAAAA,cAAA,OAAAE,OAAAC,OAAA,CAAM0G,IAAK6E,GAAOo8D,EAAeG,EAAU,CAAEt6B,GAAI,KAEnD3tC,EAAAA,cAAA,OAAAE,OAAAC,OAAA,CAAM0G,IAAK6E,EAAG69B,EAAG27B,GAA6B4C,EAAWn6B,EAAIy3B,IAAW6C,GAAc,IAIrG,C,yBCvLA,SAASC,GAAOC,GACdp4C,KAAKq4C,SAAWD,CAClB,CA0Be,YAASA,GACtB,OAAO,IAAID,GAAOC,EACpB,CC9BO,SAAS76B,GAAEiiB,GAChB,OAAOA,EAAE,EACX,CAEO,SAAS/hB,GAAE+hB,GAChB,OAAOA,EAAE,EACX,CCcc,SAAU8Y,GAAU/iE,GAAkF,IAA9E,KAAEiyC,EAAI,OAAE74C,EAAM,MAAEgrC,EAAK,OAAE08B,EAAM,OAAEC,EAAM,kBAAEI,GAAuCnhE,E,MAClH,MAAMgjE,EAAc,CAAE,eAAe,EAAMrtB,OAAQvR,EAAOi+B,SAAU,QAAFrlE,OAAUmkE,EAAiB,MAG7F,GAAoB,SAAhB/nE,EAAOilB,KAAiB,CAC1B,MAAM4kD,ECpBK,WACb,IAAIj7B,EAAIk7B,GACJh7B,EAAIi7B,GACJC,GAAUrc,EAAAA,GAAAA,IAAS,GACnB8b,EAAU,KACVQ,EAAQC,GACR7Z,EAAS,KAEb,SAAS7U,EAAK1/B,GACZ,IAAI9O,EAEA69B,EAEAs/B,EAHAhrB,EAAIrjC,EAAKnY,OAETymE,GAAW,EAKf,IAFe,MAAXX,IAAiBpZ,EAAS4Z,EAAME,GAASvD,EAAAA,GAAAA,OAExC55D,EAAI,EAAGA,GAAKmyC,IAAKnyC,IACdA,EAAImyC,GAAK6qB,EAAQn/B,EAAI/uB,EAAK9O,GAAIA,EAAG8O,MAAWsuD,KAC5CA,GAAYA,GAAU/Z,EAAOga,YAC5Bha,EAAOia,WAEVF,GAAU/Z,EAAOnU,OAAOtN,EAAE/D,EAAG79B,EAAG8O,IAAQgzB,EAAEjE,EAAG79B,EAAG8O,IAGtD,GAAIquD,EAAQ,OAAO9Z,EAAS,KAAM8Z,EAAS,IAAM,IACnD,CAsBA,OApBA3uB,EAAK5M,EAAI,SAAS9xB,GAChB,OAAO/a,UAAU4B,QAAUirC,EAAiB,oBAAN9xB,EAAmBA,GAAI6wC,EAAAA,GAAAA,IAAU7wC,GAAI0+B,GAAQ5M,CACrF,EAEA4M,EAAK1M,EAAI,SAAShyB,GAChB,OAAO/a,UAAU4B,QAAUmrC,EAAiB,oBAANhyB,EAAmBA,GAAI6wC,EAAAA,GAAAA,IAAU7wC,GAAI0+B,GAAQ1M,CACrF,EAEA0M,EAAKwuB,QAAU,SAASltD,GACtB,OAAO/a,UAAU4B,QAAUqmE,EAAuB,oBAANltD,EAAmBA,GAAI6wC,EAAAA,GAAAA,KAAW7wC,GAAI0+B,GAAQwuB,CAC5F,EAEAxuB,EAAKyuB,MAAQ,SAASntD,GACpB,OAAO/a,UAAU4B,QAAUsmE,EAAQntD,EAAc,MAAX2sD,IAAoBpZ,EAAS4Z,EAAMR,IAAWjuB,GAAQyuB,CAC9F,EAEAzuB,EAAKiuB,QAAU,SAAS3sD,GACtB,OAAO/a,UAAU4B,QAAe,MAALmZ,EAAY2sD,EAAUpZ,EAAS,KAAOA,EAAS4Z,EAAMR,EAAU3sD,GAAI0+B,GAAQiuB,CACxG,EAEOjuB,CACT,CD7B0BA,GACnB5M,GAAG/D,IACF,IAAI+D,EAAI84B,EAAO/tB,QAAQ9O,EAAE+D,IAAa,EACtC,GAAI84B,EAAO5sB,gBAAiB,CAE1BlM,GADevkC,KAAK8pB,IAAI,EAAGuzC,EAAO/tB,QAAQoB,YAAc,GAAK,C,CAG/D,OAAOnM,CAAC,IAETE,GAAGjE,GAAuC88B,EAAOhuB,QAAQ9O,EAAEiE,IAAM,IAG9DyF,EAAcv0C,EAAO8b,KAAKoL,QAAOrb,IAAA,IAAC,EAAE+iC,GAAG/iC,EAAA,YAAkC7H,IAA7B0jE,EAAO/tB,QAAQ/K,EAAuB,IAExF,OACEttC,EAAAA,cAAA,OAAAE,OAAAC,OAAA,GACMmoE,EAAW,CACf/+B,EAAGg/B,EAAct1B,IAAqE,K,CAKvF,GAAI+yB,GAAatnE,GAAS,CAC7B,MAAOo7C,EAAIC,GAAMqsB,EAAO/tB,QAAQzlB,QAC1B4a,EAAI64B,EAAOhuB,QAAQ35C,EAAO8uC,GAC1B63B,EAAuB,MAAT9tB,EAAe,CAAEuC,KAAIC,KAAIC,GAAIxM,EAAGyM,GAAIzM,GAAM,CAAEsM,GAAItM,EAAGuM,GAAIvM,EAAGwM,GAAIF,EAAIG,GAAIF,GAC1F,OAAO/5C,EAAAA,cAAA,OAAAE,OAAAC,OAAA,GAAUmoE,EAAiBjD,G,CAI/B,GAAIY,GAAavnE,GAAS,CAC7B,MAAOs7C,EAAIC,GAAMosB,EAAOhuB,QAAQzlB,QAC1B2mB,EAAU6sB,EAAO5sB,gBAAkBzwC,KAAK8pB,IAAI,EAAGuzC,EAAO/tB,QAAQoB,YAAc,GAAK,EAAI,EACrFnM,GAAoC,QAA/B7uC,EAAA2nE,EAAO/tB,QAAQ35C,EAAO4uC,UAAS,IAAA7uC,EAAAA,EAAI65C,KAAOiB,EAC/C8rB,EAAuB,MAAT9tB,EAAe,CAAEuC,GAAIxM,EAAGyM,GAAIzM,EAAG0M,KAAIC,MAAO,CAAEH,GAAIE,EAAID,GAAIE,EAAID,GAAI1M,EAAG2M,GAAI3M,GAC3F,OAAOttC,EAAAA,cAAA,OAAAE,OAAAC,OAAA,GAAUmoE,EAAiBjD,G,CAIlC,OAAO,IAEX,CF9DA6C,GAAOv4C,UAAY,CACjBs5C,UAAW,WACTl5C,KAAKm5C,MAAQ,CACf,EACAC,QAAS,WACPp5C,KAAKm5C,MAAQ5wB,GACf,EACAywB,UAAW,WACTh5C,KAAKq5C,OAAS,CAChB,EACAJ,QAAS,YACHj5C,KAAKm5C,OAAyB,IAAfn5C,KAAKm5C,OAA+B,IAAhBn5C,KAAKq5C,SAAer5C,KAAKq4C,SAASiB,YACzEt5C,KAAKm5C,MAAQ,EAAIn5C,KAAKm5C,KACxB,EACAtuB,MAAO,SAAStN,EAAGE,GAEjB,OADAF,GAAKA,EAAGE,GAAKA,EACLzd,KAAKq5C,QACX,KAAK,EAAGr5C,KAAKq5C,OAAS,EAAGr5C,KAAKm5C,MAAQn5C,KAAKq4C,SAASkB,OAAOh8B,EAAGE,GAAKzd,KAAKq4C,SAASmB,OAAOj8B,EAAGE,GAAI,MAC/F,KAAK,EAAGzd,KAAKq5C,OAAS,EACtB,QAASr5C,KAAKq4C,SAASkB,OAAOh8B,EAAGE,GAErC,GIVF,MAAMg8B,GAAe,EAoBP,SAAUC,GAAUnkE,GAYb,IAZwC,KAC3DiyC,EAAI,WACJ4D,EAAU,UACVD,EAAS,sBACTqpB,EAAqB,kBACrBt6B,EAAiB,YACjBnrC,EAAW,kBACX4qE,EAAiB,cACjBC,EAAa,OACbvD,EAAM,OACNC,EAAM,MACNxxB,GACmBvvC,EACnB,MAAMmhE,GAAoBznD,EAAAA,GAAAA,GAAY,2CAGhC4qD,GAAmB5qD,EAAAA,GAAAA,GAAY,iCAE/B0nD,GAAmBrrD,EAAAA,EAAAA,UAAQ,KAC/B,IAAKvc,EACH,OAEF,MAAM+qE,EAA0E,GAQhF,OAPAF,EAAcjlD,SAAQna,IAAe,IAAd,OAAE7L,GAAQ6L,EACX,QAAhB7L,EAAOilB,KACTkmD,EAAQl+D,KAAKjN,EAAO8b,MAEpBqvD,EAAQl+D,KAAK,G,INWf,SACJm+D,G,YAEA,MAAMC,EAAiB,IAAIjoE,IACrBkoE,EAAiB,IAAIloE,IACrBy9C,EAAS,IAAIz9C,IACnB,IAAK,IAAIykE,EAAc,EAAGA,EAAcuD,EAAaznE,OAAQkkE,IAC3D,IAAK,MAAM/8B,KAASsgC,EAAavD,GAAc,CAC7C,MAAM1/D,EAAMk/D,GAAYv8B,EAAM8D,GAC1B9D,EAAMgE,EAAI,EACZu8B,EAAe7nE,IAAI2E,GAA6B,QAAvBpI,EAAAsrE,EAAe9nE,IAAI4E,UAAI,IAAApI,EAAAA,EAAI,GAAK+qC,EAAMgE,GAE/Dw8B,EAAe9nE,IAAI2E,GAA6B,QAAvBqW,EAAA8sD,EAAe/nE,IAAI4E,UAAI,IAAAqW,EAAAA,EAAI,GAAKssB,EAAMgE,GAEjE,MAAMy8B,EAA+E,QAAjE5sD,EAACmsB,EAAMgE,EAAI,EAAIu8B,EAAe9nE,IAAI4E,GAAOmjE,EAAe/nE,IAAI4E,UAAK,IAAAwW,EAAAA,EAAI,EACnF6sD,EAA+B,QAAf1gD,EAAA+1B,EAAOt9C,IAAI4E,UAAI,IAAA2iB,EAAAA,EAAI,IAAI1nB,IAC7CooE,EAAchoE,IAAIqkE,EAAa0D,GAC/B1qB,EAAOr9C,IAAI2E,EAAKqjE,E,CAGpB,OAAO3qB,CACT,CM7BW4qB,CAA0BN,EAAQ,GACxC,CAACF,EAAe7qE,IAEnB,OACEkB,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,sBAAkB,QAChBA,EAAAA,cAAA,YAAU4N,GAAI64D,GACZzmE,EAAAA,cAAA,QAAMstC,EAAG,EAAGE,EAAG,EAAGpc,MAAO8pB,EAAWv8C,OAAQw8C,KAE9Cn7C,EAAAA,cAAA,YAAU4N,GAAIg8D,GACZ5pE,EAAAA,cAAA,QAAMstC,EAAG,EAAGE,GAAIg8B,GAAe,EAAGp4C,MAAO8pB,EAAWv8C,OAAQw8C,EAAaquB,OAG7ExpE,EAAAA,cAAA,qBAAgB0pE,QAA2BhnE,EAAW8D,KAAK,SACxDmjE,EAAcjjE,KAAI,CAAA8gB,EAAoBzE,KAAS,IAA5B,OAAErkB,EAAM,MAAEgrC,GAAOliB,EACnC,MAAM2jB,EAAgBzsC,IAAWurC,EAC3BmB,IAAanB,IAAsBkB,EAEzC,OAAQzsC,EAAOilB,MACb,IAAK,OACL,IAAK,YACH,OACE3jB,EAAAA,cAAA,KACE6G,IAAKkc,EACLvc,KAAK,QAAO,aACA9H,EAAO6qB,MACnB1pB,WAAWC,EAAAA,EAAAA,GAAKC,GAAOrB,OAAQqB,GAAO,WAADuC,OAAY5D,EAAOilB,OAAS,CAC/D,CAAC5jB,GAAO,wBAAyBorC,EACjC,CAACprC,GAAO,mBAAoBqrC,KAG9BprC,EAAAA,cAACqoE,GAAU,CACT9wB,KAAMA,EACN74C,OAAQA,EACRgrC,MAAOA,EACP08B,OAAQA,EACRC,OAAQA,EACRI,kBAAmBmD,KAM3B,IAAK,MACH,OACE5pE,EAAAA,cAACmmE,GAAS,CACRt/D,IAAKkc,EACLw0B,KAAMA,EACN74C,OAAQA,EACRgrC,MAAOA,EACP48B,iBAAkBqD,EAAc/jD,QAAOqlB,GAAuB,QAAlBA,EAAEvsC,OAAOilB,OAAgBthB,OACrEkkE,YAAaxjD,EACbqjD,OAAQA,EACRC,OAAQA,EACRG,SAAmB,MAATjvB,EAAe2D,EAAYC,EACrCr0B,YAAaqkB,EACb+G,OAAQ9G,EACRq7B,kBAAmBA,EACnBC,iBAAkBA,EAClBnC,sBAAuBA,EACvB1vB,MAAOA,I,KAQzB,CCtHc,SAAUu1B,GAAiB9kE,GAUxC,IAVmE,SAClEwmB,EAAQ,OACRptB,EAAM,eACN2rE,EAAc,2BACdlrE,GAMDmG,EACC,MAAMglE,EAAoBD,EAAiBA,EAAev+C,GAAYA,EAASvO,WAEzE4zB,EAAmC,GAQzC,OAPAzyC,EAAOgmB,SAAQumB,IACb,MAAMhN,EASV,SAAwB1zB,GAQvB,IAR2B,eAC1BggE,EAAc,QACdC,EAAO,2BACPrrE,GAKDoL,E,MACC,MAAM,OAAE7L,EAAM,MAAEgrC,GAAU6gC,EAG1B,GAAItE,GAAavnE,GACf,OAAOA,EAAO4uC,IAAMk9B,EAChB,CACE3jE,IAAKnI,EAAO6qB,MACZ/mB,MAAO,GACPknC,QACAqI,WAAY,UAEd,KAGN,GAAIi0B,GAAatnE,GACf,MAAO,CACLmI,IAAKnI,EAAO6qB,MACZ/mB,MAAO9D,EAAO+rE,eAAiB/rE,EAAO+rE,eAAe/rE,EAAO8uC,GAAK9uC,EAAO8uC,EACxE9D,QACAqI,WAAY,UAIhB,GAAIm0B,GAAaxnE,GACf,IAAK,MAAM8qC,KAAS9qC,EAAO8b,KACzB,GAAIsrD,GAAS0E,EAAShhC,EAAM8D,GAAI,CAC9B,MAAMo9B,EAAgBvrE,EAClBA,EAA2B,CAAET,SAAQ4uC,EAAGk9B,EAASh9B,EAAGhE,EAAMgE,SAC1D9qC,EACEioE,KAAuC,QAAvBlsE,EAAa,OAAbisE,QAAa,IAAbA,OAAa,EAAbA,EAAe14B,gBAAQ,IAAAvzC,OAAA,EAAAA,EAAE4D,QACzCuoE,GAA4B,OAAbF,QAAa,IAAbA,OAAa,EAAbA,EAAev4B,aAAcw4B,EAC5CE,EAA4C,kBAAV,OAAbH,QAAa,IAAbA,OAAa,EAAbA,EAAe7jE,KACpCA,IAAmB,OAAb6jE,QAAa,IAAbA,OAAa,EAAbA,EAAe7jE,MAAS+jE,IAAgBC,EAAmCnsE,EAAO6qB,MAA3BmhD,EAAc7jE,IAqBjF,OAnBiB,OAAb6jE,QAAa,IAAbA,OAAa,EAAbA,EAAev4B,cAAew4B,IAChC5mE,EAAAA,EAAAA,IACE,oBACA,iGAGA6mE,IAAiBC,IACnB9mE,EAAAA,EAAAA,IACE,oBACA,sKAGC8mE,GAAgBD,KAA6B,OAAbF,QAAa,IAAbA,OAAa,EAAbA,EAAeloE,QAAwC,kBAAxBkoE,EAAcloE,QAChFuB,EAAAA,EAAAA,IACE,oBACA,kJAIG,CACL8C,MACArE,OAAoB,OAAbkoE,QAAa,IAAbA,OAAa,EAAbA,EAAeloE,SAAU9D,EAAO+rE,eAAiB/rE,EAAO+rE,eAAejhC,EAAMgE,EAAGg9B,GAAWhhC,EAAMgE,GACxG9D,QACAqI,WAA4B,SAAhBrzC,EAAOilB,KAAkB,OAAS,YAC9CquB,SAAuB,OAAb04B,QAAa,IAAbA,OAAa,EAAbA,EAAe14B,SACzBC,aAAc24B,EAAelsE,EAAO6qB,WAAQ7mB,E,CAMpD,OAAO,IACT,CApFmBooE,CAAgB,CAAEP,eAAgBt/B,EAAGu/B,QAAS1+C,EAAU3sB,+BACnE8+B,GACFkT,EAAQxlC,KAAKsyB,E,IAIV,CAAEnS,SAAUw+C,EAAmBn5B,UACxC,C,eCzBA,MAAM45B,GAAmB,EACnBC,GAAmB,GAenB,SAAUC,GAAa3lE,GAWL,IAXS,QAC/B4lE,EAAO,WACP56B,EAAU,aACV66B,EAAY,UACZ7G,EAAS,eACT8G,EAAc,eACdC,EAAc,uBACdC,EAAsB,kBACtB5B,EAAiB,mBACjB6B,EAAkB,WAClBC,GACsBlmE,EACtB,MAAMmmE,EAAsBrrD,I,MAC1B,GAAsB,QAAlB3hB,EAAA6xC,EAAWtuC,eAAO,IAAAvD,OAAA,EAAAA,EAAEitE,WAAY,CAClC,MAAMC,EAAmBr7B,EAAWtuC,QAAQ0pE,WAA2Bj7C,wBACvE,GACErQ,EAAMwrD,QAAUD,EAAgBr+B,EAAI09B,IACpC5qD,EAAMwrD,QAAUD,EAAgBr+B,EAAIq+B,EAAgBv6C,MAAQ45C,IAC5D5qD,EAAMyrD,QAAUF,EAAgBn+B,EAAIw9B,IACpC5qD,EAAMyrD,QAAUF,EAAgBn+B,EAAIm+B,EAAgBhtE,OAASqsE,GAE7D,OAAO,C,CAGX,OAAO,CAAK,EA0Fd,MAAO,CAAEc,eA9Be1rD,IAClBA,EAAMqP,SAAWy7C,EAAQlpE,QAASwmB,KAAQ+iD,GAAuBE,EAAmBrrD,KAClFspD,EAtBkBtpD,KACxB,MAAM2rD,EAAW3rD,EAAMqP,OAAsBgB,wBACvC4c,EAAUjtB,EAAMwrD,QAAUG,EAAQrrD,KAClC6sB,EAAUntB,EAAMyrD,QAAUE,EAAQ13B,IAGxC,IAAK,IAAIlvB,EAAa,EAAGA,EAAam/C,EAAUjiE,OAAQ8iB,IAAc,CACpE,MACE2G,UAAU,EAAEwhB,EAAC,EAAEE,EAAC,MAAEpc,EAAK,OAAEzyB,IACvB2lE,EAAUn/C,GAEd,GAAImoB,GAAKD,GAAWA,GAAWC,EAAIlc,GAASoc,GAAKD,GAAWA,GAAWC,EAAI7uC,EAEzE,YADA0sE,EAAelmD,E,CAKnBmmD,GAAwB,EAMpBU,CAAiB5rD,GACR+qD,EAAa9oE,OAAS,GA7DV+d,K,QACzB,MAAM2rD,EAAW3rD,EAAMqP,OAAsBgB,wBACvC4c,EAAUjtB,EAAMwrD,QAAUG,EAAQrrD,KAElCurD,EAAWd,EACdzkE,KAAIytD,GAAKA,EAAE7mB,IACX7pB,QAAO,CAACpE,EAAMskD,IAAU56D,KAAKC,IAAI26D,EAAOt2B,GAAWtkC,KAAKC,IAAIqW,EAAOguB,GAAWs2B,EAAOtkD,IAAO,KAE/F,GAAIu6B,SAASqyB,GAAW,CACtB,MAAM1+B,EAAUntB,EAAMyrD,QAAUE,EAAQ13B,IAClC63B,EAAWf,EACdvlD,QAAOuuC,GAAKA,EAAE7mB,IAAM2+B,GAAYjG,GAAa7R,EAAEz1D,UAC/CgI,KAAIytD,GAAKA,EAAE3mB,IACX/pB,QAAO,CAACpE,EAAMskD,IAAU56D,KAAKC,IAAI26D,EAAOp2B,GAAWxkC,KAAKC,IAAIqW,EAAOkuB,GAAWo2B,EAAOtkD,IAAO,KAE/F,GACEu6B,SAASsyB,IACTnjE,KAAKC,IAAIqkC,EAAU4+B,GAAYlB,IAC/BhiE,KAAKC,IAAIukC,EAAU2+B,GAAYnB,GAC/B,CACA,OAAO,MAAErhC,EAAK,MAAEF,EAAK,OAAE9qC,IAAYysE,EAAavlD,QAC9CqlB,IAAMA,EAAEqC,IAAM2+B,GAAYjG,GAAa/6B,EAAEvsC,UAAYusC,EAAEuC,IAAM0+B,IAE/Dd,EAAe,CAAE99B,EAAG2+B,EAAUz+B,EAAG0+B,EAAUxiC,QAAOF,QAAO9qC,U,KACpD,CACL,IAAIytE,EAAS,KACb,IAAK,MAAMvxB,KAASuwB,EAClB,GAAIvwB,EAAMtN,IAAM2+B,EAAU,CACxBE,EAAuB,QAAdjvD,EAAW,QAAXze,EAAAm8C,EAAMpR,aAAK,IAAA/qC,OAAA,EAAAA,EAAE6uC,SAAC,IAAApwB,EAAAA,EAAI,KAC3B,K,CAGJsuD,EAAW,CAAEY,QAASH,EAAU/kD,MAAOilD,G,IA8BvCE,CAAkBjsD,G,EAyBCksD,cApBFlsD,IACjBmrD,GAAsBE,EAAmBrrD,OAI1CqwB,EAAAA,GAAAA,GAAay6B,EAAQlpE,QAASwmB,IAAKpI,EAAMuB,gBACzCvB,EAAMuB,eAAkBvB,EAAMuB,cAA0B4qD,UAAU3qD,SAAS7hB,GAAOrB,WAEnF8sE,EAAW,MACXF,I,EAWoCkB,eAPhBpsD,KACjBmrD,IAAsB96B,EAAAA,GAAAA,GAAay6B,EAAQlpE,QAASwmB,IAAKpI,EAAMuB,iBAClE6pD,EAAW,MACXF,I,EAKN,C,eC3IM,SAAUmB,GAAY1pD,EAAazd,GAA8B,IAA3BmsC,EAAMi7B,GAAqBpnE,EACrE,OAAIyd,EAAQ0uB,EACHi7B,EAEL3pD,EAAQ2pD,EACHj7B,EAEF1uB,CACT,CC0BM,SAAU4pD,GAAarnE,GAmBL,IAnBgC,OACtD5G,EAAM,cACNirE,EAAa,aACbwB,EAAY,UACZ7G,EAAS,OACT8B,EAAM,OACNC,EAAM,iBACNuG,EAAgB,sBAChBrI,EAAqB,kBACrBt6B,EAAiB,mBACjBshC,EAAkB,WAClBsB,EAAU,gBACVC,EAAe,eACfzB,EAAc,eACdD,EAAc,WACdI,EAAU,gBACVuB,EAAe,MACfl4B,EAAK,eACL91C,GACsBuG,EACtB,MAAOklE,EAASwC,IAAcpoE,EAAAA,EAAAA,UAAmB,OAC1CqoE,EAAQC,IAAatoE,EAAAA,EAAAA,UAAS,GAK/B8kE,GAAoBruD,EAAAA,EAAAA,UAAQ,IAAMsuD,EAAcvmD,MAAK7Y,IAAA,IAAC,OAAE7L,GAAQ6L,EAAA,MAAqB,QAAhB7L,EAAOilB,IAAc,KAAG,CAACgmD,KAG9F,gBAAEwD,IAAoB9xD,EAAAA,EAAAA,UAAQ,IV3BhC,SAAwD3c,GAC5D,MAAMyuE,EAAgE,GACtE,IAAIC,GAA2B,EAa/B,OAXA1uE,EAAOgmB,SAAQ6lD,IACsB,QAA/BA,EAAe7rE,OAAOilB,MAES,IAA7BypD,IACFA,EAA0BD,EAAgB9qE,OAC1C8qE,EAAgBxhE,KAAK4+D,EAAe7rE,SAGtCyuE,EAAgBxhE,KAAK4+D,EAAe7rE,O,IAGjC,CAAEyuE,kBAAiBC,0BAC5B,CUW4CC,CAAoB1D,IAAgB,CAACA,IACzE2D,EAAyBH,EAAgB9qE,OAAS,EA6BlDkrE,GAAalyD,EAAAA,EAAAA,UAAQ,KACzB,MAAMlS,EAAS,GACf,IAAK,IAAIuC,EAAI,EAAGA,EAAIy/D,EAAa9oE,OAAQqJ,GAAK,EAAG,CAC/C,MAAMkvC,EAAQuwB,EAAaz/D,QACbhJ,IAAVk4C,GAAyBzxC,EAAO9G,QAAU8G,EAAOA,EAAO9G,OAAS,GAAG+pE,UAAYxxB,EAAMtN,GACxFnkC,EAAOwC,KAAK,CAAEygE,QAASxxB,EAAMtN,EAAG9D,MAAOoR,EAAMpR,O,CAGjD,OAAOrgC,CAAM,GACZ,CAACgiE,IAEEqC,GAAoBt0C,EAAAA,EAAAA,cACxB,CAAC8B,EAAmByyC,K,cAClB,GAAI/D,EACF,OAGF,MAAMnwB,EAAU6sB,EAAO5sB,gBAAkBzwC,KAAK8pB,IAAI,EAAGuzC,EAAO/tB,QAAQoB,YAAc,GAAK,EAAI,EACrFi0B,EAAmBP,EAAgB9qE,OAAS,EAGlD,IAAIsrE,GAAuB,EACvB1jC,IACF0jC,EAAsBR,EAAgBlqE,QAAQgnC,IAKhD,MAAM2jC,EAAqBN,GAA0B,EAAI,EACzD,IAAIO,EAAkB,EAStB,GAR4B,OAAxBF,IACFE,EAAkBF,EAAsB3yC,EACpC6yC,EAAkBH,EACpBG,EAAkBD,EACTC,EAAkBD,IAC3BC,EAAkBH,KAGG,IAArBG,EAGF,OAFAf,EAAgB,WAChB1B,EAAe,MAGjB,MAAM0C,EAAaX,EAAgBU,GAC7BE,EAAqBrvE,EAAOknB,QAAO4B,IAAA,IAAC,OAAE9oB,GAAQ8oB,EAAA,OAAK9oB,IAAWovE,CAAU,IAAE,GAE1EE,EAAoC,QAApBvvE,EAAO,OAAP+rE,QAAO,IAAPA,EAAAA,EAAWiD,SAAS,IAAAhvE,EAAAA,EAAI,KAG9C,IAAIwvE,GAAoD,QAApC/wD,EAAAkpD,EAAO/tB,QAAQ21B,UAAqB,IAAA9wD,EAAAA,EAAIo7B,KAAOiB,EAKnE,GAJKK,SAASq0B,KACZA,EAAe,GAGO,SAApBH,EAAWnqD,KAAiB,CAC9B,MACMuqD,EADmB/C,EAAavlD,QAAO0wB,GAAMA,EAAG53C,SAAWovE,IACjBrqD,QAC9C,CAACpE,EAAMskD,IAAU56D,KAAKC,IAAI26D,EAAKr2B,EAAI2gC,GAAgBllE,KAAKC,IAAIqW,EAAKiuB,EAAI2gC,GAAgBtK,EAAOtkD,GAC5F,CAAEiuB,GAAIilB,IAAU/kB,GAAI+kB,MAEtB6Y,EAAclrE,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EAAI+tE,GAAsB,CAAExkC,MAAOqkC,EAAmBrkC,MAAOhrC,OAAQovE,I,MAChF,GAAI9H,GAAa8H,GAAa,CACnC,MAAMK,EAAoBhD,EAAazkE,KAAI4vC,IAAK,IAAA73C,EAAC,OAAQ,QAARA,EAAA63C,EAAG9M,aAAK,IAAA/qC,OAAA,EAAAA,EAAE6uC,IAAK,IAAI,IAAErqC,QAAQ+qE,GAC9E5C,EAAe,CACb99B,EAAG2gC,EACHzgC,EAA+B,QAA5BnwB,EAAAgpD,EAAOhuB,QAAQy1B,EAAWtgC,UAAE,IAAAnwB,EAAAA,EAAIi7B,IACnC5O,MAAOqkC,EAAmBrkC,MAC1BhrC,OAAQovE,EACRtkC,MAAsC,QAA/BhgB,EAAA2hD,EAAagD,UAAkB,IAAA3kD,OAAA,EAAAA,EAAEggB,O,MAEjCy8B,GAAa6H,IACtB1C,EAAe,CACb99B,EAAsC,QAAnC5jB,EAAA08C,EAAO/tB,QAAQy1B,EAAWxgC,UAAS,IAAA5jB,EAAAA,EAAI4uB,IAC1C9K,EAAG64B,EAAOhuB,QAAQzlB,QAAQ,GAC1B8W,MAAOqkC,EAAmBrkC,MAC1BhrC,OAAQovE,EACRtkC,MAAO,CAAE8D,EAAGwgC,EAAWxgC,EAAGE,EAAG8K,M,GAInC,CACEoxB,EACAtD,EACA+G,EACAljC,EACAqjC,EACAR,EACA1B,EACA1sE,EACA8rE,EACAW,EACA9E,IAIE+H,GAAmBl1C,EAAAA,EAAAA,cACtB8B,I,MACC,MAAMt8B,EAASurC,GAAqB0/B,EAAc,GAAGjrE,OAErD,GAAoB,SAAhBA,EAAOilB,MAAmBqiD,GAAatnE,GAAS,CAClD,MAAM2vE,EAAqBlD,EAAavlD,QAAO0wB,GAAMA,EAAG53C,SAAWA,IAC7D4vE,EAAgB1B,GAAoByB,EAAmB,GAEvDE,EAAiB9B,GADM4B,EAAmB3nE,KAAI4vC,GAAMA,EAAGhJ,IAAGrqC,QAAQqrE,EAAchhC,GAC5BtS,EAAW,CAAC,EAAGqzC,EAAmBhsE,OAAS,IAC/FmsE,EAAYH,EAAmBE,GAErCvB,GAA0B,QAAfvuE,EAAA+vE,EAAUhlC,aAAK,IAAA/qC,OAAA,EAAAA,EAAE6uC,IAAK,MACjC4/B,EAAUqB,GACVnD,EAAeoD,E,MACV,GAAoB,QAAhB9vE,EAAOilB,KAAgB,CAChC,MAAM8qD,EAAUrI,EAAOxnB,OACjB8vB,EAAkBD,EAAQpsE,OAAS,EAEzC,IAAIsjE,EAAiB,EACS,OAA1BpB,IACE1vB,IAAU91C,IACZi8B,GAAaA,GAIf2qC,EAAiBpB,EAAwBvpC,EACrC2qC,EAAiB+I,EACnB/I,EAAiB,EACRA,EAAiB,IAC1BA,EAAiB+I,IAIrB,MAAMC,EAAkBjJ,GAAqBC,EAAgBrB,EAAWtpC,GACxEgyC,EAAWyB,EAAQE,IACnBtD,EAAesD,E,IAGnB,CACE1kC,EACA0/B,EACAwB,EACAyB,EACAxB,EACAhF,EAAOxnB,OACP2lB,EACAD,EACA+G,EACAx2B,EACA91C,IAIE6vE,GAAuB11C,EAAAA,EAAAA,cAC1BnW,I,YACC,MAAM63B,EAAQ2yB,EAAWxqD,GACzBmqD,EAAUnqD,GACViqD,GAAsB,QAAXvuE,EAAAm8C,EAAMpR,aAAK,IAAA/qC,OAAA,EAAAA,EAAE6uC,IAAK,MAC7Bk+B,EAAW,CAAEY,QAAuB,QAAdlvD,EAAK,OAAL09B,QAAK,IAALA,OAAK,EAALA,EAAOwxB,eAAO,IAAAlvD,EAAAA,EAAI,KAAMgK,MAAqB,QAAdsC,EAAW,QAAXnM,EAAAu9B,EAAMpR,aAAK,IAAAnsB,OAAA,EAAAA,EAAEiwB,SAAC,IAAA9jB,EAAAA,EAAI,MAAO,GAEhF,CAAC+jD,EAAY/B,IAGTqD,GAAkB31C,EAAAA,EAAAA,cACrB8B,IACC,GAAIiP,GAAqBy/B,EACvB0E,EAAiBpzC,OACZ,CACL,MAAM8zC,EAAsBrC,GAAYQ,EAASjyC,EAAW,CAAC,EAAGuyC,EAAWlrE,OAAS,IACpFusE,EAAqBE,E,IAGzB,CAAC7kC,EAAmBy/B,EAAmB0E,EAAkBnB,EAAQM,EAAWlrE,OAAQusE,IAGhFnoE,GAAYyyB,EAAAA,EAAAA,cACf9Y,IACC,MAAMU,EAAUV,EAAMU,QAEpBA,IAAYP,GAAAA,EAAQC,IACpBM,IAAYP,GAAAA,EAAQI,OACpBG,IAAYP,GAAAA,EAAQE,MACpBK,IAAYP,GAAAA,EAAQG,MACpBI,IAAYP,GAAAA,EAAQK,OACpBE,IAAYP,GAAAA,EAAQM,QAKtBT,EAAMW,iBAEFwqD,IAIAzqD,IAAYP,GAAAA,EAAQE,MAAQK,IAAYP,GAAAA,EAAQC,GAClDgtD,EAAkB1sD,IAAYP,GAAAA,EAAQE,KAAO,GAAK,GACzCK,IAAYP,GAAAA,EAAQG,MAAQI,IAAYP,GAAAA,EAAQI,MACzDkuD,EAAgB/tD,IAAYP,GAAAA,EAAQI,MAAQ,GAAK,GACxCG,IAAYP,GAAAA,EAAQM,OAASC,IAAYP,GAAAA,EAAQK,OAC1DisD,K,GAGJ,CAACtB,EAAoBiC,EAAmBqB,EAAiBhC,IAG3D,MAAO,CAAEnD,oBAAmB5kE,QAnNZA,KACV4kE,EAlBkBqF,MACtB,MAAM5pD,EAAkC,OAArBo/C,QAAqB,IAArBA,EAAAA,EAAyB,EAC5CyI,EAAY5G,EAAOxnB,OAAez5B,IAClCkmD,EAAelmD,EAAW,EAgBxB4pD,GAbgBC,M,MAClB,GAAwB,OAApBjC,EAA0B,CAC5B,MAAMhqD,EAAS8xB,EAAY04B,EAAWlrE,OAAS,EAAxB,EACnBirE,EACFsB,EAAqB7rD,GAErByqD,EAAkB,EAA0B,QAAvB/uE,EAAA8uE,EAAWxqD,GAAOymB,aAAK,IAAA/qC,OAAA,EAAAA,EAAE6uC,E,GAShD0hC,E,EA+MiCvoE,YAAWwmE,SAClD,CC5Rc,SAAUgC,GACtBC,EACA9I,EACAC,GAEA,MAAM9sB,EAAU6sB,EAAO5sB,gBAAkBzwC,KAAK8pB,IAAI,EAAGuzC,EAAO/tB,QAAQoB,YAAc,GAAK,EAAI,EACrF01B,EAAU7hC,IAAU84B,EAAO/tB,QAAQ/K,IAAa,GAAKiM,EACrD61B,EAAU5hC,GAAc64B,EAAOhuB,QAAQ7K,IAAM,EAC7C6hC,EA4ER,SAAoB3wE,GAClB,MAAM4wE,EAAc,IAAI3yC,IACxB,IAAK,MAAQj+B,OAAQusC,KAAOvsC,EAC1B,OAAQusC,EAAEtnB,MAER,IAAK,MACL,IAAK,OACH,IAAK,MAAM4lB,KAAK0B,EAAEzwB,KAChB80D,EAAY5yC,IAAI6M,EAAE+D,GAEpB,MAEF,IAAK,YAEC24B,GAAah7B,IACfqkC,EAAY5yC,IAAIuO,EAAEqC,GAM1B,MAAMiiC,EAAgB,GAGtB,OAFAD,EAAY5qD,SAAQ4oB,GAAKiiC,EAAS5jE,KAAK2hC,KAEhCiiC,CACT,CArGeC,CAAQN,GAErB,SAASO,EACPC,EACAC,EACAC,G,QAEA,MAAMtiC,EAAI6hC,EAAOQ,EAAiBriC,GAGlC,IAAIuiC,GAAe,EACnB,IAAK,IAAInkE,EAAI,EAAGA,EAAIgkE,EAAartE,OAAS,EAAGqJ,IAC3C,GAAIgkE,EAAahkE,GAAG4hC,EAAIA,GAAKA,EAAIoiC,EAAahkE,EAAI,GAAG4hC,EAAG,CACtDuiC,EAAcnkE,EACd,K,CAMJ,IAAqB,IAAjBmkE,EAAoB,CACtB,MAEMC,KAFuC,QAA/BrxE,EAAAixE,EAAaG,GAAarmC,aAAK,IAAA/qC,OAAA,EAAAA,EAAE+uC,IAAK,KACH,QAAnCtwB,EAAAwyD,EAAaG,EAAc,GAAGrmC,aAAK,IAAAtsB,OAAA,EAAAA,EAAEswB,IAAK,IACrB,EACnCkiC,EAAa/jE,KAAK,CAChB2hC,EAAGA,EACHE,EAAG4hC,EAAOU,GACVtmC,MAAO,CAAE8D,EAAGqiC,EAAiBriC,EAAGE,EAAG8K,KACnC55C,OAAQgxE,EAAaG,GAAanxE,OAClCgrC,MAAOkmC,G,CAGb,CAEA,MAAMG,EAAgBb,EAAUxoE,KAAIpB,IAAsB,IAArB,OAAE5G,EAAM,MAAEgrC,GAAOpkC,EACpD,MAAMoqE,EAAiC,GAGvC,GAAoB,SAAhBhxE,EAAOilB,KAAiB,CAC1B,IAAK,MAAM6lB,KAAS9qC,EAAO8b,KACzBk1D,EAAa/jE,KAAK,CAAE2hC,EAAG6hC,EAAO3lC,EAAM8D,GAAIE,EAAG4hC,EAAO5lC,EAAMgE,GAAIhE,QAAO9qC,SAAQgrC,UAI7EgmC,EAAajI,MAAK,CAACuI,EAAIC,IAAOD,EAAG1iC,EAAI2iC,EAAG3iC,IAGxC,IAAK,MAAM4iC,KAAehB,EACpBjJ,GAAaiK,EAAYxxE,SAC3B+wE,EAAqCC,EAAcQ,EAAYxxE,OAAQwxE,EAAYxmC,M,MAKpF,GAAIs8B,GAAatnE,GAAS,CAC7B,IAAK,MAAM4uC,KAAK+hC,EACdK,EAAa/jE,KAAK,CAAE2hC,EAAG6hC,EAAO7hC,GAAIE,EAAG4hC,EAAO1wE,EAAO8uC,GAAIhE,MAAO,CAAE8D,IAAGE,EAAG9uC,EAAO8uC,GAAK9uC,SAAQgrC,UAGxE,IAAhB2lC,EAAKhtE,QACPqtE,EAAa/jE,KAAK,CAAE2hC,EAAGgL,IAAK9K,EAAG4hC,EAAO1wE,EAAO8uC,GAAI9uC,SAAQgrC,S,MAIpDu8B,GAAavnE,IACpBgxE,EAAa/jE,KAAK,CAAE2hC,EAAG6hC,EAAOzwE,EAAO4uC,GAAIE,EAAG8K,IAAK9O,MAAO,CAAE8D,EAAG5uC,EAAO4uC,EAAGE,EAAG8K,KAAO55C,SAAQgrC,UAG3F,OAAOgmC,CAAY,IAIrB,OA+BF,SAAoBS,GAClB,MAAMC,EAAc,GACpB,IAAK,MAAMC,KAASF,EAClB,IAAK,MAAM9qD,KAAQgrD,EACjBD,EAAOzkE,KAAK0Z,GAGhB,OAAO+qD,CACT,CAvCSE,CAAQP,GAAetI,MAAK,CAACuI,EAAIC,IAAOD,EAAG1iC,EAAI2iC,EAAG3iC,GAC3D,CC3DA,MAAMijC,GAA6B,GAC7BC,GAA0B,GA+D1BC,GAAyB,IAEjB,SAAUC,GAAyCjyE,G,OAAA,UAC/De,EACAb,OAAQgyE,EAAkB,OAC1BjyE,EAAM,cACNirE,EAAa,kBACb1/B,EAAiB,kBACjBD,EAAiB,iBACjB4iC,EAAgB,oBAChBgE,EAAmB,sBACnBrM,EAAqB,yBACrBsM,EAAwB,oBACxBC,EAAmB,kBACnB9xE,EAAoB,SAAQ,YAC5BF,GAAc,EAAK,eACnBC,GAAiB,EAAK,WACtBH,EAAU,WACVC,EAAU,eACVwrE,EAAc,eACd0G,EAAc,sBACd7xE,EAAqB,OACrB8xE,EAAM,OACNC,EAAM,UACNr1D,EAAS,eACT/V,EAAc,gBACdsoC,EAAe,YACf3xB,EAAc,CAAC,EAAC,2BAChBrd,GAA0BV,EACvBW,GAAKC,EAAAA,EAAAA,IAAAZ,EA3BuD,8bA6B/D,MAAMysE,GAAUrpE,EAAAA,EAAAA,QAAqB,MAC/BqvE,GAAoBrvE,EAAAA,EAAAA,QAAuB,OAE1CsvE,EAAwBC,IAA6BxsE,EAAAA,EAAAA,UAAS,IAC9DmoE,EAAiBsE,IAAsBzsE,EAAAA,EAAAA,UAAoC,OAC3E0sE,EAAoBC,KAAyB3sE,EAAAA,EAAAA,UAAS,KACtD4sE,GAAgBC,KAAuB96B,EAAAA,GAAAA,GAAkB85B,IAC1DiB,GAA4B3oE,KAAKi1C,MAAMwzB,GAAiB,GACxDt2B,GAAYs2B,GAEdzoE,KAAK8pB,IACH,EACA2+C,GAAiBzoE,KAAKiqB,IAAIm+C,EAAwBO,IAA6BnB,IAEjFE,GACEkB,IAAqB9vE,EAAAA,EAAAA,QAAO,MAC5BuoC,IAAevlC,EAAAA,EAAAA,GAAa4sE,GAAqBE,IACjDrhC,IAAazuC,EAAAA,EAAAA,QAA2B,MAExCgzC,IAAQC,EAAAA,EAAAA,IAAS68B,GAAmB3vE,SAEpCysE,GAAWrvE,EAAMqvE,SCnJnB,SAA4B/vE,EAA2CE,GAC3E,MAAmB,gBAAfA,EACKF,EAAO+kB,QAAO,CAACC,EAAKunB,KACrBi7B,GAAaj7B,EAAEvsC,SACjBusC,EAAEvsC,OAAO8b,KAAKkK,SAAQpf,IAAU,IAAT,EAAEgoC,GAAGhoC,GACF,IAApBoe,EAAIzgB,QAAQqqC,IACd5pB,EAAI/X,KAAK2hC,E,IAIX24B,GAAah7B,EAAEvsC,UACgB,IAA7BglB,EAAIzgB,QAAQgoC,EAAEvsC,OAAO4uC,IACvB5pB,EAAI/X,KAAKs/B,EAAEvsC,OAAO4uC,GAGf5pB,IACN,IAGEhlB,EAAO+kB,QAAO,CAACC,EAAKigD,KAEzB,GAAIqC,GAAarC,EAAKjlE,QACpB,OAAOglB,EAIT,GAAIuiD,GAAatC,EAAKjlE,QAAS,CAC7B,MAAOs0B,EAAKH,GAAOnP,EAGnB,MAAO,MAFgBhhB,IAARswB,GAA6B,OAARA,GAAgB2wC,EAAKjlE,OAAO4uC,EAAIta,EAAM2wC,EAAKjlE,OAAO4uC,EAAIta,OACnEtwB,IAARmwB,GAA6B,OAARA,GAAgBA,EAAM8wC,EAAKjlE,OAAO4uC,EAAIq2B,EAAKjlE,OAAO4uC,EAAIza,E,CAK5F,OAAIqzC,GAAavC,EAAKjlE,QACbilE,EAAKjlE,OAAO8b,KAAKiJ,QAAO,CAAAlZ,EAAAid,KAAsB,IAApBwL,EAAKH,GAAItoB,GAAE,EAAE+iC,GAAG9lB,EAG/C,MAAO,MAFgB9kB,IAARswB,GAA6B,OAARA,GAAgBsa,EAAIta,EAAMsa,EAAIta,OAC3CtwB,IAARmwB,GAA6B,OAARA,GAAgBA,EAAMya,EAAIA,EAAIza,EACpC,GAC7BnP,GAGEA,CAAG,GACT,GACL,CDuGoCkuD,CAAelzE,EAAQE,GAInDizE,GAAWzyE,EAAMyyE,SC/FnB,SACJnzE,EACAi7C,EACA76C,GAEA,IAAIgzE,EAAUpzE,EAGd,GAAII,EAAa,CACf,MAAM,aAAEizE,EAAY,aAAEC,GAAiBtzE,EAAO+kB,QAC5C,CAACC,EAAKigD,KACqB,QAArBA,EAAKjlE,OAAOilB,MACdggD,EAAKjlE,OAAO8b,KAAKkK,SAAQmD,IAAa,IAAZ,EAAEylB,EAAC,EAAEE,GAAG3lB,EAChC,MAAMrN,EAAOgzB,EAAI,EAAI9pB,EAAIsuD,aAAetuD,EAAIquD,aACtCE,EAxBlB,SAAiBh/C,EAAmBi/C,GAClC,IAAK,IAAIxmE,EAAI,EAAGA,EAAIunB,EAAI5wB,OAAQqJ,IAE9B,GADcwmE,EAAKj/C,EAAIvnB,IAErB,OAAOunB,EAAIvnB,GAGf,OAAO,IACT,CAgBiCymE,CAAK33D,GAAMiY,GAAMqzC,GAASrzC,EAAG6a,EAAGA,KAMrD,OALI2kC,EACFA,EAAazkC,GAAKA,EAElBhzB,EAAK7O,KAAK,CAAE2hC,IAAGE,MAEV9pB,CAAG,IAGPA,IAET,CACEquD,aAAc,GACdC,aAAc,KA6BlBF,EAAU,CAvBR,CACEpoC,MAAO,GACP3mB,MAAOu1B,IACP55C,OAAQ,CACNilB,KAAM,MACN4F,MAAO,WACP/O,KAAMu3D,IAGV,CACEroC,MAAO,GACP3mB,MAAOu1B,IACP55C,OAAQ,CACNilB,KAAM,MACN4F,MAAO,WACP/O,KAAMw3D,OAQoBF,EAAQlsD,QAAOqlB,GAAuB,QAAlBA,EAAEvsC,OAAOilB,O,CAG/D,MAAMi7B,EAASkzB,EAAQruD,QACrB,CAACC,EAAKigD,KAEJ,GAAIqC,GAAarC,EAAKjlE,QAAS,CAC7B,MAAOs0B,EAAKH,GAAOnP,EAGnB,MAAO,MAFgBhhB,IAARswB,GAAqB2wC,EAAKjlE,OAAO8uC,EAAIxa,EAAM2wC,EAAKjlE,OAAO8uC,EAAIxa,OACnDtwB,IAARmwB,GAAqBA,EAAM8wC,EAAKjlE,OAAO8uC,EAAIm2B,EAAKjlE,OAAO8uC,EAAI3a,E,CAK5E,OAAIozC,GAAatC,EAAKjlE,QACbglB,EAILwiD,GAAavC,EAAKjlE,QACbilE,EAAKjlE,OAAO8b,KAAKiJ,QAAO,CAAAwE,EAAA2qB,KAAsB,IAApB5f,EAAKH,GAAI5K,GAAE,EAAEulB,GAAGoF,EAG/C,MAAO,MAFgBlwC,IAARswB,GAAqBwa,EAAIxa,EAAMwa,EAAIxa,OAC3BtwB,IAARmwB,GAAqBA,EAAM2a,EAAIA,EAAI3a,EAC3B,GACtBnP,GAGEA,CAAG,GAEZ,CAAC,EAAG,IAIN,MAAkB,QAAdi2B,GAAqC,IAAdiF,EAAO,IAAYA,EAAO,GAAK,EACjD,CAAC,EAAGA,EAAO,IAEbA,CACT,CDEoCwzB,CAAe1zE,EAAQG,EAAYC,GAE/DuzE,GAAY3zE,EAAO+lB,OAAMnf,IAAA,IAAC,OAAE5G,GAAQ4G,EAAA,MAAqB,SAAhB5G,EAAOilB,MAAmC,cAAhBjlB,EAAOilB,IAAoB,IAEpG,SAAS2uD,GAAc7pD,EAAcmK,GACnC,MAAM2/C,GnBtJoBnhD,EmBsJM3I,EnBrJ3B1f,KAAKy2C,KAAKpuB,EAAQwmB,IADrB,IAAwBxmB,EmBuJ1B,MAAM6mB,EAAQ,IAAIspB,GAAW3iE,EAAY6vE,GAAS77C,EAAOy/C,IAEzD,MAAO,CACL96B,KAAM,IACNg7B,YACAt6B,QACAD,MALYqrB,GAAaprB,EAAOs6B,GAMhCp6B,cAAekyB,EACf9gD,MAAOynD,EACP9iC,oBAAqB1xB,EAAYg2D,yBAErC,CAEA,SAASC,GAAchqD,EAAcmK,GACnC,MAAM2/C,GnBlKoB5zE,EmBkKM8pB,EnBjK3B1f,KAAKy2C,KAAK7gD,EAASk5C,IADtB,IAAwBl5C,EmBmK1B,MAAMs5C,EAAQ,IAAI+pB,GAAkBnjE,EAAYgzE,GAASj/C,EAAOxzB,EAAMyyE,QAAU,KAAOU,GACjFv6B,EnBpJJ,SAAuBC,EAA0BsH,GACrD,MAAMvH,EAAQC,EAAMI,QAAQL,MAAMuH,GAIlC,MAAwB,QAApBtH,EAAM0B,WAAuB3B,EAAM31C,OAAS,GACvC41C,EAAMI,QAAQL,MAAM,GAGtBA,CACT,CmB0IkB06B,CAAaz6B,EAAOs6B,GAClC,MAAO,CACLh7B,KAAM,IACNg7B,YACAt6B,QACAD,QACAG,cAAe44B,EACfxnD,MAAO0nD,EACP/iC,oBAAqB1xB,EAAYm2D,yBAErC,CAEA,MAAMC,GAAmB7zE,EAErB0zE,GAAcv3B,GAAYrG,GAAyB,CAACqG,GAAW,GAA7B,CAAC,EAAGA,KADtCo3B,GAAcp3B,GAAYrG,GAAyB,CAACqG,GAAW,GAA7B,CAAC,EAAGA,KAEpC23B,G/BxKF,SAA2BvtE,GAQhC,IARiC,MAChC0yC,EAAK,MACLC,EAAK,cACLE,GAKD7yC,EACC,MAAM+zC,GAAiBx3C,EAAAA,EAAAA,QAAuB,MAExCD,GAAWC,EAAAA,EAAAA,QAAoC,CAAC,GAahDy3C,EAAiBvB,EAAY,CAAEC,QAAOC,QAAOC,cAZ5BhxB,QACWxkB,IAA5Bd,EAASI,QAAQklB,IAAoD,IAA5BtlB,EAASI,QAAQklB,GACrDtlB,EAASI,QAAQklB,GAEtBmyB,EAAer3C,SAAWq3C,EAAer3C,QAAQ0yC,uBACnD2E,EAAer3C,QAAQ+oB,YAAc7D,EACrCtlB,EAASI,QAAQklB,GAASmyB,EAAer3C,QAAQ0yC,wBAC1C9yC,EAASI,QAAQklB,IAEnB,EAGyDixB,kBAE9DkB,EAAer3C,UACjBq3C,EAAer3C,QAAQ+oB,YAAc,IAGvC,IAAIpsB,EAAS84C,EAAcC,EAC3B,IAAK,MAAM,MAAEa,KAAWe,EACtB36C,EAASoK,KAAK8pB,IAAIl0B,EAAQ84C,EAAcC,EAAca,EAAMl2C,OAASs1C,GAGvE,MAAO,CAAE0B,iBAAgBC,iBAAgB36C,SAC3C,C+BoI8Bm0E,CAAiB5yE,OAAAC,OAAC,CAAC,EAAIyyE,KAE7CG,IAAiBlxE,EAAAA,EAAAA,QAAuB,MACxC6zC,IAAiBJ,EAAAA,GAAAA,IAAiB,IAAMy9B,GAAe/wE,UAAUxC,GACjE27C,GAAa37C,EAA0B,OAAdk2C,SAAc,IAAdA,GAAAA,GAAkB,EAAIi7B,EAE/CqC,GAAiBj0E,EAEnBuzE,GAAcn3B,GAAY,CAAC,EAAGA,KAD9Bs3B,GAAct3B,GAAY,CAACA,GAAY,IAGrC83B,GAAsC,MAAzBL,GAAgBr7B,KAAeq7B,GAAyC,MAAvBI,GAAcz7B,KAAey7B,GAAgB,KAC3GE,GAAsC,MAAzBN,GAAgBr7B,KAAeq7B,GAAyC,MAAvBI,GAAcz7B,KAAey7B,GAAgB,KACjH,IAAKC,KAAeC,GAClB,MAAM,IAAInjB,MAAM,4CAMlB,MAAMojB,IAAsBtxE,EAAAA,EAAAA,QAAoB,MAC1C2iE,IAAsB3iE,EAAAA,EAAAA,QAAuB,MAI7CyrC,GAAKvuC,EAAuB,IAAN,IACtByuC,GAAKzuC,EAAuB,IAAN,IAEtBosE,GAAe8D,GAAiBtF,EAAesJ,GAAWh7B,MAAOi7B,GAAWj7B,OAC5EqsB,GEzMM,SACZ5lE,EACA0nE,EACAlrB,EACAC,EACA5D,GAEA,OAAK6uB,EAAO5sB,gBAIJ4sB,EAAOxnB,OAA4Bl4C,KAAI4mC,IAC7C,MAAM8+B,EAAUhG,EAAO/tB,QAAQ/K,GACzBs4B,EAA6B,qBAAZwG,GAA2BxyB,SAASwyB,GAE3D,MAAO,CACL9+B,IACAs4B,UACAC,QAASnnE,EAAO0kB,MAAK9d,IAAe,IAAd,OAAE5G,GAAQ4G,EAE9B,QAAI0gE,GAAatnE,KAIbunE,GAAavnE,MAGbwnE,GAAaxnE,IACPA,EAAO8b,KAAwD4I,MAAKomB,GAASs8B,GAASt8B,EAAM8D,EAAGA,IAE7F,IAEdxhB,SACW,MAATyrB,EACI,CACEjK,EAAG,EACHE,EAAGo4B,GAAUwG,GAAe,EAC5Bh7C,MAAO8pB,EACPv8C,OAAQynE,EAAO/tB,QAAQoB,aAEzB,CACEnM,EAAGs4B,GAAUwG,GAAe,EAC5B5+B,EAAG,EACHpc,MAAOg1C,EAAO/tB,QAAQoB,YACtB96C,OAAQw8C,GAEjB,IAtCM,EAwCX,CFyJyCi4B,CAAoBzJ,EAAesJ,GAAWh7B,MAAOiD,GAAWC,GAAY3N,KAE7G,cAAE6lC,GAAa,gBAAEhP,GAAe,YAAEiP,GAAW,WAAEzG,GAAU,eAAE0G,IG5N7D,WACJ,MAAOnjD,EAAOojD,IAAY5uE,EAAAA,EAAAA,UAAuC,UASjE,MAAO,CAAEyuE,cAPuB,WAAVjjD,EAOEi0C,gBANU,WAAVj0C,EAMiBkjD,aAJrBp6C,EAAAA,EAAAA,cAAY,IAAMs6C,EAAS,SAAS,IAIF3G,YAHnC3zC,EAAAA,EAAAA,cAAY,IAAMs6C,EAAS,WAAW,IAGSD,gBAF3Cr6C,EAAAA,EAAAA,cAAY,IAAMs6C,EAAS,WAAW,IAG/D,CHiNsFC,IAG7ElI,GAAoBmI,KAAuB9uE,EAAAA,EAAAA,WAAUy/D,KAC5DjlD,EAAAA,EAAAA,YAAU,KACR,IAAIilD,GAEG,CACL,MAAMsP,EAAYC,YAAW,IAAMF,IAAoB,IAAQ,IAC/D,MAAO,IAAMG,aAAaF,E,CAH1BD,IAAoB,E,GAKrB,CAACrP,KAEJ,MAAMyI,IAAkB5zC,EAAAA,EAAAA,cACrBx6B,IACKA,IAAWurC,GACbD,EAAkBtrC,E,GAGtB,CAACurC,EAAmBD,IAGhBohC,IAAiBlyC,EAAAA,EAAAA,cACpB0hB,I,QACCi2B,EAAyB,MACzBD,EAAoBh2B,GAChBA,IACFkyB,GAAgBlyB,EAAMl8C,QACtB2yE,EAAmB,CACjBjF,QAASxxB,EAAMtN,EACfpmB,MAAqB,QAAdhK,EAAW,QAAXze,EAAAm8C,EAAMpR,aAAK,IAAA/qC,OAAA,EAAAA,EAAE6uC,SAAC,IAAApwB,EAAAA,EAAI,O,GAI/B,CAAC2zD,EAA0BD,EAAqB9D,KAG5CgH,IAAqB56C,EAAAA,EAAAA,cAAY,KACrC03C,EAAoB,MACpB9D,GAAgB,MAChB+D,EAAyB,KAAK,GAC7B,CAAC/D,GAAiB+D,EAA0BD,IAGzCpF,IAAatyC,EAAAA,EAAAA,cAChB2Z,IACKA,GACFihC,KAEFzC,EAAmBx+B,EAAO,GAE5B,CAACihC,KAIGzI,IAAiBnyC,EAAAA,EAAAA,cACpB/T,IACC2nD,GAAgB,MAChB8D,EAAoB,MACpBC,EAAyB1rD,EAAW,GAEtC,CAAC2nD,GAAiB8D,EAAqBC,IAGnCvF,IAAyBpyC,EAAAA,EAAAA,cAAY,KACzC46C,KACAP,IAAgB,GACf,CAACA,GAAgBO,KAEdz2D,GAAqCsvD,GAAc,CACvDjuE,SACAirE,gBACAwB,gBACA7G,aACA8B,OAAQ6M,GAAWh7B,MACnBouB,OAAQ6M,GAAWj7B,MACnB20B,mBACArI,wBACAt6B,oBACAshC,sBACAsB,cACAC,mBACAzB,kBACAD,kBACAI,cACAF,0BACAyB,kBACAl4B,QAASA,GACT91C,oBAnBI,kBAAE2qE,IAAiBrsD,GAAK02D,IAAQ10E,EAAAA,EAAAA,IAAAge,GAAhC,wBAsBA,eAAEyuD,GAAc,cAAEQ,GAAa,eAAEE,IAAmBvB,GAAiB,CACzEE,gBACA7G,aACA4G,UACA56B,cACA86B,kBACAC,kBACAC,0BACA5B,qBACA6B,sBACAC,gBAKIwI,IAAe34D,EAAAA,EAAAA,UAAQ,K,QAC3B,OAA8B,OAA1BkpD,EACKD,GAAUC,GAAuBj3B,EAElB,OAApBy/B,EACKA,EAAgB7lD,MAEQ,QAA1BhK,EAAuB,QAAvBze,EAAgB,OAAhBmuE,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBpjC,aAAK,IAAA/qC,OAAA,EAAAA,EAAE6uC,SAAC,IAAApwB,EAAAA,EAAI,IAAI,GACxC,CAAC0vD,EAAkBG,EAAiBxI,EAAuBD,MAE9DllD,EAAAA,EAAAA,YAAU,KACR,MAAM3Y,EAAa2Z,IACC,WAAdA,EAAMvZ,KACR0sE,I,EAIJ,OADA7vE,SAASoyB,iBAAiB,UAAWrvB,GAC9B,IAAM/C,SAASuyB,oBAAoB,UAAWxvB,EAAU,GAC9D,CAAC8sE,MAEJ1oD,EAAAA,EAAAA,kBAAgB,KACO,OAAjBmpD,IAA8C,OAArBpH,GAC3B0G,I,GAED,CAACU,GAAcpH,EAAkB0G,KAEpC,MAwCMvnC,GAAqB3rB,IACzB,MAAM6zD,EAAa7zD,EAAMuB,eAAiBvB,EAAMqP,OAE/B,OAAfwkD,GACEA,aAAsBC,UACvB1jC,EAAAA,EAAAA,GAAYmhC,GAAmB3vE,QAASiyE,KAEzC3I,KACA+F,EAAmB,MAEfgC,KAAkBhP,IACpBkP,K,EAKAY,GAAeJ,GAASttE,UAExB8yC,GAAU05B,GAAWh7B,MAAMuB,gBAAkBzwC,KAAK8pB,IAAI,EAAGogD,GAAWh7B,MAAMI,QAAQoB,YAAc,GAAK,EAAI,EAE/G,IAAI26B,GAA+B,KACnC,GAAwB,OAApBrH,EACFqH,GAAgBrH,EAAgBX,aAC3B,GAAI1C,IAA+C,OAA1BnF,EAAgC,CAC9D,MAAMj3B,EAAuE,QAAnEpwB,EAAA+1D,GAAWh7B,MAAMI,QAAQisB,GAAUC,GAAuBj3B,UAAS,IAAApwB,EAAAA,EAAI,KACvE,OAANowB,IACF8mC,GAAgB76B,GAAUjM,E,CAI9B,MAAMsN,IAAQv/B,EAAAA,EAAAA,UACZ,IACEuxD,EACI,CACE/lE,IAAK,GAAFvE,OAAKsqE,EAAiBt/B,EAAC,KAAAhrC,OAAIsqE,EAAiBp/B,GAC/CF,EAAGs/B,EAAiBt/B,EACpBE,EAAGo/B,EAAiBp/B,EACpB9D,MAAOkjC,EAAiBljC,OAE1B,MACN,CAACkjC,IAGGyH,IAAkBh5D,EAAAA,EAAAA,UACtB,IACoB,OAAlB+4D,GACIjJ,GACGvlD,QAAOrb,IAAA,IAAC,EAAE+iC,EAAC,EAAEE,GAAGjjC,EAAA,OAAM+iC,IAAM8mC,IAAiB11D,MAAM4uB,MAAQ5uB,MAAM8uB,EAAE,IACnE9mC,KAAI,CAAA8gB,EAAkBzE,KAAK,IAAtB,EAAEuqB,EAAC,EAAEE,EAAC,MAAE9D,GAAOliB,EAAA,MAAa,CAChC3gB,IAAK,GAAFvE,OAAKygB,EAAK,KAAAzgB,OAAIgrC,EAAC,KAAAhrC,OAAIkrC,GACtBF,EAAIvuC,EAAsCyuC,EAArB4mC,IAAiB,EACtC5mC,EAAIzuC,EAAqBq1E,IAAiB,EAArB5mC,EACrB9D,MAAOA,EACR,IACH,IACN,CAACyhC,GAAciJ,GAAer1E,IAG1Bu1E,GAAwB5K,GAC1BlF,GACAoI,EACEuG,GACAjC,EAEAzM,IAAmBppD,EAAAA,EAAAA,UAAQ,KAC/B,GAAqB,OAAjB24D,GACF,OAAO,KAIT,GAAIpH,EAAkB,CACpB,MAAM2H,EAAe5K,EAAc/jD,QACjClnB,GAAUA,EAAOA,UAA2B,OAAhBkuE,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBluE,SAAUunE,GAAavnE,EAAOA,UAE9E,OAAO0rE,GAAkB,CACvBt+C,SAAUkoD,GACVt1E,OAAQ61E,EACRlK,iBACAlrE,8B,CAKJ,OAAOirE,GAAkB,CACvBt+C,SAAUkoD,GACVt1E,OAAQirE,EACRU,iBACAlrE,8BACA,GACD,CAAC60E,GAAcpH,EAAkBjD,EAAeU,EAAgBlrE,IAE7Dq1E,IAA6Bn5D,EAAAA,EAAAA,UACjC,IAAOy1D,GAAuBkD,GAAelD,EAAoBkD,IAAgB,MACjF,CAAClD,EAAqBkD,KAGlBS,GACJhQ,IAAoB6M,EAAqB,GAAHhvE,OAAMmiE,GAAiB34C,SAAQ,MAAAxpB,OAAKgvE,GAAuB,GAG7FoD,GACJD,KAAoB7H,GAA8C,OAA1BrI,EAAiCkQ,GAAkB,GAEvFE,IAA0B/H,GAAoBG,EAE9C3I,IAAYt1C,EAAAA,GAAAA,KAElB,OACE9uB,EAAAA,cAACq6C,EAAuB,CACtB51C,IAAK2lC,GACLmK,UAAWo8B,EAAqBkC,GAAoBl0E,OACpDa,YAAaA,EACb86C,cAAet6C,EAAAA,cAAC40E,EAAS,CAACr9B,KAAM/J,GAAG1hB,SAAS,OAAOvC,MAAOypD,GAAczpD,QACxEgxB,qBACEv6C,EAAAA,cAAC60E,EAAa,CACZ78B,MAAOg7B,GAAch7B,MACrBC,MAAO+6B,GAAc/6B,MACrBE,cAAe66B,GAAc76B,cAC7ByD,UAAWw1B,EACXh2B,eAAgBs2B,KAGpBl3B,gBAAiBx6C,EAAAA,cAAC40E,EAAS,CAACr9B,KAAMjK,GAAGxhB,SAAS,SAASvC,MAAOqpD,GAAgBrpD,QAC9EkxB,UACEz6C,EAAAA,cAAC80E,GAAAA,EAAS,CACRrwE,IAAKymE,EACL95C,MAAM,OACNzyB,OAAQa,EAAY,eAAH8C,OAAkBuwE,GAAoBl0E,OAAM,OAAQw8C,GACrEpN,aAAc8kC,GAAoBl0E,OAClC0vC,YAAaglC,KAAkBhP,GAC/BzoD,UAAWA,EACX/V,eAAgBA,EAChBsoC,gBAAiBA,EACjBD,oBAAgC,OAAX1xB,QAAW,IAAXA,OAAW,EAAXA,EAAau4D,yBAClC3mC,eAAgBsmC,GAChBjpC,iBAAkB6oC,GAClB9oC,iBAAkBipC,GAClBjmC,yBAA0Bk7B,GAAoB,EAAIiL,GAAyB,CAAErnC,EAAG,EAAGE,EAAG,GAAM,EAC5FhO,YAAassC,GACbr9B,WAAY69B,GACZjlE,QAjKY22B,IACdq1C,GACEhP,GACFkP,MAEA1G,KACA7uC,EAAEjd,kBAGJuyD,I,EAyJIxnC,mBArJmBA,CAAC1rB,EAAyBgP,KACnC,aAAZA,GACF2kD,GAASjvE,SAET,EAkJIinC,kBAAmBA,GACnBtlC,UAAW0tE,IAEXn0E,EAAAA,cAAA,QACEyE,IAAKsuE,GACLj5B,GAAG,IACHC,GAAG,IACHC,GAAG,IACHC,GAAG,OACHgB,OAAO,cACP+5B,YAAa,EACbhqD,MAAO,CAAEiqD,cAAe,UAG1Bj1E,EAAAA,cAACk1E,EAAiB,CAChB39B,KAAM/J,GACNwK,MAAOg7B,GAAch7B,MACrBC,MAAO+6B,GAAc/6B,MACrBE,cAAe66B,GAAc76B,cAC7B5uB,MAAOypD,GAAczpD,MACrB2kB,oBAAqB8kC,GAAc9kC,oBACnCkN,eAAgBs2B,GAChBx2B,UAAWA,GACXC,WAAYA,KAGbp8C,GACCiB,EAAAA,cAACm1E,GAAiB,CAACl9B,MAAOi7B,GAAWj7B,MAAOD,MAAOk7B,GAAWl7B,MAAOr5C,OAAQw8C,KAG9Ej8C,GAAyBmzE,IACxBryE,EAAAA,cAACo1E,EAAkB,CAAC79B,KAAMjK,GAAG2K,MAAOi7B,GAAWj7B,MAAO7mB,MAAO8pB,GAAWv8C,OAAQw8C,KAGlFn7C,EAAAA,cAACypE,GAAU,CACTlyB,KAAMjK,GACN4N,UAAWA,GACXC,WAAYA,GACZlR,kBAAoC,OAAjBA,QAAiB,IAAjBA,EAAAA,EAAqB,KACxCs6B,sBAAuBA,EACvBzlE,YAAaA,EACb4qE,kBAAmBA,GACnBC,cAAeA,EACfvD,OAAQ6M,GAAWh7B,MACnBouB,OAAQ6M,GAAWj7B,MACnBpD,QAASA,KAGV31C,IAA0BmzE,IACzBryE,EAAAA,cAACo1E,EAAkB,CAAC79B,KAAMjK,GAAG2K,MAAOi7B,GAAWj7B,MAAO7mB,MAAO8pB,GAAWv8C,OAAQw8C,KAGlFn7C,EAAAA,cAACq1E,GAAc,CACbxuE,IAAKutE,IAAiB,GACtBz1E,OAAQw8C,GACR2oB,WAAiC,OAArB8I,EACZ7I,UAAW2F,GACX1F,OAAQqQ,GACR5vE,IAAKysE,IAGNtE,GACC5sE,EAAAA,cAACs1E,EAAgB,CACf7wE,IAAK0uE,GACLv4B,MAAOA,GACPp0C,KAAK,SACLoV,UAAW64D,GACX1mD,cAAc,EACd8sB,aAAcwpB,KAIjBqF,IAAqBuJ,GAAWh7B,MAAMuB,iBACrCx5C,EAAAA,cAACmkE,GAAS,CACRvoD,UAAW64D,GACXrQ,UAAWA,GACXC,gBAAiBA,GACjBC,UAAWA,GACXC,sBAAuBA,EACvBC,oBAAqBA,KAIzBxkE,EAAAA,cAACu1E,EAAcr1E,OAAAC,OAAA,GACT0yE,GAAmB,CACvBt7B,KAAMjK,GACN2K,MAAO26B,GAAgB36B,MACvB1uB,MAAOqpD,GAAgBrpD,MACvB2kB,oBAAqB0kC,GAAgB1kC,oBACrCvvC,OAAQw8C,GACR/pB,MAAO8pB,GACPlN,WAAYmjC,EAAyBX,GACrCviC,YAAauiC,OAInB91B,QACE16C,EAAAA,cAACw1E,GAAiB,CAChB/wE,IAAK6rC,GACLlG,aAAcunC,GACdvsE,SAAUkvE,GACV3lD,OAAQ0kD,GACR3iC,SAAU2zB,GACVI,iBAAkBA,GAClBhiC,UA9RkBgzC,IACxBlC,KAEKkC,GAWH3B,KACAzC,EAAmB,OAVnBuC,YAAW,K,WAC2BhH,GAA8C,OAA1BrI,IAAkCwI,GAEzE,QAAftuE,EAAAysE,EAAQlpE,eAAO,IAAAvD,GAAAA,EAAE6tC,mBAEF,QAAfpvB,EAAAguD,EAAQlpE,eAAO,IAAAkb,GAAAA,EAAEgyB,W,GAElB,E,EAmRCzmB,KAAMzpB,EACN+pC,OAAQyrC,GACRtkC,iBAAkB1zB,EAAYk5D,8BAC9BzwE,aAAcunE,GACdznE,OAAQgnC,GACRsF,eAAgBkgC,MAK1B,C,eI1nBc,SAAUoE,GAAmBrwE,GAQb,IARgD,OAC5E5G,EAAM,cACNirE,EAAa,kBACb1/B,EAAiB,kBACjBD,EAAiB,YACjBE,EAAW,UACXtuB,EAAS,iBACTuuB,GAC4B7kC,EAC5B,MAAMswE,GAAiFv6D,EAAAA,EAAAA,UAAQ,IACtF3c,EACJknB,QAAOqlB,IAA0C,IAArC0+B,EAAc1mE,QAAQgoC,EAAEvsC,UACpCgI,KAAI6D,IAAA,IAAC,OAAE7L,EAAM,MAAEgrC,GAAOn/B,EAAA,MAAM,CAC3B2c,MAAOxoB,EAAO6qB,MACd5F,KAAM6hD,GAAe9mE,EAAOilB,MAC5B+lB,QACAF,MAAO9qC,EACR,KACF,CAACA,EAAQirE,IAEZ,OACE3pE,EAAAA,cAAC61E,GAAAA,EAAW,CACVn3E,OAAQk3E,EACR3rC,kBAAmBA,GAAqB,KACxCD,kBAAmBA,EACnBE,YAAaA,EACbtuB,UAAWA,EACXuuB,iBAAkBA,GAGxB,CCPc,SAAUlqC,GAA4DxB,G,IAAA,UAClFe,EAAS,OACTb,EAAM,WACNC,EAAU,WACVC,EAAU,QACV4vE,EAAO,QACPoD,EAAO,eACPxH,EAAc,eACd0G,EACA9mC,kBAAmB6rC,EACnBnM,cAAeoM,EACfr3E,OAAQs3E,EAAc,eACtBC,EACAjsC,kBAAmBksC,EAA2B,YAC9C15D,EAAW,UACXZ,EAAS,eACT/V,EAAc,gBACdsoC,EAAe,OACf6iC,EAAM,OACNC,EAAM,YACNnyE,EAAW,eACXC,EAAc,WACdU,EAAU,kBACV+zC,EAAiB,WACjB9zC,EAAU,YACVwqC,EAAW,WACXjrC,EAAU,kBACVD,EAAiB,oBACjB8xE,EAAmB,2BACnB3xE,EAA0B,sBAC1BD,EAAqB,MACrB8kC,EAAK,QACLjd,EAAO,UACP4b,EAAS,YACTsB,EAAW,aACXiB,EAAY,gBACZ0B,EAAe,kBACf9oB,EAAoB,MAAIrf,EACrBW,GAAKC,EAAAA,EAAAA,IAAAZ,EAtC0E,ijBAwClF,MAAMkB,IAAYC,EAAAA,EAAAA,GAAaR,GACzBgrC,IAAevoC,EAAAA,EAAAA,QAAuB,OAE5Cud,EAAAA,EAAAA,YAAU,KACR,MAAM+2D,EAAeH,EAAe5yD,MAAK6nB,GAAgB,QAAXA,EAAEtnB,OAC1CyyD,EAAgBJ,EAAe5yD,MAAK6nB,GAAgB,SAAXA,EAAEtnB,OAE9B,gBAAf/kB,GAAgCu3E,IAClCpyE,EAAAA,EAAAA,IACE,oBAAmB,oCAAAzB,OACiB1D,EAAU,8CAI9CG,GAAkBq3E,IACpBryE,EAAAA,EAAAA,IACE,oBAAmB,mGAKvB,IAAK,MAAMknC,KAAK+qC,EACC,cAAX/qC,EAAEtnB,WAAgCjhB,IAARuoC,EAAEqC,QAA2B5qC,IAARuoC,EAAEuC,IACnDzpC,EAAAA,EAAAA,IAAS,oBAAqB,mEAEjB,cAAXknC,EAAEtnB,WAAgCjhB,IAARuoC,EAAEqC,QAA2B5qC,IAARuoC,EAAEuC,IACnDzpC,EAAAA,EAAAA,IAAS,oBAAqB,kE,GAGjC,CAACnF,EAAYG,EAAgBi3E,IAEhC,MAAMt3E,IAAS2c,EAAAA,EAAAA,UAAQ,KAGrB,MAAM+6B,GAASH,EAAAA,EAAAA,GACb+/B,GACA1/B,GAAM0vB,GAAa1vB,IAAO2vB,GAAa3vB,KACvCA,GAAMA,EAAG5M,OAAS,OAGpB,OAAOssC,EAAetvE,KAAI,CAACukC,EAAGv/B,KAAM,CAAGqX,MAAOrX,EAAGg+B,MAAO0M,EAAO1qC,GAAIhN,OAAQusC,KAAK,GAC/E,CAAC+qC,KAEGpJ,GAAkBgE,KAAuBhsE,EAAAA,EAAAA,UAAgC,OACzE2/D,GAAuBsM,KAA4BjsE,EAAAA,EAAAA,UAAwB,OAC3EqlC,GAAoB,KAAMosC,KAAwBC,EAAAA,EAAAA,GACvDR,EACAI,EACA,KACA,CACEtxC,cAAe,oBACf2xC,eAAgB,oBAChBC,cAAe,uBAGZC,GAAcC,KAAmB9xE,EAAAA,EAAAA,UAAuDqlC,KAC/F7qB,EAAAA,EAAAA,YAAU,KACRs3D,GAAgBZ,GAA+B,KAAK,GACnD,CAACA,IAEJ,MAAOa,GAAuBC,KAA4BN,EAAAA,EAAAA,GACxDP,EACAE,EACAD,EACA,CACEpxC,cAAe,oBACf2xC,eAAgB,gBAChBC,cAAe,mBAInB,GAAIztD,EAAAA,EAAe,CAEjB,MAAM8tD,GAAiBj4C,EAAAA,EAAAA,GAAYo3C,GAE7Bc,KAAiBD,IAAkBA,EAAex0E,QAClD00E,IAAef,EAAe3zE,OAEhCy0E,GAAeC,GAAcf,IAAmBa,IAAmBd,IAA4Bt2E,IACjGsE,EAAAA,EAAAA,IACE,oBACA,0O,CAON,MAAM4lE,IAAgBtuD,EAAAA,EAAAA,UACpB,IAAM3c,GAAOknB,QAAOqlB,IAAmD,KAAzB,OAArB0rC,SAAqB,IAArBA,QAAqB,EAArBA,GAAuB1zE,QAAQgoC,EAAEvsC,YAC1D,CAACA,GAAQi4E,KAUL3sC,GAAqBtrC,IACzB23E,GAAqB33E,IACrBmhB,EAAAA,EAAAA,IAAuBq2D,EAA6B,CAClDjsC,kBAAmBvrC,IAErBg4E,GAAgBh4E,EAAO,GAYnB,QAAE8nC,GAAO,UAAEC,GAAS,UAAEyM,KAAcH,EAAAA,EAAAA,GAAe,CACvDC,aAAcgjC,EACd/iC,YAAa02B,IAAiB,GAC9B1qE,eAEI+3E,GAA6B,aAAf/3E,KAA+BunC,IAAWC,MAAe+M,IAAsB/zC,GAC7Fw3E,IAAcv3E,IAAe8mC,IAA0B,aAAfvnC,EACxCy0C,IAAsBR,KAAcxzC,EACpC+zC,IAAsBP,KAAczM,MAAehnC,GAAc+zC,GACjEnkB,IAAYxqB,EAAAA,EAAAA,GAAaulC,GAActsB,GAEvCo5D,GAAcx4E,GAAOgI,KAAIpB,IAAA,IAAC,OAAE5G,EAAM,MAAEgrC,GAAOpkC,EAAA,MAAM,CACrD4hB,MAAOxoB,EAAO6qB,MACd5F,KAAM6hD,GAAe9mE,EAAOilB,MAC5B+lB,QACAF,MAAO9qC,EACR,IAED,OACEsB,EAAAA,cAACszC,EAAAA,EAAYpzC,OAAAC,OAAA,CACXsE,IAAK4qB,IACD1vB,GAAS,CACbE,WAAWC,EAAAA,EAAAA,GAAKH,GAAUE,UAAWE,GAAOyhB,MAC5ChiB,YAAaA,EACbu0C,iBAAkBp1C,EAClB40C,cACEyjC,KAAgBv3E,EACdO,EAAAA,cAACwnC,EAAAA,EAAM,CACL9oC,OAAQw4E,GACRr7D,SArDYwtB,IACpButC,GAAyBvtC,IACzBxpB,EAAAA,EAAAA,IAAuBo2D,EAAgB,CACrCtM,cAAetgC,GACf,EAkDMA,eAAgBstC,IAAyB,GACzCn6D,YAAaA,IAEb,KAENg3B,kBAAmBwjC,GAAcxjC,EAAoB,KACrDC,qBAAsBA,GACtBC,qBAAsBA,GACtBC,YACE3zC,EAAAA,cAACmzC,EAAAA,EAAoB,CACnB3M,QAASA,GACTC,UAAWA,GACXyM,UAAWA,GACXj0C,WAAYA,EACZ+kC,MAAOA,EACPjd,QAASA,EACTkd,YAAaA,EACbtB,UAAWA,EACXuC,aAAcA,EACd0B,gBAAiBA,IAGrBgN,MACEV,GACElzC,EAAAA,cAAC0wE,GAAc,CACblxE,UAAWA,EACXb,OAAQA,EACRC,WAAYA,EACZC,WAAYA,EACZ4vE,QAASA,EACToD,QAASA,EACTxH,eAA8B,OAAdA,QAAc,IAAdA,EAAAA,EAA6B,OAAX7tD,QAAW,IAAXA,OAAW,EAAXA,EAAa6tD,eAC/C0G,eAA8B,OAAdA,QAAc,IAAdA,EAAAA,EAA6B,OAAXv0D,QAAW,IAAXA,OAAW,EAAXA,EAAau0D,eAC/C7xE,sBAAuBA,EACvBJ,YAAaA,EACbC,eAAgBA,EAChBL,OAAQA,GACRirE,cAAeA,GACf1/B,kBAAmBA,GACnBD,kBAAmBA,GACnB4iC,iBAAkBA,GAClBgE,oBAAqBA,GACrBrM,sBAAuBA,GACvBsM,yBAA0BA,GAC1B7xE,kBAAmBA,EACnB8xE,oBAAqBA,EACrB3xE,2BAA4BA,EAC5B6xE,OAAQA,EACRC,OAAQA,EACRr1D,UAAWA,EACX/V,eAAgBA,EAChBsoC,gBAAiBA,EACjB3xB,YAAaA,IAEb,KAENq3B,OACEojC,GACEj3E,EAAAA,cAAC21E,GAAmB,CAClBj3E,OAAQA,GACRirE,cAAegN,IAAyB,GACxC1sC,kBAAmBwsC,GACnBzsC,kBAAmBA,GACnBE,YAAaA,EACbtuB,UAAsB,OAAXY,QAAW,IAAXA,OAAW,EAAXA,EAAa26D,gBACxBhtC,iBAAkBC,KAElB,KAENrlC,OA5GYqb,IACVA,EAAMuB,iBAAkB6uB,EAAAA,EAAAA,GAAYpG,GAAapoC,QAASoe,EAAMuB,iBAClEsoB,IAAqBD,GAAkBC,IACvC2mC,GAAoB,MACpBC,GAAyB,MACzB6F,GAAgB,M,IA0GtB,C,0IC3SI,SACF,KAAQ,4BACR,OAAU,+BACV,KAAQ,6BACR,kBAAmB,wCACnB,MAAS,8BACT,cAAe,oCACf,iBAAkB,uCAClB,YAAa,kCACb,gBAAiB,uCCUbU,EAAsD,CAC1DC,cAAe,GACfC,gBAAiB,GACjBC,kBAAmB,GACnBC,UAAWC,GAAc,GAAJn1E,OAAOm1E,IAa9B,SAASC,EAAWj5E,G,IAAA,UAClBoB,EAAS,UACT+b,EAAS,SACTiI,EAAQ,UACR8zD,EAAS,UACTC,GAAY,EAAK,SACjB1yE,EAAQ,QACRmC,GAAO5I,EACJ2F,GAAI/E,EAAAA,EAAAA,IAAAZ,EARW,mFAclB,OACEuB,EAAAA,cAAA,KAAAE,OAAAC,OAAA,CAAIN,UAAWE,EAAO,eAAkB83E,EAAAA,EAAAA,IAA+BzzE,IACrEpE,EAAAA,cAAA,SAAAE,OAAAC,OAAA,CACEN,WAAWC,EAAAA,EAAAA,GACTD,EACAE,EAAO+3E,OACPj0D,GAAY9jB,EAAO,mBACnB63E,GAAa73E,EAAO,mBAEtB4jB,KAAK,SAAQ,aACD/H,EACZiI,SAAUA,EACVxc,QAhBN,SAAqB+Y,GACnBA,EAAMW,iBACN1Z,EAAQswE,EACV,EAa0B,eACNC,GACT/zD,EACD,CAAC,GACDyzB,EAAAA,EAAAA,IAA8B,CAC5BjlB,OAAQ,QACR4L,OAAQ,CACN/W,MAAO,CAAE1F,KAAM,YAItBtc,GAIT,CAEA,SAAS6yE,EAAWt5E,G,IAAA,UAAEk5E,GAASl5E,EAAK2F,GAAI/E,EAAAA,EAAAA,IAAAZ,EAApB,eAClB,OACEuB,EAAAA,cAAC03E,EAAUx3E,OAAAC,OAAA,CACTN,UAAWE,EAAO,eAClB43E,UAAWA,GACPvzE,EACCA,EAAKyf,SACN,CAAC,GACDyzB,EAAAA,EAAAA,IAA8B,CAC5BrZ,OAAQ,CACNnS,SAAU,GAAFxpB,OAAKq1E,OAIpBA,EAGP,CAIc,SAAUK,EAAmBv5E,G,WAAA,QACzCw5E,EAAO,iBACPC,EAAgB,WAChBC,EAAU,WACVC,EAAU,SACVv0D,EAAQ,SACRhI,EAAQ,gBACRw8D,EAAe,oBACfC,EAAmB,kBACnBx6D,EAAoB,MAAIrf,EACrB2F,GAAI/E,EAAAA,EAAAA,IAAAZ,EAVkC,4IAYzC,MAAMkB,GAAYC,EAAAA,EAAAA,GAAawE,IACzB,SAAEm0E,EAAQ,UAAEC,EAAS,WAAEC,EAAU,UAAEC,GCvGrC,SAA6BR,EAA0BS,EAAyBC,GAEpF,MAGMC,EAAY9vE,KAAKo1C,MAAM26B,KAC7B,IAAIC,EAAaF,EAGbG,EAAaL,EAAkB,EAE/BC,IACFG,IACAC,EAAaL,EAAkB,GAIjC,IAAIH,EAAYN,EAAmBW,EAC/BJ,EAAaP,EAAmBa,EAGhCP,EAbe,IAcjBC,GAdiB,EAcUD,EAC3BA,EAfiB,GAmBfC,EAAaO,IACfR,GAAaC,EAAaO,EAC1BP,EAAaO,GAIfR,EAAYzvE,KAAK8pB,IAAI2lD,EAAW,GAChCC,EAAa1vE,KAAKiqB,IAAIylD,EAAYO,GAGlC,MAAMT,EAAWC,EAAY,EACvBE,EAAYE,GAAaH,EAAaO,EAU5C,OARIT,GACFC,IAGEE,GACFD,IAGK,CAAEF,WAAUG,YAAWF,YAAWC,aAC3C,CDsDyDQ,CAAmBf,EAAkBE,EAAYH,GAElGr7D,GAAOC,EAAAA,EAAAA,IAAgB,cAEvBy6D,EAA4B,OAAVa,QAAU,IAAVA,OAAU,EAAVA,EAAYb,gBAC9BD,EAA2E,QAA3Dn6D,EAAAN,EAAK,2BAAsC,OAAVu7D,QAAU,IAAVA,OAAU,EAAVA,EAAYd,sBAAc,IAAAn6D,EAAAA,EAAIk6D,EAAkBC,cACjGE,EAC+D,QAAnEl6D,EAAAT,EAAK,+BAA0C,OAAVu7D,QAAU,IAAVA,OAAU,EAAVA,EAAYZ,0BAAkB,IAAAl6D,EAAAA,EAAI+5D,EAAkBG,kBACrF2B,EAC+F,QAAnG1vD,EAAA5M,EAAK,uBAAkC,OAAVu7D,QAAU,IAAVA,OAAU,EAAVA,EAAYX,WAAWpvC,GAAUqvC,GAAcrvC,EAAO,CAAEqvC,wBAAc,IAAAjuD,EAAAA,EACnG4tD,EAAkBI,UAkBpB,SAAS2B,EAAgBC,IACvBv5D,EAAAA,EAAAA,IAAuBhE,EAAU,CAAEq8D,iBAAkBkB,GACvD,CAEA,MAAMC,EAAyBx1D,GAAiC,IAArBq0D,EACrCoB,EAAqBz1D,IAAco0D,IAA2B,IAAfG,GAAoBF,IAAqBE,GAE9F,OACEp4E,EAAAA,cAAA,KAAAE,OAAAC,OAAA,cACcm3E,GACR33E,EAAS,CACbE,WAAWC,EAAAA,EAAAA,GAAKH,EAAUE,UAAWE,EAAOyhB,KAAMqC,GAAY9jB,EAAO,kBACrE0E,IAAKqZ,IAEL9d,EAAAA,cAAC03E,EAAUx3E,OAAAC,OAAA,CACTN,UAAWE,EAAO8wC,MAClB8mC,UAAWO,EAAmB,EAC9Bt8D,UAA4B,OAAjB27D,QAAiB,IAAjBA,EAAAA,EAAqBH,EAAkBC,cAClDxzD,SAAUw1D,EACVhyE,QAnCN,SAA6B+xE,GAC3BD,EAAgBC,IAChBv5D,EAAAA,EAAAA,IAAuBy4D,EAAqB,CAC1CiB,wBAAwB,EACxBH,mBAAoBA,GAExB,GA8BWC,EACD,CAAC,GACD/hC,EAAAA,EAAAA,IAA8B,CAC5BrZ,OAAQ,CACNnS,SAAU,WAIlB9rB,EAAAA,cAAC0oB,EAAAA,EAAY,CAACJ,KAAK,aAAatM,QAAS6H,EAAW,WAAa,YAEnE7jB,EAAAA,cAAC+3E,EAAU,CACTJ,UAAW,EACXC,UAAgC,IAArBM,EACXr0D,SAAUA,EACVjI,UAAWs9D,EAAkB,GAC7B7xE,QAAS8xE,IAEVZ,GAAYv4E,EAAAA,cAAA,MAAIH,UAAWE,EAAOy5E,MAAI,OChLvC,SAAgB/nC,EAAci7B,GAClC,MAAMvjE,EAAS,GACf,IAAK,IAAIuC,EAAI+lC,EAAM/lC,GAAKghE,EAAIhhE,IAC1BvC,EAAOwC,KAAKD,GAEd,OAAOvC,CACT,CD2KOypB,CAAM4lD,EAAWC,GAAY/xE,KAAIixE,GAChC33E,EAAAA,cAAC+3E,EAAU,CACTlxE,IAAK8wE,EACLC,UAAWM,IAAqBP,EAChCA,UAAWA,EACX9zD,SAAUA,EACVjI,UAAWs9D,EAAkBvB,GAC7BtwE,QAAS8xE,MAGZT,GAAa14E,EAAAA,cAAA,MAAIH,UAAWE,EAAOy5E,MAAI,QACtCvB,GAAWG,EAAa,GACxBp4E,EAAAA,cAAC+3E,EAAU,CACTH,UAAWM,IAAqBE,EAChCT,UAAWS,EACXv0D,SAAUA,EACVjI,UAAWs9D,EAAkBd,GAC7B/wE,QAAS8xE,IAGbn5E,EAAAA,cAAC03E,EAAUx3E,OAAAC,OAAA,CACTN,UAAWE,EAAO8wC,MAClB8mC,UAAWO,EAAmB,EAC9Bt8D,UAAwB,OAAby7D,QAAa,IAAbA,EAAAA,EAAiBD,EAAkBC,cAC9CxzD,SAAUy1D,EACVjyE,QAvEN,SAA6B+xE,GAC3BD,EAAgBC,IAChBv5D,EAAAA,EAAAA,IAAuBw4D,EAAiB,CACtCkB,uBAAwBrB,EAAmBE,EAC3CgB,mBAAoBA,GAExB,GAkEWE,EACD,CAAC,GACDhiC,EAAAA,EAAAA,IAA8B,CAC5BrZ,OAAQ,CACNnS,SAAU,WAIlB9rB,EAAAA,cAAC0oB,EAAAA,EAAY,CAACJ,KAAK,cAActM,QAAS6H,EAAW,WAAa,YAI1E,CE7Mc,SAAU41D,EAAWr6E,GACjC,MAAME,GAAqBC,EAAAA,EAAAA,GAAiB,aAAc,CAAEH,MAAO,CAAE64E,QAAS74E,EAAM64E,WACpF,OACEj4E,EAAAA,cAACg4E,EAAkB93E,OAAAC,OAAA,GACbf,EACAE,GACAg4C,EAAAA,EAAAA,IAA8B,CAChCn0C,UAAW,CACTmlB,KAAM,mBACNpB,MAAO,CAAE1F,KAAM,QACf41B,WAAY,CACV6gC,QAAS,GAAF31E,SAAOlD,EAAM64E,SACpBG,WAAY,GAAF91E,OAAKlD,EAAMg5E,YAAc,IACnCF,iBAAkB,GAAF51E,OAAKlD,EAAM84E,uBAMvC,EAEA93E,EAAAA,EAAAA,GAAiBq5E,EAAY,a,+ECnCd,WAASnpD,EAAGC,GACzB,OAAOA,EAAID,GAAK,EAAIC,EAAID,EAAI,EAAIC,GAAKD,EAAI,EAAIgoB,GAC/C,CCFe,WAAS/O,GACtB,OAAOA,CACT,CCFO,IAAIvgC,EAAMD,KAAKC,IACX0wE,EAAQ3wE,KAAK2wE,MACbC,EAAM5wE,KAAK4wE,IACX9mD,EAAM9pB,KAAK8pB,IACXG,EAAMjqB,KAAKiqB,IACX4mD,EAAM7wE,KAAK6wE,IACXr8B,EAAOx0C,KAAKw0C,KAEZs8B,EAAU,MACVC,EAAK/wE,KAAKgxE,GACVC,EAASF,EAAK,EACdG,EAAM,EAAIH,EAMd,SAASI,EAAK5sC,GACnB,OAAOA,GAAK,EAAI0sC,EAAS1sC,IAAM,GAAK0sC,EAASjxE,KAAKmxE,KAAK5sC,EACzD,C,gRCfA,SAAS6sC,EAAe5wC,GACtB,OAAOA,EAAE6wC,WACX,CAEA,SAASC,EAAe9wC,GACtB,OAAOA,EAAE+wC,WACX,CAEA,SAASC,EAAchxC,GACrB,OAAOA,EAAEixC,UACX,CAEA,SAASC,EAAYlxC,GACnB,OAAOA,EAAEmxC,QACX,CAEA,SAASC,EAAYpxC,GACnB,OAAOA,GAAKA,EAAEqxC,QAChB,CAaA,SAASC,EAAe3nB,EAAI4nB,EAAIhhC,EAAIE,EAAIiE,EAAI88B,EAAIC,GAC9C,IAAIC,EAAM/nB,EAAKpZ,EACXohC,EAAMJ,EAAK9gC,EACXzrC,GAAMysE,EAAKD,GAAMA,GAAMx9B,EAAK09B,EAAMA,EAAMC,EAAMA,GAC9CC,EAAK5sE,EAAK2sE,EACVE,GAAM7sE,EAAK0sE,EACXI,EAAMnoB,EAAKioB,EACXG,EAAMR,EAAKM,EACXG,EAAMzhC,EAAKqhC,EACXK,EAAMxhC,EAAKohC,EACXK,GAAOJ,EAAME,GAAO,EACpBG,GAAOJ,EAAME,GAAO,EACpBG,EAAKJ,EAAMF,EACXO,EAAKJ,EAAMF,EACXO,EAAKF,EAAKA,EAAKC,EAAKA,EACpB5gC,EAAIiD,EAAK88B,EACTe,EAAIT,EAAMG,EAAMD,EAAMD,EACtB/xC,GAAKqyC,EAAK,GAAK,EAAI,GAAKr+B,EAAK1qB,EAAI,EAAGmoB,EAAIA,EAAI6gC,EAAKC,EAAIA,IACrDC,GAAOD,EAAIF,EAAKD,EAAKpyC,GAAKsyC,EAC1BG,IAAQF,EAAIH,EAAKC,EAAKryC,GAAKsyC,EAC3BI,GAAOH,EAAIF,EAAKD,EAAKpyC,GAAKsyC,EAC1BK,IAAQJ,EAAIH,EAAKC,EAAKryC,GAAKsyC,EAC3BM,EAAMJ,EAAMN,EACZW,EAAMJ,EAAMN,EACZW,EAAMJ,EAAMR,EACZa,EAAMJ,EAAMR,EAMhB,OAFIS,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,IAAKP,EAAME,EAAKD,EAAME,GAE7D,CACLphC,GAAIihC,EACJhhC,GAAIihC,EACJf,KAAME,EACND,KAAME,EACNC,IAAKU,GAAO99B,EAAKjD,EAAI,GACrBsgC,IAAKU,GAAO/9B,EAAKjD,EAAI,GAEzB,CAEe,cACb,IAAIo/B,EAAcD,EACdG,EAAcD,EACdkC,GAAelwB,EAAAA,EAAAA,GAAS,GACxBmwB,EAAY,KACZhC,EAAaD,EACbG,EAAWD,EACXG,EAAWD,EACXxS,EAAU,KAEd,SAASsU,IACP,IAAI5T,EACA7tB,ED3Ea1N,EC4EbyQ,GAAMq8B,EAAYtqD,MAAMC,KAAMtvB,WAC9Bw9C,GAAMq8B,EAAYxqD,MAAMC,KAAMtvB,WAC9Bi8E,EAAKlC,EAAW1qD,MAAMC,KAAMtvB,WAAau5E,EACzC2C,EAAKjC,EAAS5qD,MAAMC,KAAMtvB,WAAau5E,EACvC4C,EAAK5zE,EAAI2zE,EAAKD,GACd1B,EAAK2B,EAAKD,EAQd,GANKvU,IAASA,EAAUU,GAASvD,EAAAA,EAAAA,MAG7BrnB,EAAKF,IAAI/C,EAAIiD,EAAIA,EAAKF,EAAIA,EAAK/C,GAG7BiD,EAAK47B,EAGN,GAAI+C,EAAK3C,EAAMJ,EAClB1R,EAAQoB,OAAOtrB,EAAK07B,EAAI+C,GAAKz+B,EAAK27B,EAAI8C,IACtCvU,EAAQsU,IAAI,EAAG,EAAGx+B,EAAIy+B,EAAIC,GAAK3B,GAC3Bj9B,EAAK87B,IACP1R,EAAQoB,OAAOxrB,EAAK47B,EAAIgD,GAAK5+B,EAAK67B,EAAI+C,IACtCxU,EAAQsU,IAAI,EAAG,EAAG1+B,EAAI4+B,EAAID,EAAI1B,QAK7B,CACH,IAWI3mB,EACAC,EAZAuoB,EAAMH,EACNI,EAAMH,EACNI,EAAML,EACNM,EAAML,EACNM,EAAML,EACNM,EAAMN,EACNO,EAAKvC,EAAS9qD,MAAMC,KAAMtvB,WAAa,EACvC28E,EAAMD,EAAKtD,IAAa2C,GAAaA,EAAU1sD,MAAMC,KAAMtvB,WAAa88C,EAAKQ,EAAKA,EAAKE,EAAKA,IAC5F88B,EAAK/nD,EAAIhqB,EAAIi1C,EAAKF,GAAM,GAAIw+B,EAAazsD,MAAMC,KAAMtvB,YACrD48E,EAAMtC,EACNuC,EAAMvC,EAKV,GAAIqC,EAAKvD,EAAS,CAChB,IAAI0D,EAAKrD,EAAKkD,EAAKr/B,EAAK67B,EAAIuD,IACxBK,EAAKtD,EAAKkD,EAAKn/B,EAAK27B,EAAIuD,KACvBF,GAAY,EAALM,GAAU1D,GAA8BkD,GAArBQ,GAAOvC,EAAK,GAAK,EAAegC,GAAOO,IACjEN,EAAM,EAAGF,EAAMC,GAAON,EAAKC,GAAM,IACjCO,GAAY,EAALM,GAAU3D,GAA8BgD,GAArBW,GAAOxC,EAAK,GAAK,EAAe8B,GAAOU,IACjEN,EAAM,EAAGL,EAAMC,GAAOJ,EAAKC,GAAM,EACxC,CAEA,IAAI1B,EAAMh9B,EAAK07B,EAAIkD,GACf3B,EAAMj9B,EAAK27B,EAAIiD,GACftB,EAAMx9B,EAAK47B,EAAIqD,GACfxB,EAAMz9B,EAAK67B,EAAIoD,GAGnB,GAAIjC,EAAKlB,EAAS,CAChB,IAII4D,EAJApC,EAAMp9B,EAAK07B,EAAImD,GACfxB,EAAMr9B,EAAK27B,EAAIkD,GACfrB,EAAM19B,EAAK47B,EAAIoD,GACfrB,EAAM39B,EAAK67B,EAAImD,GAInB,GAAIH,EAAK9C,IAAO2D,EAlIxB,SAAmBvqB,EAAI4nB,EAAIhhC,EAAIE,EAAID,EAAIE,EAAIyjC,EAAIC,GAC7C,IAAIpC,EAAMzhC,EAAKoZ,EAAIsoB,EAAMxhC,EAAK8gC,EAC1B8C,EAAMF,EAAK3jC,EAAI8jC,EAAMF,EAAK1jC,EAC1BuS,EAAIqxB,EAAMtC,EAAMqC,EAAMpC,EAC1B,KAAIhvB,EAAIA,EAAIqtB,GAEZ,MAAO,CAAC3mB,GADR1G,GAAKoxB,GAAO9C,EAAK7gC,GAAM4jC,GAAO3qB,EAAKnZ,IAAOyS,GACzB+uB,EAAKT,EAAKtuB,EAAIgvB,EACjC,CA2H6BsC,CAAU7C,EAAKC,EAAKO,EAAKC,EAAKL,EAAKC,EAAKC,EAAKC,IAAO,CACvE,IAAIuC,GAAK9C,EAAMwC,EAAG,GACdO,GAAK9C,EAAMuC,EAAG,GACdQ,GAAK5C,EAAMoC,EAAG,GACdS,GAAK5C,EAAMmC,EAAG,GACdU,GAAK,EAAIvE,IDlJFtsC,GCkJYywC,GAAKE,GAAKD,GAAKE,KAAO3gC,EAAKwgC,GAAKA,GAAKC,GAAKA,IAAMzgC,EAAK0gC,GAAKA,GAAKC,GAAKA,MDjJxF,EAAI,EAAI5wC,GAAK,EAAIwsC,EAAK/wE,KAAKq1E,KAAK9wC,ICiJgE,GAC/F+wC,GAAK9gC,EAAKkgC,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,IACzCJ,EAAMrqD,EAAI+nD,GAAKh9B,EAAKsgC,KAAOF,GAAK,IAChCb,EAAMtqD,EAAI+nD,GAAK98B,EAAKogC,KAAOF,GAAK,GAClC,CACF,CAGMjB,EAAMrD,EAGHyD,EAAMzD,GACbxlB,EAAKwmB,EAAeY,EAAKC,EAAKT,EAAKC,EAAKj9B,EAAIq/B,EAAKtC,GACjD1mB,EAAKumB,EAAeQ,EAAKC,EAAKC,EAAKC,EAAKv9B,EAAIq/B,EAAKtC,GAEjD7S,EAAQoB,OAAOlV,EAAGvZ,GAAKuZ,EAAG4mB,IAAK5mB,EAAGtZ,GAAKsZ,EAAG6mB,KAGtCoC,EAAMvC,EAAI5S,EAAQsU,IAAIpoB,EAAGvZ,GAAIuZ,EAAGtZ,GAAIuiC,EAAK5D,EAAMrlB,EAAG6mB,IAAK7mB,EAAG4mB,KAAMvB,EAAMplB,EAAG4mB,IAAK5mB,EAAG2mB,MAAOD,IAI1F7S,EAAQsU,IAAIpoB,EAAGvZ,GAAIuZ,EAAGtZ,GAAIuiC,EAAK5D,EAAMrlB,EAAG6mB,IAAK7mB,EAAG4mB,KAAMvB,EAAMrlB,EAAGinB,IAAKjnB,EAAGgnB,MAAOL,GAC9E7S,EAAQsU,IAAI,EAAG,EAAGx+B,EAAIy7B,EAAMrlB,EAAGtZ,GAAKsZ,EAAGinB,IAAKjnB,EAAGvZ,GAAKuZ,EAAGgnB,KAAM3B,EAAMplB,EAAGvZ,GAAKuZ,EAAGgnB,IAAKhnB,EAAGxZ,GAAKwZ,EAAG+mB,MAAOL,GACrG7S,EAAQsU,IAAInoB,EAAGxZ,GAAIwZ,EAAGvZ,GAAIuiC,EAAK5D,EAAMplB,EAAGgnB,IAAKhnB,EAAG+mB,KAAM3B,EAAMplB,EAAG4mB,IAAK5mB,EAAG2mB,MAAOD,MAK7E7S,EAAQoB,OAAO0R,EAAKC,GAAM/S,EAAQsU,IAAI,EAAG,EAAGx+B,EAAI4+B,EAAKC,GAAM9B,IArB1C7S,EAAQoB,OAAO0R,EAAKC,GAyBpCn9B,EAAK87B,GAAcoD,EAAMpD,EAGtBwD,EAAMxD,GACbxlB,EAAKwmB,EAAeU,EAAKC,EAAKH,EAAKC,EAAKv9B,GAAKs/B,EAAKrC,GAClD1mB,EAAKumB,EAAeI,EAAKC,EAAKO,EAAKC,EAAK39B,GAAKs/B,EAAKrC,GAElD7S,EAAQmB,OAAOjV,EAAGvZ,GAAKuZ,EAAG4mB,IAAK5mB,EAAGtZ,GAAKsZ,EAAG6mB,KAGtCmC,EAAMtC,EAAI5S,EAAQsU,IAAIpoB,EAAGvZ,GAAIuZ,EAAGtZ,GAAIsiC,EAAK3D,EAAMrlB,EAAG6mB,IAAK7mB,EAAG4mB,KAAMvB,EAAMplB,EAAG4mB,IAAK5mB,EAAG2mB,MAAOD,IAI1F7S,EAAQsU,IAAIpoB,EAAGvZ,GAAIuZ,EAAGtZ,GAAIsiC,EAAK3D,EAAMrlB,EAAG6mB,IAAK7mB,EAAG4mB,KAAMvB,EAAMrlB,EAAGinB,IAAKjnB,EAAGgnB,MAAOL,GAC9E7S,EAAQsU,IAAI,EAAG,EAAG1+B,EAAI27B,EAAMrlB,EAAGtZ,GAAKsZ,EAAGinB,IAAKjnB,EAAGvZ,GAAKuZ,EAAGgnB,KAAM3B,EAAMplB,EAAGvZ,GAAKuZ,EAAGgnB,IAAKhnB,EAAGxZ,GAAKwZ,EAAG+mB,KAAML,GACpG7S,EAAQsU,IAAInoB,EAAGxZ,GAAIwZ,EAAGvZ,GAAIsiC,EAAK3D,EAAMplB,EAAGgnB,IAAKhnB,EAAG+mB,KAAM3B,EAAMplB,EAAG4mB,IAAK5mB,EAAG2mB,MAAOD,KAK7E7S,EAAQsU,IAAI,EAAG,EAAG1+B,EAAIi/B,EAAKD,EAAK/B,GArBI7S,EAAQmB,OAAOiS,EAAKC,EAsB/D,MAhHqBrT,EAAQoB,OAAO,EAAG,GAoHvC,GAFApB,EAAQkB,YAEJR,EAAQ,OAAOV,EAAU,KAAMU,EAAS,IAAM,IACpD,CAwCA,OAtCA4T,EAAI6B,SAAW,WACb,IAAItjC,IAAMo/B,EAAYtqD,MAAMC,KAAMtvB,aAAc65E,EAAYxqD,MAAMC,KAAMtvB,YAAc,EAClF6vB,IAAMkqD,EAAW1qD,MAAMC,KAAMtvB,aAAci6E,EAAS5qD,MAAMC,KAAMtvB,YAAc,EAAIq5E,EAAK,EAC3F,MAAO,CAACH,EAAIrpD,GAAK0qB,EAAG4+B,EAAItpD,GAAK0qB,EAC/B,EAEAyhC,EAAIrC,YAAc,SAAS5+D,GACzB,OAAO/a,UAAU4B,QAAU+3E,EAA2B,oBAAN5+D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAIihE,GAAOrC,CAC9F,EAEAqC,EAAInC,YAAc,SAAS9+D,GACzB,OAAO/a,UAAU4B,QAAUi4E,EAA2B,oBAAN9+D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAIihE,GAAOnC,CAC9F,EAEAmC,EAAIF,aAAe,SAAS/gE,GAC1B,OAAO/a,UAAU4B,QAAUk6E,EAA4B,oBAAN/gE,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAIihE,GAAOF,CAC/F,EAEAE,EAAID,UAAY,SAAShhE,GACvB,OAAO/a,UAAU4B,QAAUm6E,EAAiB,MAALhhE,EAAY,KAAoB,oBAANA,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAIihE,GAAOD,CAC/G,EAEAC,EAAIjC,WAAa,SAASh/D,GACxB,OAAO/a,UAAU4B,QAAUm4E,EAA0B,oBAANh/D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAIihE,GAAOjC,CAC7F,EAEAiC,EAAI/B,SAAW,SAASl/D,GACtB,OAAO/a,UAAU4B,QAAUq4E,EAAwB,oBAANl/D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAIihE,GAAO/B,CAC3F,EAEA+B,EAAI7B,SAAW,SAASp/D,GACtB,OAAO/a,UAAU4B,QAAUu4E,EAAwB,oBAANp/D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAIihE,GAAO7B,CAC3F,EAEA6B,EAAItU,QAAU,SAAS3sD,GACrB,OAAO/a,UAAU4B,QAAW8lE,EAAe,MAAL3sD,EAAY,KAAOA,EAAIihE,GAAOtU,CACtE,EAEOsU,CACT,C,0BCnPA,UAAerzC,EAAAA,EAAAA,OAEf,SAAuB9jC,GAAmF,IAAlF,EAAEgoC,EAAC,EAAEE,EAAC,UAAE+wC,EAAS,UAAE1+E,EAAS,SAAEqF,EAAQ,oBAAEs5E,GAA0Cl5E,EACxG,MAAMm5E,GAAY58E,EAAAA,EAAAA,QAAuB,MACnC68E,GAAa78E,EAAAA,EAAAA,QAAuB,MAEpCgzC,IAAQ4pC,EAAUz8E,UAAU8yC,EAAAA,GAAAA,IAAS2pC,EAAUz8E,SAerD,OAdAu8E,EAAa1pC,GAAqB0pC,EAAbA,GAGrBn/D,EAAAA,EAAAA,YAAU,KAER,MAAMu0D,EAAYC,YAAW,KAC3B,MAAM/+B,GAAQC,EAAAA,GAAAA,IAAS4pC,EAAW18E,SAC5B28E,EAAYD,EAAW18E,QAASyuB,wBAChCmuD,EAAeJ,GA4BwCpuC,EA5BSouC,GA4BnDltD,EA5BwCqtD,GA6BnDj+D,KAAO0vB,EAAU1vB,KACpB4Q,EAAQ3Q,MAAQyvB,EAAU1vB,KACxB4Q,EAAQ3Q,MAAQyvB,EAAUzvB,MAC5ByvB,EAAUzvB,MAAQ2Q,EAAQ5Q,KAE1B0vB,EAAUzvB,MAAQyvB,EAAU1vB,MAlC4D,EA4BnG,IAAyB4Q,EAA0C8e,GA3B7D2E,EAAAA,GAAAA,GAAkB0pC,EAAUz8E,QAAUkD,EAAU05E,EAAc/pC,EAAM,GACnE,IACH,MAAO,IAAMg/B,aAAaF,EAAU,IAIpC3zE,EAAAA,cAAAA,EAAAA,SAAA,KAEEA,EAAAA,cAAA,QACEyE,IAAKi6E,EACLpxC,EAAGA,EACHE,EAAGA,EACHxiB,MAAO,CAAEgqB,WAAYupC,EAAY,QAAU,MAAO9wC,WAAY,UAAU,cAC5D,OACZ5tC,UAAWA,GAEVqF,GAIHlF,EAAAA,cAAA,QAAMyE,IAAKg6E,EAAWnxC,EAAGA,EAAGE,EAAGA,EAAGxiB,MAAO,CAAEgqB,WAAYupC,EAAY,QAAU,OAAS1+E,UAAWA,GAC9FqF,GAIT,ICxDI,UACF,cAAiB,sCACjB,QAAW,gCACX,eAAkB,uCAClB,MAAS,8BACT,KAAQ,6BACR,QAAW,gCACX,iBAAkB,uCAClB,sBAAuB,4CACvB,0BAA2B,gDAC3B,kBAAmB,wCACnB,iBAAkB,uCAClB,mBAAoB,yCACpB,kBAAmB,wCACnB,8BAA+B,oDAC/B,6BAA8B,mDAC9B,yCAA0C,+DAC1C,gBAAiB,sCACjB,mBAAsB,2CACtB,kBAAmB,wCACnB,uBAAwB,6CACxB,gBAAiB,sCACjB,qBAAsB,2CACtB,aAAc,mCACd,mBAAsB,2CACtB,aAAc,mCACd,qBAAsB,2CACtB,iBAAkB,wCCTP25E,GAA6B91E,KAAKgxE,GAAK,GAEvC+E,GAA0E,CACrFC,MAAO,CACL3E,YAAa,GACbE,YAAa,GACb0E,kBAPiB,EAQjBt/B,QARiB,EASjBu/B,cAXkB,IAapBC,OAAQ,CACN9E,YAAa,GACbE,YAAa,IACb0E,kBAfmB,GAgBnBt/B,QAhBmB,GAiBnBu/B,cAlBkB,IAoBpBE,MAAO,CACL/E,YAAa,GACbE,YAAa,IACb0E,kBAtBmB,GAuBnBt/B,QAvBmB,GAwBnBu/B,cAzBkB,KA6BTG,GAAiF,CAC5FL,MAAK7+E,OAAAC,OAAAD,OAAAC,OAAA,GACA2+E,GAAiBC,OAAK,CACzB3E,YAAa,GACbmC,aAAc,IAEhB2C,OAAMh/E,OAAAC,OAAAD,OAAAC,OAAA,GACD2+E,GAAiBI,QAAM,CAC1B9E,YAAa,GACbmC,aAAc,IAEhB4C,MAAKj/E,OAAAC,OAAAD,OAAAC,OAAA,GACA2+E,GAAiBK,OAAK,CACzB/E,YAAa,IACbmC,aAAc,KAQZ,SAAU8C,GAAmB/5E,GAQlC,IARmC,KAClCmjB,EAAI,UACJ62D,EAAS,cACTC,GAKDj6E,EACC,GAAoB,kBAATmjB,EAAmB,CAC5B,MAAM+2D,EAAaD,EAAgBH,GAAwB32D,GAAQq2D,GAAiBr2D,GACpF,OAAAvoB,OAAAC,OAAAD,OAAAC,OAAA,GAAYq/E,GAAU,CAAE/2D,Q,CAE1B,MAAMg3D,EAAWF,EAAgBH,GAA0BN,GACrDY,EAAgBn2C,GAAiC,EAAhBA,EAAE+wC,YAA8B,EAAZ/wC,EAAEmW,QAAkD,GAAnC4/B,EAAY/1C,EAAE01C,cAAgB,GAE1G,IAAIU,EAAkD,QAClDl3D,EAAOi3D,EAAaD,EAASP,UAC/BS,EAAc,UAEZl3D,EAAOi3D,EAAaD,EAASN,SAC/BQ,EAAc,SAGhB,MAAMjgC,EAAU+/B,EAASE,GAAajgC,QAChCu/B,EAAgBK,EAAYG,EAASE,GAAaV,cAAgB,EAClEW,EAAaH,EAASE,GAAarF,YAAcmF,EAASE,GAAavF,YACvEE,EAAcvxE,KAAK8pB,IA/ET,IA+EyBpK,EAAO,EAAIw2D,EAAgB,EAAIv/B,GAAW,GAC7E06B,EAAcE,EAAcsF,EAElC,OAAA1/E,OAAAC,OAAAD,OAAAC,OAAA,GAAYs/E,EAASE,IAAY,CAAErF,cAAaF,cAAa3xD,KAAMk3D,GACrE,CAEO,MAgBME,GAAoBA,CAC/BC,EACAC,EACAC,EACA7a,K,MAIA,IAAI8a,EAAgE,KAIhEv0E,EAAIs0E,EAAWF,EAAMz9E,OAAS,EAAI,EAEtC,KAAQ29E,GAAYt0E,GAAK,IAAQs0E,GAAYt0E,EAAIo0E,EAAMz9E,QAAS,CAC9D,MAAMguB,EAAOyvD,EAAMp0E,GAIbw0E,EAAM,CACV5yC,EAHQ6yC,WAAW9vD,EAAKzsB,aAAa,WAAa,KAIlD4pC,EAHQ2yC,WAAW9vD,EAAKzsB,aAAa,WAAa,KAIlDjF,OAAQ0xB,EAAKI,wBAAwB9xB,QAGjCk0C,EAASktC,EAAQr0E,GAQvB,GANIs0E,EACFt0E,IAEAA,KAGGu0E,EAAc,CACjBA,EAAeC,EACf7vD,EAAKvF,aAAa,YAAa,IAC/B,Q,CAGF,IAAMk1D,GAAYE,EAAI5yC,EAAI,GAAO0yC,GAAYE,EAAI5yC,GAAK,EAEpD,MAGFjd,EAAKvF,aAAa,YAAa,IAG/B,MAAMuwB,EAAU4kC,EAAazyC,EAAIyyC,EAAathF,OAzCjC,GAyCmDuhF,EAAI1yC,EAEpE,GAAI6N,EAAU,EAAG,CACf,MAAM9B,EAAU6mC,GAAeF,EAAK7kC,EAAS8pB,IAAW6a,GAAY,EAAI,GAExE3vD,EAAKvF,aAAa,YAAa,aAAFxoB,OAAei3C,EAAO,KAAAj3C,OAAI+4C,EAAO,MAG9D,MAAMglC,EAA0B,QAAf5hF,EAAA4xB,EAAKiwD,kBAAU,IAAA7hF,OAAA,EAAAA,EAAEkF,cAAc,IAADrB,OAAKvC,GAAO,gBAC3D,GAAIsgF,EAAU,CACZ,MAAM,KAAEE,EAAI,KAAEC,GAAS3tC,EACvBwtC,EAASv1D,aAAa,KAAM,IAAMy1D,EAAOllC,IACzCglC,EAASv1D,aAAa,KAAM,IAAM01D,EAAOjnC,G,CAI3C2mC,EAAI1yC,GAAK6N,EACT6kC,EAAI5yC,GAAKiM,C,CAGX0mC,EAAeC,C,GAIbO,GAAkBC,GAAmC33E,KAAKw1C,IAAImiC,EAAK,GAAI,GAAK33E,KAAKw1C,IAAImiC,EAAK,GAAI,GAE9FN,GAAiBA,CAACF,EAA+C7kC,EAAiB8pB,KACtF,MAAMwb,EAA8B,CAACT,EAAI5yC,EAAG4yC,EAAI1yC,EAAI6N,GAC9CulC,EAA8B,CAACV,EAAI5yC,EAAG4yC,EAAI1yC,EAAI0yC,EAAIvhF,OAAS08C,GAC3DwlC,EAAcJ,GAAeE,GAAaF,GAAeG,GAAaD,EAAYC,EAExF,OAAIH,GAAeI,GAAe93E,KAAKw1C,IAAI4mB,EAAQ,GAC1Cp8D,KAAKw0C,KAAKx0C,KAAKw1C,IAAI4mB,EAAQ,GAAKp8D,KAAKw1C,IAAIsiC,EAAY,GAAI,IAAM93E,KAAKC,IAAI63E,EAAY,IAEtF,CAAC,ECjKV,SAASC,GAAYx7E,GASD,IATE,EACpBgoC,EAAC,EACDE,EAAC,WACDuzC,EAAU,iBACVC,EAAgB,UAChBzC,EAAS,MACTh1D,EAAK,YACL9B,EAAW,oBACX+2D,GACkBl5E,EAClB,OACEtF,EAAAA,cAAA,KAAGH,UAAWE,GAAO,cAAekrB,UAAU,GAAE,SAASqiB,EAAC,SAAUE,IAChEuzC,GACA/gF,EAAAA,cAAC27C,GAAc,CAACrO,EAAGA,EAAGE,EAAGA,EAAG+wC,UAAWA,EAAWC,oBAAqBA,GACpEj1D,IAGHy3D,GAAoBv5D,GACpBznB,EAAAA,cAAC27C,GAAc,CACbrO,EAAGA,EACHE,EAAGA,GAAKuzC,EAAa,EAAI,IACzBxC,UAAWA,EACX1+E,UAAWE,GAAOkhF,mBAClBzC,oBAAqBA,GAEpB/2D,GAKX,CAEA,SAAeld,IASM,IAT0B,QAC7C22E,EAAO,WACP1B,EAAU,mBACV2B,EAAkB,mBAClBC,EAAkB,eAClBC,EAAc,WACdN,EAAU,iBACVC,EAAgB,aAChB52C,GACe7/B,EACf,MAAMi0E,EA+FR,SAA8B/5E,GAC5B,MAAO2rB,EAAOojD,IAAY5uE,EAAAA,EAAAA,UAAS,CAAE8b,KAAM,EAAGC,MAAO,IAKrD,OAJAk1B,EAAAA,GAAAA,IAAkBpxC,GAAKqxC,IACrB,MAAMwrC,EAAcxrC,EAAMrmB,OAAOgB,wBACjC+iD,EAAS,CAAE9yD,KAAM4gE,EAAY5gE,KAAMC,MAAO2gE,EAAY3gE,OAAQ,IAEzDyP,CACT,CAtG8BmxD,CAAqBn3C,GAC3Co3C,EACJhD,EAAoB79D,MAAQ69D,EAAoB99D,KAAiE,GAAzD8+D,EAAWlF,YAAckF,EAAWR,mBAC5F,IACIe,GAAU1kE,EAAAA,EAAAA,UAAQ,KACtB,MAAQi/D,YAAanV,EAAM,kBAAE6Z,GAAsBQ,EAG7CiC,EAAiBhF,KACpBrC,YAAYjV,EAAS,GACrBmV,YAAYnV,EAAS,GAElBuc,EAAiBjF,KACpBrC,YAAYjV,EAAS6Z,GACrB1E,YAAYnV,EAAS6Z,GAExB,OAAOkC,EAAQx6E,KAAI,CAAC8iC,EAAO99B,KACzB,MAAMi2E,EAAaT,EAAQx1E,GACrBk2E,EDwGqB,SAACpH,EAAoBE,GACpD,KAD8Ej6E,UAAA4B,OAAA,QAAAK,IAAAjC,UAAA,IAAAA,UAAA,KAC7Di6E,EAAWF,EAAa,EAAIqE,GAC3C,OAAQnE,EAAWF,GAAc,EAEnC,MAAMqH,EAAmBrH,EAAaqE,GAChCiD,EAAiBpH,EAAWmE,GAClC,OAAIgD,EAAmB,GAAKC,EAAiB,EACpC,EAELD,EAAmB94E,KAAKgxE,IAAM+H,EAAiB/4E,KAAKgxE,GAC/ChxE,KAAKgxE,GAGchxE,KAAKiqB,IAC/B8uD,EACA/4E,KAAKC,IAAID,KAAKgxE,GAAK+H,GACnB,EAAI/4E,KAAKgxE,GAAK+H,GAEc/4E,KAAKiqB,IACjC6uD,EACA94E,KAAKC,IAAID,KAAKgxE,GAAK8H,GACnB,EAAI94E,KAAKgxE,GAAK8H,GAGPC,EAEFD,CACT,CCnIyBE,CAAkBJ,EAAWnH,WAAYmH,EAAWjH,SAAU8G,GAG3EQ,EAAgB,GAAMj5E,KAAK4wE,IAAI,EAAIiI,GAAc,GACvDF,EAAepH,YAAYnV,EAAS,GAAK6c,GACzCN,EAAetH,YAAYjV,EAAS,GAAK6c,GACzC,MAAOC,EAAQC,GAAUT,EAAenD,SAAQp+E,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EAAIqpC,GAAK,CAAEgxC,WAAYoH,EAAYlH,SAAUkH,MACxFO,EAAQC,GAAUV,EAAepD,SAAQp+E,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EAAIqpC,GAAK,CAAEgxC,WAAYoH,EAAYlH,SAAUkH,KAEzFrD,EAAYqD,EAAa74E,KAAKgxE,GAC9ByG,EAAOgB,EAAuBW,EAAS,IAAM5D,EAAY,GAAK,IAAMpZ,EAAS,KAAOoZ,EAAY,GAAK,GAG3G,MAAO,CACL0D,SACAC,SACAC,SACAC,SACA5B,OACAD,KAAM6B,EACNC,MATY7B,EAAO,GAAKjC,EAAY,GAAK,GAUzC+D,MAAOF,EACP7D,YACA/0C,QACD,GACD,GACD,CAAC03C,EAAS1B,EAAYgC,IAEnBr7C,GAAUtkC,EAAAA,EAAAA,QAAoB,MAapC,OAXAgpB,EAAAA,EAAAA,kBAAgB,KACd,IAAKsb,EAAQnkC,QACX,OAIF,MAAMugF,EAAap8C,EAAQnkC,QAAQo/B,iBAAgB,IAAA9+B,OAAkBvC,GAAO,gBAC5E8/E,GAAkB0C,EAAYxC,GAAS,EAAOP,EAAWlF,YAAckF,EAAWR,mBAClFa,GAAkB0C,EAAYxC,GAAS,EAAMP,EAAWlF,YAAckF,EAAWR,kBAAkB,GAClG,CAACe,EAASmB,EAAS1B,IAGpBx/E,EAAAA,cAAA,KAAGH,UAAWE,GAAOggF,QAAO,cAAc,OAAOt7E,IAAK0hC,GACnD45C,EAAQr5E,KAAI8gB,IAAmF,IAAlF,OAAEy6D,EAAM,OAAEC,EAAM,OAAEC,EAAM,OAAEC,EAAM,KAAE5B,EAAI,KAAED,EAAI,MAAE8B,EAAK,MAAEC,EAAK,UAAE/D,EAAS,MAAE/0C,GAAOhiB,EAC1F,MAAMg7D,EAAUh5C,EAAMhvB,KAAKgvB,MACrB/hB,EAAgC,OAAlB25D,QAAkB,IAAlBA,OAAkB,EAAlBA,EAAqBoB,EAASnB,GAClD,OAAKN,IAAet5D,GAAiBu5D,IAAqBwB,EAAQj5D,MACzD,KAGPvpB,EAAAA,cAAA,KACE6G,IAAK2iC,EAAMhvB,KAAKuI,MAChBljB,WAAWC,EAAAA,EAAAA,GAAKC,GAAOmnB,MAAO,CAC5B,CAACnnB,GAAO,uBAAwBohF,IAAuBqB,EACvD,CAACziF,GAAO,kBAA0C,OAAvBohF,GAA+BA,IAAuBqB,EACjF,CAACziF,GAAO,wBAAyBw+E,KAGnCv+E,EAAAA,cAAA,QAAM85C,GAAImoC,EAAQjoC,GAAIkoC,EAAQnoC,GAAIooC,EAAQloC,GAAImoC,IAC9CpiF,EAAAA,cAAA,QAAM85C,GAAIqoC,EAAQnoC,GAAIooC,EAAQroC,GAAIymC,EAAMvmC,GAAIsmC,EAAM1gF,UAAWE,GAAO,gBACpEC,EAAAA,cAAC8gF,GAAY,CACXxzC,EAAG+0C,EACH70C,EAAG80C,EACH/D,UAAWA,EACXh1D,MAAOi5D,EAAQj5D,MACf9B,YAAaA,EACbs5D,WAAYA,EACZC,iBAAkBA,EAClBxC,oBAAqBA,IAErB,IAKb,EClJa,SAAUiE,GAAQn9E,GAWb,IAX6C,QAC9D47E,EAAO,mBACPC,EAAkB,WAClB3B,EAAU,QACVxjE,EAAO,kBACP0mE,EAAiB,gBACjBC,EAAe,2BACfC,EAA0B,YAC1B10D,EAAW,YACXod,EAAW,aACXu3C,GACiBv9E,EACjB,MAAMsX,GAAOC,EAAAA,EAAAA,IAAgB,cAEvB,WAAEimE,EAAU,sBAAEC,IAA0B1nE,EAAAA,EAAAA,UAAQ,KACpD,MAAM8pD,EAASqa,EAAWlF,YACpBF,EAA0B,QAAZp+D,EAAoB,EAAIwjE,EAAWpF,YACjDmC,EAAeiD,EAAWjD,cAAgB,EAWhD,MAAO,CACLuG,WAViBrG,KAChBrC,YAAYA,GACZE,YAAYnV,GACZoX,aAAaA,GAQdwG,sBAN4BtG,KAC3BrC,YAAYjV,EAAS,GACrBmV,YAAYnV,EAAS,GAKvB,GACA,CAACqa,EAAYxjE,IAEVsiE,GAAWjjE,EAAAA,EAAAA,UAAQ,KACvB,IAAK,MAAMmuB,KAAS03C,EAClB,GAAI13C,EAAMhvB,KAAKgvB,QAAU23C,EAAoB,CAC3C,MAAO6B,EAAcC,GAAeH,EAAWxE,SAAS90C,GACxD,MAAO,CAAEsR,GAAIkoC,EAAcjoC,GAAIkoC,E,CAGnC,OAAO,IAAI,GACV,CAAC9B,EAAoBD,EAAS4B,IAEjC,OACE9iF,EAAAA,cAAA,SACGkhF,EAAQx6E,KAAI8iC,IACX,MAAM2B,EAAgBg2C,IAAuB33C,EAAMhvB,KAAKgvB,MAClD4B,EAAkC,OAAvB+1C,IAAgCh2C,EAC3C+3C,EAAUJ,EAAWt5C,SAAU9mC,EAC/BygF,EAAkBJ,EAAsBv5C,SAAU9mC,EACxD,OACE1C,EAAAA,cAAA,KACE6G,IAAK2iC,EAAMhvB,KAAKuI,MAChB8/D,aAAcA,IAAMA,IACpB30D,YAAa8P,IACX9P,EAAYsb,EAAMhvB,MAClBwjB,EAAEjd,gBAAgB,EAEpBuqB,YAAaA,IAAMA,EAAY9B,EAAMhvB,MACrC3a,WAAWC,EAAAA,EAAAA,GAAKC,GAAOyiF,QAAS,CAC9B,CAACziF,GAAO,yBAA0BorC,EAClC,CAACprC,GAAO,oBAAqBqrC,IAE/B3mC,IAAK0mC,EAAgBu3C,OAAoBhgF,EAAS,gBAAAJ,OACnCknC,EAAMhvB,KAAKgvB,MAAMjgB,MAAK,MAAAjnB,OAAKknC,EAAMhvB,KAAKgvB,MAAMhnC,MAAK,KAChEgE,KAAK,SAAQ,uBACSoW,EAAK,yCAA0CgmE,IAErE5iF,EAAAA,cAAA,QAAMupC,EAAG25C,EAAS3nE,KAAMiuB,EAAMhvB,KAAKkvB,MAAO7pC,UAAWE,GAAOqjF,cAAa,cAAc,SACvFpjF,EAAAA,cAAA,QACEupC,EAAG45C,EACH5nE,KAAMiuB,EAAMhvB,KAAKkvB,MACjB7pC,WAAWC,EAAAA,EAAAA,GAAKC,GAAOqjF,cAAerjF,GAAOsjF,oBAAmB,cACpD,SAEZ,IAIRrjF,EAAAA,cAAA,SAAAE,OAAAC,OAAA,GAAYm+E,EAAQ,CAAE75E,IAAKk+E,EAAiB3nC,EAAE,IAAIiQ,QAAQ,IAAG,cAAa,UAGhF,CCnDA,SAAe3lD,IAuBgB,IAvBgB,UAC7C9F,EACAb,OAAQ2kF,EAAc,QACtBtnE,EAAO,KACPyM,EAAI,MACJ2I,EAAK,YACL5U,EAAW,UACXZ,EAAS,eACT/V,EAAc,gBACdsoC,EAAe,iBACfo1C,EAAgB,uBAChBC,EAAsB,WACtBzC,EAAU,iBACVC,EAAgB,qBAChByC,EAAoB,kBACpBzkF,EAAiB,oBACjB8xE,EAAmB,mBACnBsQ,EAAkB,mBAClBD,EAAkB,kBAClBn3C,EAAiB,cACjB05C,EAAa,QACbxC,EAAO,QACPyC,GACyBr+E,E,QACzB,MAAOs+E,EAAeC,IAAoBj/E,EAAAA,EAAAA,UAAmB,MACvDsmE,GAAUrpE,EAAAA,EAAAA,QAAqB,MAC/BuoC,GAAevoC,EAAAA,EAAAA,QAAuB,MACtC6gF,GAAoB7gF,EAAAA,EAAAA,QAAoB,MACxC8gF,GAAkB9gF,EAAAA,EAAAA,QAAyB,MAC3CyuC,GAAazuC,EAAAA,EAAAA,QAA2B,MAExCy9E,IAAcyB,GAAcC,GAC5B5c,GAAYt1C,EAAAA,EAAAA,KAEZnwB,EAAyE,QAAhEF,GAAA62C,EAAAA,EAAAA,IAAiB,KAAK,IAAA72C,EAAAye,EAAC,OAAoB,QAApBA,EAAe,QAAfze,EAAAysE,EAAQlpE,eAAO,IAAAvD,OAAA,EAAAA,EAAE+pB,WAAG,IAAAtL,EAAAA,EAAI,IAAI,IAAG1d,UAAU,IAAAf,EAAAA,EAAI6kF,EAE7E9D,GAAankE,EAAAA,EAAAA,UACjB,IACEgkE,GAAoB,CAAE52D,KAAMjpB,EAAYuJ,KAAKiqB,IAAIr0B,EAAQyyB,GAAS3I,EAAM62D,YAAWC,cAAenb,KACpG,CAAC5kE,EAAWb,EAAQyyB,EAAO3I,EAAM62D,EAAWlb,IAIxC0f,EACQ,UAAZ9nE,IAAwBunE,GAAqBC,GAA8C,UAApBhE,EAAW/2D,MAE9Es7D,GAAgB/kE,EAAAA,EAAAA,GAAY,2BAE3Bq0D,GAAe2Q,KAAkBp/E,EAAAA,EAAAA,WAAkB,IACnDq/E,GAAaC,KAAkBt/E,EAAAA,EAAAA,YAEhCu/E,IAA0B9oE,EAAAA,EAAAA,UAAQ,KACtC,IAAK,IAAI0H,EAAQ,EAAGA,EAAQm+D,EAAQ7+E,OAAQ0gB,IAC1C,GAAIm+D,EAAQn+D,GAAOvI,KAAKgvB,QAAU23C,EAChC,OAAOp+D,EAGX,OAAO,IAAI,GACV,CAACm+D,EAASC,IAEP3M,IAA6Bn5D,EAAAA,EAAAA,UACjC,IAAOy1D,GAAuBqQ,EAAqBrQ,EAAoBqQ,GAAsB,MAC7F,CAACrQ,EAAqBqQ,IAGlBvkE,IAAOC,EAAAA,EAAAA,IAAgB,aACvBunE,GAAiBX,GHtBvBY,EAACznE,EAA4CJ,IAC7C,CAACgtB,EAA4Bm6C,IAAoB,CAC/C,CAAE98E,IAAK+V,EAAK,2BAA4BJ,EAAY8nE,eAAiB,GAAI9hF,MAAOgnC,EAAMhnC,OACtF,CACEqE,IAAK+V,EAAK,gCAAiCJ,EAAY+nE,oBAAsB,GAC7E/hF,MAAO,GAAFF,QAAqB,IAAdknC,EAAMhnC,MAAemhF,GAASpzB,QAAQ,GAAE,OGiBT8zB,CAAeznE,GAAMJ,GAC9D20B,GAAU8yC,GAAcG,GAAeH,GAAYz6C,MAAOm6C,GAAW,GACrEa,IAAoB3iF,EAAAA,EAAAA,QAA8B,MAClD4iF,GAAiBR,IAAejkF,EAAAA,cAAC0kF,EAAAA,EAAa,CAACvzC,QAASA,GAASI,aAAa,EAAM9sC,IAAK+/E,KAEzFG,IAA2B9iF,EAAAA,EAAAA,SAAO,GAClC+iF,IAAgB/iF,EAAAA,EAAAA,SAAO,GACvBgjF,IAAchjF,EAAAA,EAAAA,SAAO,GAErBijF,IAAmB5rD,EAAAA,EAAAA,cACtB6rD,IACC,MAAMvC,EAAUuC,EAAcv7C,MAC1Bg5C,IAAYrB,GACdn3C,EAAkBw4C,GAGhBG,EAAgB3gF,UAClBkiF,GAAe,CACb16C,MAAOu7C,EAAcv7C,MACrB9qC,OAAQ,CACNgrC,MAAOq7C,EAAcr7C,MACrB3mB,MAAOgiE,EAAchiE,MACrBmE,MAAO69D,EAAcv7C,MAAMjgB,MAC3BwoB,WAAY,aAEd3sC,SAAUu9E,IAEZqB,IAAe,G,GAGnB,CAAC7C,EAAoB6C,GAAgBh6C,IAGjCg7C,IAA0B9rD,EAAAA,EAAAA,cAAY,KAC1C8qD,IAAe,GACfh6C,EAAkB,KAAK,GACtB,CAACA,EAAmBg6C,KAEjBiB,GAAmB7kE,IACD,OAAlBwjE,KAKFnzC,EAAAA,EAAAA,GAAaH,EAAWtuC,QAASoe,EAAMuB,iBACvC8uB,EAAAA,EAAAA,GAAaiyC,EAAkB1gF,QAASoe,EAAMuB,gBAKhDqjE,KAAyB,GAG3B5lE,EAAAA,EAAAA,YAAU,KACR,MAAM3Y,EAAa2Z,IACC,WAAdA,EAAMvZ,MACRm+E,KACAJ,GAAc5iF,SAAU,E,EAI5B,OADA0B,SAASoyB,iBAAiB,UAAWrvB,GAC9B,IAAM/C,SAASuyB,oBAAoB,UAAWxvB,EAAU,GAC9D,CAACu+E,KAEJ,MAAM92D,IAAcgL,EAAAA,EAAAA,cACjB6rD,IACKnB,IAAkBmB,EAAcv7C,OAClCq6C,EAAiB,MACjBmB,OAEAnB,EAAiBkB,EAAcv7C,OAC/Bs7C,GAAiBC,G,GAGrB,CAACnB,EAAeoB,GAAyBnB,EAAkBiB,KAEvDx5C,IAAcpS,EAAAA,EAAAA,cACjB6rD,IACKH,GAAc5iF,QAChB4iF,GAAc5iF,SAAU,EAGtB6iF,GAAY7iF,QACd6iF,GAAY7iF,SAAU,EAGF,OAAlB4hF,GAGJkB,GAAiBC,EAAc,GAEjC,CAACnB,EAAekB,KAEZjC,IAAe3pD,EAAAA,EAAAA,cAAY,KAC/B2rD,GAAY7iF,SAAU,CAAI,GACzB,IAEGyE,IAAYyyB,EAAAA,EAAAA,cACf9Y,IACC,MAAMU,EAAUV,EAAMU,QACtB,GACEA,IAAYP,EAAAA,EAAQI,OACpBG,IAAYP,EAAAA,EAAQG,MACpBI,IAAYP,EAAAA,EAAQM,OACpBC,IAAYP,EAAAA,EAAQK,MAEpB,OAGFR,EAAMW,iBAEN,IAAI8pB,EAAYs5C,IAA2B,EAC3C,MAAMe,EAAMhE,EAAQ7+E,OAAS,EACzBye,IAAYP,EAAAA,EAAQI,OACtBkqB,IACIA,EAAYq6C,IACdr6C,EAAY,IAEL/pB,IAAYP,EAAAA,EAAQG,OAC7BmqB,IACIA,EAAY,IACdA,EAAYq6C,IAGZpkE,IAAYP,EAAAA,EAAQM,OAASC,IAAYP,EAAAA,EAAQK,OACnDijE,EAAiB3C,EAAQr2C,GAAWrwB,KAAKgvB,OAE3Cs7C,GAAiB5D,EAAQr2C,GAAWrwB,KAAK,GAE3C,CAACqpE,EAAkBiB,GAAkB5D,EAASiD,KAE1Cr4C,IAAqB5S,EAAAA,EAAAA,cACzB,CAACisD,EAAa11D,KACZ,GAAsB,OAAlBm0D,GAA0Be,GAAyB3iF,SAAsB,UAAXytB,EAChE,OAGF,MAAM+yD,EAAUrB,GAAsBuC,GAAiBxC,EAAQ,GAAG1mE,KAAKgvB,MACjE47C,EAAUlE,EAAQt7D,QAAO2jB,GAAKA,EAAE/uB,KAAKgvB,QAAUg5C,IACrDsC,GAAiBM,EAAQ,GAAG5qE,KAAK,GAEnC,CAACopE,EAAe1C,EAAS4D,GAAkB3D,EAAoBuC,IAG3D33C,IAAoB7S,EAAAA,EAAAA,cACvB9Y,IACC,MAAM6zD,EAAa7zD,EAAMuB,eAAiBvB,EAAMqP,OAC7B,OAAfwkD,GAAyBA,aAAsBC,UAAa1jC,EAAAA,EAAAA,GAAYpG,EAAapoC,QAASiyE,KAIhG+P,IAAe,GACfH,EAAiB,M,GAGrB,CAACA,IAkBH,OACE7jF,EAAAA,cAAA,OACEH,WAAWC,EAAAA,EAAAA,GAAKC,GAAO,mBAAoBP,GAAaO,GAAO,gCAC/D0E,IAAK2lC,GAELpqC,EAAAA,cAAA,OACEH,WAAWC,EAAAA,EAAAA,GACTC,GAAO,8BACPP,GAAaO,GAAO,4CAGtBC,EAAAA,cAAC80E,EAAAA,EAAS,CACRrwE,IAAKymE,EACL95C,MAAM,OACNzyB,OAAQa,EAAY,OAASb,EAC7BssB,UAAS,aAAA3oB,OAAe8uB,EAAQ,EAAC,KAAA9uB,OAAI3D,EAAS,EAAC,KAC/C2vC,WAAW,EACXD,aAAcglC,GACdz3D,UAAWA,EACX/V,eAAgBA,EAChBsoC,gBAAiBA,EACjBtwB,gBAAiBimE,EAAkBC,OAAgBrhF,EACnDwrC,oBAAgC,OAAX1xB,QAAW,IAAXA,OAAW,EAAXA,EAAau4D,yBAClCtpC,iBAAkBi3C,EAClBl3C,iBAAyC,OAAvB24C,SAAuB,IAAvBA,QAAuB,EAAvBA,GAAyB5mE,WAC3CuuB,mBAAoBA,GACpBC,kBAAmBA,GACnBtlC,UAAWA,GACXgoC,WAAYw2C,IAEZjlF,EAAAA,cAACyiF,GAAQ,CACPvB,QAASA,EACT1B,WAAYA,EACZxjE,QAASA,EACT0mE,kBAAmBA,EACnBC,gBAAiBA,EACjBxB,mBAAoBA,EACpByB,2BAAuC,OAAXpmE,QAAW,IAAXA,OAAW,EAAXA,EAAaomE,2BACzC10D,YAAaA,GACbod,YAAaA,GACbu3C,aAAcA,KAEfvD,GACCt/E,EAAAA,cAACqlF,GAAM,CACLnE,QAASA,EACT1B,WAAYA,EACZ4B,mBAAoBA,EACpBC,eAAgBsC,EAChB5C,WAAYA,EACZC,iBAAkBA,EAClBG,mBAAoBA,EACpB/2C,aAAcA,MAMrB05C,GACC9jF,EAAAA,cAAA,OAAKH,UAAWE,GAAO,iBAAkB6N,GAAIm2E,GAC1CR,GACCvjF,EAAAA,cAAC+qC,EAAAA,EAAW,CACV/uB,QAA6B,UAApBwjE,EAAW/2D,KAAmB,KAAO,KAC9C68D,YAAY,MACZ57C,MAAM,UACNgW,QAAQ,KAEP6jC,GAGJC,GAA8C,UAApBhE,EAAW/2D,MACpCzoB,EAAAA,cAAC+qC,EAAAA,EAAW,CAAC/uB,QAAQ,KAAK0tB,MAAM,sBAAsB47C,YAAY,MAAM5lC,QAAQ,KAC7E8jC,IAKRnQ,IAAiB4Q,IAChBjkF,EAAAA,cAAC8kE,EAAAA,EAAY,CACXrgE,IAAK6rC,EACL/mB,MACE06D,GAAYvlF,QACVsB,EAAAA,cAAC+qC,EAAAA,EAAW,CAAClrC,UAAWE,GAAO,kBAAmBic,QAAQ,UACxDhc,EAAAA,cAACypC,EAAAA,EAAY,CAACC,MAAOu6C,GAAYvlF,OAAOgrC,MAAO/lB,KAAMsgE,GAAYvlF,OAAOqzC,aAAe,IACtFkyC,GAAYvlF,OAAOwoB,OAI1B9hB,SAAU6+E,GAAY7+E,SACtB+qC,SAAU8zC,GAAYvlF,OAAOqkB,MAC7BktB,cAAiC,OAAlB2zC,EACf1zC,iBAAkB1zB,EAAYk5D,8BAC9BjzC,UA3GkBgzC,IACxBuO,IAAe,GACfH,EAAiB,MAEZpO,EAQHzrC,EAAkB,MANlB4pC,YAAW,KACT+Q,GAAyB3iF,SAAU,EACnCkpE,EAAQlpE,QAASsqC,mBACjBq4C,GAAyB3iF,SAAU,CAAK,GACvC,E,EAkGCouC,WAA0B,QAAflzB,EAAAguD,EAAQlpE,eAAO,IAAAkb,OAAA,EAAAA,EAAEsL,MAAO,KACnCC,KAAMzpB,EACNiG,aAAcggF,GACdlgF,OAAQgnC,IAEP04C,GACAjQ,IAA8Bx0E,EAAAA,cAAC+vC,EAAAA,EAAkB,KAAEykC,KAGxDx0E,EAAAA,cAACuiB,EAAAA,EAAU,CAACmN,OAAQ,CAAC80D,MAG1B,ECrXKe,GAAW,SAAuE9mF,G,IAAA,UACtFe,EAAS,QACTwc,EAAU,MAAK,KACfyM,EAAO,SAAQ,WACfs4D,GAAa,EAAK,iBAClBC,GAAmB,EAAK,WACxBthF,GAAa,EAAK,WAClBD,GAAa,EAAK,WAClBR,EAAa,WACbub,KAAMw4B,EAAe,GAAE,YACvBx2B,EAAc,CAAC,EACf2kE,mBAAoBqE,EACpBC,gBAAiBC,EACjB17C,kBAAmBksC,EAA2B,eAC9CD,EAAc,kBACdziC,EAAiB,YACjBtJ,EAAW,kBACXlrC,EAAoB,UAAQP,EACzBW,GAAKC,EAAAA,EAAAA,IAAAZ,EAlB8E,8PAoBtF,MAAM,kBAAEqf,EAAoB,OAASve,EAAAA,EAAAA,GAAiB,WAAY,CAChEH,MAAO,CACLI,YACAwc,UACAyM,OACAs4D,aACAC,mBACAthF,aACAD,aACAT,uBAGEW,GAAYC,EAAAA,EAAAA,GAAaR,GACzBgrC,GAAevoC,EAAAA,EAAAA,QAAuB,OACrC2vE,EAAgBzkD,IAAc4pB,EAAAA,EAAAA,KAE/Bn8B,GAA6Ca,EAAAA,EAAAA,UAAQ,KACzD,MAAM+6B,GAASH,EAAAA,EAAAA,GAAyBjD,OAActwC,GAAW4zC,GAAMA,EAAG5M,OAAS,OAEnF,OAAOsJ,EAAatsC,KAAI,CAAC8iC,EAAO99B,KAAM,CACpCqX,MAAOrX,EACPg+B,MAAO0M,EAAO1qC,GACd89B,WACC,GACF,CAACwJ,KAEGmuC,EAAqB,KAAMwE,IAAyBrP,EAAAA,EAAAA,GACzDkP,EACAtP,EACA,KACA,CACEtxC,cAAe,WACf2xC,eAAgB,qBAChBC,cAAe,uBAGZkN,EAAekC,IAAoBhhF,EAAAA,EAAAA,UAAmBu8E,IAC7D/hE,EAAAA,EAAAA,YAAU,KACRwmE,EAAiBJ,GAAgC,KAAK,GACrD,CAACA,IAEJ,MAAOC,EAAiBI,IAAsBvP,EAAAA,EAAAA,GAC5CoP,EACAzP,EACAjjC,EACA,CACEpO,cAAe,WACf2xC,eAAgB,kBAChBC,cAAe,mBAIbvjC,GAAc53B,EAAAA,EAAAA,UAClB,IAAMb,EAAKoL,QAAO2jB,IAA4C,KAAxB,OAAfk8C,QAAe,IAAfA,OAAe,EAAfA,EAAiBxiF,QAAQsmC,EAAEC,WAClD,CAAChvB,EAAMirE,IAGHvO,EAAiD,OAAJ18D,QAAI,IAAJA,OAAI,EAAJA,EAAM9T,KAAI8T,IAAQ,CACnE0M,MAAO1M,EAAKgvB,MAAMjgB,MAClBmgB,MAAOlvB,EAAKkvB,MACZ/lB,KAAM,YACN6lB,MAAOhvB,EAAKgvB,UAGRosC,EAA6CsB,EAAYtxD,QAAO2jB,IAA4C,KAAxB,OAAfk8C,QAAe,IAAfA,OAAe,EAAfA,EAAiBxiF,QAAQsmC,EAAEC,UAEhGs8C,IAAe5sD,EAAAA,EAAAA,cAClBmQ,IACCw8C,EAAmBx8C,IACnBxpB,EAAAA,EAAAA,IAAuBo2D,EAAgB,CACrCwP,gBAAiBp8C,GACjB,GAEJ,CAACw8C,EAAoB5P,IAGjBjsC,IAAoB9Q,EAAAA,EAAAA,cACvBspD,IACCoD,EAAiBpD,GACjBmD,EAAsBnD,IACtB3iE,EAAAA,EAAAA,IAAuBq2D,EAA6B,CAAEiL,mBAAoBqB,GAAU,GAEtF,CAACtM,EAA6ByP,IAU1Bt2D,IAAYxqB,EAAAA,EAAAA,GAAaulC,EAAcrd,EAAYjP,IAEnD,QAAEojE,GAAO,QAAEyC,KAAYtoE,EAAAA,EAAAA,UAAQ,KACnC,MAAMsoE,EAAU1wC,EAAYxvB,QAAO,CAACsiE,EAAKx8C,IAAMw8C,EAAMx8C,EAAEC,MAAMhnC,OAAO,GAE9DwjF,EC5IK,WACb,IAAIxjF,EAAQiuD,EACRw1B,EAAajqC,EACbyrB,EAAO,KACP+S,GAAanuB,EAAAA,EAAAA,GAAS,GACtBquB,GAAWruB,EAAAA,EAAAA,GAAS4tB,GACpBW,GAAWvuB,EAAAA,EAAAA,GAAS,GAExB,SAAS65B,EAAI1rE,GACX,IAAI9O,EAEA+P,EACAgb,EAMAkmD,EAGAxoB,EAXAtW,EAAIrjC,EAAKnY,OAGT0jF,EAAM,EACNhjE,EAAQ,IAAIzH,MAAMuiC,GAClBsoC,EAAO,IAAI7qE,MAAMuiC,GACjB6+B,GAAMlC,EAAW1qD,MAAMC,KAAMtvB,WAC7Bm8E,EAAK7zE,KAAKiqB,IAAIinD,EAAKlxE,KAAK8pB,KAAKonD,EAAKS,EAAS5qD,MAAMC,KAAMtvB,WAAai8E,IAEpEntB,EAAIxmD,KAAKiqB,IAAIjqB,KAAKC,IAAI4zE,GAAM/+B,EAAG+8B,EAAS9qD,MAAMC,KAAMtvB,YACpDuO,EAAKugD,GAAKqtB,EAAK,GAAK,EAAI,GAG5B,IAAKlxE,EAAI,EAAGA,EAAImyC,IAAKnyC,GACdyoD,EAAIgyB,EAAKpjE,EAAMrX,GAAKA,IAAMlJ,EAAMgY,EAAK9O,GAAIA,EAAG8O,IAAS,IACxDurE,GAAO5xB,GASX,IAJkB,MAAd8xB,EAAoBljE,EAAM0kD,MAAK,SAAS/7D,EAAG+P,GAAK,OAAOwqE,EAAWE,EAAKz6E,GAAIy6E,EAAK1qE,GAAK,IACxE,MAARgsD,GAAc1kD,EAAM0kD,MAAK,SAAS/7D,EAAG+P,GAAK,OAAOgsD,EAAKjtD,EAAK9O,GAAI8O,EAAKiB,GAAK,IAG7E/P,EAAI,EAAG+qB,EAAIsvD,GAAOnJ,EAAK/+B,EAAI7uC,GAAM+2E,EAAM,EAAGr6E,EAAImyC,IAAKnyC,EAAGgxE,EAAKC,EAC9DlhE,EAAIsH,EAAMrX,GAAiBixE,EAAKD,IAAlBvoB,EAAIgyB,EAAK1qE,IAAmB,EAAI04C,EAAI19B,EAAI,GAAKznB,EAAIm3E,EAAK1qE,GAAK,CACvEjB,KAAMA,EAAKiB,GACXsH,MAAOrX,EACPlJ,MAAO2xD,EACPqmB,WAAYkC,EACZhC,SAAUiC,EACV/B,SAAUrrB,GAId,OAAO42B,CACT,CA0BA,OAxBAD,EAAI1jF,MAAQ,SAASgZ,GACnB,OAAO/a,UAAU4B,QAAUG,EAAqB,oBAANgZ,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAI0qE,GAAO1jF,CACxF,EAEA0jF,EAAID,WAAa,SAASzqE,GACxB,OAAO/a,UAAU4B,QAAU4jF,EAAazqE,EAAGisD,EAAO,KAAMye,GAAOD,CACjE,EAEAC,EAAIze,KAAO,SAASjsD,GAClB,OAAO/a,UAAU4B,QAAUolE,EAAOjsD,EAAGyqE,EAAa,KAAMC,GAAOze,CACjE,EAEAye,EAAI1L,WAAa,SAASh/D,GACxB,OAAO/a,UAAU4B,QAAUm4E,EAA0B,oBAANh/D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAI0qE,GAAO1L,CAC7F,EAEA0L,EAAIxL,SAAW,SAASl/D,GACtB,OAAO/a,UAAU4B,QAAUq4E,EAAwB,oBAANl/D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAI0qE,GAAOxL,CAC3F,EAEAwL,EAAItL,SAAW,SAASp/D,GACtB,OAAO/a,UAAU4B,QAAUu4E,EAAwB,oBAANp/D,EAAmBA,GAAI6wC,EAAAA,EAAAA,IAAU7wC,GAAI0qE,GAAOtL,CAC3F,EAEOsL,CACT,CDmEuBA,GAEhB1jF,OAAM+mC,GAAMA,EAAEC,MAAMhnC,MAAQmhF,EAAU,IAAMA,EAAU,IAAMp6C,EAAEC,MAAMhnC,QACpEilE,KAAK,MAKR,MAAO,CAAEyZ,QAFO8E,EAAW/yC,EAAYrtB,QAAO2jB,GAAKA,EAAEC,MAAMhnC,MAAQ,KAEjDmhF,UAAS,GAC1B,CAAC1wC,IAEEmzC,IAAapzC,GAAwC,IAAxBA,EAAa3wC,QAC1C,QAAEmkC,GAAO,UAAE0M,KAAcH,EAAAA,EAAAA,GAAe,CAAEC,aAAcx4B,EAAMy4B,YAAaiuC,GAASjiF,eAEpFwnC,GAAYD,IAAWyM,EAAY5wC,SAAWmY,EAAKnY,OACnD20E,GAA6B,aAAf/3E,IAA8BmnF,KAAc5yC,IAAsB/zC,GAChFi0C,IAAsBR,KAAcxzC,EACpC+zC,GAAoC,aAAfx0C,IAA8BwnC,MAAehnC,GAAc+zC,GAChF8rC,KAAcyB,GAAcC,GAG5BqF,GAAoBhH,GAAoB,CAAE52D,OAAM62D,aAAWC,eAD/CzwD,EAAAA,EAAAA,OAGZnwB,GAAS,GADA0nF,GAAkB/L,YACJ+L,GAAkB3mC,SAAW4/B,GAAY+G,GAAkBpH,cAAgB,IAExG,OACEj/E,EAAAA,cAACszC,EAAAA,EAAYpzC,OAAAC,OAAA,CACXsE,IAAK4qB,GACL7vB,YAAaA,GACTG,EAAS,CACbE,WAAWC,EAAAA,EAAAA,GAAKH,EAAUE,UAAWE,GAAOyhB,MAC5CsyB,kBAAkBh0C,EAAAA,EAAAA,GAAKC,GAAOsiB,QAAStiB,GAAO,YAADuC,OAAa+jF,GAAkB59D,OAAS,CACnF,CAAC1oB,GAAO,6BAA8Bu/E,GACtC,CAACv/E,GAAO,wBAAyBP,IAEnC+zC,cACEyjC,KAAgBv3E,EACdO,EAAAA,cAACwnC,EAAAA,EAAM,CACL9oC,OAAQw4E,EACRr7D,SAAUiqE,GACVz8C,eAAgBo8C,EAChBjpE,YAAaA,IAEb,KAENg3B,kBAAmBwjC,GAAcxjC,EAAoB,KACrDC,qBAAsBA,GACtBC,qBAAsBA,GACtBC,YACE3zC,EAAAA,cAACmzC,EAAAA,EAAoB,CACnB3M,QAASA,GACTC,UAAWA,GACXyM,UAAWA,GACXj0C,WAAYA,EACZ+kC,MAAO5kC,EAAM4kC,MACbjd,QAAS3nB,EAAM2nB,QACfkd,YAAa7kC,EAAM6kC,YACnBtB,UAAWvjC,EAAMujC,UACjBuC,aAAc9lC,EAAM8lC,aACpB0B,gBAAiBxnC,EAAMwnC,kBAG3BgN,MACEV,GACElzC,EAAAA,cAACsmF,GAAgBpmF,OAAAC,OAAA,GACXf,EAAK,CACT4c,QAASA,EACTyM,KAAMA,EACN9pB,OAAQA,GACRa,UAAWA,EACXgb,KAAMw4B,EACN5hB,MAAOogD,EACPuP,WAAYA,EACZC,iBAAkBA,EAClBxkE,YAAaA,EACbwtB,kBAAmBA,GACnBm3C,mBAAoBA,EACpBuC,cAAeA,EACf1kF,kBAAmBA,EACnBkiF,QAASA,GACTyC,QAASA,MAET,KAEN9vC,QACGn0C,IACA0mF,IACc,aAAfnnF,GACEe,EAAAA,cAACumF,EAAAA,EAAM,CACL7nF,OAAQk3E,EACR3rC,kBAAmBy5C,EACnBx5C,YAAaA,EACbtuB,UAAsB,OAAXY,QAAW,IAAXA,OAAW,EAAXA,EAAa26D,gBACxBntC,kBAAmBA,GACnBG,iBAAkBC,IAIxBrlC,OA9GYqb,IACVA,EAAMuB,iBAAkB6uB,EAAAA,EAAAA,GAAYpG,EAAapoC,QAASoe,EAAMuB,iBAClEw/D,GAAsBn3C,GAAkB,MACxC47C,EAAiB,M,IA8GvB,GAEAxlF,EAAAA,EAAAA,GAAiBmlF,GAAU,YAC3B,W,mOEvOA,MAgBA,EAhB8BjgF,IAAA,IAAC,SAAEJ,GAAyCI,EAAA,OACxEtF,EAAAA,cAACwmF,EAAAA,EAAcC,SAAQ,CAACjkF,MAAO,CAAE6E,QAASA,SACxCrH,EAAAA,cAAC0mF,EAAAA,EAAuBD,SAAQ,CAACjkF,MAAO,CAAEmkF,SAAUA,SAClD3mF,EAAAA,cAAC4mF,EAAAA,EAAiBH,SAAQ,CAACjkF,MAAO,CAAC,GACjCxC,EAAAA,cAAC6mF,EAAAA,EAAqBJ,SAAQ,CAACjkF,MAAM,IACnCxC,EAAAA,cAAC8mF,EAAAA,EAA0BL,SAAQ,CAACjkF,MAAOukF,EAAAA,GACzC/mF,EAAAA,cAACgnF,EAAAA,GAA+BP,SAAQ,CAACjkF,MAAOykF,EAAAA,IAC7C/hF,OAMY,E,6FCI3B,QAAelF,EAAAA,YAEf,SACEvB,EAmBAgG,G,IAnBA,SACEqnB,EAAW,QAAO,KAClBrD,EAAO,SAAQ,WACfunB,GAAa,EAAK,YAClBk3C,EAAc,OAAM,cACpBj3C,GAAgB,EAAI,SAEpB/qC,EAAQ,OACRY,EAAM,QACNuc,EAAO,iBACP8kE,EAAgB,gBAEhBC,GAAkB,EAAI,iBACtBC,GAAmB,EAAK,SAExBC,EAAQ,kBACRxpE,EAAoB,MAAIrf,EACrBujB,GAAS3iB,EAAAA,EAAAA,IAAAZ,EAjBd,qLAqBA,MAAMkB,GAAYC,EAAAA,EAAAA,GAAaoiB,GACzBma,GAAat6B,EAAAA,EAAAA,QAA2B,MACxCyuC,GAAazuC,EAAAA,EAAAA,QAA8B,MAC3C0lF,GAAe1lF,EAAAA,EAAAA,QAAsB,MAGrCquC,GADOrzB,EAAAA,EAAAA,IAAgB,UACJD,CAAK,mBAAoBoF,EAAUkuB,mBAErD1tB,EAASglE,IAAc5iF,EAAAA,EAAAA,WAAS,GAEjC6iF,GAAevuD,EAAAA,EAAAA,cAAY,K,QACX,SAAhBguD,EACgB,QAAlBzoF,EAAA09B,EAAWn6B,eAAO,IAAAvD,GAAAA,EAAE6H,QAEpB61B,EAAWn6B,UAAgD,QAArCkb,GAAA4kB,EAAAA,EAAAA,IAAkB3F,EAAWn6B,gBAAQ,IAAAkb,GAAAA,EAAE5W,Q,GAE9D,CAAC4gF,IAEEQ,GAAiBxuD,EAAAA,EAAAA,cAAY,MACjCrZ,EAAAA,EAAAA,IAAuBynE,GACvBE,GAAW,EAAK,GACf,CAACF,IAEE7kD,GAAYvJ,EAAAA,EAAAA,cAAY,KAC5BsuD,GAAW,GACXC,GAAc,GACb,CAACA,IAEEE,GAAmBzuD,EAAAA,EAAAA,cACtB9Y,IACC,MAAMwnE,EAAcxnE,EAAMU,UAAYP,EAAAA,EAAQ2d,OACxC2pD,EAAWznE,EAAMU,UAAYP,EAAAA,EAAQunE,IACvCF,GAAeplE,GACjBpC,EAAM+d,mBAEJ0pD,GAAYD,IACdJ,GAAW,E,GAGf,CAAChlE,KAGH4K,EAAAA,EAAAA,qBAAoB3oB,GAAK,KAAM,CAC7B8uE,eAAgB9wC,EAChBn8B,MAAOA,KACLkhF,GAAW,GACXC,GAAc,OAIlBroE,EAAAA,EAAAA,YAAU,KACR,IAAK+c,EAAWn6B,QACd,OAEF,MAAM0B,EAAWy4B,EAAWn6B,QAAQ+lF,cAE9Bx3C,EAAkBA,KAEO,OAAzBg3C,EAAavlF,SACfwlF,GAAW,E,EAMf,OAFA9jF,EAASoyB,iBAAiB,YAAaya,GAEhC,KACL7sC,EAASuyB,oBAAoB,YAAasa,EAAgB,CAC3D,GACA,IAEH,MAAMy3C,GAAiBC,EAAAA,EAAAA,GAAqB9rD,GAEtC1N,EAAe,CAGnBhqB,IAAK03B,EACL90B,QAASqgF,EACTjhF,UAAWkhF,EACX9nF,WAAWC,EAAAA,EAAAA,GAAKC,EAAAA,EAAOqvB,QAASrvB,EAAAA,EAAO,gBAADuC,OAAiB4kF,OAEjD9/E,SAAU8gF,IAAoBC,EAAAA,EAAAA,IAA2BhsD,GAE3DisD,GAAappE,EAAAA,EAAAA,KAEbylE,EACJzkF,EAAAA,cAAA,mBACaiwC,OAAgBvtC,EAAY,SAAQ,eAClCutC,QAAgBvtC,EAC7B7C,WAAWC,EAAAA,EAAAA,GAAKkoF,GAAiBX,GAAoBtnF,EAAAA,EAAO,2BAA0B,yBAC9DqoF,GAEvB5lE,GACCxiB,EAAAA,cAAC4wC,EAAAA,EAAgB,CACfnoB,KAAMA,EACNunB,WAAYA,EACZlkB,SAAUA,EACV1mB,SAAU+2B,EACV0U,MAAO/kB,GAAY9rB,EAAAA,cAACqoF,EAAAA,EAAK,CAACv8D,SAAUA,IACpCu7D,iBAAkBA,EAClBiB,OAAQjB,EAAmB,SAAO3kF,GAElC1C,EAAAA,cAAC8mF,EAAAA,EAA0BL,SAAQ,CAACjkF,MAAO,CAAE+lF,eAAgB,YAC3DvoF,EAAAA,cAACixC,EAAAA,EAAW,CACVhB,cAAeA,EACfC,iBAAkBA,EAClBpqC,OAAQA,EACR28B,UAAWA,EACXyO,gBAAgB,QAEf7uB,MAQPgN,GAAYxqB,EAAAA,EAAAA,GAAayrC,EAAYxyB,GAE3C,OACE9d,EAAAA,cAAA,OAAAE,OAAAC,OAAA,GACMR,EAAS,CACbE,WAAWC,EAAAA,EAAAA,GACTC,EAAAA,EAAOyhB,KACP7hB,EAAUE,UACM,oBAAhBqnF,GAAqCnnF,EAAAA,EAAO,yBAE9C0E,IAAK4qB,EACLnB,YAAaA,KAEXq5D,EAAavlF,QAAU+uB,uBAAsB,KAC3Cw2D,EAAavlF,QAAU,IAAI,GAC3B,IAGa,SAAhBklF,EACClnF,EAAAA,cAAA,SAAAE,OAAAC,OAAA,GACMsuB,EAAY,CAChB5uB,WAAWC,EAAAA,EAAAA,GAAK2uB,EAAa5uB,WAA+B,IAApBunF,GAA6BrnF,EAAAA,EAAO,sBAC5EqH,SAAU8gF,EACVvkE,KAAK,SAAQ,gBACC,SACd/V,GAAIw6E,EAAU,aACFjB,IAEXjiF,GAGHlF,EAAAA,cAAA,OAAAE,OAAAC,OAAA,GAAUsuB,EAAY,CAAE7gB,GAAIw6E,IACzBljF,GAGLlF,EAAAA,cAACwoF,EAAqB,KACnBnB,EAAmBrnF,EAAAA,cAACyoF,EAAAA,EAAM,KAAEhE,GAA2BA,GAIhE,ICxMA,MAAMiE,EAAU1oF,EAAAA,YACd,CACEvB,EAWAgG,K,IAXA,SACEqnB,EAAW,QAAO,KAClBrD,EAAO,SAAQ,WACfunB,GAAa,EAAK,YAClBk3C,EAAc,OAAM,cACpBj3C,GAAgB,EAAI,iBACpBo3C,GAAmB,EAAK,gBACxBD,GAAkB,EAAI,OACtBthF,GAAMrH,EACH2F,GAAI/E,EAAAA,EAAAA,IAAAZ,EATT,8GAaIsqB,EAAAA,GACEknB,IAAkBnqC,IACpB/B,EAAAA,EAAAA,IAAS,UAAW,+DAIxB,MAAMzE,GAAqBC,EAAAA,EAAAA,GAAiB,UAAW,CACrDH,MAAO,CAAE6wC,gBAAeD,aAAYlkB,WAAUu7D,mBAAkB5+D,OAAMy+D,iBAElEyB,GAAgBC,EAAAA,EAAAA,GAAiBxkF,GAEjCmnB,GAAc1pB,EAAAA,EAAAA,QAAkC,MAGtD,OAFAi9B,EAAAA,EAAAA,GAAgBr6B,EAAK8mB,GAGnBvrB,EAAAA,cAAC6oF,EAAe3oF,OAAAC,OAAA,CACdsE,IAAK8mB,EACLzlB,OAAQA,EACRgmB,SAAUA,EACVrD,KAAMA,EACNunB,WAAYA,EACZk3C,YAAaA,EACbj3C,cAAeA,EACfo3C,iBAAkBA,EAClBD,gBAAiBA,GACbuB,EACArpF,GACJ,KAKRc,EAAAA,EAAAA,GAAiBsoF,EAAS,WAC1B,S,iCChEA,IAAI5O,EAAK/wE,KAAKgxE,GACVE,EAAM,EAAIH,EACVD,EAAU,KACViP,EAAa7O,EAAMJ,EAEvB,SAASkP,IACPh5D,KAAKi5D,IAAMj5D,KAAKk5D,IAChBl5D,KAAKm5D,IAAMn5D,KAAKo5D,IAAM,KACtBp5D,KAAKvU,EAAI,EACX,CAEA,SAAS8pD,IACP,OAAO,IAAIyjB,CACb,CAEAA,EAAKp5D,UAAY21C,EAAK31C,UAAY,CAChC6K,YAAauuD,EACbxf,OAAQ,SAASj8B,EAAGE,GAClBzd,KAAKvU,GAAK,KAAOuU,KAAKi5D,IAAMj5D,KAAKm5D,KAAO57C,GAAK,KAAOvd,KAAKk5D,IAAMl5D,KAAKo5D,KAAO37C,EAC7E,EACA67B,UAAW,WACQ,OAAbt5C,KAAKm5D,MACPn5D,KAAKm5D,IAAMn5D,KAAKi5D,IAAKj5D,KAAKo5D,IAAMp5D,KAAKk5D,IACrCl5D,KAAKvU,GAAK,IAEd,EACA8tD,OAAQ,SAASh8B,EAAGE,GAClBzd,KAAKvU,GAAK,KAAOuU,KAAKm5D,KAAO57C,GAAK,KAAOvd,KAAKo5D,KAAO37C,EACvD,EACA47C,iBAAkB,SAAStvC,EAAIE,EAAI1M,EAAGE,GACpCzd,KAAKvU,GAAK,MAAQs+B,EAAM,MAAQE,EAAM,KAAOjqB,KAAKm5D,KAAO57C,GAAK,KAAOvd,KAAKo5D,KAAO37C,EACnF,EACA67C,cAAe,SAASvvC,EAAIE,EAAID,EAAIE,EAAI3M,EAAGE,GACzCzd,KAAKvU,GAAK,MAAQs+B,EAAM,MAAQE,EAAM,MAAQD,EAAM,MAAQE,EAAM,KAAOlqB,KAAKm5D,KAAO57C,GAAK,KAAOvd,KAAKo5D,KAAO37C,EAC/G,EACA87C,MAAO,SAASxvC,EAAIE,EAAID,EAAIE,EAAIe,GAC9BlB,GAAMA,EAAIE,GAAMA,EAAID,GAAMA,EAAIE,GAAMA,EAAIe,GAAKA,EAC7C,IAAIkY,EAAKnjC,KAAKm5D,IACVpO,EAAK/qD,KAAKo5D,IACVI,EAAMxvC,EAAKD,EACX0vC,EAAMvvC,EAAKD,EACXihC,EAAM/nB,EAAKpZ,EACXohC,EAAMJ,EAAK9gC,EACXyvC,EAAQxO,EAAMA,EAAMC,EAAMA,EAG9B,GAAIlgC,EAAI,EAAG,MAAM,IAAI+U,MAAM,oBAAsB/U,GAGjD,GAAiB,OAAbjrB,KAAKm5D,IACPn5D,KAAKvU,GAAK,KAAOuU,KAAKm5D,IAAMpvC,GAAM,KAAO/pB,KAAKo5D,IAAMnvC,QAIjD,GAAMyvC,EAAQ5P,EAKd,GAAM9wE,KAAKC,IAAIkyE,EAAMqO,EAAMC,EAAMvO,GAAOpB,GAAa7+B,EAKrD,CACH,IAAI0uC,EAAM3vC,EAAKmZ,EACXy2B,EAAM1vC,EAAK6gC,EACX8O,EAAQL,EAAMA,EAAMC,EAAMA,EAC1BK,EAAQH,EAAMA,EAAMC,EAAMA,EAC1BG,EAAM/gF,KAAKw0C,KAAKqsC,GAChBG,EAAMhhF,KAAKw0C,KAAKksC,GAChBj/B,EAAIxP,EAAIjyC,KAAKwgD,KAAKuwB,EAAK/wE,KAAKq1E,MAAMwL,EAAQH,EAAQI,IAAU,EAAIC,EAAMC,KAAS,GAC/EC,EAAMx/B,EAAIu/B,EACVE,EAAMz/B,EAAIs/B,EAGV/gF,KAAKC,IAAIghF,EAAM,GAAKnQ,IACtB9pD,KAAKvU,GAAK,KAAOs+B,EAAKkwC,EAAM/O,GAAO,KAAOjhC,EAAKgwC,EAAM9O,IAGvDnrD,KAAKvU,GAAK,IAAMw/B,EAAI,IAAMA,EAAI,WAAakgC,EAAMwO,EAAMzO,EAAM0O,GAAQ,KAAO55D,KAAKm5D,IAAMpvC,EAAKmwC,EAAMV,GAAO,KAAOx5D,KAAKo5D,IAAMnvC,EAAKiwC,EAAMT,EACxI,MArBEz5D,KAAKvU,GAAK,KAAOuU,KAAKm5D,IAAMpvC,GAAM,KAAO/pB,KAAKo5D,IAAMnvC,QAsBxD,EACAyiC,IAAK,SAASnvC,EAAGE,EAAGwN,EAAG0hC,EAAIC,EAAIuN,GAC7B58C,GAAKA,EAAGE,GAAKA,EAAW08C,IAAQA,EAChC,IAAIvO,GADY3gC,GAAKA,GACRjyC,KAAK4wE,IAAI+C,GAClBd,EAAK5gC,EAAIjyC,KAAK6wE,IAAI8C,GAClBxpB,EAAK5lB,EAAIquC,EACTb,EAAKttC,EAAIouC,EACTZ,EAAK,EAAIkP,EACTtN,EAAKsN,EAAMxN,EAAKC,EAAKA,EAAKD,EAG9B,GAAI1hC,EAAI,EAAG,MAAM,IAAI+U,MAAM,oBAAsB/U,GAGhC,OAAbjrB,KAAKm5D,IACPn5D,KAAKvU,GAAK,IAAM03C,EAAK,IAAM4nB,GAIpB/xE,KAAKC,IAAI+mB,KAAKm5D,IAAMh2B,GAAM2mB,GAAW9wE,KAAKC,IAAI+mB,KAAKo5D,IAAMrO,GAAMjB,KACtE9pD,KAAKvU,GAAK,IAAM03C,EAAK,IAAM4nB,GAIxB9/B,IAGD4hC,EAAK,IAAGA,EAAKA,EAAK3C,EAAMA,GAGxB2C,EAAKkM,EACP/4D,KAAKvU,GAAK,IAAMw/B,EAAI,IAAMA,EAAI,QAAUggC,EAAK,KAAO1tC,EAAIquC,GAAM,KAAOnuC,EAAIouC,GAAM,IAAM5gC,EAAI,IAAMA,EAAI,QAAUggC,EAAK,KAAOjrD,KAAKm5D,IAAMh2B,GAAM,KAAOnjC,KAAKo5D,IAAMrO,GAIrJ8B,EAAK/C,IACZ9pD,KAAKvU,GAAK,IAAMw/B,EAAI,IAAMA,EAAI,SAAW4hC,GAAM9C,GAAO,IAAMkB,EAAK,KAAOjrD,KAAKm5D,IAAM57C,EAAI0N,EAAIjyC,KAAK4wE,IAAIgD,IAAO,KAAO5sD,KAAKo5D,IAAM37C,EAAIwN,EAAIjyC,KAAK6wE,IAAI+C,KAElJ,EACAjsD,KAAM,SAAS4c,EAAGE,EAAGosB,EAAGpO,GACtBz7B,KAAKvU,GAAK,KAAOuU,KAAKi5D,IAAMj5D,KAAKm5D,KAAO57C,GAAK,KAAOvd,KAAKk5D,IAAMl5D,KAAKo5D,KAAO37C,GAAK,MAAQosB,EAAK,MAAQpO,EAAK,KAAQoO,EAAK,GACzH,EACAr8C,SAAU,WACR,OAAOwS,KAAKvU,CACd,GAGF,S,iBCjIe,WAAS8xB,GACtB,OAAO,WACL,OAAOA,CACT,CACF,C,iCCJe,SAAS9sC,EAAa2pF,EAAUpyD,GAC7C,GAAIA,EAAK11B,OAAS8nF,EAChB,MAAM,IAAIC,UAAUD,EAAW,aAAeA,EAAW,EAAI,IAAM,IAAM,uBAAyBpyD,EAAK11B,OAAS,WAEpH,C,iCCJe,SAASZ,EAAU4oF,GAChC,GAAoB,OAAhBA,IAAwC,IAAhBA,IAAwC,IAAhBA,EAClD,OAAO/xC,IAET,IAAI4lB,EAAS90D,OAAOihF,GACpB,OAAI3rE,MAAMw/C,GACDA,EAEFA,EAAS,EAAIn1D,KAAKy2C,KAAK0e,GAAUn1D,KAAKo1C,MAAM+f,EACrD,C,oFCYe,SAASzzD,EAAQnJ,EAAWC,IACzCf,EAAAA,EAAAA,GAAa,EAAGC,WAChB,IAAIsB,GAAOpB,EAAAA,EAAAA,GAAOW,GACdE,GAASC,EAAAA,EAAAA,GAAUF,GACvB,OAAImd,MAAMld,GACD,IAAI2F,KAAKmxC,KAEb92C,GAILO,EAAK8F,QAAQ9F,EAAKc,UAAYrB,GACvBO,GAHEA,CAIX,C,oECbe,SAASL,EAAUJ,EAAWC,IAC3Cf,EAAAA,EAAAA,GAAa,EAAGC,WAChB,IAAIsB,GAAOpB,EAAAA,EAAAA,GAAOW,GACdE,GAASC,EAAAA,EAAAA,GAAUF,GACvB,GAAImd,MAAMld,GACR,OAAO,IAAI2F,KAAKmxC,KAElB,IAAK92C,EAEH,OAAOO,EAET,IAAIuoF,EAAavoF,EAAKc,UAUlB0nF,EAAoB,IAAIpjF,KAAKpF,EAAKZ,WAGtC,OAFAopF,EAAkB5yB,SAAS51D,EAAKjB,WAAaU,EAAS,EAAG,GAErD8oF,GADcC,EAAkB1nF,UAI3B0nF,GASPxoF,EAAKyG,YAAY+hF,EAAkB1pF,cAAe0pF,EAAkBzpF,WAAYwpF,GACzEvoF,EAEX,C,0DCxCe,SAASd,EAAWK,IACjCd,EAAAA,EAAAA,GAAa,EAAGC,WAChB,IAAIsB,GAAOpB,EAAAA,EAAAA,GAAOW,GAElB,OADAS,EAAK0G,SAAS,EAAG,EAAG,EAAG,GAChB1G,CACT,C,0DCOe,SAASpB,EAAO6pF,IAC7BhqF,EAAAA,EAAAA,GAAa,EAAGC,WAChB,IAAIgqF,EAASvqF,OAAOyvB,UAAUpS,SAASsS,KAAK26D,GAG5C,OAAIA,aAAoBrjF,MAA8B,YAAtBy7D,EAAAA,EAAAA,GAAQ4nB,IAAqC,kBAAXC,EAEzD,IAAItjF,KAAKqjF,EAASrpF,WACI,kBAAbqpF,GAAoC,oBAAXC,EAClC,IAAItjF,KAAKqjF,IAES,kBAAbA,GAAoC,oBAAXC,GAAoD,qBAAZC,UAE3EA,QAAQC,KAAK,sNAEbD,QAAQC,MAAK,IAAI56B,OAAQ66B,QAEpB,IAAIzjF,KAAKmxC,KAEpB,C","sources":["../node_modules/@cloudscape-design/components/bar-chart/styles.css.js","../node_modules/src/bar-chart/index.tsx","../node_modules/date-fns/esm/isSameMonth/index.js","../node_modules/date-fns/esm/isSameDay/index.js","../node_modules/date-fns/esm/isSameYear/index.js","../node_modules/date-fns/esm/addYears/index.js","../node_modules/src/internal/hooks/use-date-cache/index.ts","../node_modules/src/internal/utils/strings/pad-left-zeros.ts","../node_modules/src/internal/utils/date-time/format-date.ts","../node_modules/src/internal/utils/locale/merge-locales.ts","../node_modules/src/internal/utils/locale/normalize-locale.ts","../node_modules/@cloudscape-design/components/calendar/styles.css.js","../node_modules/src/calendar/grid/index.tsx","../node_modules/src/calendar/utils/intl.ts","../node_modules/src/calendar/grid/calendar-grid-header.tsx","../node_modules/date-fns/esm/startOfYear/index.js","../node_modules/date-fns/esm/startOfMonth/index.js","../node_modules/date-fns/esm/compareAsc/index.js","../node_modules/date-fns/esm/differenceInYears/index.js","../node_modules/date-fns/esm/differenceInCalendarYears/index.js","../node_modules/src/calendar/utils/navigation.ts","../node_modules/mnth/web/add-days.ts","../node_modules/mnth/web/set-date.ts","../node_modules/mnth/web/index.ts","../node_modules/weekstart/src/langRegionMap.js","../node_modules/weekstart/src/regionDayMap.js","../node_modules/weekstart/src/main.js","../node_modules/weekstart/src/api.js","../node_modules/src/internal/utils/locale/normalize-start-of-week.ts","../node_modules/src/calendar/grid/use-calendar-grid-rows.ts","../node_modules/src/calendar/header/header-button.tsx","../node_modules/src/calendar/header/index.tsx","../node_modules/src/calendar/use-calendar-labels.ts","../node_modules/src/calendar/internal.tsx","../node_modules/src/internal/utils/date-time/parse-date.ts","../node_modules/src/calendar/grid/use-calendar-grid-keyboard-navigation.ts","../node_modules/src/calendar/index.tsx","../node_modules/src/grid/index.tsx","../node_modules/@cloudscape-design/components/internal/components/dropdown-status/styles.css.js","../node_modules/src/internal/components/dropdown-status/index.tsx","../node_modules/@cloudscape-design/components/internal/components/dropdown-footer/styles.css.js","../node_modules/src/internal/components/dropdown-footer/index.tsx","../node_modules/src/internal/components/option/utils/filter-options.ts","../node_modules/src/internal/components/options-list/utils/test-indexes.ts","../node_modules/src/internal/components/option/utils/prepare-options.ts","../node_modules/src/internal/components/option/utils/flatten-options.ts","../node_modules/@cloudscape-design/components/select/parts/styles.css.js","../node_modules/src/select/parts/filter.tsx","../node_modules/@cloudscape-design/components/internal/components/option/styles.css.js","../node_modules/src/internal/components/option/highlight-match.tsx","../node_modules/src/internal/components/option/option-parts.tsx","../node_modules/src/internal/components/option/index.tsx","../node_modules/@cloudscape-design/components/internal/components/selectable-item/styles.css.js","../node_modules/src/internal/components/selectable-item/index.tsx","../node_modules/src/select/parts/item.tsx","../node_modules/src/select/parts/multiselect-item.tsx","../node_modules/src/select/utils/get-item-props.ts","../node_modules/src/select/utils/render-options.tsx","../node_modules/src/select/parts/plain-list.tsx","../node_modules/@cloudscape-design/components/internal/components/button-trigger/styles.css.js","../node_modules/src/internal/components/button-trigger/index.tsx","../node_modules/src/select/parts/trigger.tsx","../node_modules/@cloudscape-design/components/internal/vendor/react-virtual.js","../node_modules/src/select/parts/virtual-list.tsx","../node_modules/src/internal/hooks/use-virtual/index.ts","../node_modules/src/select/utils/connect-options.ts","../node_modules/src/internal/components/option/option-announcer.ts","../node_modules/src/select/utils/use-native-search.ts","../node_modules/src/internal/components/options-list/utils/use-highlight-option.ts","../node_modules/src/internal/components/options-list/utils/use-ids.ts","../node_modules/src/select/utils/use-select.ts","../node_modules/src/internal/components/options-list/utils/use-keyboard.ts","../node_modules/@cloudscape-design/components/internal/components/token-list/styles.css.js","../node_modules/src/internal/components/token-list/token-focus-controller.tsx","../node_modules/src/internal/components/token-list/token-limit-toggle.tsx","../node_modules/src/internal/components/token-list/index.tsx","../node_modules/@cloudscape-design/components/token-group/styles.css.js","../node_modules/src/token-group/dismiss-button.tsx","../node_modules/src/token-group/token.tsx","../node_modules/src/token-group/internal.tsx","../node_modules/@cloudscape-design/components/multiselect/styles.css.js","../node_modules/src/multiselect/internal.tsx","../node_modules/src/select/utils/check-option-value-field.ts","../node_modules/src/select/utils/use-load-items.ts","../node_modules/src/select/utils/use-announcement.ts","../node_modules/@cloudscape-design/components/internal/components/chart-filter/styles.css.js","../node_modules/src/internal/components/chart-filter/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-legend/styles.css.js","../node_modules/src/internal/components/chart-legend/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-plot/styles.css.js","../node_modules/src/internal/components/chart-plot/application-controller.tsx","../node_modules/src/internal/components/chart-plot/focus-outline.tsx","../node_modules/src/internal/components/chart-plot/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover-footer/styles.css.js","../node_modules/src/internal/components/chart-popover-footer/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover/styles.css.js","../node_modules/src/internal/components/chart-popover/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-series-details/styles.css.js","../node_modules/src/internal/components/chart-series-details/index.tsx","../node_modules/src/internal/components/chart-series-details/series-details-text.ts","../node_modules/@cloudscape-design/components/internal/components/chart-series-marker/styles.css.js","../node_modules/src/internal/components/chart-series-marker/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-status-container/styles.css.js","../node_modules/src/internal/components/chart-status-container/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-wrapper/styles.css.js","../node_modules/src/internal/components/chart-wrapper/index.tsx","../node_modules/src/internal/components/responsive-text/responsive-text-utils.ts","../node_modules/src/internal/components/responsive-text/index.tsx","../node_modules/src/internal/hooks/check-controlled/index.ts","../node_modules/src/internal/hooks/container-queries/use-height-measure.ts","../node_modules/src/internal/styles/colors.ts","../node_modules/src/internal/utils/create-category-color-scale.ts","../node_modules/src/internal/utils/use-container-width.ts","../node_modules/@cloudscape-design/components/line-chart/styles.css.js","../node_modules/src/line-chart/index.tsx","../node_modules/src/link/index.tsx","../node_modules/@cloudscape-design/components/internal/components/cartesian-chart/styles.css.js","../node_modules/src/internal/components/cartesian-chart/axis-label.tsx","../node_modules/src/internal/components/cartesian-chart/constants.ts","../node_modules/src/internal/components/cartesian-chart/label-utils.ts","../node_modules/src/internal/components/cartesian-chart/block-end-labels.tsx","../node_modules/src/internal/components/cartesian-chart/chart-container.tsx","../node_modules/src/internal/components/cartesian-chart/emphasized-baseline.tsx","../node_modules/src/internal/components/cartesian-chart/highlighted-point.tsx","../node_modules/src/internal/components/cartesian-chart/inline-start-labels.tsx","../node_modules/src/internal/components/cartesian-chart/labels-measure.tsx","../node_modules/@cloudscape-design/components/internal/vendor/d3-scale.js","../node_modules/src/internal/components/cartesian-chart/scales.ts","../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/esm/differenceInCalendarDays/index.js","../node_modules/date-fns/esm/differenceInDays/index.js","../node_modules/date-fns/esm/add/index.js","../node_modules/src/internal/components/cartesian-chart/ticks.ts","../node_modules/src/internal/components/cartesian-chart/vertical-grid-lines.tsx","../node_modules/src/internal/components/cartesian-chart/vertical-marker.tsx","../node_modules/@cloudscape-design/components/mixed-line-bar-chart/styles.css.js","../node_modules/src/mixed-line-bar-chart/bar-groups.tsx","../node_modules/src/mixed-line-bar-chart/chart-popover.tsx","../node_modules/src/mixed-line-bar-chart/create-one-side-rounded-rect-path.ts","../node_modules/src/mixed-line-bar-chart/utils.ts","../node_modules/src/mixed-line-bar-chart/bar-series.tsx","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/src/mixed-line-bar-chart/line-series.tsx","../node_modules/d3-shape/src/line.js","../node_modules/src/mixed-line-bar-chart/data-series.tsx","../node_modules/src/mixed-line-bar-chart/format-highlighted.ts","../node_modules/src/mixed-line-bar-chart/hooks/use-mouse-hover.ts","../node_modules/src/internal/utils/circle-index.ts","../node_modules/src/mixed-line-bar-chart/hooks/use-navigation.ts","../node_modules/src/mixed-line-bar-chart/make-scaled-series.ts","../node_modules/src/mixed-line-bar-chart/chart-container.tsx","../node_modules/src/mixed-line-bar-chart/domain.ts","../node_modules/src/mixed-line-bar-chart/make-scaled-bar-groups.ts","../node_modules/src/mixed-line-bar-chart/hooks/use-popover.ts","../node_modules/src/mixed-line-bar-chart/chart-legend.tsx","../node_modules/src/mixed-line-bar-chart/internal.tsx","../node_modules/@cloudscape-design/components/pagination/styles.css.js","../node_modules/src/pagination/internal.tsx","../node_modules/src/pagination/utils.ts","../node_modules/src/pagination/index.tsx","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/src/pie-chart/responsive-text.tsx","../node_modules/@cloudscape-design/components/pie-chart/styles.css.js","../node_modules/src/pie-chart/utils.ts","../node_modules/src/pie-chart/labels.tsx","../node_modules/src/pie-chart/segments.tsx","../node_modules/src/pie-chart/pie-chart.tsx","../node_modules/src/pie-chart/index.tsx","../node_modules/d3-shape/src/pie.js","../node_modules/src/internal/context/reset-contexts-for-modal.tsx","../node_modules/src/popover/internal.tsx","../node_modules/src/popover/index.tsx","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../node_modules/date-fns/esm/_lib/toInteger/index.js","../node_modules/date-fns/esm/addDays/index.js","../node_modules/date-fns/esm/addMonths/index.js","../node_modules/date-fns/esm/startOfDay/index.js","../node_modules/date-fns/esm/toDate/index.js"],"sourcesContent":["\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1gfe1_7b6p8_9\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport InternalMixedLineBarChart from '../mixed-line-bar-chart/internal';\nimport { BarChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { BarChartProps };\n\nfunction BarChart<T extends number | string | Date>({\n  series = [],\n  height = 500,\n  xScaleType = 'categorical',\n  yScaleType = 'linear',\n  stackedBars = false,\n  horizontalBars = false,\n  detailPopoverSize = 'medium',\n  statusType = 'finished',\n  emphasizeBaselineAxis = true,\n  detailPopoverSeriesContent,\n  ...props\n}: BarChartProps<T>) {\n  const baseComponentProps = useBaseComponent('BarChart', {\n    props: {\n      detailPopoverSize,\n      emphasizeBaselineAxis,\n      fitHeight: props.fitHeight,\n      hideFilter: props.hideFilter,\n      hideLegend: props.hideLegend,\n      horizontalBars,\n      stackedBars,\n      xScaleType,\n      yScaleType,\n    },\n  });\n  const baseProps = getBaseProps(props);\n  const className = clsx(baseProps.className, styles.root);\n\n  return (\n    <InternalMixedLineBarChart\n      {...props}\n      {...baseComponentProps}\n      className={className}\n      height={height}\n      xScaleType={xScaleType}\n      yScaleType={yScaleType}\n      stackedBars={stackedBars}\n      horizontalBars={horizontalBars}\n      series={series}\n      detailPopoverSize={detailPopoverSize}\n      statusType={statusType}\n      emphasizeBaselineAxis={emphasizeBaselineAxis}\n      detailPopoverSeriesContent={detailPopoverSeriesContent}\n    />\n  );\n}\n\napplyDisplayName(BarChart, 'BarChart');\n\nexport default BarChart;\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month (and year)?\n *\n * @description\n * Are the given dates in the same month (and year)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same month (and year)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n *\n * @example\n * // Are 2 September 2014 and 25 September 2015 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2015, 8, 25))\n * //=> false\n */\nexport default function isSameMonth(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear() && dateLeft.getMonth() === dateRight.getMonth();\n}","import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameYear\n * @category Year Helpers\n * @summary Are the given dates in the same year?\n *\n * @description\n * Are the given dates in the same year?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same year\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same year?\n * const result = isSameYear(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n */\nexport default function isSameYear(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear();\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\nexport default function addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\n\nexport function useDateCache(): (date: Date) => Date {\n  const cacheRef = useRef(new Map<number, Date>());\n\n  return (date: Date) => {\n    const current = cacheRef.current.get(date.getTime());\n    if (current) {\n      return current;\n    }\n    cacheRef.current.set(date.getTime(), date);\n    return date;\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * Prefixes given text with zeros until it reaches the target length.\n */\nexport function padLeftZeros(text: string, length: number): string {\n  while (text.length < length) {\n    text = `0${text}`;\n  }\n  return text;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { CalendarProps } from '../../../calendar/interfaces';\nimport { padLeftZeros } from '../strings';\n\n/**\n * Transforms Date's object date part to a string.\n *\n * We cannot use Date.toISOString because it produces GMT time where the date can be different than local.\n */\nexport function formatDate(value: Date, granularity: CalendarProps.Granularity = 'day'): string {\n  const year = value.getFullYear();\n  const month = padLeftZeros(`${value.getMonth() + 1}`, 2);\n  if (granularity === 'month') {\n    return `${year}-${month}`;\n  }\n  const date = padLeftZeros(`${value.getDate()}`, 2);\n  return `${year}-${month}-${date}`;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function mergeLocales(locale: string, fullLocale: string) {\n  const isShort = locale.length === 2;\n  if (isShort && fullLocale.indexOf(locale) === 0) {\n    return fullLocale;\n  }\n  return locale;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { mergeLocales } from './merge-locales';\n\nexport function normalizeLocale(component: string, locale: string | null): string {\n  locale = checkLocale(component, locale);\n  const browserLocale = getBrowserLocale();\n  if (locale) {\n    return mergeLocales(locale, browserLocale);\n  }\n  const htmlLocale = checkLocale(component, getHtmlElement()?.getAttribute('lang'));\n  if (htmlLocale) {\n    return mergeLocales(htmlLocale, browserLocale);\n  }\n  return browserLocale;\n}\n\nfunction checkLocale(component: string, locale: string | null | undefined): string {\n  if (!locale || locale === '') {\n    return '';\n  }\n\n  // Support underscore-delimited locales\n  locale = locale && locale.replace(/^([a-z]{2})_/, '$1-');\n  // Check that the value matches aa-BB pattern\n  // TODO: support full BCP 47 spec?\n  if (locale && !locale.match(/^[a-z]{2}(-[A-Z]{2})?$/)) {\n    warnOnce(component, `Invalid locale provided: ${locale}. Falling back to default`);\n    locale = '';\n  }\n  return locale;\n}\n\nfunction getHtmlElement() {\n  return typeof document !== 'undefined' ? document.querySelector('html') : null;\n}\n\nfunction getBrowserLocale() {\n  return new Intl.DateTimeFormat().resolvedOptions().locale;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"calendar\": \"awsui_calendar_1ykar_tn512_97\",\n  \"awsui-motion-fade-in-0\": \"awsui_awsui-motion-fade-in-0_1ykar_tn512_1\",\n  \"root\": \"awsui_root_1ykar_tn512_128\",\n  \"calendar-inner\": \"awsui_calendar-inner_1ykar_tn512_169\",\n  \"calendar-header\": \"awsui_calendar-header_1ykar_tn512_173\",\n  \"calendar-header-title\": \"awsui_calendar-header-title_1ykar_tn512_178\",\n  \"calendar-next-btn\": \"awsui_calendar-next-btn_1ykar_tn512_186\",\n  \"calendar-prev-btn\": \"awsui_calendar-prev-btn_1ykar_tn512_189\",\n  \"calendar-grid\": \"awsui_calendar-grid_1ykar_tn512_192\",\n  \"calendar-grid-dense\": \"awsui_calendar-grid-dense_1ykar_tn512_196\",\n  \"calendar-grid-cell\": \"awsui_calendar-grid-cell_1ykar_tn512_204\",\n  \"calendar-date-header\": \"awsui_calendar-date-header_1ykar_tn512_209\",\n  \"calendar-date\": \"awsui_calendar-date_1ykar_tn512_209\",\n  \"calendar-date-enabled\": \"awsui_calendar-date-enabled_1ykar_tn512_229\",\n  \"calendar-date-current-page\": \"awsui_calendar-date-current-page_1ykar_tn512_239\",\n  \"calendar-date-selected\": \"awsui_calendar-date-selected_1ykar_tn512_250\",\n  \"calendar-date-current\": \"awsui_calendar-date-current_1ykar_tn512_239\",\n  \"calendar-date-dense\": \"awsui_calendar-date-dense_1ykar_tn512_271\",\n  \"date-inner\": \"awsui_date-inner_1ykar_tn512_279\",\n  \"calendar-row\": \"awsui_calendar-row_1ykar_tn512_354\",\n  \"disabled-reason-tooltip\": \"awsui_disabled-reason-tooltip_1ykar_tn512_358\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, TdHTMLAttributes, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { DatePickerProps } from '../../date-picker/interfaces';\nimport ScreenreaderOnly from '../../internal/components/screenreader-only/index.js';\nimport Tooltip from '../../internal/components/tooltip';\nimport { useEffectOnUpdate } from '../../internal/hooks/use-effect-on-update.js';\nimport useHiddenDescription from '../../internal/hooks/use-hidden-description';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport { applyDisplayName } from '../../internal/utils/apply-display-name';\nimport { CalendarProps } from '../interfaces';\n\nimport styles from '../styles.css.js';\n\n/**\n * Calendar grid supports two mechanisms of keyboard navigation:\n * - Native screen-reader table navigation (semantic table markup);\n * - Keyboard arrow-keys navigation (a custom key-down handler).\n *\n * The implementation largely follows the w3 example (https://www.w3.org/WAI/ARIA/apg/example-index/dialog-modal/datepicker-dialog) and shares the following issues:\n * - (table navigation) Chrome+VO - weekday is announced twice when navigating to the calendar's header;\n * - (table navigation) Safari+VO - \"dimmed\" state is announced twice;\n * - (table navigation) Firefox/Chrome+NVDA - cannot use table navigation if any cell has a focus;\n * - (keyboard navigation) Firefox+NVDA - every date is announced as \"not selected\";\n * - (keyboard navigation) Safari/Chrome+VO - weekdays are not announced;\n * - (keyboard navigation) Safari/Chrome+VO - dates are not announced as interactive (clickable or selectable);\n * - (keyboard navigation) Safari/Chrome+VO - date announcements are not interruptive and can be missed if navigating fast.\n */\n\nexport interface GridProps {\n  isDateEnabled: DatePickerProps.IsDateEnabledFunction;\n  dateDisabledReason: CalendarProps.DateDisabledReasonFunction;\n  focusedDate: Date | null;\n  focusableDate: Date | null;\n  onSelectDate: (date: Date) => void;\n  onFocusDate: (date: null | Date) => void;\n  onChangePage: (date: Date) => void;\n  selectedDate: Date | null;\n  ariaLabelledby: string;\n  header?: React.ReactNode;\n  rows: ReadonlyArray<ReadonlyArray<Date>>;\n  isCurrentPage: (date: Date) => boolean;\n  renderDate: (date: Date) => string;\n  renderDateAnnouncement: (date: Date, isOnCurrentDate: boolean) => string;\n  isSameDate: (date: Date, baseDate: Date) => boolean;\n  onGridKeyDownHandler: (event: React.KeyboardEvent<HTMLElement>) => void;\n}\n\ninterface GridCellProps extends TdHTMLAttributes<HTMLTableCellElement> {\n  disabledReason?: string;\n}\n\nconst GridCell = forwardRef((props: GridCellProps, focusedDateRef: React.Ref<HTMLTableCellElement>) => {\n  const { disabledReason, ...rest } = props;\n  const isDisabledWithReason = !!disabledReason;\n  const { targetProps, descriptionEl } = useHiddenDescription(disabledReason);\n  const ref = useRef<HTMLTableCellElement>(null);\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  return (\n    <td\n      ref={useMergeRefs(focusedDateRef, ref)}\n      {...(isDisabledWithReason ? targetProps : {})}\n      {...rest}\n      onFocus={() => (isDisabledWithReason ? setShowTooltip(true) : undefined)}\n      onBlur={() => (isDisabledWithReason ? setShowTooltip(false) : undefined)}\n      onMouseEnter={() => (isDisabledWithReason ? setShowTooltip(true) : undefined)}\n      onMouseLeave={() => (isDisabledWithReason ? setShowTooltip(false) : undefined)}\n    >\n      {props.children}\n      {isDisabledWithReason && (\n        <>\n          {descriptionEl}\n          {showTooltip && (\n            <Tooltip className={styles['disabled-reason-tooltip']} trackRef={ref} value={disabledReason!} />\n          )}\n        </>\n      )}\n    </td>\n  );\n});\n\napplyDisplayName(GridCell, 'GridCell');\n\nexport default function Grid({\n  isDateEnabled,\n  dateDisabledReason,\n  focusedDate,\n  focusableDate,\n  onSelectDate,\n  selectedDate,\n  ariaLabelledby,\n  header,\n  rows,\n  isCurrentPage,\n  renderDate,\n  renderDateAnnouncement,\n  isSameDate,\n  onGridKeyDownHandler,\n}: GridProps) {\n  const focusedDateRef = useRef<HTMLTableCellElement>(null);\n\n  // The focused date changes as a feedback to keyboard navigation in the grid.\n  // Once changed, the corresponding date button needs to receive the actual focus.\n  useEffectOnUpdate(() => {\n    if (focusedDate && focusedDateRef.current) {\n      (focusedDateRef.current as HTMLDivElement).focus();\n    }\n  }, [focusedDate]);\n\n  const rowLength = rows[0].length;\n\n  const denseGrid = rowLength > 3;\n\n  return (\n    <table\n      role=\"grid\"\n      className={clsx(styles['calendar-grid'], denseGrid && styles['calendar-grid-dense'])}\n      aria-labelledby={ariaLabelledby}\n    >\n      {header}\n      <tbody onKeyDown={onGridKeyDownHandler}>\n        {rows.map((row, rowIndex) => (\n          <tr key={rowIndex} className={styles['calendar-row']}>\n            {row.map((date, dateIndex) => {\n              const isFocusable = !!focusableDate && isSameDate(date, focusableDate);\n              const isSelected = !!selectedDate && isSameDate(date, selectedDate);\n              const isEnabled = !isDateEnabled || isDateEnabled(date);\n              const disabledReason = dateDisabledReason(date);\n              const isDisabledWithReason = !isEnabled && !!disabledReason;\n              const isCurrentDate = isSameDate(date, new Date());\n\n              // Can't be focused.\n              let tabIndex = undefined;\n              if (isFocusable && (isEnabled || isDisabledWithReason)) {\n                // Next focus target.\n                tabIndex = 0;\n              } else if (isEnabled || isDisabledWithReason) {\n                // Can be focused programmatically.\n                tabIndex = -1;\n              }\n\n              return (\n                <GridCell\n                  key={`${rowIndex}:${dateIndex}`}\n                  ref={tabIndex === 0 ? focusedDateRef : undefined}\n                  tabIndex={tabIndex}\n                  aria-current={isCurrentDate ? 'date' : undefined}\n                  aria-selected={isEnabled ? isSelected : undefined}\n                  aria-disabled={!isEnabled}\n                  // Do not attach click event when the date is disabled, otherwise VO+safari announces clickable\n                  onClick={isEnabled ? () => onSelectDate(date) : undefined}\n                  className={clsx(styles['calendar-grid-cell'], styles['calendar-date'], {\n                    [styles['calendar-date-current-page']]: isCurrentPage(date),\n                    [styles['calendar-date-enabled']]: isEnabled,\n                    [styles['calendar-date-selected']]: isSelected,\n                    [styles['calendar-date-current']]: isCurrentDate,\n                    [styles['calendar-date-dense']]: denseGrid,\n                  })}\n                  disabledReason={isDisabledWithReason ? disabledReason : undefined}\n                >\n                  <span className={styles['date-inner']} aria-hidden=\"true\">\n                    {renderDate(date)}\n                  </span>\n                  {/* Screen-reader announcement for the focused date. */}\n                  <ScreenreaderOnly>{renderDateAnnouncement(date, isCurrentDate)}</ScreenreaderOnly>\n                </GridCell>\n              );\n            })}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { TimeInputProps } from '../../time-input/interfaces';\n\nfunction setDayIndex(date: Date, dayIndex: number): void {\n  const diff = dayIndex - date.getDay();\n  date.setDate(date.getDate() + diff);\n}\n\nexport function renderDayName(locale: string, dayIndex: number, mode: 'short' | 'long'): string {\n  const tempDate = new Date();\n  setDayIndex(tempDate, dayIndex);\n  return tempDate.toLocaleDateString(locale, { weekday: mode });\n}\n\nexport function renderMonthAndYear(locale: string, baseDate: Date): string {\n  const result = baseDate.toLocaleDateString(locale, {\n    year: 'numeric',\n    month: 'long',\n  });\n\n  return result;\n}\n\nexport function renderYear(locale: string, date: Date): string {\n  return date.toLocaleDateString(locale, {\n    year: 'numeric',\n  });\n}\n\nconst dayLabelCache = new Map<string, string>();\nexport function getDateLabel(locale: string, date: Date, mode: 'full' | 'short' = 'full'): string {\n  const cacheKey = locale + date.getTime() + mode;\n  const cachedValue = dayLabelCache.get(cacheKey);\n  if (cachedValue) {\n    return cachedValue;\n  }\n  const value = date.toLocaleDateString(locale, {\n    weekday: mode === 'full' ? 'long' : undefined,\n    month: 'long',\n    day: 'numeric',\n    year: 'numeric',\n  });\n  dayLabelCache.set(cacheKey, value);\n  return value;\n}\n\nexport function renderTimeLabel(locale: string, date: Date, format?: TimeInputProps.Format): string {\n  let options: Intl.DateTimeFormatOptions = {};\n  if (format === 'hh') {\n    options = { hour: '2-digit' };\n  }\n  if (format === 'hh:mm') {\n    options = { hour: '2-digit', minute: '2-digit' };\n  }\n  const value = date.toLocaleTimeString(locale, options);\n  return value;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport ScreenreaderOnly from '../../internal/components/screenreader-only';\nimport { renderDayName } from '../utils/intl';\n\nimport styles from '../styles.css.js';\n\nexport default function CalendarGridHeader({ locale, rows }: { locale: string; rows: Date[][] }) {\n  return (\n    <thead>\n      <tr>\n        {rows[0]\n          .map(date => date.getDay())\n          .map(dayIndex => (\n            <th\n              key={dayIndex}\n              scope=\"col\"\n              className={clsx(styles['calendar-grid-cell'], styles['calendar-date-header'])}\n            >\n              <span aria-hidden=\"true\">{renderDayName(locale, dayIndex, 'short')}</span>\n              <ScreenreaderOnly>{renderDayName(locale, dayIndex, 'long')}</ScreenreaderOnly>\n            </th>\n          ))}\n      </tr>\n    </thead>\n  );\n}\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport default function startOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var cleanDate = toDate(dirtyDate);\n  var date = new Date(0);\n  date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport default function startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarYears from \"../differenceInCalendarYears/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInYears\n * @category Year Helpers\n * @summary Get the number of full years between the given dates.\n *\n * @description\n * Get the number of full years between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full years\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInYears(new Date(2015, 1, 11), new Date(2013, 11, 31))\n * //=> 1\n */\nexport default function differenceInYears(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarYears(dateLeft, dateRight));\n\n  // Set both dates to a valid leap year for accurate comparison when dealing\n  // with leap days\n  dateLeft.setFullYear(1584);\n  dateRight.setFullYear(1584);\n\n  // Math.abs(diff in full years - diff in calendar years) === 1 if last calendar year is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastYearNotFull = compareAsc(dateLeft, dateRight) === -sign;\n  var result = sign * (difference - Number(isLastYearNotFull));\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInCalendarYears\n * @category Year Helpers\n * @summary Get the number of calendar years between the given dates.\n *\n * @description\n * Get the number of calendar years between the given dates.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar years\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar years are between 31 December 2013 and 11 February 2015?\n * const result = differenceInCalendarYears(\n *   new Date(2015, 1, 11),\n *   new Date(2013, 11, 31)\n * )\n * //=> 2\n */\nexport default function differenceInCalendarYears(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() - dateRight.getFullYear();\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { addDays, addMonths, differenceInYears, isSameMonth, isSameYear, startOfMonth, startOfYear } from 'date-fns';\n\nimport { CalendarProps } from '../interfaces';\n\nexport function moveNextDay(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, 1);\n}\n\nexport function movePrevDay(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, -1);\n}\n\nexport function moveNextWeek(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, 7);\n}\n\nexport function movePrevWeek(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, -7);\n}\n\nexport function moveNextMonth(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, 1);\n}\n\nexport function movePrevMonth(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, -1);\n}\n\nexport function moveMonthDown(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, 3);\n}\n\nexport function moveMonthUp(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, -3);\n}\n\n// Returns first enabled date of the month corresponding to the given date.\n// If all month's days are disabled, the first day of the month is returned.\nexport function getBaseDay(date: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return getBaseDate({ date, isDateFocusable, granularity: 'day' });\n}\n\n// Returns first enabled month of the year corresponding to the given date.\n// If all year's months are disabled, the first month of the year is returned.\nexport function getBaseMonth(date: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return getBaseDate({ date, isDateFocusable, granularity: 'month' });\n}\n\nfunction getBaseDate({\n  date,\n  granularity,\n  isDateFocusable,\n}: {\n  date: Date;\n  granularity: CalendarProps.Granularity;\n  isDateFocusable: CalendarProps.IsDateEnabledFunction;\n}) {\n  const isMonthGranularity = granularity === 'month';\n  const getStartDate = isMonthGranularity ? startOfYear : startOfMonth;\n  const moveDate = isMonthGranularity ? moveMonth : moveDay;\n  const isSamePage = isMonthGranularity ? isSameYear : isSameMonth;\n\n  const startDate = getStartDate(date);\n  if (isDateFocusable(startDate)) {\n    return startDate;\n  }\n  const firstEnabledDate = moveDate(startDate, isDateFocusable, 1);\n  return isSamePage(startDate, firstEnabledDate) ? firstEnabledDate : startDate;\n}\n\n// Iterates days forwards or backwards until the next active day is found.\n// If there is no active day in a year range, the start day is returned.\nfunction moveDay(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction, step: number): Date {\n  return moveDate({ startDate, granularity: 'day', isDateFocusable, step });\n}\n\n// Iterates months forwards or backwards until the next active month is found.\n// If there is no active month in a 10 year range, the start month is returned.\nfunction moveMonth(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction, step: number): Date {\n  return moveDate({ startDate, granularity: 'month', isDateFocusable, step });\n}\n\nfunction moveDate({\n  startDate,\n  granularity,\n  isDateFocusable,\n  step,\n}: {\n  startDate: Date;\n  granularity: CalendarProps.Granularity;\n  isDateFocusable: CalendarProps.IsDateEnabledFunction;\n  step: number;\n}) {\n  const isMonthGranularity = granularity === 'month';\n  const addSteps = isMonthGranularity ? addMonths : addDays;\n  const limitYears = isMonthGranularity ? 1 : 10;\n\n  let current = addSteps(startDate, step);\n\n  while (!isDateFocusable(current)) {\n    if (Math.abs(differenceInYears(startDate, current)) > limitYears) {\n      return startDate;\n    }\n    current = addSteps(current, step);\n  }\n\n  return current;\n}\n","export const addDays = (date: Date, days: number): Date => {\n  const result = new Date(date)\n\n  result.setDate(result.getDate() + days)\n\n  return result\n}\n","export const setDate = (date: Date, day: number): Date => {\n  const result = new Date(date)\n\n  result.setDate(day)\n\n  return result\n}\n","import { addDays } from './add-days'\nimport { setDate } from './set-date'\n\nconst DAYS_IN_WEEK = 7\n\ntype TOptions = {\n  firstDayOfWeek: 0 | 1 | 2 | 3 | 4 | 5 | 6,\n}\n\nexport const getCalendarMonth = (date: Date, options?: TOptions): Date[][] => {\n  const { firstDayOfWeek } = {\n    firstDayOfWeek: 1,\n    ...options,\n  }\n  const firstDateOfMonth = new Date(date.getFullYear(), date.getMonth(), 1)\n  const lastDateOfMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0)\n  const firstWeekdayOfMonth = firstDateOfMonth.getDay()\n  const lastWeekdayOfMonth = lastDateOfMonth.getDay()\n  const daysInMonth = lastDateOfMonth.getDate()\n  const daysToPrepend = (firstWeekdayOfMonth - firstDayOfWeek + DAYS_IN_WEEK) % DAYS_IN_WEEK\n  const daysToAppend = (DAYS_IN_WEEK - 1 - lastWeekdayOfMonth + firstDayOfWeek) % DAYS_IN_WEEK\n  const month: Date[][] = []\n  let week: Date[] = []\n\n  for (let i = 1 - daysToPrepend; i <= daysInMonth + daysToAppend + 1; i++) {\n    if (i <= 0) {\n      week.push(\n        addDays(firstDateOfMonth, i - 1)\n      )\n    } else if (i > daysInMonth) {\n      week.push(\n        addDays(lastDateOfMonth, i - daysInMonth)\n      )\n    } else {\n      week.push(\n        setDate(date, i)\n      )\n    }\n\n    if (week.length === 7) {\n      month.push(week)\n      week = []\n    }\n  }\n\n  return month\n}\n","/**\r\n * Contains base mapping of language code to country code.\r\n * \r\n * @module langRegionMap\r\n */\r\n\r\n\r\n/* eslint-disable camelcase */\r\n/**\r\n * Base mapping of language code to country code.\r\n */\r\nconst langRegionMap = {\r\n    en: 'US',\r\n    \r\n    zh: 'CN',\r\n    zh_hans: 'CN',\r\n    hans: 'CN',   // script\r\n    wuu: 'CN',\r\n    hsn: 'CN',\r\n    hak: 'CN',\r\n    nan: 'CN',\r\n    gan: 'CN',\r\n    \r\n    hi: 'IN',\r\n    te: 'IN',\r\n    mr: 'IN',\r\n    ta: 'IN',\r\n    gu: 'IN',\r\n    kn: 'IN',\r\n    or: 'IN',\r\n    ml: 'IN',\r\n    pa_guru: 'IN',\r\n    bho: 'IN',\r\n    awa: 'IN',\r\n    as: 'IN',\r\n    mwr: 'IN',\r\n    mai: 'IN',\r\n    mag: 'IN',\r\n    bgc: 'IN',\r\n    hne: 'IN',\r\n    dcc: 'IN',\r\n\r\n    dz: 'BT',\r\n\r\n    tn: 'BW',\r\n\r\n    am: 'ET',\r\n    om: 'ET',\r\n\r\n    quc: 'GT',\r\n\r\n    id: 'ID',\r\n    jv: 'ID',\r\n    su: 'ID',\r\n    mad: 'ID',\r\n    ms_arab: 'ID',\r\n\r\n    ga: 'IE',\r\n\r\n    he: 'IL',\r\n\r\n    jam: 'JM',\r\n\r\n    ja: 'JP',\r\n\r\n    km: 'KH',\r\n\r\n    ko: 'KR',\r\n\r\n    lo: 'LA',\r\n\r\n    mh: 'MH',\r\n\r\n    my: 'MM',\r\n\r\n    mt: 'MT',\r\n\r\n    ne: 'NP',\r\n\r\n    fil: 'PH',\r\n    ceb: 'PH',\r\n    ilo: 'PH',\r\n\r\n    ur: 'PK',\r\n    pa: 'PK',\r\n    pa_arab: 'PK',\r\n    arab: 'PK',   // script\r\n    lah: 'PK',\r\n    ps: 'PK',\r\n    sd: 'PK',\r\n    sd_arab: 'PK',\r\n    skr: 'PK',\r\n\r\n    gn: 'PY',\r\n\r\n    th: 'TH',\r\n    tts: 'TH',\r\n\r\n    aeb: 'TN',\r\n\r\n    zh_hant: 'TW',\r\n    hant: 'TW',   // script\r\n\r\n    sm: 'WS',\r\n    \r\n    zu: 'ZA',\r\n\r\n    sn: 'ZW',\r\n\r\n\r\n    arq: 'DZ',\r\n\r\n    ar: 'EG',\r\n    arz: 'EG',\r\n\r\n    fa: 'IR',\r\n    az_arab: 'IR',\r\n\r\n    ary: 'MA',\r\n\r\n\r\n    bn: 'BD',\r\n    rkt: 'BD',\r\n\r\n    dv: 'MV'\r\n};\r\n/* eslint-enable camelcase */\r\n\r\nexport default langRegionMap;\r\n","/**\r\n * Contains data about first day of week depending on country code.\r\n * \r\n * @module regionDayMap\r\n */\r\n\r\n\r\n/* eslint quote-props: ['error', 'as-needed', {'keywords': true, 'numbers': false, 'unnecessary': false}] */\r\n/**\r\n * Data about first day of week depending on country code.\r\n */\r\nconst regionDayMap = {\r\n    // Sunday\r\n    AG: 0,\r\n    ATG: 0,\r\n    28: 0,\r\n    AR: 0,\r\n    ARG: 0,\r\n    32: 0,\r\n    AS: 0,\r\n    ASM: 0,\r\n    16: 0,\r\n    AU: 0,\r\n    AUS: 0,\r\n    36: 0,\r\n    BR: 0,\r\n    BRA: 0,\r\n    76: 0,\r\n    BS: 0,\r\n    BHS: 0,\r\n    44: 0,\r\n    BT: 0,\r\n    BTN: 0,\r\n    64: 0,\r\n    BW: 0,\r\n    BWA: 0,\r\n    72: 0,\r\n    BZ: 0,\r\n    BLZ: 0,\r\n    84: 0,\r\n    CA: 0,\r\n    CAN: 0,\r\n    124: 0,\r\n    CN: 0,\r\n    CHN: 0,\r\n    156: 0,\r\n    CO: 0,\r\n    COL: 0,\r\n    170: 0,\r\n    DM: 0,\r\n    DMA: 0,\r\n    212: 0,\r\n    DO: 0,\r\n    DOM: 0,\r\n    214: 0,\r\n    ET: 0,\r\n    ETH: 0,\r\n    231: 0,\r\n    GT: 0,\r\n    GTM: 0,\r\n    320: 0,\r\n    GU: 0,\r\n    GUM: 0,\r\n    316: 0,\r\n    HK: 0,\r\n    HKG: 0,\r\n    344: 0,\r\n    HN: 0,\r\n    HND: 0,\r\n    340: 0,\r\n    ID: 0,\r\n    IDN: 0,\r\n    360: 0,\r\n    IE: 0,\r\n    IRL: 0,\r\n    372: 0,\r\n    IL: 0,\r\n    ISR: 0,\r\n    376: 0,\r\n    IN: 0,\r\n    IND: 0,\r\n    356: 0,\r\n    JM: 0,\r\n    JAM: 0,\r\n    388: 0,\r\n    JP: 0,\r\n    JPN: 0,\r\n    392: 0,\r\n    KE: 0,\r\n    KEN: 0,\r\n    404: 0,\r\n    KH: 0,\r\n    KHM: 0,\r\n    116: 0,\r\n    KR: 0,\r\n    KOR: 0,\r\n    410: 0,\r\n    LA: 0,\r\n    LA0: 0,\r\n    418: 0,\r\n    MH: 0,\r\n    MHL: 0,\r\n    584: 0,\r\n    MM: 0,\r\n    MMR: 0,\r\n    104: 0,\r\n    MO: 0,\r\n    MAC: 0,\r\n    446: 0,\r\n    MT: 0,\r\n    MLT: 0,\r\n    470: 0,\r\n    MX: 0,\r\n    MEX: 0,\r\n    484: 0,\r\n    MZ: 0,\r\n    MOZ: 0,\r\n    508: 0,\r\n    NI: 0,\r\n    NIC: 0,\r\n    558: 0,\r\n    NP: 0,\r\n    NPL: 0,\r\n    524: 0,\r\n    NZ: 0,\r\n    NZL: 0,\r\n    554: 0,\r\n    PA: 0,\r\n    PAN: 0,\r\n    591: 0,\r\n    PE: 0,\r\n    PER: 0,\r\n    604: 0,\r\n    PH: 0,\r\n    PHL: 0,\r\n    608: 0,\r\n    PK: 0,\r\n    PAK: 0,\r\n    586: 0,\r\n    PR: 0,\r\n    PRI: 0,\r\n    630: 0,\r\n    PY: 0,\r\n    PRY: 0,\r\n    600: 0,\r\n    SA: 0,\r\n    SAU: 0,\r\n    682: 0,\r\n    SG: 0,\r\n    SGP: 0,\r\n    702: 0,\r\n    SV: 0,\r\n    SLV: 0,\r\n    222: 0,\r\n    TH: 0,\r\n    THA: 0,\r\n    764: 0,\r\n    TN: 0,\r\n    TUN: 0,\r\n    788: 0,\r\n    TT: 0,\r\n    TTO: 0,\r\n    780: 0,\r\n    TW: 0,\r\n    TWN: 0,\r\n    158: 0,\r\n    UM: 0,\r\n    UMI: 0,\r\n    581: 0,\r\n    US: 0,\r\n    USA: 0,\r\n    840: 0,\r\n    VE: 0,\r\n    VEN: 0,\r\n    862: 0,\r\n    VI: 0,\r\n    VIR: 0,\r\n    850: 0,\r\n    WS: 0,\r\n    WSM: 0,\r\n    882: 0,\r\n    YE: 0,\r\n    YEM: 0,\r\n    887: 0,\r\n    ZA: 0,\r\n    ZAF: 0,\r\n    710: 0,\r\n    ZW: 0,\r\n    ZWE: 0,\r\n    716: 0,\r\n\r\n    // Saturday\r\n    AE: 6,\r\n    ARE: 6,\r\n    784: 6,\r\n    AF: 6,\r\n    AFG: 6,\r\n    4: 6,\r\n    BH: 6,\r\n    BHR: 6,\r\n    48: 6,\r\n    DJ: 6,\r\n    DJI: 6,\r\n    262: 6,\r\n    DZ: 6,\r\n    DZA: 6,\r\n    12: 6,\r\n    EG: 6,\r\n    EGY: 6,\r\n    818: 6,\r\n    IQ: 6,\r\n    IRQ: 6,\r\n    368: 6,\r\n    IR: 6,\r\n    IRN: 6,\r\n    364: 6,\r\n    JO: 6,\r\n    JOR: 6,\r\n    400: 6,\r\n    KW: 6,\r\n    KWT: 6,\r\n    414: 6,\r\n    LY: 6,\r\n    LBY: 6,\r\n    434: 6,\r\n    MA: 6,\r\n    MAR: 6,\r\n    504: 6,\r\n    OM: 6,\r\n    OMN: 6,\r\n    512: 6,\r\n    QA: 6,\r\n    QAT: 6,\r\n    634: 6,\r\n    SD: 6,\r\n    SDN: 6,\r\n    729: 6,\r\n    SY: 6,\r\n    SYR: 6,\r\n    760: 6,\r\n\r\n    // Friday\r\n    BD: 5,\r\n    BGD: 5,\r\n    50: 5,\r\n    MV: 5,\r\n    MDV: 5,\r\n    462: 5\r\n\r\n    // Else - Monday\r\n};\r\n\r\nexport default regionDayMap;\r\n","/*\r\n * weekstart\r\n * https://github.com/gamtiq/weekstart\r\n */\r\n\r\n/**\r\n * Library to get first day of week.\r\n * \r\n * Uses data from {@link module:langRegionMap langRegionMap.js} and\r\n * {@link module:regionDayMap regionDayMap.js}.\r\n * \r\n * @module main\r\n */\r\n\r\nimport * as api from './api';\r\nimport langRegionMap from './langRegionMap';\r\nimport regionDayMap from './regionDayMap';\r\n\r\n/**\r\n * Return first day of week for country/region code.\r\n *\r\n * Based on data from:\r\n * - [https://github.com/unicode-cldr/cldr-core/blob/master/supplemental/weekData.json](https://github.com/unicode-cldr/cldr-core/blob/master/supplemental/weekData.json)\r\n * - [http://www.unicode.org/cldr/charts/28/supplemental/territory_information.html](http://www.unicode.org/cldr/charts/28/supplemental/territory_information.html)\r\n * - [https://www.iso.org/iso-3166-country-codes.html](https://www.iso.org/iso-3166-country-codes.html)\r\n *\r\n * @example\r\n * getWeekStartByRegion('PNG');   // 1\r\n * getWeekStartByRegion('qa');   // 6\r\n * getWeekStartByRegion(50);   // 5\r\n *\r\n * @param {number | string} regionCode\r\n *      ISO 3166 Alpha-2, Alpha-3 or numeric code.\r\n * @return {number}\r\n *      Code of first day of week for the given country/region code:\r\n *      0 - Sunday, 1 - Monday, 2 - Tuesday, 3 - Wednesday, 4 - Thursday, 5 - Friday, 6 - Saturday.\r\n * @alias module:main.getWeekStartByRegion\r\n * @see module:api.getWeekStartByRegion\r\n */\r\nexport function getWeekStartByRegion(regionCode) {\r\n    return api.getWeekStartByRegion(regionCode, regionDayMap);\r\n}\r\n\r\n/**\r\n * Return first day of week for locale identifier.\r\n *\r\n * Based on data from:\r\n * - [http://www.unicode.org/cldr/charts/28/supplemental/territory_language_information.html](http://www.unicode.org/cldr/charts/28/supplemental/territory_language_information.html)\r\n * - [http://www.unicode.org/cldr/charts/28/supplemental/language_territory_information.html](http://www.unicode.org/cldr/charts/28/supplemental/language_territory_information.html)\r\n * - [http://www.unicode.org/cldr/charts/28/supplemental/territory_information.html](http://www.unicode.org/cldr/charts/28/supplemental/territory_information.html)\r\n * - [http://www.unicode.org/reports/tr35/tr35.html#Unicode_Language_and_Locale_Identifiers](http://www.unicode.org/reports/tr35/tr35.html#Unicode_Language_and_Locale_Identifiers)\r\n *\r\n * @example\r\n * getWeekStartByLocale('no');   // 1\r\n * getWeekStartByLocale('Pa_Guru');   // 0\r\n * getWeekStartByLocale('fr-DZ');   // 6\r\n *\r\n * @param {string} locale\r\n *      Locale identifier.\r\n * @return {number}\r\n *      Code of first day of week for the given locale identifier:\r\n *      0 - Sunday, 1 - Monday, 2 - Tuesday, 3 - Wednesday, 4 - Thursday, 5 - Friday, 6 - Saturday.\r\n * @alias module:main.getWeekStartByLocale\r\n * @see module:api.getWeekStartByLocale\r\n */\r\nexport function getWeekStartByLocale(locale) {\r\n    return api.getWeekStartByLocale(locale, langRegionMap, regionDayMap);\r\n}\r\n","/**\r\n * Functions to get first day of week.\r\n * \r\n * @module api\r\n */\r\n\r\n\r\n/**\r\n * Return first day of week for country/region code.\r\n *\r\n * @example\r\n * getWeekStartByRegion('PNG', {});   // 1\r\n * getWeekStartByRegion('png', {BR: 0, PNG: 3, EG: 6});   // 3\r\n * getWeekStartByRegion('qa', {QA: 6});   // 6\r\n * getWeekStartByRegion(50, {BD: 5, 50: 5, SD: 6});   // 5\r\n *\r\n * @param {number | string} regionCode\r\n *      ISO 3166 Alpha-2, Alpha-3 or numeric code.\r\n * @param {object} regionDayMap\r\n *      Mapping of country/region code to first day of week that should be used to get result.\r\n *      Country codes should be in upper case.\r\n * @return {number}\r\n *      Code of first day of week for the given country/region code:\r\n *      0 - Sunday, 1 - Monday, 2 - Tuesday, 3 - Wednesday, 4 - Thursday, 5 - Friday, 6 - Saturday.\r\n * @alias module:api.getWeekStartByRegion\r\n */\r\nexport function getWeekStartByRegion(regionCode, regionDayMap) {\r\n    /* eslint-disable indent */\r\n    const code = regionDayMap[typeof regionCode === 'string'\r\n                                ? regionCode.toUpperCase()\r\n                                : regionCode];\r\n    /* eslint-enable indent */\r\n\r\n    return typeof code === 'number'\r\n        ? code\r\n        : 1;\r\n}\r\n\r\n/**\r\n * Return first day of week for locale identifier.\r\n *\r\n * @example\r\n * getWeekStartByLocale('no', {}, {});   // 1\r\n * getWeekStartByLocale('no', {no: 'abc'}, {ABC: 3});   // 3\r\n * getWeekStartByLocale('KK_arab', {kk_arab: 'CN'}, {CN: 0});   // 0\r\n * getWeekStartByLocale('fr-DZ', {fr: 'FR'}, {FR: 1, DZ: 6});   // 6\r\n *\r\n * @param {string} locale\r\n *      Locale identifier.\r\n * @param {object} langRegionMap\r\n *      Mapping of language code to country/region code that should be used to get result.\r\n *      Language codes should be in lower case.\r\n * @param {object} regionDayMap\r\n *      Mapping of country/region code to first day of week that should be used to get result.\r\n *      Country codes should be in upper case.\r\n * @return {number}\r\n *      Code of first day of week for the given locale identifier:\r\n *      0 - Sunday, 1 - Monday, 2 - Tuesday, 3 - Wednesday, 4 - Thursday, 5 - Friday, 6 - Saturday.\r\n * @alias module:api.getWeekStartByLocale\r\n */\r\nexport function getWeekStartByLocale(locale, langRegionMap, regionDayMap) {\r\n    if (locale) {\r\n        // Locale form: http://www.unicode.org/reports/tr35/tr35.html#Unicode_Language_and_Locale_Identifiers\r\n        const data = locale.toLowerCase().split(/[-_]/);\r\n        let language = data[0];\r\n        let country;\r\n        if (data[1] && data[1].length === 4) {\r\n            language += `_${data[1]}`;\r\n            country = data[2];\r\n        }\r\n        else {\r\n            country = data[1];\r\n        }\r\n        if (! country) {\r\n            country = langRegionMap[language];\r\n        }\r\n        if (country) {\r\n            return getWeekStartByRegion(\r\n                country.match(/^\\d+$/)\r\n                    ? Number(country)\r\n                    : country,\r\n                regionDayMap\r\n            );\r\n        }\r\n    }\r\n\r\n    return 1;\r\n}\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { getWeekStartByLocale } from 'weekstart';\n\ntype DayIndex = 0 | 1 | 2 | 3 | 4 | 5 | 6;\n\nexport function normalizeStartOfWeek(startOfWeek: number | undefined, locale: string) {\n  return (typeof startOfWeek === 'number' ? startOfWeek % 7 : getWeekStartByLocale(locale)) as DayIndex;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useMemo } from 'react';\nimport { getCalendarMonth } from 'mnth';\n\nimport { normalizeStartOfWeek } from '../../internal/utils/locale/index.js';\nimport { CalendarProps } from '../interfaces.js';\n\nexport default function useCalendarGridRows({\n  baseDate,\n  granularity,\n  locale,\n  startOfWeek,\n}: {\n  baseDate: Date;\n  granularity: CalendarProps.Granularity;\n  locale: string;\n  startOfWeek?: number;\n}) {\n  const isMonthPicker = granularity === 'month';\n\n  const rows = useMemo<Date[][]>(\n    () =>\n      isMonthPicker\n        ? getCalendarYear(baseDate)\n        : getCalendarMonth(baseDate, { firstDayOfWeek: normalizeStartOfWeek(startOfWeek, locale) }),\n    [baseDate, isMonthPicker, startOfWeek, locale]\n  );\n\n  return rows;\n}\n\n// Returns a 3-by-4 matrix with dates corresponding to the initial date-time of each month of the year for a given date.\nfunction getCalendarYear(date: Date): Date[][] {\n  const year = date.getFullYear();\n  return new Array(4)\n    .fill(0)\n    .map((_, i: number) => new Array(3).fill(0).map((_, j: number) => new Date(year, i * 3 + j)));\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\n\nimport { InternalButton } from '../../button/internal';\n\nimport styles from '../styles.css.js';\n\ninterface HeaderButtonProps {\n  ariaLabel?: string;\n  onChange: (n: number) => void;\n}\n\nexport function HeaderPrevButton({ ariaLabel, onChange }: HeaderButtonProps) {\n  return (\n    <InternalButton\n      iconName=\"angle-left\"\n      ariaLabel={ariaLabel}\n      variant=\"icon\"\n      onClick={() => onChange(-1)}\n      formAction=\"none\"\n      className={styles['calendar-prev-btn']}\n    />\n  );\n}\n\nexport function HeaderNextButton({ ariaLabel, onChange }: HeaderButtonProps) {\n  return (\n    <InternalButton\n      iconName=\"angle-right\"\n      ariaLabel={ariaLabel}\n      variant=\"icon\"\n      onClick={() => onChange(1)}\n      formAction=\"none\"\n      className={styles['calendar-next-btn']}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { HeaderNextButton, HeaderPrevButton } from './header-button';\n\nimport styles from '../styles.css.js';\n\ninterface CalendarHeaderProps {\n  formattedDate: string;\n  onChange: (n: number) => void;\n  previousLabel?: string;\n  nextLabel?: string;\n  headingId: string;\n}\n\nconst CalendarHeader = ({ formattedDate, onChange, previousLabel, nextLabel, headingId }: CalendarHeaderProps) => {\n  return (\n    <div className={styles['calendar-header']}>\n      <HeaderPrevButton ariaLabel={previousLabel} onChange={onChange} />\n      <h2 className={styles['calendar-header-title']} id={headingId}>\n        {formattedDate}\n      </h2>\n      <HeaderNextButton ariaLabel={nextLabel} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default CalendarHeader;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useInternalI18n } from '../i18n/context.js';\nimport { CalendarProps } from './interfaces';\nimport { getDateLabel, renderMonthAndYear } from './utils/intl';\n\nexport default function useCalendarLabels({\n  granularity,\n  locale,\n  i18nStrings,\n  previousMonthAriaLabel,\n  nextMonthAriaLabel,\n  todayAriaLabel,\n}: {\n  granularity: CalendarProps.Granularity;\n  locale: string;\n  i18nStrings?: CalendarProps.I18nStrings;\n  previousMonthAriaLabel?: string;\n  nextMonthAriaLabel?: string;\n  previousYearAriaLabel?: string;\n  todayAriaLabel?: string;\n}) {\n  const i18n = useInternalI18n('calendar');\n\n  const isMonthPicker = granularity === 'month';\n  const previousButtonLabel = isMonthPicker\n    ? i18n('i18nStrings.previousYearAriaLabel', i18nStrings?.previousYearAriaLabel)\n    : i18n('previousMonthAriaLabel', i18nStrings?.previousMonthAriaLabel ?? previousMonthAriaLabel);\n\n  const nextButtonLabel = isMonthPicker\n    ? i18n('i18nStrings.nextYearAriaLabel', i18nStrings?.nextYearAriaLabel)\n    : i18n('nextMonthAriaLabel', i18nStrings?.nextMonthAriaLabel ?? nextMonthAriaLabel);\n\n  const currentDateLabel = isMonthPicker\n    ? i18n('i18nStrings.currentMonthAriaLabel', i18nStrings?.currentMonthAriaLabel)\n    : i18n('todayAriaLabel', i18nStrings?.todayAriaLabel ?? todayAriaLabel);\n\n  const renderDate = (date: Date) =>\n    isMonthPicker ? date.toLocaleString(locale, { month: 'short' }) : date.getDate().toString();\n\n  const renderDateAnnouncement = (date: Date, isCurrentDate: boolean) => {\n    const formattedDate = isMonthPicker ? renderMonthAndYear(locale, date) : getDateLabel(locale, date, 'short');\n    if (isCurrentDate && currentDateLabel) {\n      return formattedDate + '. ' + currentDateLabel;\n    }\n    return formattedDate;\n  };\n\n  const renderHeaderText = (date: Date) =>\n    isMonthPicker ? date.getFullYear().toString() : renderMonthAndYear(locale, date);\n\n  return {\n    previousButtonLabel,\n    nextButtonLabel,\n    renderDate,\n    renderDateAnnouncement,\n    renderHeaderText,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { addMonths, addYears, isSameDay, isSameMonth, isSameYear } from 'date-fns';\n\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent } from '../internal/events/index.js';\nimport checkControlled from '../internal/hooks/check-controlled/index.js';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { useDateCache } from '../internal/hooks/use-date-cache/index.js';\nimport { useUniqueId } from '../internal/hooks/use-unique-id/index.js';\nimport { formatDate, parseDate } from '../internal/utils/date-time';\nimport { normalizeLocale } from '../internal/utils/locale';\nimport Grid from './grid';\nimport CalendarGridHeader from './grid/calendar-grid-header';\nimport useCalendarGridKeyboardNavigation from './grid/use-calendar-grid-keyboard-navigation';\nimport useCalendarGridRows from './grid/use-calendar-grid-rows';\nimport CalendarHeader from './header';\nimport { CalendarProps } from './interfaces.js';\nimport useCalendarLabels from './use-calendar-labels';\nimport { getBaseDay, getBaseMonth } from './utils/navigation';\n\nimport styles from './styles.css.js';\n\nexport default function Calendar({\n  value,\n  locale = '',\n  startOfWeek,\n  isDateEnabled = () => true,\n  dateDisabledReason = () => '',\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescribedby,\n  onChange,\n  __internalRootRef,\n  i18nStrings,\n  granularity = 'day',\n  previousMonthAriaLabel,\n  nextMonthAriaLabel,\n  todayAriaLabel,\n  ...rest\n}: CalendarProps & InternalBaseComponentProps) {\n  checkControlled('Calendar', 'value', value, 'onChange', onChange);\n\n  const baseProps = getBaseProps(rest);\n  const normalizedLocale = normalizeLocale('Calendar', locale);\n\n  const gridWrapperRef = useRef<HTMLDivElement>(null);\n  const [focusedDate, setFocusedDate] = useState<Date | null>(null);\n\n  const valueDateCache = useDateCache();\n  const focusedDateCache = useDateCache();\n\n  // Set displayed date to value if defined or to current date otherwise.\n  const parsedValue = value && value.length >= 4 ? parseDate(value) : null;\n  const memoizedValue = parsedValue ? valueDateCache(parsedValue) : null;\n  const defaultDisplayedDate = memoizedValue ?? new Date();\n  const [displayedDate, setDisplayedDate] = useState(defaultDisplayedDate);\n\n  const headingId = useUniqueId('calendar-heading');\n\n  const isMonthPicker = granularity === 'month';\n\n  const isDateFocusable = (date: Date) => isDateEnabled(date) || (!isDateEnabled(date) && !!dateDisabledReason(date));\n\n  const baseDate = isMonthPicker\n    ? getBaseMonth(displayedDate, isDateEnabled)\n    : getBaseDay(displayedDate, isDateEnabled);\n\n  const isSameDate = isMonthPicker ? isSameMonth : isSameDay;\n  const isSamePage = isMonthPicker ? isSameYear : isSameMonth;\n  const isCurrentPage = (date: Date) => isMonthPicker || isSameMonth(date, baseDate);\n\n  const { previousButtonLabel, nextButtonLabel, renderDate, renderDateAnnouncement, renderHeaderText } =\n    useCalendarLabels({\n      granularity,\n      i18nStrings,\n      locale: normalizedLocale,\n      previousMonthAriaLabel,\n      nextMonthAriaLabel,\n      todayAriaLabel,\n    });\n\n  const gridRows = useCalendarGridRows({ baseDate, granularity, startOfWeek, locale: normalizedLocale });\n\n  // Update displayed date if value changes.\n  useEffect(() => {\n    memoizedValue && setDisplayedDate(prev => (prev.getTime() !== memoizedValue.getTime() ? memoizedValue : prev));\n  }, [memoizedValue]);\n\n  const selectFocusedDate = (selected: Date | null, baseDate: Date): Date | null => {\n    if (selected && isDateFocusable(selected) && isSamePage(selected, baseDate)) {\n      return selected;\n    }\n    const today = new Date();\n    if (isDateFocusable(today) && isSamePage(today, baseDate)) {\n      return today;\n    }\n    if (isDateFocusable(baseDate)) {\n      return baseDate;\n    }\n    return null;\n  };\n\n  const focusableDate = focusedDate || selectFocusedDate(memoizedValue, baseDate);\n\n  const onHeaderChangePageHandler = (amount: number) => {\n    const movePage = isMonthPicker ? addYears : addMonths;\n    const newDate = movePage(baseDate, amount);\n    onChangePageHandler(newDate);\n  };\n\n  const onChangePageHandler = (newDate: Date) => {\n    setDisplayedDate(newDate);\n    setFocusedDate(null);\n  };\n\n  const onGridFocusDateHandler = (date: null | Date) => {\n    if (date) {\n      setFocusedDate(date ? focusedDateCache(date) : null);\n    }\n  };\n\n  const onGridSelectDateHandler = (date: Date) => {\n    fireNonCancelableEvent(onChange, { value: formatDate(date, granularity) });\n    setFocusedDate(null);\n  };\n\n  const onGridBlur = (event: React.FocusEvent) => {\n    const newFocusTargetIsInGrid = event.relatedTarget && gridWrapperRef.current?.contains(event.relatedTarget as Node);\n    if (!newFocusTargetIsInGrid) {\n      setFocusedDate(null);\n    }\n  };\n\n  const onGridKeyDownHandler = useCalendarGridKeyboardNavigation({\n    baseDate,\n    focusableDate,\n    granularity,\n    isDateEnabled,\n    isDateFocusable,\n    onChangePage: onChangePageHandler,\n    onFocusDate: onGridFocusDateHandler,\n    onSelectDate: onGridSelectDateHandler,\n  });\n\n  const headerText = renderHeaderText(baseDate);\n\n  return (\n    <div\n      ref={__internalRootRef}\n      {...baseProps}\n      role=\"group\"\n      aria-label={ariaLabel}\n      aria-labelledby={ariaLabelledby}\n      aria-describedby={ariaDescribedby}\n      className={clsx(styles.root, styles.calendar, baseProps.className)}\n    >\n      <div className={styles['calendar-inner']}>\n        <CalendarHeader\n          formattedDate={headerText}\n          onChange={onHeaderChangePageHandler}\n          previousLabel={previousButtonLabel}\n          nextLabel={nextButtonLabel}\n          headingId={headingId}\n        />\n        <div onBlur={onGridBlur} ref={gridWrapperRef}>\n          <Grid\n            isDateEnabled={isDateEnabled}\n            dateDisabledReason={dateDisabledReason}\n            focusedDate={focusedDate}\n            focusableDate={focusableDate}\n            onSelectDate={onGridSelectDateHandler}\n            onFocusDate={onGridFocusDateHandler}\n            onChangePage={onChangePageHandler}\n            selectedDate={memoizedValue}\n            ariaLabelledby={headingId}\n            header={isMonthPicker ? null : <CalendarGridHeader locale={normalizedLocale} rows={gridRows} />}\n            rows={gridRows}\n            isCurrentPage={isCurrentPage}\n            renderDate={renderDate}\n            renderDateAnnouncement={renderDateAnnouncement}\n            isSameDate={isSameDate}\n            onGridKeyDownHandler={onGridKeyDownHandler}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * Parses date string and returns Date object or null.\n *\n * We cannot use new Date(string) constructor, because it produces GMT time that may have different date than the local.\n */\nexport function parseDate(value: string): Date;\nexport function parseDate(value: string, strict: boolean): Date | null;\nexport function parseDate(value: string, strict = false): Date | null {\n  const [yearString, monthString, dayString] = value.split('-');\n\n  const year = Number(yearString);\n  const month = Number(monthString);\n  const day = Number(dayString);\n\n  if (strict) {\n    if (isNaN(year) || isNaN(month) || isNaN(day)) {\n      return null;\n    }\n  }\n\n  return new Date(year, (month || 1) - 1, day || 1);\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport { isSameMonth, isSameYear } from 'date-fns';\n\nimport { KeyCode } from '../../internal/keycode';\nimport handleKey from '../../internal/utils/handle-key';\nimport { CalendarProps } from '../interfaces';\nimport {\n  moveMonthDown,\n  moveMonthUp,\n  moveNextDay,\n  moveNextMonth,\n  moveNextWeek,\n  movePrevDay,\n  movePrevMonth,\n  movePrevWeek,\n} from '../utils/navigation';\n\nexport default function useCalendarGridKeyboardNavigation({\n  baseDate,\n  focusableDate,\n  granularity,\n  isDateEnabled,\n  isDateFocusable,\n  onChangePage,\n  onFocusDate,\n  onSelectDate,\n}: {\n  baseDate: Date;\n  focusableDate: Date | null;\n  granularity: CalendarProps.Granularity;\n  // determines if a date could be selected by user actions\n  isDateEnabled: CalendarProps.IsDateEnabledFunction;\n  // a date could be not enabled (isDateEnabled returns false), but focusable if it's disabled with reason\n  isDateFocusable: CalendarProps.IsDateEnabledFunction;\n  onChangePage: (date: Date) => void;\n  onFocusDate: (date: null | Date) => void;\n  onSelectDate: (date: Date) => void;\n}) {\n  const isMonthPicker = granularity === 'month';\n\n  const moveDown = isMonthPicker ? moveMonthDown : moveNextWeek;\n  const moveLeft = isMonthPicker ? movePrevMonth : movePrevDay;\n  const moveRight = isMonthPicker ? moveNextMonth : moveNextDay;\n  const moveUp = isMonthPicker ? moveMonthUp : movePrevWeek;\n\n  const isSamePage = isMonthPicker ? isSameYear : isSameMonth;\n\n  const onGridKeyDownHandler = (event: React.KeyboardEvent<HTMLElement>) => {\n    let updatedFocusDate;\n\n    const keys = [KeyCode.up, KeyCode.down, KeyCode.left, KeyCode.right, KeyCode.space, KeyCode.enter];\n\n    if (focusableDate === null || keys.indexOf(event.keyCode) === -1) {\n      return;\n    }\n\n    event.preventDefault();\n\n    handleKey(event, {\n      onActivate: () => {\n        if (!isDateEnabled(focusableDate)) {\n          return;\n        }\n\n        onFocusDate(null);\n        onSelectDate(focusableDate);\n      },\n      onBlockEnd: () => (updatedFocusDate = moveDown(focusableDate, isDateFocusable)),\n      onBlockStart: () => (updatedFocusDate = moveUp(focusableDate, isDateFocusable)),\n      onInlineStart: () => (updatedFocusDate = moveLeft(focusableDate, isDateFocusable)),\n      onInlineEnd: () => (updatedFocusDate = moveRight(focusableDate, isDateFocusable)),\n    });\n\n    if (!updatedFocusDate) {\n      return;\n    }\n\n    if (!isSamePage(updatedFocusDate, baseDate)) {\n      onChangePage(updatedFocusDate);\n    }\n    onFocusDate(updatedFocusDate);\n  };\n\n  return onGridKeyDownHandler;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\n\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { CalendarProps } from './interfaces';\nimport InternalCalendar from './internal';\n\nexport { CalendarProps };\n\nexport default function Calendar({\n  locale = '',\n  isDateEnabled = () => true,\n  granularity = 'day',\n  ...props\n}: CalendarProps) {\n  const baseComponentProps = useBaseComponent('Calendar');\n  return (\n    <InternalCalendar\n      {...props}\n      {...baseComponentProps}\n      locale={locale}\n      isDateEnabled={isDateEnabled}\n      granularity={granularity}\n    />\n  );\n}\n\napplyDisplayName(Calendar, 'Calendar');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getBaseProps } from '../internal/base-component';\nimport { useContainerBreakpoints } from '../internal/hooks/container-queries';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { GridProps } from './interfaces';\nimport InternalGrid from './internal';\n\nexport { GridProps };\n\nexport default function Grid({ gridDefinition = [], disableGutters = false, children, ...restProps }: GridProps) {\n  const baseComponentProps = useBaseComponent('Grid', {\n    props: { disableGutters },\n  });\n  const baseProps = getBaseProps(restProps);\n  const [breakpoint, ref] = useContainerBreakpoints(undefined);\n\n  return (\n    <InternalGrid\n      {...baseProps}\n      {...baseComponentProps}\n      ref={ref}\n      __breakpoint={breakpoint}\n      gridDefinition={gridDefinition}\n      disableGutters={disableGutters}\n    >\n      {children}\n    </InternalGrid>\n  );\n}\n\napplyDisplayName(Grid, 'Grid');\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_vrgzu_95md8_97\",\n  \"recovery\": \"awsui_recovery_vrgzu_95md8_135\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport InternalLink from '../../../link/internal';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport { usePrevious } from '../../hooks/use-previous';\nimport { DropdownStatusProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { DropdownStatusProps };\n\nexport interface DropdownStatusPropsExtended extends DropdownStatusProps {\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  isFiltered?: boolean;\n  noMatch?: React.ReactNode;\n  filteringResultsText?: string;\n  /**\n   * Called when the user clicks the recovery button placed at the\n   * bottom of the dropdown list in the error state. Use this to\n   * retry a failed request or provide another option for the user\n   * to recover from the error.\n   */\n  onRecoveryClick?: NonCancelableEventHandler;\n  /**\n   * Determines if retry button should be rendered\n   * in case recoveryText was automatically provided by i18n.\n   */\n  hasRecoveryCallback?: boolean;\n}\n\nfunction DropdownStatus({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n\ntype UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  hasRecoveryCallback,\n  onRecoveryClick,\n}: DropdownStatusPropsExtended) => DropdownStatusResult;\n\ninterface DropdownStatusResult {\n  isSticky: boolean;\n  content: React.ReactNode | null;\n}\n\nexport const useDropdownStatus: UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  onRecoveryClick,\n  hasRecoveryCallback = false,\n  errorIconAriaLabel,\n}) => {\n  const previousStatusType = usePrevious(statusType);\n  const statusResult: DropdownStatusResult = { isSticky: true, content: null };\n\n  if (statusType === 'loading') {\n    statusResult.content = <InternalStatusIndicator type={'loading'}>{loadingText}</InternalStatusIndicator>;\n  } else if (statusType === 'error') {\n    statusResult.content = (\n      <span>\n        <InternalStatusIndicator\n          type=\"error\"\n          __display=\"inline\"\n          __animate={previousStatusType !== 'error'}\n          iconAriaLabel={errorIconAriaLabel}\n        >\n          {errorText}\n        </InternalStatusIndicator>{' '}\n        {!!recoveryText && hasRecoveryCallback && (\n          <InternalLink\n            onFollow={() => fireNonCancelableEvent(onRecoveryClick)}\n            variant=\"recovery\"\n            className={styles.recovery}\n          >\n            {recoveryText}\n          </InternalLink>\n        )}\n      </span>\n    );\n  } else if (isEmpty && empty) {\n    statusResult.content = empty;\n  } else if (isNoMatch && noMatch) {\n    statusResult.content = noMatch;\n  } else if (isFiltered && filteringResultsText) {\n    statusResult.content = filteringResultsText;\n  } else if (statusType === 'finished' && finishedText) {\n    statusResult.content = finishedText;\n    statusResult.isSticky = false;\n  }\n\n  return statusResult;\n};\n\nexport default DropdownStatus;\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1afi9_1aapr_97\",\n  \"hidden\": \"awsui_hidden_1afi9_1aapr_131\",\n  \"no-items\": \"awsui_no-items_1afi9_1aapr_134\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport DropdownStatus from '../dropdown-status/index.js';\nimport LiveRegion from '../live-region/index.js';\n\nimport styles from './styles.css.js';\n\ninterface DropdownFooter {\n  content?: React.ReactNode | null;\n  hasItems?: boolean;\n  id?: string;\n}\n\nconst DropdownFooter: React.FC<DropdownFooter> = ({ content, id, hasItems = true }: DropdownFooter) => (\n  <div className={clsx(styles.root, { [styles.hidden]: content === null, [styles['no-items']]: !hasItems })}>\n    <LiveRegion visible={true} tagName=\"div\" id={id}>\n      {content && <DropdownStatus>{content}</DropdownStatus>}\n    </LiveRegion>\n  </div>\n);\n\nexport default DropdownFooter;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\n\ntype SearchableField = 'value' | 'label' | 'description' | 'labelTag';\ntype SearchableTagField = 'tags' | 'filteringTags';\n\nconst searchableFields: SearchableField[] = ['value', 'label', 'description', 'labelTag'];\n\nexport const matchesString = (value: string | undefined, searchText: string, strictMatching: boolean): boolean => {\n  if (!value) {\n    return false;\n  }\n  const index = value.toLowerCase().indexOf(searchText);\n  return strictMatching ? index === 0 : index > -1;\n};\n\nconst matchesSingleOption = (dropdownOption: DropdownOption, text: string, strictMatching: boolean): boolean => {\n  const searchText = text.toLowerCase();\n\n  const option: OptionDefinition = dropdownOption.option;\n  const searchStrFields = (attr: SearchableField) => matchesString(option[attr], searchText, strictMatching);\n  const searchTagsFields = (attr: SearchableTagField) =>\n    option[attr]?.some(value => matchesString(value, searchText, strictMatching));\n\n  const searchableTagFields: SearchableTagField[] = ['tags'];\n  if (!strictMatching) {\n    searchableTagFields.push('filteringTags');\n  }\n\n  return searchableFields.some(searchStrFields) || searchableTagFields.some(searchTagsFields);\n};\n\nexport const filterOptions = (\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  strictMatching = false\n): ReadonlyArray<DropdownOption> => {\n  if (searchText === '') {\n    return options;\n  }\n\n  let currentGroup: DropdownOption | null = null;\n  let parentMatched = false;\n  return options.reduce<DropdownOption[]>((acc, option) => {\n    if (option.type === 'parent') {\n      parentMatched = false;\n      currentGroup = option;\n      if (matchesSingleOption(option, searchText, strictMatching)) {\n        parentMatched = true;\n        acc.push(currentGroup);\n      }\n      return acc;\n    }\n    if (option.type !== 'child') {\n      currentGroup = null;\n      parentMatched = false;\n    }\n    if (parentMatched) {\n      acc.push(option);\n    } else if (matchesSingleOption(option, searchText, strictMatching)) {\n      if (currentGroup) {\n        acc.push(currentGroup);\n        currentGroup = null;\n      }\n      acc.push(option);\n    }\n    return acc;\n  }, []);\n};\n\nexport const isInteractive = (option?: DropdownOption) => !!option && !option.disabled && option.type !== 'parent';\n\nexport const isGroupInteractive = (option?: DropdownOption) => !!option && !option.disabled;\n\nexport const isGroup = (option?: OptionDefinition | OptionGroup): option is OptionGroup =>\n  !!option && 'options' in option;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\ninterface ListItem {\n  type?: string;\n}\ninterface TestIndexes {\n  throughIndex?: number;\n  groupIndex?: number;\n  inGroupIndex?: number;\n}\nconst testIndexMap = new WeakMap<ListItem, TestIndexes>();\n//retrieves the test indexes of the option for the findOption and findOptionInGroup test-utils\nexport const getTestOptionIndexes = <T extends ListItem>(item: T) => testIndexMap.get(item);\nexport const generateTestIndexes = <T extends ListItem, Group extends object>(\n  filteredItems: ReadonlyArray<T>,\n  getParentGroup: (item: T) => Group | undefined\n) => {\n  let throughIndex = 1;\n  let groupIndex = 0;\n  let inGroupIndex = 1;\n  let currentGroup: ListItem | null = null;\n  filteredItems.forEach(item => {\n    const isGroup = item.type === 'parent';\n    const group = isGroup ? item : getParentGroup(item);\n    if (group && group !== currentGroup) {\n      currentGroup = group;\n      groupIndex += 1;\n      inGroupIndex = 1;\n    }\n    if (isGroup) {\n      testIndexMap.set(item, { groupIndex });\n    } else if (group && item.type === 'child') {\n      testIndexMap.set(item, {\n        throughIndex: throughIndex++,\n        groupIndex,\n        inGroupIndex: inGroupIndex++,\n      });\n    } else if (item.type === 'child' || !item.type) {\n      testIndexMap.set(item, { throughIndex: throughIndex++ });\n    }\n  });\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { SelectProps } from '../../../../select/interfaces';\nimport { generateTestIndexes } from '../../options-list/utils/test-indexes';\nimport { filterOptions } from './filter-options';\nimport { flattenOptions } from './flatten-options';\n\nexport function prepareOptions(\n  options: SelectProps.Options,\n  filteringType: SelectProps.FilteringType,\n  filteringText: string\n) {\n  const { flatOptions, parentMap } = flattenOptions(options);\n  const filteredOptions = filteringType !== 'auto' ? flatOptions : filterOptions(flatOptions, filteringText);\n  generateTestIndexes(filteredOptions, parentMap.get.bind(parentMap));\n  return {\n    filteredOptions,\n    parentMap,\n    totalCount: flatOptions.length,\n    matchesCount: filteredOptions.length,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if ('options' in option) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n","\n    import './styles.scoped.css';\n    export default {\n  \"placeholder\": \"awsui_placeholder_dwuol_117oy_97\",\n  \"item\": \"awsui_item_dwuol_117oy_102\",\n  \"checkbox\": \"awsui_checkbox_dwuol_117oy_106\",\n  \"filter\": \"awsui_filter_dwuol_117oy_115\",\n  \"trigger\": \"awsui_trigger_dwuol_117oy_120\",\n  \"layout-strut\": \"awsui_layout-strut_dwuol_117oy_126\",\n  \"list-bottom\": \"awsui_list-bottom_dwuol_117oy_132\",\n  \"selected-icon\": \"awsui_selected-icon_dwuol_117oy_136\",\n  \"show-label-tag\": \"awsui_show-label-tag_dwuol_117oy_140\",\n  \"inline-token-trigger\": \"awsui_inline-token-trigger_dwuol_117oy_144\",\n  \"inline-token-list\": \"awsui_inline-token-list_dwuol_117oy_151\",\n  \"inline-token\": \"awsui_inline-token_dwuol_117oy_144\",\n  \"visual-refresh\": \"awsui_visual-refresh_dwuol_117oy_181\",\n  \"inline-token-hidden-placeholder\": \"awsui_inline-token-hidden-placeholder_dwuol_117oy_188\",\n  \"inline-token-counter\": \"awsui_inline-token-counter_dwuol_117oy_194\",\n  \"inline-token-trigger--disabled\": \"awsui_inline-token-trigger--disabled_dwuol_117oy_198\",\n  \"inline-label-trigger-wrapper\": \"awsui_inline-label-trigger-wrapper_dwuol_117oy_204\",\n  \"inline-label-wrapper\": \"awsui_inline-label-wrapper_dwuol_117oy_208\",\n  \"inline-label\": \"awsui_inline-label_dwuol_117oy_204\",\n  \"inline-label-disabled\": \"awsui_inline-label-disabled_dwuol_117oy_230\",\n  \"disabled-reason-tooltip\": \"awsui_disabled-reason-tooltip_dwuol_117oy_238\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport InternalInput, { InternalInputProps } from '../../input/internal';\nimport { SelectProps } from '../interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface FilterProps extends InternalInputProps {\n  ref?: React.Ref<HTMLInputElement>;\n  filteringType: SelectProps.FilteringType;\n}\n\nconst Filter = React.forwardRef(({ filteringType, ...filterProps }: FilterProps, ref: React.Ref<HTMLInputElement>) => {\n  if (filteringType === 'none') {\n    return null;\n  }\n\n  return (\n    <InternalInput\n      ref={ref}\n      type=\"visualSearch\"\n      className={styles.filter}\n      autoComplete={false}\n      disableBrowserAutocorrect={true}\n      invalid={false}\n      __noBorderRadius={true}\n      {...filterProps}\n      __nativeAttributes={{\n        'aria-expanded': true,\n        'aria-haspopup': true,\n        role: 'combobox',\n        autoCorrect: 'off',\n        autoCapitalize: 'off',\n        ...filterProps.__nativeAttributes,\n      }}\n    />\n  );\n});\n\nexport default Filter;\n","\n    import './styles.scoped.css';\n    export default {\n  \"option\": \"awsui_option_1p2cx_1lo2r_101\",\n  \"disabled\": \"awsui_disabled_1p2cx_1lo2r_141\",\n  \"parent\": \"awsui_parent_1p2cx_1lo2r_144\",\n  \"highlighted\": \"awsui_highlighted_1p2cx_1lo2r_147\",\n  \"content\": \"awsui_content_1p2cx_1lo2r_151\",\n  \"label-content\": \"awsui_label-content_1p2cx_1lo2r_158\",\n  \"label\": \"awsui_label_1p2cx_1lo2r_158\",\n  \"tag\": \"awsui_tag_1p2cx_1lo2r_165\",\n  \"label-tag\": \"awsui_label-tag_1p2cx_1lo2r_166\",\n  \"label-prefix\": \"awsui_label-prefix_1p2cx_1lo2r_176\",\n  \"tags\": \"awsui_tags_1p2cx_1lo2r_189\",\n  \"description\": \"awsui_description_1p2cx_1lo2r_190\",\n  \"selected\": \"awsui_selected_1p2cx_1lo2r_201\",\n  \"icon\": \"awsui_icon_1p2cx_1lo2r_215\",\n  \"icon-size-big\": \"awsui_icon-size-big_1p2cx_1lo2r_222\",\n  \"filtering-match-highlight\": \"awsui_filtering-match-highlight_1p2cx_1lo2r_226\",\n  \"trigger-variant\": \"awsui_trigger-variant_1p2cx_1lo2r_241\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport styles from './styles.css.js';\n\nconst splitOnFiltering = (str: string, highlightText: string) => {\n  // We match by creating a regex using user-provided strings, so we skip\n  // highlighting if the generated regex would be too memory intensive.\n  if (highlightText.length > 100000) {\n    return { noMatches: [str], matches: null };\n  }\n\n  // Filtering needs to be case insensitive\n  const filteringPattern = highlightText.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n  const regexp = new RegExp(filteringPattern, 'gi');\n  const noMatches = str.split(regexp);\n  const matches = str.match(regexp);\n\n  return { noMatches, matches };\n};\n\nexport interface HighlightMatchProps {\n  str?: string;\n  highlightText?: string;\n}\n\nconst Highlight = ({ str }: HighlightMatchProps) =>\n  str ? <span className={styles['filtering-match-highlight']}>{str}</span> : null;\n\nexport default function HighlightMatch({ str, highlightText }: HighlightMatchProps) {\n  if (!str || !highlightText) {\n    return <span>{str}</span>;\n  }\n\n  if (str === highlightText) {\n    return <Highlight str={str} />;\n  }\n\n  const { noMatches, matches } = splitOnFiltering(str, highlightText);\n\n  const highlighted: (string | JSX.Element)[] = [];\n\n  noMatches.forEach((noMatch, idx) => {\n    highlighted.push(<span key={`noMatch-${idx}`}>{noMatch}</span>);\n\n    if (matches && idx < matches.length) {\n      highlighted.push(<Highlight key={`match-${idx}`} str={matches[idx]} />);\n    }\n  });\n\n  return <span>{highlighted}</span>;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { IconProps } from '../../../icon/interfaces';\nimport InternalIcon from '../../../icon/internal';\nimport HighlightMatch from './highlight-match';\n\nimport styles from './styles.css.js';\n\ninterface LabelProps {\n  label?: string;\n  prefix?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const Label = ({ label, prefix, highlightText, triggerVariant }: LabelProps) => (\n  <span className={clsx(styles.label, triggerVariant && styles['trigger-variant'])}>\n    {prefix && (\n      <span className={clsx(styles['label-prefix'], triggerVariant && styles['trigger-variant'])}>{prefix} </span>\n    )}\n    <HighlightMatch str={label} highlightText={highlightText} />\n  </span>\n);\n\ninterface LabelTagProps {\n  labelTag?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const LabelTag = ({ labelTag, highlightText, triggerVariant }: LabelTagProps) =>\n  labelTag ? (\n    <span className={clsx(styles['label-tag'], triggerVariant && styles['trigger-variant'])}>\n      <HighlightMatch str={labelTag} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface DescriptionProps {\n  description?: string;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Description = ({\n  description,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: DescriptionProps) =>\n  description ? (\n    <span\n      className={clsx(styles.description, {\n        [styles['trigger-variant']]: triggerVariant,\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      <HighlightMatch str={description} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface TagsProps {\n  tags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Tags = ({ tags, highlightedOption, highlightText, selectedOption, triggerVariant }: TagsProps) =>\n  tags ? (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {tags.map((tag, idx) => (\n        <span key={idx} className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])}>\n          <HighlightMatch str={tag} highlightText={highlightText} />\n        </span>\n      ))}\n    </span>\n  ) : null;\n\ninterface FilteringTagProps {\n  filteringTags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const FilteringTags = ({\n  filteringTags,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: FilteringTagProps) => {\n  if (!highlightText || !filteringTags) {\n    return null;\n  }\n\n  const searchElement = highlightText.toLowerCase();\n\n  return (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {filteringTags.map((filteringTag, key) => {\n        const match = filteringTag.toLowerCase().indexOf(searchElement) !== -1;\n        if (match) {\n          return (\n            <span\n              className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])}\n              key={key}\n              aria-disabled={true}\n            >\n              <HighlightMatch str={filteringTag} highlightText={highlightText} />\n            </span>\n          );\n        }\n        return null;\n      })}\n    </span>\n  );\n};\n\nexport const OptionIcon = (props: IconProps) => {\n  if (!props.name && !props.url && !props.svg) {\n    return null;\n  }\n\n  return (\n    <span className={clsx(styles.icon, props.size === 'big' && [styles[`icon-size-big`]])}>\n      <InternalIcon {...props} />\n    </span>\n  );\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../../base-component';\nimport { isDevelopment } from '../../is-development';\nimport { OptionProps } from './interfaces';\nimport { Description, FilteringTags, Label, LabelTag, OptionIcon, Tags } from './option-parts';\n\nimport styles from './styles.css.js';\n\nexport { OptionProps };\n\nfunction validateStringValue(value: string | undefined, propertyName: string) {\n  if (typeof value !== 'undefined' && typeof value !== 'string') {\n    warnOnce(\n      'DropdownOption',\n      `This component only supports string values, but \"option.${propertyName}\" has ${typeof value} type. The component may work incorrectly.`\n    );\n  }\n}\n\nconst Option = ({\n  option,\n  highlightText,\n  triggerVariant = false,\n  isGroupOption = false,\n  isGenericGroup = true,\n  highlightedOption = false,\n  selectedOption = false,\n  ...restProps\n}: OptionProps) => {\n  if (!option) {\n    return null;\n  }\n  const { disabled } = option;\n  const baseProps = getBaseProps(restProps);\n\n  if (isDevelopment) {\n    validateStringValue(option.label, 'label');\n    validateStringValue(option.description, 'description');\n    validateStringValue(option.labelTag, 'labelTag');\n    option.tags?.forEach((tag, index) => {\n      validateStringValue(tag, `tags[${index}]`);\n    });\n    option.filteringTags?.forEach((tag, index) => {\n      validateStringValue(tag, `filteringTags[${index}]`);\n    });\n  }\n\n  const className = clsx(\n    styles.option,\n    disabled && styles.disabled,\n    isGroupOption && styles.parent,\n    highlightedOption && styles.highlighted\n  );\n\n  const icon = option.__customIcon || (\n    <OptionIcon\n      name={option.iconName}\n      url={option.iconUrl}\n      svg={option.iconSvg}\n      alt={option.iconAlt}\n      size={option.description || option.tags ? 'big' : 'normal'}\n    />\n  );\n\n  // The option is conditionally assigned 'title' and 'aria-disabled' attributes to ensure it is viewed as a (generic) group  by assistive technology only when necessary.\n  // Omitting the props might be necessary if they are provided on the parent element to avoid nested groups.\n  // See https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/generic_role\n  const genericGroupProps = isGenericGroup\n    ? {\n        title: option.label ?? option.value,\n        'aria-disabled': disabled,\n      }\n    : undefined;\n\n  return (\n    <span data-value={option.value} className={className} lang={option.lang} {...genericGroupProps} {...baseProps}>\n      {icon}\n      <span className={styles.content}>\n        <span className={styles['label-content']}>\n          <Label\n            label={option.label ?? option.value}\n            prefix={option.__labelPrefix}\n            highlightText={highlightText}\n            triggerVariant={triggerVariant}\n          />\n          <LabelTag labelTag={option.labelTag} highlightText={highlightText} triggerVariant={triggerVariant} />\n        </span>\n        <Description\n          description={option.description}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <Tags\n          tags={option.tags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <FilteringTags\n          filteringTags={option.filteringTags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n      </span>\n    </span>\n  );\n};\n\nexport default Option;\n","\n    import './styles.scoped.css';\n    export default {\n  \"selectable-item\": \"awsui_selectable-item_15o6u_1nwbb_97\",\n  \"pad-bottom\": \"awsui_pad-bottom_15o6u_1nwbb_121\",\n  \"has-background\": \"awsui_has-background_15o6u_1nwbb_130\",\n  \"highlighted\": \"awsui_highlighted_15o6u_1nwbb_133\",\n  \"selected\": \"awsui_selected_15o6u_1nwbb_133\",\n  \"disabled\": \"awsui_disabled_15o6u_1nwbb_151\",\n  \"next-item-selected\": \"awsui_next-item-selected_15o6u_1nwbb_161\",\n  \"is-keyboard\": \"awsui_is-keyboard_15o6u_1nwbb_173\",\n  \"parent\": \"awsui_parent_15o6u_1nwbb_177\",\n  \"interactiveGroups\": \"awsui_interactiveGroups_15o6u_1nwbb_181\",\n  \"child\": \"awsui_child_15o6u_1nwbb_199\",\n  \"virtual\": \"awsui_virtual_15o6u_1nwbb_214\",\n  \"measure-strut\": \"awsui_measure-strut_15o6u_1nwbb_225\",\n  \"measure-strut-first\": \"awsui_measure-strut-first_15o6u_1nwbb_234\",\n  \"screenreader-content\": \"awsui_screenreader-content_15o6u_1nwbb_238\",\n  \"option-content\": \"awsui_option-content_15o6u_1nwbb_244\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { HighlightType } from '../options-list/utils/use-highlight-option.js';\n\nimport styles from './styles.css.js';\n\nexport type SelectableItemProps = BaseComponentProps & {\n  children: React.ReactNode;\n  selected?: boolean;\n  highlighted?: boolean;\n  disabled?: boolean;\n  hasBackground?: boolean;\n  isParent?: boolean;\n  isChild?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType['type'];\n  ariaDescribedby?: string;\n} & ({ ariaSelected?: boolean; ariaChecked?: never } | { ariaSelected?: never; ariaChecked?: boolean | 'mixed' });\n\nconst SelectableItem = (\n  {\n    children: content,\n    ariaSelected,\n    ariaChecked,\n    selected,\n    highlighted,\n    disabled,\n    hasBackground,\n    isParent,\n    isChild,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    useInteractiveGroups,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: SelectableItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const { className, ...rest } = getBaseProps(restProps);\n  const classNames = clsx(className, styles['selectable-item'], {\n    [styles.selected]: selected,\n    [styles.highlighted]: highlighted,\n    [styles['has-background']]: hasBackground,\n    [styles.parent]: isParent,\n    [styles.child]: isChild,\n    [styles['is-keyboard']]: highlightType === 'keyboard',\n    [styles.disabled]: disabled,\n    [styles.virtual]: virtualPosition !== undefined,\n    [styles['pad-bottom']]: padBottom,\n    [styles['next-item-selected']]: isNextSelected,\n    [styles.interactiveGroups]: useInteractiveGroups,\n  });\n\n  const contentRef = useRef<HTMLDivElement>(null);\n  const screenReaderContentRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    // the state of aria-hidden and announcement is not set back because NVDA+Firefox would announce\n    // the item which lost highlight\n    // set aria-hidden true when there is announcement content, so that screen reader still announce\n    // meaningful content when navigate with screen reader cursor\n    // imperatively update to avoid announcement made multiple times when content updates\n    if (highlighted && screenReaderContent) {\n      if (contentRef.current) {\n        contentRef.current.setAttribute('aria-hidden', 'true');\n      }\n      if (screenReaderContentRef.current) {\n        screenReaderContentRef.current.textContent = screenReaderContent;\n      }\n    }\n  }, [highlighted, screenReaderContent, contentRef, screenReaderContentRef]);\n\n  const style =\n    virtualPosition !== undefined\n      ? {\n          transform: `translateY(${virtualPosition}px)`,\n        }\n      : undefined;\n\n  const a11yProperties: Record<string, string | number | boolean | undefined> = {\n    'aria-disabled': disabled,\n  };\n\n  if (isParent && !useInteractiveGroups) {\n    a11yProperties['aria-hidden'] = true;\n  }\n\n  if (ariaSelected !== undefined) {\n    a11yProperties['aria-selected'] = ariaSelected;\n  }\n\n  // Safari+VO needs aria-checked for multi-selection. Otherwise it only announces selected option even though another option is highlighted.\n  if (ariaChecked !== undefined) {\n    a11yProperties['aria-checked'] = ariaChecked;\n  }\n\n  if (ariaPosinset && ariaSetsize) {\n    a11yProperties['aria-posinset'] = ariaPosinset;\n    a11yProperties['aria-setsize'] = ariaSetsize;\n  }\n\n  if (restProps.ariaDescribedby) {\n    a11yProperties['aria-describedby'] = restProps.ariaDescribedby;\n  }\n\n  return (\n    <li role=\"option\" className={classNames} style={style} {...a11yProperties} {...rest}>\n      <div className={styles['option-content']} ref={contentRef}>\n        {content}\n      </div>\n      <div className={styles['measure-strut']} ref={ref} />\n      <div className={styles['screenreader-content']} ref={screenReaderContentRef}></div>\n    </li>\n  );\n};\n\nexport default React.forwardRef(SelectableItem);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport InternalIcon from '../../icon/internal.js';\nimport { getBaseProps } from '../../internal/base-component';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport Option from '../../internal/components/option';\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option.js';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport Tooltip from '../../internal/components/tooltip';\nimport useHiddenDescription from '../../internal/hooks/use-hidden-description';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\n\nimport styles from './styles.css.js';\n\nexport interface ItemProps {\n  option: DropdownOption;\n  highlighted?: boolean;\n  selected?: boolean;\n  filteringValue?: string;\n  hasCheckbox?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType['type'];\n}\n\nconst Item = (\n  {\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: ItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n  const disabledReason = disabled && wrappedOption.disabledReason ? wrappedOption.disabledReason : '';\n  const isDisabledWithReason = !!disabledReason;\n  const internalRef = useRef<HTMLDivElement>(null);\n\n  const { descriptionEl, descriptionId } = useHiddenDescription(disabledReason);\n\n  return (\n    <SelectableItem\n      ariaSelected={Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      highlighted={highlighted}\n      disabled={option.disabled}\n      isParent={isParent}\n      isChild={isChild}\n      ref={useMergeRefs(ref, internalRef)}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      highlightType={highlightType}\n      ariaDescribedby={isDisabledWithReason ? descriptionId : ''}\n      {...baseProps}\n    >\n      <div className={clsx(styles.item, !isParent && wrappedOption.labelTag && styles['show-label-tag'])}>\n        {hasCheckbox && !isParent && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon checked={selected || false} disabled={option.disabled} />\n          </div>\n        )}\n        {isParent ? (\n          <span>{wrappedOption.label || wrappedOption.value}</span>\n        ) : (\n          <Option\n            option={{ ...wrappedOption, disabled }}\n            highlightedOption={highlighted}\n            selectedOption={selected}\n            highlightText={filteringValue}\n          />\n        )}\n        {!hasCheckbox && !isParent && selected && (\n          <div className={styles['selected-icon']}>\n            <InternalIcon name=\"check\" />\n          </div>\n        )}\n        {isDisabledWithReason && (\n          <>\n            {descriptionEl}\n            {highlighted && (\n              <Tooltip\n                className={styles['disabled-reason-tooltip']}\n                trackRef={internalRef}\n                value={disabledReason!}\n                position=\"right\"\n              />\n            )}\n          </>\n        )}\n      </div>\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(Item));\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../../internal/base-component';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport Option from '../../internal/components/option';\nimport { OptionDefinition } from '../../internal/components/option/interfaces';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport Tooltip from '../../internal/components/tooltip';\nimport useHiddenDescription from '../../internal/hooks/use-hidden-description';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport { ItemProps } from './item';\n\nimport styles from './styles.css.js';\ninterface MultiselectItemProps extends ItemProps {\n  indeterminate?: boolean;\n}\n\nconst MultiSelectItem = (\n  {\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    indeterminate,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: MultiselectItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n  const disabledReason =\n    disabled && (option.disabledReason || wrappedOption.disabledReason)\n      ? option.disabledReason || wrappedOption.disabledReason\n      : '';\n  const isDisabledWithReason = !!disabledReason;\n  const internalRef = useRef<HTMLDivElement>(null);\n  const className = clsx(styles.item, {\n    [styles.disabled]: disabled,\n  });\n\n  const { descriptionId, descriptionEl } = useHiddenDescription(disabledReason);\n\n  return (\n    <SelectableItem\n      ariaChecked={isParent && indeterminate ? 'mixed' : Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      highlighted={highlighted}\n      disabled={disabled}\n      isParent={isParent}\n      isChild={isChild}\n      highlightType={highlightType}\n      ref={useMergeRefs(ref, internalRef)}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      useInteractiveGroups={true}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      ariaDescribedby={isDisabledWithReason ? descriptionId : ''}\n      {...baseProps}\n    >\n      <div className={className}>\n        {hasCheckbox && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon checked={selected} indeterminate={isParent && indeterminate} disabled={option.disabled} />\n          </div>\n        )}\n        <Option\n          option={{ ...wrappedOption, disabled }}\n          highlightedOption={highlighted}\n          selectedOption={selected}\n          highlightText={filteringValue}\n          isGroupOption={isParent}\n        />\n      </div>\n      {isDisabledWithReason && (\n        <>\n          {descriptionEl}\n          {highlighted && (\n            <Tooltip\n              className={styles['disabled-reason-tooltip']}\n              trackRef={internalRef}\n              value={disabledReason!}\n              position=\"right\"\n            />\n          )}\n        </>\n      )}\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(MultiSelectItem));\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { getTestOptionIndexes } from '../../internal/components/options-list/utils/test-indexes';\n\ninterface ItemProps {\n  option: DropdownOption;\n  index: number;\n  getOptionProps: any;\n  filteringValue: string;\n  checkboxes: boolean;\n}\n\nexport const getItemProps = ({ option, index, getOptionProps, filteringValue, checkboxes = false }: ItemProps) => {\n  const optionProps = getOptionProps(option, index);\n  optionProps.filteringValue = filteringValue;\n  const { inGroupIndex, groupIndex, throughIndex } = getTestOptionIndexes(option) || {};\n  return {\n    ...optionProps,\n    hasCheckbox: checkboxes,\n    ['data-group-index']: groupIndex,\n    ['data-child-index']: inGroupIndex,\n    ['data-test-index']: throughIndex,\n  };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { VirtualItem } from '../../internal/vendor/react-virtual';\nimport Item from '../parts/item';\nimport MutliselectItem from '../parts/multiselect-item';\nimport { getItemProps } from './get-item-props';\n\nexport interface RenderOptionProps {\n  options: ReadonlyArray<DropdownOption>;\n  getOptionProps: any;\n  filteringValue: string;\n  highlightType: HighlightType;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  virtualItems?: VirtualItem[];\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaSetsize?: number;\n}\n\nexport const renderOptions = ({\n  options,\n  getOptionProps,\n  filteringValue,\n  highlightType,\n  checkboxes = false,\n  hasDropdownStatus,\n  virtualItems,\n  useInteractiveGroups,\n  screenReaderContent,\n  ariaSetsize,\n}: RenderOptionProps) => {\n  return options.map((option, index) => {\n    const virtualItem = virtualItems && virtualItems[index];\n    const globalIndex = virtualItem ? virtualItem.index : index;\n    const props = getItemProps({\n      option,\n      index: globalIndex,\n      getOptionProps,\n      filteringValue,\n      checkboxes,\n    });\n\n    const isLastItem = index === options.length - 1;\n    const padBottom = !hasDropdownStatus && isLastItem;\n    const ListItem = useInteractiveGroups ? MutliselectItem : Item;\n\n    return (\n      <ListItem\n        key={globalIndex}\n        {...props}\n        virtualPosition={virtualItem && virtualItem.start}\n        ref={virtualItem && virtualItem.measureRef}\n        padBottom={padBottom}\n        screenReaderContent={screenReaderContent}\n        ariaPosinset={globalIndex + 1}\n        ariaSetsize={ariaSetsize}\n        highlightType={highlightType.type}\n      />\n    );\n  });\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useImperativeHandle } from 'react';\n\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport OptionsList from '../../internal/components/options-list';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { scrollElementIntoView } from '../../internal/utils/scrollable-containers';\nimport { renderOptions } from '../utils/render-options';\nimport { GetOptionProps, MenuProps } from '../utils/use-select';\n\nimport styles from './styles.css.js';\n\nexport interface SelectListProps {\n  menuProps: MenuProps;\n  getOptionProps: GetOptionProps;\n  filteredOptions: ReadonlyArray<DropdownOption>;\n  filteringValue: string;\n  highlightType: HighlightType;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  listBottom?: React.ReactNode;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n}\n\nexport namespace SelectListProps {\n  export type SelectListRef = (index: number) => void;\n}\n\nconst PlainList = (\n  {\n    menuProps,\n    getOptionProps,\n    filteredOptions,\n    filteringValue,\n    highlightType,\n    checkboxes,\n    hasDropdownStatus,\n    listBottom,\n    useInteractiveGroups,\n    screenReaderContent,\n  }: SelectListProps,\n  ref: React.Ref<SelectListProps.SelectListRef>\n) => {\n  const menuRef = menuProps.ref;\n  useImperativeHandle(\n    ref,\n    () => (index: number) => {\n      const item = menuRef.current?.querySelector<HTMLElement>(`[data-mouse-target=\"${index}\"]`);\n      if (highlightType.moveFocus && item) {\n        scrollElementIntoView(item);\n      }\n    },\n    [highlightType, menuRef]\n  );\n\n  return (\n    <OptionsList {...menuProps}>\n      {renderOptions({\n        options: filteredOptions,\n        getOptionProps,\n        filteringValue,\n        highlightType,\n        checkboxes,\n        hasDropdownStatus,\n        useInteractiveGroups,\n        screenReaderContent,\n      })}\n      {listBottom ? (\n        <li role=\"option\" className={styles['list-bottom']}>\n          {listBottom}\n        </li>\n      ) : null}\n    </OptionsList>\n  );\n};\n\nexport default forwardRef(PlainList);\n","\n    import './styles.scoped.css';\n    export default {\n  \"button-trigger\": \"awsui_button-trigger_18eso_1pcx7_101\",\n  \"arrow\": \"awsui_arrow_18eso_1pcx7_101\",\n  \"in-filtering-token\": \"awsui_in-filtering-token_18eso_1pcx7_168\",\n  \"has-caret\": \"awsui_has-caret_18eso_1pcx7_198\",\n  \"placeholder\": \"awsui_placeholder_18eso_1pcx7_201\",\n  \"pressed\": \"awsui_pressed_18eso_1pcx7_214\",\n  \"disabled\": \"awsui_disabled_18eso_1pcx7_217\",\n  \"readonly\": \"awsui_readonly_18eso_1pcx7_233\",\n  \"invalid\": \"awsui_invalid_18eso_1pcx7_255\",\n  \"warning\": \"awsui_warning_18eso_1pcx7_266\",\n  \"inline-tokens\": \"awsui_inline-tokens_18eso_1pcx7_277\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ButtonHTMLAttributes } from 'react';\nimport clsx from 'clsx';\n\nimport InternalIcon from '../../../icon/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { BaseKeyDetail, CancelableEventHandler, fireCancelableEvent, fireKeyboardEvent } from '../../events';\n\nimport styles from './styles.css.js';\n\nexport interface ButtonTriggerProps extends BaseComponentProps {\n  children?: React.ReactNode;\n  pressed?: boolean;\n  hideCaret?: boolean;\n  disabled?: boolean;\n  readOnly?: boolean;\n  invalid?: boolean;\n  warning?: boolean;\n  inFilteringToken?: boolean;\n  inlineTokens?: boolean;\n  ariaHasPopup?: 'true' | 'listbox' | 'dialog';\n  ariaControls?: string;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescribedby?: string;\n  onKeyDown?: CancelableEventHandler<BaseKeyDetail>;\n  onKeyUp?: CancelableEventHandler<BaseKeyDetail>;\n  onMouseDown?: CancelableEventHandler;\n  onClick?: CancelableEventHandler;\n  onFocus?: CancelableEventHandler;\n  onBlur?: CancelableEventHandler<{ relatedTarget: Node | null }>;\n  autoFocus?: boolean;\n}\n\nconst ButtonTrigger = (\n  {\n    children,\n    pressed = false,\n    hideCaret = false,\n    disabled = false,\n    readOnly = false,\n    invalid = false,\n    warning = false,\n    inlineTokens,\n    inFilteringToken,\n    ariaHasPopup,\n    ariaLabel,\n    ariaLabelledby,\n    ariaDescribedby,\n    ariaControls,\n    onKeyDown,\n    onKeyUp,\n    onMouseDown,\n    onClick,\n    onFocus,\n    onBlur,\n    autoFocus,\n    ...restProps\n  }: ButtonTriggerProps,\n  ref: React.Ref<HTMLButtonElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n  let attributes: ButtonHTMLAttributes<HTMLButtonElement> = {\n    ...baseProps,\n    type: 'button',\n    className: clsx(\n      styles['button-trigger'],\n      baseProps.className,\n      pressed && styles.pressed,\n      disabled && styles.disabled,\n      invalid && styles.invalid,\n      warning && !invalid && styles.warning,\n      !hideCaret && styles['has-caret'],\n      readOnly && styles.readonly,\n      inFilteringToken && styles['in-filtering-token'],\n      inlineTokens && styles['inline-tokens']\n    ),\n    disabled: disabled,\n    'aria-expanded': pressed,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    'aria-describedby': ariaDescribedby,\n    'aria-haspopup': ariaHasPopup ?? 'listbox',\n    'aria-controls': ariaControls,\n    'aria-disabled': readOnly && !disabled ? 'true' : undefined,\n    autoFocus,\n  };\n\n  if (!readOnly) {\n    attributes = {\n      ...attributes,\n      onKeyDown: onKeyDown && (event => fireKeyboardEvent(onKeyDown, event)),\n      onKeyUp: onKeyUp && (event => fireKeyboardEvent(onKeyUp, event)),\n      onMouseDown: onMouseDown && (event => fireCancelableEvent(onMouseDown, {}, event)),\n      onClick: onClick && (event => fireCancelableEvent(onClick, {}, event)),\n      onFocus: onFocus && (event => fireCancelableEvent(onFocus, {}, event)),\n      onBlur: onBlur && (event => fireCancelableEvent(onBlur, { relatedTarget: event.relatedTarget }, event)),\n    };\n  }\n\n  if (invalid) {\n    attributes['aria-invalid'] = invalid;\n  }\n\n  return (\n    <button ref={ref} {...attributes}>\n      {children}\n      {!hideCaret && (\n        <span className={styles.arrow}>\n          <InternalIcon name=\"caret-down-filled\" variant={disabled || readOnly ? 'disabled' : 'normal'} />\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport namespace ButtonTriggerProps {\n  export interface Ref {\n    focus(): void;\n  }\n}\n\nexport default React.forwardRef(ButtonTrigger);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport ButtonTrigger from '../../internal/components/button-trigger';\nimport Option from '../../internal/components/option';\nimport { OptionDefinition } from '../../internal/components/option/interfaces';\nimport { FormFieldValidationControlProps } from '../../internal/context/form-field-context';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { joinStrings } from '../../internal/utils/strings';\nimport { MultiselectProps } from '../../multiselect/interfaces';\nimport { SelectProps } from '../interfaces';\nimport { SelectTriggerProps } from '../utils/use-select';\n\nimport styles from './styles.css.js';\n\nexport interface TriggerProps extends FormFieldValidationControlProps {\n  placeholder: string | undefined;\n  disabled: boolean | undefined;\n  readOnly?: boolean;\n  triggerProps: SelectTriggerProps;\n  selectedOption: OptionDefinition | null;\n  inlineLabelText?: string;\n  isOpen?: boolean;\n  triggerVariant?: SelectProps.TriggerVariant | MultiselectProps.TriggerVariant;\n  inFilteringToken?: boolean;\n  selectedOptions?: ReadonlyArray<OptionDefinition>;\n}\n\nconst Trigger = React.forwardRef(\n  (\n    {\n      ariaLabelledby,\n      ariaDescribedby,\n      controlId,\n      invalid,\n      inlineLabelText,\n      warning,\n      triggerProps,\n      selectedOption,\n      selectedOptions,\n      triggerVariant,\n      inFilteringToken,\n      isOpen,\n      placeholder,\n      disabled,\n      readOnly,\n    }: TriggerProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const isVisualRefresh = useVisualRefresh();\n    const generatedId = useUniqueId();\n    const id = controlId ?? generatedId;\n    const triggerContentId = useUniqueId('trigger-content-');\n\n    let ariaLabelledbyIds = joinStrings(ariaLabelledby, triggerContentId);\n\n    let triggerContent = null;\n    if (triggerVariant === 'tokens') {\n      if (selectedOptions?.length) {\n        triggerContent = (\n          <span\n            className={clsx(\n              styles['inline-token-trigger'],\n              disabled && styles['inline-token-trigger--disabled'],\n              isVisualRefresh && styles['visual-refresh']\n            )}\n          >\n            <span className={styles['inline-token-list']}>\n              {selectedOptions.map(({ label }, i) => (\n                <span key={i} className={styles['inline-token']}>\n                  {label}\n                </span>\n              ))}\n            </span>\n            <span className={styles['inline-token-counter']} id={triggerContentId}>\n              <span className={styles['inline-token-hidden-placeholder']}>{placeholder}</span>\n              <span>({selectedOptions.length})</span>\n            </span>\n          </span>\n        );\n        ariaLabelledbyIds = ariaLabelledby;\n      } else {\n        triggerContent = (\n          <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n            {placeholder}\n          </span>\n        );\n      }\n    } else if (!selectedOption) {\n      triggerContent = (\n        <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n          {placeholder}\n        </span>\n      );\n    } else if (triggerVariant === 'option') {\n      triggerContent = <Option id={triggerContentId} option={{ ...selectedOption, disabled }} triggerVariant={true} />;\n    } else {\n      triggerContent = (\n        <span id={triggerContentId} className={styles.trigger}>\n          {selectedOption.label || selectedOption.value}\n        </span>\n      );\n    }\n\n    const mergedRef = useMergeRefs(triggerProps.ref, ref);\n    const triggerButton = (\n      <ButtonTrigger\n        {...triggerProps}\n        id={id}\n        ref={mergedRef}\n        pressed={isOpen}\n        disabled={disabled}\n        readOnly={readOnly}\n        invalid={invalid}\n        warning={warning && !invalid}\n        inFilteringToken={inFilteringToken}\n        inlineTokens={triggerVariant === 'tokens'}\n        ariaDescribedby={ariaDescribedby}\n        ariaLabelledby={ariaLabelledbyIds}\n      >\n        {triggerContent}\n      </ButtonTrigger>\n    );\n    return (\n      <>\n        {inlineLabelText ? (\n          <div className={styles['inline-label-wrapper']}>\n            <label\n              htmlFor={controlId}\n              className={clsx(styles['inline-label'], disabled && styles['inline-label-disabled'])}\n            >\n              {inlineLabelText}\n            </label>\n            <div className={styles['inline-label-trigger-wrapper']}>{triggerButton}</div>\n          </div>\n        ) : (\n          <>{triggerButton}</>\n        )}\n      </>\n    );\n  }\n);\n\nexport default Trigger;\n","/**\n * Name: react-virtual\n * Version: 2.10.4\n * License: MIT\n * Private: false\n * Description: Hooks for virtualizing scrollable elements in React\n * Repository: undefined\n * Homepage: https://github.com/tannerlinsley/react-virtual#readme\n * Author: tannerlinsley\n * License Copyright:\n * ===\n *\n * MIT License\n *\n * Copyright (c) 2019 Tanner Linsley\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nfunction useRect(nodeRef, initialRect) {\n  if (initialRect === void 0) {\n    initialRect = {\n      width: 0,\n      height: 0\n    };\n  }\n\n  var _React$useState = React.useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var _React$useReducer = React.useReducer(rectReducer, initialRect),\n      rect = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var initialRectSet = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true;\n\n      var _rect = element.getBoundingClientRect();\n\n      dispatch({\n        rect: _rect\n      });\n    }\n  }, [element]);\n  React.useEffect(function () {\n    if (!element) {\n      return;\n    }\n\n    var observer = observeRect(element, function (rect) {\n      dispatch({\n        rect: rect\n      });\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [element]);\n  return rect;\n}\n\nfunction rectReducer(state, action) {\n  var rect = action.rect;\n\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n\n  return state;\n}\n\nvar defaultEstimateSize = function defaultEstimateSize() {\n  return 50;\n};\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\n\nvar defaultMeasureSize = function defaultMeasureSize(el, horizontal) {\n  var key = horizontal ? 'offsetWidth' : 'offsetHeight';\n  return el[key];\n};\n\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.start - range.overscan, 0);\n  var end = Math.min(range.end + range.overscan, range.size - 1);\n  var arr = [];\n\n  for (var i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\nfunction useVirtual(_ref) {\n  var _measurements;\n\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 0 : _ref$size,\n      _ref$estimateSize = _ref.estimateSize,\n      estimateSize = _ref$estimateSize === void 0 ? defaultEstimateSize : _ref$estimateSize,\n      _ref$overscan = _ref.overscan,\n      overscan = _ref$overscan === void 0 ? 1 : _ref$overscan,\n      _ref$paddingStart = _ref.paddingStart,\n      paddingStart = _ref$paddingStart === void 0 ? 0 : _ref$paddingStart,\n      _ref$paddingEnd = _ref.paddingEnd,\n      paddingEnd = _ref$paddingEnd === void 0 ? 0 : _ref$paddingEnd,\n      parentRef = _ref.parentRef,\n      horizontal = _ref.horizontal,\n      scrollToFn = _ref.scrollToFn,\n      useObserver = _ref.useObserver,\n      initialRect = _ref.initialRect,\n      onScrollElement = _ref.onScrollElement,\n      scrollOffsetFn = _ref.scrollOffsetFn,\n      _ref$keyExtractor = _ref.keyExtractor,\n      keyExtractor = _ref$keyExtractor === void 0 ? defaultKeyExtractor : _ref$keyExtractor,\n      _ref$measureSize = _ref.measureSize,\n      measureSize = _ref$measureSize === void 0 ? defaultMeasureSize : _ref$measureSize,\n      _ref$rangeExtractor = _ref.rangeExtractor,\n      rangeExtractor = _ref$rangeExtractor === void 0 ? defaultRangeExtractor : _ref$rangeExtractor;\n  var sizeKey = horizontal ? 'width' : 'height';\n  var scrollKey = horizontal ? 'scrollLeft' : 'scrollTop';\n  var latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: []\n  });\n\n  var _React$useState = React.useState(0),\n      scrollOffset = _React$useState[0],\n      setScrollOffset = _React$useState[1];\n\n  latestRef.current.scrollOffset = scrollOffset;\n  var useMeasureParent = useObserver || useRect;\n\n  var _useMeasureParent = useMeasureParent(parentRef, initialRect),\n      outerSize = _useMeasureParent[sizeKey];\n\n  latestRef.current.outerSize = outerSize;\n  var defaultScrollToFn = React.useCallback(function (offset) {\n    if (parentRef.current) {\n      parentRef.current[scrollKey] = offset;\n    }\n  }, [parentRef, scrollKey]);\n  var resolvedScrollToFn = scrollToFn || defaultScrollToFn;\n  scrollToFn = React.useCallback(function (offset) {\n    resolvedScrollToFn(offset, defaultScrollToFn);\n  }, [defaultScrollToFn, resolvedScrollToFn]);\n\n  var _React$useState2 = React.useState({}),\n      measuredCache = _React$useState2[0],\n      setMeasuredCache = _React$useState2[1];\n\n  var measure = React.useCallback(function () {\n    return setMeasuredCache({});\n  }, []);\n  var pendingMeasuredCacheIndexesRef = React.useRef([]);\n  var measurements = React.useMemo(function () {\n    var min = pendingMeasuredCacheIndexesRef.current.length > 0 ? Math.min.apply(Math, pendingMeasuredCacheIndexesRef.current) : 0;\n    pendingMeasuredCacheIndexesRef.current = [];\n    var measurements = latestRef.current.measurements.slice(0, min);\n\n    for (var i = min; i < size; i++) {\n      var key = keyExtractor(i);\n      var measuredSize = measuredCache[key];\n\n      var _start = measurements[i - 1] ? measurements[i - 1].end : paddingStart;\n\n      var _size = typeof measuredSize === 'number' ? measuredSize : estimateSize(i);\n\n      var _end = _start + _size;\n\n      measurements[i] = {\n        index: i,\n        start: _start,\n        size: _size,\n        end: _end,\n        key: key\n      };\n    }\n\n    return measurements;\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor]);\n  var totalSize = (((_measurements = measurements[size - 1]) == null ? void 0 : _measurements.end) || paddingStart) + paddingEnd;\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n  var element = onScrollElement ? onScrollElement.current : parentRef.current;\n  var scrollOffsetFnRef = React.useRef(scrollOffsetFn);\n  scrollOffsetFnRef.current = scrollOffsetFn;\n  useIsomorphicLayoutEffect(function () {\n    if (!element) {\n      setScrollOffset(0);\n      return;\n    }\n\n    var onScroll = function onScroll(event) {\n      var offset = scrollOffsetFnRef.current ? scrollOffsetFnRef.current(event) : element[scrollKey];\n      setScrollOffset(offset);\n    };\n\n    onScroll();\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      element.removeEventListener('scroll', onScroll);\n    };\n  }, [element, scrollKey]);\n\n  var _calculateRange = calculateRange(latestRef.current),\n      start = _calculateRange.start,\n      end = _calculateRange.end;\n\n  var indexes = React.useMemo(function () {\n    return rangeExtractor({\n      start: start,\n      end: end,\n      overscan: overscan,\n      size: measurements.length\n    });\n  }, [start, end, overscan, measurements.length, rangeExtractor]);\n  var measureSizeRef = React.useRef(measureSize);\n  measureSizeRef.current = measureSize;\n  var virtualItems = React.useMemo(function () {\n    var virtualItems = [];\n\n    var _loop = function _loop(k, len) {\n      var i = indexes[k];\n      var measurement = measurements[i];\n\n      var item = _extends(_extends({}, measurement), {}, {\n        measureRef: function measureRef(el) {\n          if (el) {\n            var measuredSize = measureSizeRef.current(el, horizontal);\n\n            if (measuredSize !== item.size) {\n              var _scrollOffset = latestRef.current.scrollOffset;\n\n              if (item.start < _scrollOffset) {\n                defaultScrollToFn(_scrollOffset + (measuredSize - item.size));\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i);\n              setMeasuredCache(function (old) {\n                var _extends2;\n\n                return _extends(_extends({}, old), {}, (_extends2 = {}, _extends2[item.key] = measuredSize, _extends2));\n              });\n            }\n          }\n        }\n      });\n\n      virtualItems.push(item);\n    };\n\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      _loop(k);\n    }\n\n    return virtualItems;\n  }, [indexes, defaultScrollToFn, horizontal, measurements]);\n  var mountedRef = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (mountedRef.current) {\n      setMeasuredCache({});\n    }\n\n    mountedRef.current = true;\n  }, [estimateSize]);\n  var scrollToOffset = React.useCallback(function (toOffset, _temp) {\n    var _ref2 = _temp === void 0 ? {} : _temp,\n        _ref2$align = _ref2.align,\n        align = _ref2$align === void 0 ? 'start' : _ref2$align;\n\n    var _latestRef$current = latestRef.current,\n        scrollOffset = _latestRef$current.scrollOffset,\n        outerSize = _latestRef$current.outerSize;\n\n    if (align === 'auto') {\n      if (toOffset <= scrollOffset) {\n        align = 'start';\n      } else if (toOffset >= scrollOffset + outerSize) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n\n    if (align === 'start') {\n      scrollToFn(toOffset);\n    } else if (align === 'end') {\n      scrollToFn(toOffset - outerSize);\n    } else if (align === 'center') {\n      scrollToFn(toOffset - outerSize / 2);\n    }\n  }, [scrollToFn]);\n  var tryScrollToIndex = React.useCallback(function (index, _temp2) {\n    var _ref3 = _temp2 === void 0 ? {} : _temp2,\n        _ref3$align = _ref3.align,\n        align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n        rest = _objectWithoutPropertiesLoose(_ref3, [\"align\"]);\n\n    var _latestRef$current2 = latestRef.current,\n        measurements = _latestRef$current2.measurements,\n        scrollOffset = _latestRef$current2.scrollOffset,\n        outerSize = _latestRef$current2.outerSize;\n    var measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n    if (!measurement) {\n      return;\n    }\n\n    if (align === 'auto') {\n      if (measurement.end >= scrollOffset + outerSize) {\n        align = 'end';\n      } else if (measurement.start <= scrollOffset) {\n        align = 'start';\n      } else {\n        return;\n      }\n    }\n\n    var toOffset = align === 'center' ? measurement.start + measurement.size / 2 : align === 'end' ? measurement.end : measurement.start;\n    scrollToOffset(toOffset, _extends({\n      align: align\n    }, rest));\n  }, [scrollToOffset, size]);\n  var scrollToIndex = React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // We do a double request here because of\n    // dynamic sizes which can cause offset shift\n    // and end up in the wrong spot. Unfortunately,\n    // we can't know about those dynamic sizes until\n    // we try and render them. So double down!\n    tryScrollToIndex.apply(void 0, args);\n    requestAnimationFrame(function () {\n      tryScrollToIndex.apply(void 0, args);\n    });\n  }, [tryScrollToIndex]);\n  return {\n    virtualItems: virtualItems,\n    totalSize: totalSize,\n    scrollToOffset: scrollToOffset,\n    scrollToIndex: scrollToIndex,\n    measure: measure\n  };\n}\n\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nfunction calculateRange(_ref4) {\n  var measurements = _ref4.measurements,\n      outerSize = _ref4.outerSize,\n      scrollOffset = _ref4.scrollOffset;\n  var size = measurements.length - 1;\n\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n\n  var start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  var end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  return {\n    start: start,\n    end: end\n  };\n}\n\nexport { useVirtual };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useCallback, useImperativeHandle, useRef } from 'react';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nimport OptionsList from '../../internal/components/options-list';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport { useVirtual } from '../../internal/hooks/use-virtual';\nimport { renderOptions } from '../utils/render-options';\nimport { SelectListProps } from './plain-list';\n\nimport styles from './styles.css.js';\n\nconst VirtualList = (props: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n  return props.menuProps.open ? <VirtualListOpen {...props} ref={ref} /> : <VirtualListClosed {...props} ref={ref} />;\n};\n\nconst VirtualListOpen = forwardRef(\n  (\n    {\n      menuProps,\n      getOptionProps,\n      filteredOptions,\n      filteringValue,\n      highlightType,\n      checkboxes,\n      hasDropdownStatus,\n      listBottom,\n      useInteractiveGroups,\n      screenReaderContent,\n    }: SelectListProps,\n    ref: React.Ref<SelectListProps.SelectListRef>\n  ) => {\n    // update component, when it gets wider or narrower to reposition items\n    const [width, menuMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth, []);\n    const menuRefObject = useRef(null);\n    const menuRef = useMergeRefs(menuMeasureRef, menuRefObject, menuProps.ref);\n\n    const { virtualItems, totalSize, scrollToIndex } = useVirtual({\n      items: filteredOptions,\n      parentRef: menuRefObject,\n      // estimateSize is a dependency of measurements memo. We update it to force full recalculation\n      // when the height of any option could have changed:\n      // 1: because the component got resized (width property got updated)\n      // 2: because the option changed its content (filteringValue property controls the highlight and the visibility of hidden tags)\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      estimateSize: useCallback(() => 31, [width, filteringValue]),\n    });\n\n    useImperativeHandle(\n      ref,\n      () => (index: number) => {\n        if (highlightType.moveFocus) {\n          scrollToIndex(index);\n        }\n      },\n      [highlightType, scrollToIndex]\n    );\n    const finalOptions = renderOptions({\n      options: virtualItems.map(({ index }) => filteredOptions[index]),\n      getOptionProps,\n      filteringValue,\n      highlightType,\n      checkboxes,\n      hasDropdownStatus,\n      virtualItems,\n      useInteractiveGroups,\n      screenReaderContent,\n      ariaSetsize: filteredOptions.length,\n    });\n\n    return (\n      <OptionsList {...menuProps} ref={menuRef}>\n        <div aria-hidden=\"true\" key=\"total-size\" className={styles['layout-strut']} style={{ height: totalSize }} />\n        {finalOptions}\n        {listBottom ? (\n          <li role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </li>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nconst VirtualListClosed = forwardRef(\n  ({ menuProps, listBottom }: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n    useImperativeHandle(ref, () => () => {}, []);\n    return (\n      <OptionsList {...menuProps} ref={menuProps.ref}>\n        {listBottom ? (\n          <li role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </li>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nexport default forwardRef(VirtualList);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useMemo, useRef } from 'react';\n\nimport { useVirtual as useVirtualDefault, VirtualItem } from '../../vendor/react-virtual';\n\nconst MAX_ITEM_MOUNTS = 100;\n\ninterface UseVirtualProps<Item> {\n  items: readonly Item[];\n  parentRef: React.RefObject<HTMLElement>;\n  estimateSize: () => number;\n}\n\ninterface RowVirtualizer {\n  virtualItems: VirtualItem[];\n  totalSize: number;\n  scrollToIndex: (index: number) => void;\n}\n\n/**\n * The useVirtual from react-virtual@2 might produce an infinite update loop caused by setting\n * measured item sizes in the render cycle (as part of the measureRef assignment):\n *      The sum of all measured item sizes is returned as totalSize which is then set on the list container.\n *      Enforcing new container height might result in an items size change e.g. when the content wraps.\n *\n * The infinite update cycle causes React \"Maximum update depth exceeded\" error and can be additionally confirmed\n * by logging the totalSize which should then bounce between two values.\n *\n * The number of item refs assignments is limited to MAX_ITEM_MOUNTS unless items or indices change.\n * That is based on the assumption the item height stays constant after its first render.\n */\nexport function useVirtual<Item extends object>({\n  items,\n  parentRef,\n  estimateSize,\n}: UseVirtualProps<Item>): RowVirtualizer {\n  const rowVirtualizer = useVirtualDefault({ size: items.length, parentRef, estimateSize, overscan: 5 });\n\n  // Cache virtual item mounts to limit the amount of mounts per item.\n  const measuresCache = useRef(new WeakMap<Item, number>());\n\n  // Clear mounts cache every time indices, items, or size estimate change.\n  const indicesKey = rowVirtualizer.virtualItems.map(item => `${item.index}`).join(':');\n  useEffect(() => {\n    measuresCache.current = new WeakMap();\n  }, [indicesKey, items, estimateSize]);\n\n  const virtualItems = useMemo(\n    () =>\n      rowVirtualizer.virtualItems.map(virtualItem => ({\n        ...virtualItem,\n        measureRef: (node: null | HTMLElement) => {\n          const mountedCount = measuresCache.current.get(items[virtualItem.index]) ?? 0;\n          if (mountedCount < MAX_ITEM_MOUNTS) {\n            virtualItem.measureRef(node);\n            measuresCache.current.set(items[virtualItem.index], mountedCount + 1);\n          }\n        },\n      })),\n    [items, rowVirtualizer.virtualItems]\n  );\n\n  return {\n    virtualItems,\n    totalSize: rowVirtualizer.totalSize,\n    scrollToIndex: rowVirtualizer.scrollToIndex,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\n\nexport const connectOptionsByValue = (\n  options: ReadonlyArray<DropdownOption>,\n  selectedOptions: ReadonlyArray<OptionDefinition>\n): ReadonlyArray<DropdownOption> => {\n  return (selectedOptions || []).map(selectedOption => {\n    for (const dropdownOption of options) {\n      if (\n        dropdownOption.type !== 'parent' &&\n        (dropdownOption.option as OptionDefinition).value === selectedOption.value\n      ) {\n        return dropdownOption;\n      }\n    }\n    return { option: selectedOption };\n  });\n};\n\nexport const findOptionIndex = (options: ReadonlyArray<OptionDefinition>, option: OptionDefinition) => {\n  for (let index = 0; index < options.length; index++) {\n    const __option = options[index];\n    if (__option === option || __option.value === option.value) {\n      return index;\n    }\n  }\n  return -1;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionDefinition, OptionGroup } from './interfaces';\n\nfunction defaultOptionDescription(option: OptionDefinition, parentGroup: OptionGroup | undefined) {\n  return [\n    parentGroup && parentGroup.label,\n    option.__labelPrefix,\n    option.label || option.value,\n    option.description,\n    option.labelTag,\n  ]\n    .concat(option.tags)\n    .filter(el => !!el)\n    .join(' ');\n}\n\nexport default defaultOptionDescription;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\n\nimport type { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport {\n  filterOptions,\n  isGroup,\n  isGroupInteractive,\n  isInteractive,\n} from '../../internal/components/option/utils/filter-options';\nimport { useDebounceCallback } from '../../internal/hooks/use-debounce-callback';\n\nexport const isRepeatedChar = (str: string) => str.split('').every(c => c === str[0]);\n\ninterface UseNativeSearchProps {\n  isEnabled: boolean;\n  options: ReadonlyArray<DropdownOption>;\n  highlightOption: (option: DropdownOption) => void;\n  highlightedOption: OptionDefinition | undefined | null;\n  useInteractiveGroups?: boolean;\n}\n\nfunction findMatchingOption(\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  currentHighlight: OptionDefinition | OptionGroup | undefined | null,\n  useInteractiveGroups?: boolean\n) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n  const filter = (searchText: string) =>\n    filterOptions(options, searchText, true).filter(option => interactivityCheck(option));\n  const matchingOptions = filter(searchText);\n\n  if (matchingOptions.length === 1) {\n    return matchingOptions[0];\n  }\n\n  // Hit the same char over and over, we assume they want to cycle through\n  if (currentHighlight && searchText.length > 1 && isRepeatedChar(searchText)) {\n    const matchingOptions = filter(searchText[0]);\n\n    if (matchingOptions.length > 0) {\n      //handling OptionGroups when useInteractiveGroups is set\n      let active: number = isGroup(currentHighlight)\n        ? matchingOptions.map(({ option }) => option).indexOf(currentHighlight)\n        : matchingOptions\n            .map(({ option }) => (option as OptionDefinition).value)\n            .indexOf((currentHighlight as OptionDefinition).value);\n\n      // Pick the next thing (if something with this prefix wasn't selected\n      // we'll end up with the first option)\n      active += 1;\n      active = active % matchingOptions.length;\n      return matchingOptions[active];\n    }\n  }\n\n  // We have multiple things that start with this prefix.  Based on the\n  // behavior of native select, this is considered after the repeated case\n  if (matchingOptions.length > 0) {\n    return matchingOptions[0];\n  }\n  return null;\n}\n\nexport function useNativeSearch({\n  isEnabled,\n  options,\n  highlightOption,\n  highlightedOption,\n  useInteractiveGroups,\n}: UseNativeSearchProps) {\n  const value = useRef('');\n\n  const delayedResetValue = useDebounceCallback(() => (value.current = ''), 500);\n\n  return (event: React.KeyboardEvent) => {\n    if (!isEnabled) {\n      return;\n    }\n\n    const { key } = event;\n\n    if (!key || key.length !== 1) {\n      return;\n    }\n\n    delayedResetValue();\n    const newValue = value.current + key;\n    value.current = newValue;\n\n    const nextHighlight = findMatchingOption(options, newValue, highlightedOption, useInteractiveGroups);\n    if (nextHighlight) {\n      highlightOption(nextHighlight);\n    }\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\n\nexport class HighlightType {\n  constructor(\n    public type: 'keyboard' | 'mouse',\n    public moveFocus: boolean = type === 'keyboard'\n  ) {}\n}\n\nexport interface HighlightedOptionProps<OptionType> {\n  options: readonly OptionType[];\n  isHighlightable: (option: OptionType) => boolean;\n}\n\nexport interface HighlightedOptionState<OptionType> {\n  highlightType: HighlightType;\n  highlightedIndex: number;\n  highlightedOption?: OptionType;\n}\n\nexport interface HighlightedOptionHandlers<OptionType> {\n  // Mouse handlers\n  setHighlightedIndexWithMouse(index: number, moveFocus?: boolean): void;\n  // Keyboard handlers\n  moveHighlightWithKeyboard(direction: -1 | 1): void;\n  highlightOptionWithKeyboard(option: OptionType): void;\n  resetHighlightWithKeyboard(): void;\n  goHomeWithKeyboard(): void;\n  goEndWithKeyboard(): void;\n}\n\nexport function useHighlightedOption<OptionType>({\n  options,\n  isHighlightable,\n}: HighlightedOptionProps<OptionType>): [HighlightedOptionState<OptionType>, HighlightedOptionHandlers<OptionType>] {\n  const [highlightedIndex, setHighlightedIndexState] = useState(-1);\n  const [highlightType, setHighlightType] = useState<HighlightType>(new HighlightType('keyboard'));\n  const setHighlightedIndex = useCallback((index: number, highlightType: HighlightType) => {\n    setHighlightedIndexState(index);\n    setHighlightType(highlightType);\n  }, []);\n\n  const highlightedOption =\n    options[highlightedIndex] && isHighlightable(options[highlightedIndex]) ? options[highlightedIndex] : undefined;\n\n  const moveHighlightFrom = (direction: -1 | 1, startIndex = highlightedIndex, highlightType: HighlightType) => {\n    const fromBottomEnd = startIndex === -1 && direction === -1;\n    let newIndex = fromBottomEnd ? options.length : startIndex;\n    do {\n      newIndex += direction;\n    } while (options[newIndex] && !isHighlightable(options[newIndex]));\n\n    if (options[newIndex]) {\n      setHighlightedIndex(newIndex, highlightType);\n    }\n  };\n\n  const moveHighlight = (direction: -1 | 1, highlightType: HighlightType) =>\n    moveHighlightFrom(direction, highlightedIndex, highlightType);\n\n  const highlightOption = useCallback(\n    (option: OptionType, highlightType: HighlightType) => {\n      const index = options.indexOf(option);\n      setHighlightedIndex(index, highlightType);\n    },\n    [options, setHighlightedIndex]\n  );\n\n  return [\n    { highlightType, highlightedIndex, highlightedOption },\n    {\n      setHighlightedIndexWithMouse: (index: number, moveFocus = false) =>\n        setHighlightedIndex(index, new HighlightType('mouse', moveFocus)),\n      moveHighlightWithKeyboard: (direction: -1 | 1) => moveHighlight(direction, new HighlightType('keyboard')),\n      highlightOptionWithKeyboard: (option: OptionType) => highlightOption(option, new HighlightType('keyboard')),\n      resetHighlightWithKeyboard: () => setHighlightedIndex(-1, new HighlightType('keyboard')),\n      goHomeWithKeyboard: () => moveHighlightFrom(1, -1, new HighlightType('keyboard')),\n      goEndWithKeyboard: () => moveHighlightFrom(-1, options.length, new HighlightType('keyboard')),\n    },\n  ];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const getOptionId = (menuId: string, index: number) => {\n  if (index < 0) {\n    return undefined;\n  }\n  return `${menuId}-option-${index}`;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { RefObject } from 'react';\nimport { useEffect, useRef } from 'react';\n\nimport { ButtonTriggerProps } from '../../internal/components/button-trigger';\nimport { DropdownProps } from '../../internal/components/dropdown/interfaces';\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { isGroup, isGroupInteractive, isInteractive } from '../../internal/components/option/utils/filter-options';\nimport { OptionsListProps } from '../../internal/components/options-list';\nimport { useHighlightedOption } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { getOptionId } from '../../internal/components/options-list/utils/use-ids';\nimport { useMenuKeyboard, useTriggerKeyboard } from '../../internal/components/options-list/utils/use-keyboard';\nimport { useOpenState } from '../../internal/components/options-list/utils/use-open-state';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport useForwardFocus from '../../internal/hooks/forward-focus';\nimport { usePrevious } from '../../internal/hooks/use-previous';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { FilterProps } from '../parts/filter';\nimport { ItemProps } from '../parts/item';\nimport { connectOptionsByValue } from './connect-options';\n\nexport type MenuProps = Omit<OptionsListProps, 'children'> & { ref: React.RefObject<HTMLUListElement> };\nexport type GetOptionProps = (option: DropdownOption, index: number) => ItemProps;\n\ninterface UseSelectProps {\n  selectedOptions: ReadonlyArray<OptionDefinition>;\n  updateSelectedOption: (option: OptionDefinition) => void;\n  options: ReadonlyArray<DropdownOption>;\n  filteringType: string;\n  keepOpen?: boolean;\n  onBlur?: NonCancelableEventHandler;\n  onFocus?: NonCancelableEventHandler;\n  externalRef: React.Ref<any>;\n  fireLoadItems: (filteringText: string) => void;\n  setFilteringValue: (filteringText: string) => void;\n  useInteractiveGroups?: boolean;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport interface SelectTriggerProps extends ButtonTriggerProps {\n  ref: RefObject<HTMLButtonElement>;\n}\n\nexport function useSelect({\n  selectedOptions,\n  updateSelectedOption,\n  options,\n  filteringType,\n  onBlur,\n  onFocus,\n  externalRef,\n  keepOpen,\n  fireLoadItems,\n  setFilteringValue,\n  useInteractiveGroups = false,\n  statusType,\n}: UseSelectProps) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n\n  const isHighlightable = (option?: DropdownOption) => !!option && (useInteractiveGroups || option.type !== 'parent');\n\n  const filterRef = useRef<HTMLInputElement>(null);\n  const triggerRef = useRef<HTMLButtonElement>(null);\n  const menuRef = useRef<HTMLUListElement>(null);\n  const hasFilter = filteringType !== 'none';\n  const activeRef = hasFilter ? filterRef : menuRef;\n  const __selectedOptions = connectOptionsByValue(options, selectedOptions);\n  const __selectedValuesSet = selectedOptions.reduce((selectedValuesSet: Set<string>, item: OptionDefinition) => {\n    if (item.value) {\n      selectedValuesSet.add(item.value);\n    }\n    return selectedValuesSet;\n  }, new Set<string>());\n  const [\n    { highlightType, highlightedOption, highlightedIndex },\n    {\n      moveHighlightWithKeyboard,\n      resetHighlightWithKeyboard,\n      setHighlightedIndexWithMouse,\n      highlightOptionWithKeyboard,\n      goHomeWithKeyboard,\n      goEndWithKeyboard,\n    },\n  ] = useHighlightedOption({ options, isHighlightable });\n\n  const { isOpen, openDropdown, closeDropdown, toggleDropdown, openedWithKeyboard } = useOpenState({\n    onOpen: () => fireLoadItems(''),\n    onClose: () => {\n      resetHighlightWithKeyboard();\n      setFilteringValue('');\n    },\n  });\n\n  const handleFocus = () => {\n    fireNonCancelableEvent(onFocus, {});\n  };\n\n  const handleBlur = () => {\n    fireNonCancelableEvent(onBlur, {});\n    closeDropdown();\n  };\n\n  const hasSelectedOption = __selectedOptions.length > 0;\n  const menuId = useUniqueId('option-list');\n  const dialogId = useUniqueId('dialog');\n  const highlightedOptionId = getOptionId(menuId, highlightedIndex);\n\n  const selectOption = (option?: DropdownOption) => {\n    const optionToSelect = option || highlightedOption;\n    if (!optionToSelect || !interactivityCheck(optionToSelect)) {\n      return;\n    }\n    updateSelectedOption(optionToSelect.option);\n    if (!keepOpen) {\n      triggerRef.current?.focus();\n      closeDropdown();\n    }\n  };\n\n  const activeKeyDownHandler = useMenuKeyboard({\n    goUp: () => {\n      if (\n        (!useInteractiveGroups && highlightedOption?.type === 'child' && highlightedIndex === 1) ||\n        highlightedIndex === 0\n      ) {\n        goEndWithKeyboard();\n        return;\n      }\n\n      moveHighlightWithKeyboard(-1);\n    },\n    goDown: () => {\n      if (highlightedIndex === options.length - 1) {\n        goHomeWithKeyboard();\n        return;\n      }\n\n      moveHighlightWithKeyboard(1);\n    },\n    selectOption,\n    goHome: goHomeWithKeyboard,\n    goEnd: goEndWithKeyboard,\n    closeDropdown: () => {\n      triggerRef.current?.focus();\n      closeDropdown();\n    },\n    preventNativeSpace: !hasFilter,\n  });\n\n  const triggerKeyDownHandler = useTriggerKeyboard({\n    openDropdown: () => openDropdown(true),\n    goHome: goHomeWithKeyboard,\n  });\n\n  const getDropdownProps: () => Pick<\n    DropdownProps,\n    'onFocus' | 'onBlur' | 'dropdownContentId' | 'dropdownContentRole'\n  > = () => ({\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    dropdownContentId: dialogId,\n    dropdownContentRole: hasFilter ? 'dialog' : undefined,\n  });\n\n  const getTriggerProps = (disabled = false, autoFocus = false) => {\n    const triggerProps: SelectTriggerProps = {\n      ref: triggerRef,\n      onFocus: () => closeDropdown(),\n      autoFocus,\n      ariaHasPopup: hasFilter ? 'dialog' : 'listbox',\n      ariaControls: isOpen ? (hasFilter ? dialogId : menuId) : undefined,\n    };\n    if (!disabled) {\n      triggerProps.onMouseDown = (event: CustomEvent) => {\n        event.preventDefault(); // prevent current focus from blurring as it immediately closes the dropdown\n        if (isOpen) {\n          triggerRef.current?.focus();\n        }\n        toggleDropdown();\n      };\n      triggerProps.onKeyDown = triggerKeyDownHandler;\n    }\n    return triggerProps;\n  };\n\n  const getFilterProps = (): Partial<FilterProps> => {\n    if (!hasFilter) {\n      return {};\n    }\n\n    return {\n      ref: filterRef,\n      onKeyDown: activeKeyDownHandler,\n      onChange: event => {\n        setFilteringValue(event.detail.value);\n        resetHighlightWithKeyboard();\n      },\n      __onDelayedInput: event => {\n        fireLoadItems(event.detail.value);\n      },\n      __nativeAttributes: {\n        'aria-activedescendant': highlightedOptionId,\n        ['aria-owns']: menuId,\n        ['aria-controls']: menuId,\n      },\n    };\n  };\n\n  const getMenuProps = () => {\n    const menuProps: MenuProps = {\n      id: menuId,\n      ref: menuRef,\n      open: isOpen,\n      onMouseUp: itemIndex => {\n        if (itemIndex > -1) {\n          selectOption(options[itemIndex]);\n        }\n      },\n      onMouseMove: itemIndex => {\n        if (itemIndex > -1) {\n          setHighlightedIndexWithMouse(itemIndex);\n        }\n      },\n      statusType,\n    };\n    if (!hasFilter) {\n      menuProps.onKeyDown = activeKeyDownHandler;\n      menuProps.nativeAttributes = {\n        'aria-activedescendant': highlightedOptionId,\n      };\n    }\n    return menuProps;\n  };\n  const getGroupState = (option: OptionGroup) => {\n    const totalSelected = option.options.filter(item => !!item.value && __selectedValuesSet.has(item.value)).length;\n    const hasSelected = totalSelected > 0;\n    const allSelected = totalSelected === option.options.length;\n    return {\n      selected: hasSelected && allSelected,\n      indeterminate: hasSelected && !allSelected,\n    };\n  };\n\n  const getOptionProps = (option: DropdownOption, index: number) => {\n    const highlighted = option === highlightedOption;\n    const groupState = isGroup(option.option) ? getGroupState(option.option) : undefined;\n    const selected = __selectedOptions.indexOf(option) > -1 || !!groupState?.selected;\n    const nextOption = options[index + 1]?.option;\n    const isNextSelected =\n      !!nextOption && isGroup(nextOption)\n        ? getGroupState(nextOption).selected\n        : __selectedOptions.indexOf(options[index + 1]) > -1;\n\n    const optionProps: any = {\n      key: index,\n      option,\n      highlighted,\n      selected,\n      isNextSelected,\n      indeterminate: !!groupState?.indeterminate,\n      ['data-mouse-target']: isHighlightable(option) ? index : -1,\n      id: getOptionId(menuId, index),\n    };\n\n    return optionProps;\n  };\n\n  const prevOpen = usePrevious<boolean>(isOpen);\n  useEffect(() => {\n    // highlight the first selected option, when opening the Select component without filter input\n    // keep the focus in the filter input when opening, so that screenreader can recognize the combobox\n    if (isOpen && !prevOpen && hasSelectedOption && !hasFilter) {\n      if (openedWithKeyboard) {\n        highlightOptionWithKeyboard(__selectedOptions[0]);\n      } else {\n        setHighlightedIndexWithMouse(options.indexOf(__selectedOptions[0]), true);\n      }\n    }\n  }, [\n    isOpen,\n    __selectedOptions,\n    hasSelectedOption,\n    setHighlightedIndexWithMouse,\n    highlightOptionWithKeyboard,\n    openedWithKeyboard,\n    options,\n    prevOpen,\n    hasFilter,\n  ]);\n\n  useEffect(() => {\n    if (isOpen) {\n      // dropdown-fit calculations ensure that the dropdown will fit inside the current\n      // viewport, so prevent the browser from trying to scroll it into view (e.g. if\n      // scroll-padding-top is set on a parent)\n      activeRef.current?.focus({ preventScroll: true });\n    }\n  }, [isOpen, activeRef]);\n\n  useForwardFocus(externalRef, triggerRef as React.RefObject<HTMLElement>);\n  const highlightedGroupSelected =\n    !!highlightedOption && isGroup(highlightedOption.option) && getGroupState(highlightedOption.option).selected;\n  const announceSelected =\n    !!highlightedOption && (__selectedOptions.indexOf(highlightedOption) > -1 || highlightedGroupSelected);\n\n  return {\n    isOpen,\n    highlightedOption,\n    highlightedIndex,\n    highlightType,\n    getTriggerProps,\n    getDropdownProps,\n    getMenuProps,\n    getFilterProps,\n    getOptionProps,\n    highlightOption: highlightOptionWithKeyboard,\n    selectOption,\n    announceSelected,\n    dialogId,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\n\nimport { BaseKeyDetail, CancelableEventHandler } from '../../../events';\nimport { KeyCode } from '../../../keycode';\n\nconst HOME = 36;\nconst END = 35;\n\ninterface UseMenuKeyboard {\n  (inputProps: {\n    goUp: () => void;\n    goDown: () => void;\n    selectOption: () => void;\n    goHome: () => void;\n    goEnd: () => void;\n    closeDropdown: () => void;\n    preventNativeSpace?: boolean;\n  }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useMenuKeyboard: UseMenuKeyboard = ({\n  goUp,\n  goDown,\n  selectOption,\n  goHome,\n  goEnd,\n  closeDropdown,\n  preventNativeSpace = false,\n}) => {\n  return useCallback(\n    (e: CustomEvent<BaseKeyDetail>) => {\n      switch (e.detail.keyCode) {\n        case KeyCode.up:\n          e.preventDefault();\n          goUp();\n          break;\n        case KeyCode.down:\n          e.preventDefault();\n          goDown();\n          break;\n        case HOME:\n          goHome();\n          break;\n        case END:\n          goEnd();\n          break;\n        case KeyCode.escape:\n          e.stopPropagation();\n          closeDropdown();\n          break;\n        case KeyCode.enter:\n          e.preventDefault();\n          selectOption();\n          break;\n        case KeyCode.space:\n          if (preventNativeSpace) {\n            e.preventDefault();\n            selectOption();\n          }\n      }\n    },\n    [selectOption, goHome, goEnd, closeDropdown, preventNativeSpace, goUp, goDown]\n  );\n};\n\ninterface UseTriggerKeyboard {\n  (inputProps: { openDropdown: () => void; goHome: () => void }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useTriggerKeyboard: UseTriggerKeyboard = ({ openDropdown, goHome }) => {\n  return useCallback(\n    (e: CustomEvent<BaseKeyDetail>) => {\n      switch (e.detail.keyCode) {\n        case KeyCode.up:\n        case KeyCode.down:\n          e.preventDefault();\n          goHome();\n          openDropdown();\n          break;\n        case KeyCode.space:\n        case KeyCode.enter:\n          e.preventDefault();\n          openDropdown();\n          break;\n      }\n    },\n    [openDropdown, goHome]\n  );\n};\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_gfwv3_1gn2o_97\",\n  \"horizontal\": \"awsui_horizontal_gfwv3_1gn2o_102\",\n  \"vertical\": \"awsui_vertical_gfwv3_1gn2o_106\",\n  \"list\": \"awsui_list_gfwv3_1gn2o_110\",\n  \"list-item\": \"awsui_list-item_gfwv3_1gn2o_130\",\n  \"toggle-container-inline\": \"awsui_toggle-container-inline_gfwv3_1gn2o_137\",\n  \"toggle\": \"awsui_toggle_gfwv3_1gn2o_137\",\n  \"description\": \"awsui_description_gfwv3_1gn2o_232\",\n  \"separator\": \"awsui_separator_gfwv3_1gn2o_236\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useEffect, useRef } from 'react';\n\nimport { getFirstFocusable } from '../focus-lock/utils.js';\n\nimport styles from './styles.css.js';\n\nconst tokenSelector = `.${styles['list-item']}`;\nconst toggleButtonSelector = `.${styles.toggle}`;\n\nexport function useTokenFocusController({ moveFocusNextToIndex }: { moveFocusNextToIndex?: null | number }) {\n  const tokenListRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (moveFocusNextToIndex === undefined || moveFocusNextToIndex === null || tokenListRef.current === null) {\n      return;\n    }\n\n    const tokenElements = tokenListRef.current.querySelectorAll(tokenSelector);\n    const toggleButton = tokenListRef.current.querySelector(toggleButtonSelector);\n\n    let closestPrevIndex = Number.NEGATIVE_INFINITY;\n    let closestNextIndex = Number.POSITIVE_INFINITY;\n\n    for (let activeIndex = 0; activeIndex < tokenElements.length; activeIndex++) {\n      if (activeIndex < moveFocusNextToIndex) {\n        closestPrevIndex =\n          moveFocusNextToIndex - activeIndex < moveFocusNextToIndex - closestPrevIndex ? activeIndex : closestPrevIndex;\n      } else {\n        closestNextIndex =\n          activeIndex - moveFocusNextToIndex < closestNextIndex - moveFocusNextToIndex ? activeIndex : closestNextIndex;\n      }\n    }\n\n    const nextElement = tokenElements[closestNextIndex];\n    const prevElement = tokenElements[closestPrevIndex];\n\n    if (nextElement instanceof HTMLElement) {\n      getFirstFocusable(nextElement)?.focus();\n    } else if (prevElement instanceof HTMLElement) {\n      getFirstFocusable(prevElement)?.focus();\n    } else if (toggleButton instanceof HTMLElement) {\n      toggleButton.focus();\n    }\n  }, [moveFocusNextToIndex]);\n\n  return tokenListRef;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback } from 'react';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport InternalIcon from '../../../icon/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport { I18nStrings } from './interfaces';\n\nimport styles from './styles.css.js';\ninterface TokenLimitToggleProps {\n  controlId?: string;\n  allHidden: boolean;\n  expanded: boolean;\n  numberOfHiddenOptions: number;\n  onClick?: NonCancelableEventHandler<null>;\n  i18nStrings?: I18nStrings;\n  limitShowFewerAriaLabel?: string;\n  limitShowMoreAriaLabel?: string;\n}\n\nexport default function TokenLimitToggle({\n  controlId,\n  allHidden,\n  expanded,\n  numberOfHiddenOptions,\n  onClick,\n  i18nStrings = {},\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n}: TokenLimitToggleProps) {\n  const i18n = useInternalI18n('token-group');\n\n  const numberOfHiddenOptionLabel = allHidden ? numberOfHiddenOptions : `+${numberOfHiddenOptions}`;\n  const description = expanded\n    ? i18n('i18nStrings.limitShowFewer', i18nStrings.limitShowFewer)\n    : `${i18n('i18nStrings.limitShowMore', i18nStrings.limitShowMore) || ''} (${numberOfHiddenOptionLabel})`;\n  const ariaLabel = expanded ? limitShowFewerAriaLabel : limitShowMoreAriaLabel;\n\n  const handleClick = useCallback(() => {\n    fireNonCancelableEvent(onClick, null);\n  }, [onClick]);\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.toggle}\n      onClick={handleClick}\n      aria-controls={controlId}\n      aria-expanded={expanded}\n      aria-label={ariaLabel}\n    >\n      <InternalIcon name={expanded ? 'treeview-collapse' : 'treeview-expand'} />\n      <span className={styles.description}>{description}</span>\n    </button>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useUniqueId } from '../../hooks/use-unique-id';\nimport { TokenListProps } from './interfaces';\nimport { useTokenFocusController } from './token-focus-controller';\nimport TokenLimitToggle from './token-limit-toggle';\n\nimport styles from './styles.css.js';\n\nexport { TokenListProps };\n\nexport default function TokenList<Item>({\n  items,\n  alignment,\n  renderItem,\n  limit,\n  after,\n  i18nStrings,\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n  moveFocusNextToIndex,\n  onExpandedClick = () => undefined,\n}: TokenListProps<Item>) {\n  const tokenListRef = useTokenFocusController({ moveFocusNextToIndex: moveFocusNextToIndex });\n  const controlId = useUniqueId();\n\n  const [expanded, setExpanded] = useState(false);\n  const hasItems = items.length > 0;\n  const hasHiddenItems = hasItems && limit !== undefined && items.length > limit;\n  const visibleItems = hasHiddenItems && !expanded ? items.slice(0, limit) : items;\n  const hasVisibleItems = visibleItems.length > 0;\n\n  const toggle = hasHiddenItems ? (\n    <div className={styles[`toggle-container-${alignment}`]}>\n      <TokenLimitToggle\n        controlId={hasVisibleItems ? controlId : undefined}\n        allHidden={limit === 0}\n        expanded={expanded}\n        numberOfHiddenOptions={items.length - visibleItems.length}\n        i18nStrings={i18nStrings}\n        limitShowFewerAriaLabel={limitShowFewerAriaLabel}\n        limitShowMoreAriaLabel={limitShowMoreAriaLabel}\n        onClick={() => {\n          const isExpanded = !expanded;\n          setExpanded(isExpanded);\n          onExpandedClick(isExpanded);\n        }}\n      />\n    </div>\n  ) : null;\n\n  if (alignment === 'inline') {\n    return (\n      <div ref={tokenListRef} className={clsx(styles.root, styles.horizontal)}>\n        {hasItems && (\n          <ul id={controlId} className={styles.list}>\n            {visibleItems.map((item, itemIndex) => (\n              <li\n                key={itemIndex}\n                className={styles['list-item']}\n                aria-setsize={items.length}\n                aria-posinset={itemIndex + 1}\n              >\n                {renderItem(item, itemIndex)}\n              </li>\n            ))}\n          </ul>\n        )}\n        {toggle}\n        {after && <div className={styles.separator} />}\n        {after}\n      </div>\n    );\n  }\n\n  return (\n    <div ref={tokenListRef} className={clsx(styles.root, styles.vertical)}>\n      {hasVisibleItems && (\n        <ul id={controlId} className={clsx(styles.list, styles[alignment])}>\n          {visibleItems.map((item, itemIndex) => (\n            <li\n              key={itemIndex}\n              className={styles['list-item']}\n              aria-setsize={items.length}\n              aria-posinset={itemIndex + 1}\n            >\n              {renderItem(item, itemIndex)}\n            </li>\n          ))}\n        </ul>\n      )}\n      {toggle}\n      {after}\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_dm8gx_r6wxu_101\",\n  \"has-items\": \"awsui_has-items_dm8gx_r6wxu_135\",\n  \"no-padding\": \"awsui_no-padding_dm8gx_r6wxu_135\",\n  \"dismiss-button\": \"awsui_dismiss-button_dm8gx_r6wxu_139\",\n  \"token\": \"awsui_token_dm8gx_r6wxu_181\",\n  \"token-box\": \"awsui_token-box_dm8gx_r6wxu_188\",\n  \"token-box-error\": \"awsui_token-box-error_dm8gx_r6wxu_207\",\n  \"token-box-warning\": \"awsui_token-box-warning_dm8gx_r6wxu_218\",\n  \"token-box-readonly\": \"awsui_token-box-readonly_dm8gx_r6wxu_229\",\n  \"token-box-disabled\": \"awsui_token-box-disabled_dm8gx_r6wxu_243\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, Ref } from 'react';\n\nimport InternalIcon from '../icon/internal';\n\nimport styles from './styles.css.js';\n\ninterface DismissButtonProps {\n  disabled?: boolean;\n  readOnly?: boolean;\n  onDismiss?: () => void;\n  dismissLabel?: string;\n}\n\nexport default forwardRef(DismissButton);\n\nfunction DismissButton(\n  { disabled, dismissLabel, onDismiss, readOnly }: DismissButtonProps,\n  ref: Ref<HTMLButtonElement>\n) {\n  return (\n    <button\n      ref={ref}\n      type=\"button\"\n      className={styles['dismiss-button']}\n      aria-disabled={disabled || readOnly ? true : undefined}\n      onClick={() => {\n        if (disabled || readOnly || !onDismiss) {\n          return;\n        }\n\n        onDismiss();\n      }}\n      aria-label={dismissLabel}\n    >\n      <InternalIcon name=\"close\" />\n    </button>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { FormFieldError, FormFieldWarning } from '../form-field/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport DismissButton from './dismiss-button';\n\nimport styles from './styles.css.js';\n\ninterface TokenProps {\n  children: React.ReactNode;\n  ariaLabel?: string;\n  dismissLabel?: string;\n  onDismiss?: () => void;\n  disabled?: boolean;\n  readOnly?: boolean;\n  errorText?: React.ReactNode;\n  errorIconAriaLabel?: string;\n  warningText?: React.ReactNode;\n  warningIconAriaLabel?: string;\n  className?: string;\n}\n\nexport function Token({\n  ariaLabel,\n  disabled,\n  readOnly,\n  dismissLabel,\n  onDismiss,\n  children,\n  errorText,\n  warningText,\n  errorIconAriaLabel,\n  warningIconAriaLabel,\n  ...restProps\n}: TokenProps) {\n  const errorId = useUniqueId('error');\n  const warningId = useUniqueId('warning');\n  const baseProps = getBaseProps(restProps);\n\n  const showWarning = warningText && !errorText;\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(styles.token, baseProps.className)}\n      role=\"group\"\n      aria-label={ariaLabel}\n      aria-describedby={errorText ? errorId : warningText ? warningId : undefined}\n      aria-disabled={disabled}\n    >\n      <div\n        className={clsx(\n          styles['token-box'],\n          disabled && styles['token-box-disabled'],\n          readOnly && styles['token-box-readonly'],\n          errorText && styles['token-box-error'],\n          showWarning && styles['token-box-warning']\n        )}\n      >\n        {children}\n        {onDismiss && (\n          <DismissButton disabled={disabled} dismissLabel={dismissLabel} onDismiss={onDismiss} readOnly={readOnly} />\n        )}\n      </div>\n      {errorText && (\n        <FormFieldError id={errorId} errorIconAriaLabel={errorIconAriaLabel}>\n          {errorText}\n        </FormFieldError>\n      )}\n      {showWarning && (\n        <FormFieldWarning id={warningId} warningIconAriaLabel={warningIconAriaLabel}>\n          {warningText}\n        </FormFieldWarning>\n      )}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component';\nimport Option from '../internal/components/option';\nimport TokenList from '../internal/components/token-list';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { SomeRequired } from '../internal/types';\nimport { TokenGroupProps } from './interfaces';\nimport { Token } from './token';\n\nimport styles from './styles.css.js';\n\ntype InternalTokenGroupProps = SomeRequired<TokenGroupProps, 'items' | 'alignment'> & InternalBaseComponentProps;\n\nexport default function InternalTokenGroup({\n  alignment,\n  items,\n  onDismiss,\n  limit,\n  i18nStrings,\n  disableOuterPadding,\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n  readOnly,\n  __internalRootRef,\n  ...props\n}: InternalTokenGroupProps) {\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  const [removedItemIndex, setRemovedItemIndex] = useState<null | number>(null);\n\n  const baseProps = getBaseProps(props);\n  const hasItems = items.length > 0;\n  return (\n    <div\n      {...baseProps}\n      className={clsx(\n        baseProps.className,\n        styles.root,\n        hasItems && styles['has-items'],\n        disableOuterPadding && styles['no-padding']\n      )}\n      ref={__internalRootRef}\n    >\n      <TokenList\n        alignment={alignment}\n        items={items}\n        limit={limit}\n        renderItem={(item, itemIndex) => (\n          <Token\n            ariaLabel={item.label}\n            dismissLabel={item.dismissLabel}\n            onDismiss={() => {\n              fireNonCancelableEvent(onDismiss, { itemIndex });\n              setRemovedItemIndex(itemIndex);\n            }}\n            disabled={item.disabled}\n            readOnly={readOnly}\n          >\n            <Option option={item} isGenericGroup={false} />\n          </Token>\n        )}\n        i18nStrings={i18nStrings}\n        limitShowFewerAriaLabel={limitShowFewerAriaLabel}\n        limitShowMoreAriaLabel={limitShowMoreAriaLabel}\n        moveFocusNextToIndex={removedItemIndex}\n        onExpandedClick={isExpanded => {\n          if (isExpanded && limit) {\n            setRemovedItemIndex(limit);\n          } else {\n            setRemovedItemIndex(null);\n          }\n        }}\n      />\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_f8g6q_1i4ll_97\",\n  \"tokens\": \"awsui_tokens_f8g6q_1i4ll_132\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { getBaseProps } from '../internal/base-component';\nimport Dropdown from '../internal/components/dropdown';\nimport DropdownFooter from '../internal/components/dropdown-footer/index.js';\nimport { useDropdownStatus } from '../internal/components/dropdown-status';\nimport { OptionDefinition, OptionGroup } from '../internal/components/option/interfaces';\nimport { isGroup } from '../internal/components/option/utils/filter-options';\nimport { prepareOptions } from '../internal/components/option/utils/prepare-options';\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { joinStrings } from '../internal/utils/strings';\nimport Filter from '../select/parts/filter';\nimport PlainList, { SelectListProps } from '../select/parts/plain-list';\nimport Trigger from '../select/parts/trigger';\nimport VirtualList from '../select/parts/virtual-list';\nimport { checkOptionValueField } from '../select/utils/check-option-value-field.js';\nimport { findOptionIndex } from '../select/utils/connect-options';\nimport { useAnnouncement } from '../select/utils/use-announcement';\nimport { useLoadItems } from '../select/utils/use-load-items';\nimport { useNativeSearch } from '../select/utils/use-native-search';\nimport { MenuProps, useSelect } from '../select/utils/use-select';\nimport { TokenGroupProps } from '../token-group/interfaces';\nimport InternalTokenGroup from '../token-group/internal';\nimport { MultiselectProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\ntype InternalMultiselectProps = MultiselectProps & InternalBaseComponentProps & { inlineTokens?: boolean };\n\nconst InternalMultiselect = React.forwardRef(\n  (\n    {\n      options = [],\n      filteringType = 'none',\n      filteringPlaceholder,\n      filteringAriaLabel,\n      filteringClearAriaLabel,\n      filteringResultsText,\n      ariaRequired,\n      placeholder,\n      disabled,\n      readOnly,\n      ariaLabel,\n      statusType = 'finished',\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      noMatch,\n      renderHighlightedAriaLive,\n      selectedOptions = [],\n      deselectAriaLabel,\n      keepOpen = true,\n      tokenLimit,\n      i18nStrings,\n      onBlur,\n      onFocus,\n      onLoadItems,\n      onChange,\n      virtualScroll,\n      inlineTokens = false,\n      hideTokens = false,\n      expandToViewport,\n      tokenLimitShowFewerAriaLabel,\n      tokenLimitShowMoreAriaLabel,\n      __internalRootRef = null,\n      autoFocus,\n      ...restProps\n    }: InternalMultiselectProps,\n    externalRef: React.Ref<MultiselectProps.Ref>\n  ) => {\n    checkOptionValueField('Multiselect', 'options', options);\n\n    const baseProps = getBaseProps(restProps);\n    const formFieldContext = useFormFieldContext(restProps);\n    const i18n = useInternalI18n('multiselect');\n\n    const i18nCommon = useInternalI18n('select');\n    const recoveryText = i18nCommon('recoveryText', restProps.recoveryText);\n    const errorIconAriaLabel = i18nCommon('errorIconAriaLabel', restProps.errorIconAriaLabel);\n    const selectedAriaLabel = i18nCommon('selectedAriaLabel', restProps.selectedAriaLabel);\n\n    if (restProps.recoveryText && !onLoadItems) {\n      warnOnce('Multiselect', '`onLoadItems` must be provided for `recoveryText` to be displayed.');\n    }\n\n    const { handleLoadMore, handleRecoveryClick, fireLoadItems } = useLoadItems({\n      onLoadItems,\n      options,\n      statusType,\n    });\n    const useInteractiveGroups = true;\n    const [filteringValue, setFilteringValue] = useState('');\n    const { filteredOptions, parentMap, totalCount, matchesCount } = prepareOptions(\n      options,\n      filteringType,\n      filteringValue\n    );\n\n    const updateSelectedOption = useCallback(\n      (option: OptionDefinition | OptionGroup) => {\n        const filtered = filteredOptions.filter(item => item.type !== 'parent').map(item => item.option);\n\n        // switch between selection and deselection behavior, ignores disabled options to prevent\n        // getting stuck on one behavior when an option is disabled and its state cannot be changed\n        const isAllChildrenSelected = (optionsArray: OptionDefinition[]) =>\n          optionsArray.every(item => findOptionIndex(selectedOptions, item) > -1 || item.disabled);\n        const intersection = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) > -1 && !item.disabled);\n        const union = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) === -1).concat(options);\n        const select = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return union(selectedOptions, options);\n        };\n        const unselect = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return selectedOptions.filter(option => findOptionIndex(options, option) === -1);\n        };\n        let newSelectedOptions = [...selectedOptions];\n\n        if (isGroup(option)) {\n          const visibleOptions = intersection([...option.options], filtered);\n          newSelectedOptions = isAllChildrenSelected(visibleOptions)\n            ? unselect(visibleOptions, newSelectedOptions)\n            : select(visibleOptions, newSelectedOptions);\n        } else {\n          newSelectedOptions = isAllChildrenSelected([option])\n            ? unselect([option], newSelectedOptions)\n            : select([option], newSelectedOptions);\n        }\n\n        fireNonCancelableEvent(onChange, {\n          selectedOptions: newSelectedOptions,\n        });\n      },\n      [onChange, selectedOptions, filteredOptions]\n    );\n\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const selfControlId = useUniqueId('trigger');\n    const controlId = formFieldContext.controlId ?? selfControlId;\n\n    const multiSelectAriaLabelId = useUniqueId('multiselect-arialabel-');\n\n    const footerId = useUniqueId('footer');\n\n    const scrollToIndex = useRef<SelectListProps.SelectListRef>(null);\n    const {\n      isOpen,\n      highlightType,\n      highlightedOption,\n      highlightedIndex,\n      getTriggerProps,\n      getDropdownProps,\n      getFilterProps,\n      getMenuProps,\n      getOptionProps,\n      highlightOption,\n      announceSelected,\n    } = useSelect({\n      selectedOptions,\n      updateSelectedOption,\n      options: filteredOptions,\n      filteringType,\n      onFocus,\n      onBlur,\n      externalRef,\n      keepOpen,\n      fireLoadItems,\n      setFilteringValue,\n      useInteractiveGroups,\n      statusType,\n    });\n\n    const handleNativeSearch = useNativeSearch({\n      isEnabled: filteringType === 'none' && isOpen,\n      options: filteredOptions,\n      highlightOption: highlightOption,\n      highlightedOption: highlightedOption?.option,\n      useInteractiveGroups,\n    });\n\n    const isEmpty = !options || options.length === 0;\n    const isNoMatch = filteredOptions && filteredOptions.length === 0;\n    const isFiltered =\n      filteringType !== 'none' && filteringValue.length > 0 && filteredOptions && filteredOptions.length > 0;\n    const filteredText = isFiltered ? filteringResultsText?.(matchesCount, totalCount) : undefined;\n    const dropdownStatus = useDropdownStatus({\n      statusType,\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      recoveryText,\n      isEmpty,\n      isNoMatch,\n      noMatch,\n      isFiltered,\n      filteringResultsText: filteredText,\n      onRecoveryClick: handleRecoveryClick,\n      errorIconAriaLabel: errorIconAriaLabel,\n      hasRecoveryCallback: !!onLoadItems,\n    });\n\n    const filter = (\n      <Filter\n        clearAriaLabel={filteringClearAriaLabel}\n        filteringType={filteringType}\n        placeholder={filteringPlaceholder}\n        ariaLabel={filteringAriaLabel}\n        ariaRequired={ariaRequired}\n        value={filteringValue}\n        {...getFilterProps()}\n      />\n    );\n\n    const trigger = (\n      <Trigger\n        placeholder={placeholder}\n        disabled={disabled}\n        readOnly={readOnly}\n        triggerProps={getTriggerProps(disabled, autoFocus)}\n        selectedOption={null}\n        selectedOptions={selectedOptions}\n        triggerVariant={inlineTokens ? 'tokens' : 'placeholder'}\n        isOpen={isOpen}\n        {...formFieldContext}\n        controlId={controlId}\n        ariaLabelledby={joinStrings(formFieldContext.ariaLabelledby, multiSelectAriaLabelId)}\n      />\n    );\n\n    const menuProps: MenuProps = {\n      ...getMenuProps(),\n      onLoadMore: handleLoadMore,\n      ariaLabelledby: joinStrings(multiSelectAriaLabelId, controlId),\n      ariaDescribedby: dropdownStatus.content ? footerId : undefined,\n    };\n\n    const announcement = useAnnouncement({\n      announceSelected,\n      highlightedOption,\n      getParent: option => parentMap.get(option)?.option as undefined | OptionGroup,\n      selectedAriaLabel,\n      renderHighlightedAriaLive,\n    });\n\n    const tokens: TokenGroupProps['items'] = selectedOptions.map(option => ({\n      label: option.label,\n      disabled: disabled || option.disabled,\n      labelTag: option.labelTag,\n      description: option.description,\n      iconAlt: option.iconAlt,\n      iconName: option.iconName,\n      iconUrl: option.iconUrl,\n      iconSvg: option.iconSvg,\n      tags: option.tags,\n      dismissLabel: i18n('deselectAriaLabel', deselectAriaLabel?.(option), format =>\n        format({ option__label: option.label ?? '' })\n      ),\n    }));\n\n    useEffect(() => {\n      scrollToIndex.current?.(highlightedIndex);\n    }, [highlightedIndex]);\n\n    const ListComponent = virtualScroll ? VirtualList : PlainList;\n\n    const handleMouseDown = (event: React.MouseEvent) => {\n      const target = event.target as HTMLElement;\n\n      if (target !== document.activeElement) {\n        // prevent currently focused element from losing it\n        event.preventDefault();\n      }\n    };\n\n    const showTokens = !hideTokens && !inlineTokens && tokens.length > 0;\n    const handleTokenDismiss: TokenGroupProps['onDismiss'] = ({ detail }) => {\n      const optionToDeselect = selectedOptions[detail.itemIndex];\n      updateSelectedOption(optionToDeselect);\n      const targetRef = getTriggerProps().ref;\n      if (targetRef.current) {\n        targetRef.current.focus();\n      }\n    };\n\n    const tokenGroupI18nStrings: TokenGroupProps.I18nStrings = {\n      limitShowFewer: i18nStrings?.tokenLimitShowFewer,\n      limitShowMore: i18nStrings?.tokenLimitShowMore,\n    };\n\n    const mergedRef = useMergeRefs(rootRef, __internalRootRef);\n\n    const dropdownProps = getDropdownProps();\n\n    return (\n      <div\n        {...baseProps}\n        ref={mergedRef}\n        className={clsx(styles.root, baseProps.className)}\n        onKeyPress={handleNativeSearch}\n      >\n        <Dropdown\n          {...dropdownProps}\n          ariaLabelledby={\n            dropdownProps.dropdownContentRole ? joinStrings(multiSelectAriaLabelId, controlId) : undefined\n          }\n          ariaDescribedby={\n            dropdownProps.dropdownContentRole ? (dropdownStatus.content ? footerId : undefined) : undefined\n          }\n          open={isOpen}\n          trigger={trigger}\n          header={filter}\n          onMouseDown={handleMouseDown}\n          footer={\n            dropdownStatus.isSticky ? (\n              <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n            ) : null\n          }\n          expandToViewport={expandToViewport}\n          stretchBeyondTriggerWidth={true}\n        >\n          <ListComponent\n            listBottom={\n              !dropdownStatus.isSticky ? (\n                <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n              ) : null\n            }\n            menuProps={menuProps}\n            getOptionProps={getOptionProps}\n            filteredOptions={filteredOptions}\n            filteringValue={filteringValue}\n            ref={scrollToIndex}\n            hasDropdownStatus={dropdownStatus.content !== null}\n            checkboxes={true}\n            useInteractiveGroups={useInteractiveGroups}\n            screenReaderContent={announcement}\n            highlightType={highlightType}\n          />\n        </Dropdown>\n        {showTokens && (\n          <InternalTokenGroup\n            className={styles.tokens}\n            alignment=\"horizontal\"\n            limit={tokenLimit}\n            items={tokens}\n            onDismiss={handleTokenDismiss}\n            i18nStrings={tokenGroupI18nStrings}\n            limitShowMoreAriaLabel={tokenLimitShowMoreAriaLabel}\n            limitShowFewerAriaLabel={tokenLimitShowFewerAriaLabel}\n            disableOuterPadding={true}\n            readOnly={readOnly}\n          />\n        )}\n        <ScreenreaderOnly id={multiSelectAriaLabelId}>{ariaLabel}</ScreenreaderOnly>\n      </div>\n    );\n  }\n);\n\nexport default InternalMultiselect;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { isDevelopment } from '../../internal/is-development';\n\nexport function checkOptionValueField<ValueType extends ReadonlyArray<any>>(\n  componentName: string,\n  propertyName: string,\n  propertyValue: ValueType | undefined\n) {\n  if (isDevelopment) {\n    if (!propertyValue) {\n      return;\n    }\n\n    const valuePropertyMissing = !propertyValue.every(element => {\n      return 'options' in element || 'value' in element;\n    });\n\n    if (valuePropertyMissing) {\n      warnOnce(\n        componentName,\n        `You provided an \\`${propertyName}\\` prop where at least one non-group array element is missing the \\`value\\` field. This field is required for all options without sub-items.`\n      );\n    }\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\n\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { SelectProps } from '../interfaces';\n\ninterface UseLoadItemsProps {\n  onLoadItems: SelectProps['onLoadItems'];\n  options: ReadonlyArray<OptionDefinition | OptionGroup>;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport const useLoadItems = ({ onLoadItems, options, statusType }: UseLoadItemsProps) => {\n  const prevFilteringText = useRef<string | undefined>(undefined);\n\n  const fireLoadItems = (filteringText: string) => {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, { filteringText, firstPage: true, samePage: false });\n  };\n\n  const handleLoadMore = () => {\n    const firstPage = options.length === 0;\n    statusType === 'pending' &&\n      fireNonCancelableEvent(onLoadItems, {\n        firstPage,\n        samePage: false,\n        filteringText: prevFilteringText.current || '',\n      });\n  };\n\n  const handleRecoveryClick = () =>\n    fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || '',\n    });\n\n  return {\n    fireLoadItems,\n    handleLoadMore,\n    handleRecoveryClick,\n  };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useRef } from 'react';\n\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport defaultOptionDescription from '../../internal/components/option/option-announcer';\nimport { SelectProps } from '../interfaces';\n\ninterface OptionHolder {\n  option?: OptionDefinition | OptionGroup;\n}\n\n/**\n * The hook produces the live region string to be announced when an option is highlighted.\n * This is a workaround to account for the issues with assistive technologies.\n *\n * If the testing reveals no issues with the native announcements the live-region can be removed.\n */\nexport function useAnnouncement<Option extends OptionHolder>({\n  announceSelected,\n  highlightedOption,\n  getParent,\n  selectedAriaLabel,\n  renderHighlightedAriaLive,\n}: {\n  announceSelected: boolean;\n  highlightedOption?: Option;\n  getParent: (option: Option) => undefined | OptionGroup;\n  selectedAriaLabel?: string;\n  renderHighlightedAriaLive?: SelectProps.ContainingOptionAndGroupString;\n}) {\n  const prevAnnouncedGroup = useRef<OptionGroup | undefined>(undefined);\n\n  // Record previously announced group with a delay to account for possible re-renders of the hook.\n  useEffect(() => {\n    if (highlightedOption) {\n      const frameId = requestAnimationFrame(() => {\n        prevAnnouncedGroup.current = getParent(highlightedOption);\n      });\n      return () => cancelAnimationFrame(frameId);\n    }\n  });\n\n  if (!highlightedOption) {\n    return '';\n  }\n\n  const option = highlightedOption.option as OptionDefinition;\n  const parent = getParent(highlightedOption);\n  // Only announce parent group if it wasn't announced with previous option.\n  const group = parent && parent !== prevAnnouncedGroup.current ? parent : undefined;\n\n  // Use custom renderer if provided.\n  if (renderHighlightedAriaLive) {\n    return renderHighlightedAriaLive(option, group);\n  }\n\n  // Use default renderer with selected ARIA label if defined and relevant.\n  const selectedAnnouncement = announceSelected && selectedAriaLabel ? selectedAriaLabel : '';\n  const defaultDescription = defaultOptionDescription(option, group);\n  return [selectedAnnouncement, defaultDescription].filter(Boolean).join(' ');\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1px7g_4rwm1_97\",\n  \"chart-filter\": \"awsui_chart-filter_1px7g_4rwm1_132\",\n  \"custom-icon-wrapper\": \"awsui_custom-icon-wrapper_1px7g_4rwm1_136\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useCallback } from 'react';\nimport clsx from 'clsx';\n\nimport InternalFormField from '../../../form-field/internal';\nimport { useInternalI18n } from '../../../i18n/context';\nimport { MultiselectProps } from '../../../multiselect/interfaces';\nimport InternalMultiselect from '../../../multiselect/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { NonCancelableEventHandler } from '../../events';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\n\nimport styles from './styles.css.js';\n\ninterface I18nStrings {\n  filterLabel?: string;\n  filterPlaceholder?: string;\n  filterSelectedAriaLabel?: string;\n}\n\nexport interface ChartFilterItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartFilterProps<T> extends BaseComponentProps {\n  series: ReadonlyArray<ChartFilterItem<T>>;\n  selectedSeries?: ReadonlyArray<T>;\n  onChange: (selectedSeries: ReadonlyArray<T>) => void;\n  i18nStrings?: I18nStrings;\n}\n\nexport default memo(ChartFilter) as typeof ChartFilter;\n\nfunction ChartFilter<T>({ series, i18nStrings, selectedSeries, onChange, ...restProps }: ChartFilterProps<T>) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const i18n = useInternalI18n('[charts]');\n\n  const defaultOptions = series.map((d, i) => ({\n    label: d.label,\n    value: '' + i,\n    datum: d.datum,\n    __customIcon: (\n      <span className={styles['custom-icon-wrapper']}>\n        <SeriesMarker color={d.color} type={d.type} />\n      </span>\n    ),\n  }));\n\n  const selectedOptions = defaultOptions.filter(option => selectedSeries?.indexOf(option.datum) !== -1);\n\n  const updateSelection = useCallback<NonCancelableEventHandler<MultiselectProps.MultiselectChangeDetail>>(\n    ({ detail: { selectedOptions } }) => {\n      const selectedSeries = defaultOptions\n        .filter(option => selectedOptions.indexOf(option) !== -1)\n        .map(option => option.datum);\n      onChange(selectedSeries);\n    },\n    [onChange, defaultOptions]\n  );\n\n  return (\n    <InternalFormField\n      {...baseProps}\n      label={i18n('i18nStrings.filterLabel', i18nStrings?.filterLabel)}\n      className={className}\n    >\n      <InternalMultiselect\n        placeholder={i18n('i18nStrings.filterPlaceholder', i18nStrings?.filterPlaceholder)}\n        options={defaultOptions}\n        selectedOptions={selectedOptions}\n        onChange={updateSelection}\n        className={styles['chart-filter']}\n        selectedAriaLabel={i18nStrings?.filterSelectedAriaLabel}\n        hideTokens={true}\n      />\n    </InternalFormField>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1kjc7_xlzpw_97\",\n  \"root\": \"awsui_root_1kjc7_xlzpw_115\",\n  \"title\": \"awsui_title_1kjc7_xlzpw_153\",\n  \"list\": \"awsui_list_1kjc7_xlzpw_157\",\n  \"marker--dimmed\": \"awsui_marker--dimmed_1kjc7_xlzpw_206\",\n  \"marker--highlighted\": \"awsui_marker--highlighted_1kjc7_xlzpw_209\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal';\nimport { useInternalI18n } from '../../../i18n/context';\nimport { KeyCode } from '../../keycode';\nimport handleKey from '../../utils/handle-key';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\n\nimport styles from './styles.css.js';\n\nexport interface ChartLegendItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartLegendProps<T> {\n  series: ReadonlyArray<ChartLegendItem<T>>;\n  highlightedSeries: T | null;\n  legendTitle?: string;\n  ariaLabel?: string;\n  plotContainerRef?: React.RefObject<HTMLDivElement>;\n  onHighlightChange: (series: T | null) => void;\n}\n\nexport default memo(ChartLegend) as typeof ChartLegend;\n\nfunction ChartLegend<T>({\n  series,\n  onHighlightChange,\n  highlightedSeries,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: ChartLegendProps<T>) {\n  const i18n = useInternalI18n('[charts]');\n  const containerRef = useRef<HTMLDivElement>(null);\n  const segmentsRef = useRef<Record<number, HTMLElement>>([]);\n\n  const highlightedSeriesIndex = findSeriesIndex(series, highlightedSeries);\n\n  const highlightInlineStart = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : series.length - 1;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const highlightInlineEnd = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex + 1 < series.length ? currentIndex + 1 : 0;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLElement>) => {\n    if (event.keyCode === KeyCode.right || event.keyCode === KeyCode.left) {\n      // Preventing default fixes an issue in Safari+VO when VO additionally interprets arrow keys as its commands.\n      event.preventDefault();\n\n      handleKey(event, {\n        onInlineStart: () => highlightInlineStart(),\n        onInlineEnd: () => highlightInlineEnd(),\n      });\n    }\n  };\n\n  const handleSelection = (index: number) => {\n    if (series[index].datum !== highlightedSeries) {\n      onHighlightChange(series[index].datum);\n    }\n  };\n\n  const handleBlur = (event: React.FocusEvent<Element>) => {\n    // We need to check if the next element to be focused inside the plot container or not\n    // so we don't clear the selected legend in case we are still focusing elements ( legend elements )\n    // inside the plot container\n    if (\n      event.relatedTarget === null ||\n      (containerRef.current &&\n        !containerRef.current.contains(event.relatedTarget) &&\n        !plotContainerRef?.current?.contains(event.relatedTarget))\n    ) {\n      onHighlightChange(null);\n    }\n  };\n\n  const handleMouseOver = (s: T) => {\n    if (s !== highlightedSeries) {\n      onHighlightChange(s);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    onHighlightChange(null);\n  };\n\n  return (\n    <>\n      <div\n        ref={containerRef}\n        role=\"toolbar\"\n        aria-label={legendTitle || i18n('i18nStrings.legendAriaLabel', ariaLabel)}\n        className={styles.root}\n        onKeyDown={handleKeyPress}\n        onBlur={handleBlur}\n      >\n        {legendTitle && (\n          <InternalBox fontWeight=\"bold\" className={styles.title}>\n            {legendTitle}\n          </InternalBox>\n        )}\n\n        <div className={styles.list}>\n          {series.map((s, index) => {\n            const someHighlighted = highlightedSeries !== null;\n            const isHighlighted = highlightedSeries === s.datum;\n            const isDimmed = someHighlighted && !isHighlighted;\n            return (\n              <div\n                role=\"button\"\n                key={index}\n                aria-pressed={isHighlighted}\n                className={clsx(styles.marker, {\n                  [styles['marker--dimmed']]: isDimmed,\n                  [styles['marker--highlighted']]: isHighlighted,\n                })}\n                ref={elem => {\n                  if (elem) {\n                    segmentsRef.current[index] = elem;\n                  } else {\n                    delete segmentsRef.current[index];\n                  }\n                }}\n                tabIndex={\n                  index === highlightedSeriesIndex || (highlightedSeriesIndex === undefined && index === 0) ? 0 : -1\n                }\n                onFocus={() => handleSelection(index)}\n                onClick={() => handleSelection(index)}\n                onMouseOver={() => handleMouseOver(s.datum)}\n                onMouseLeave={handleMouseLeave}\n              >\n                <SeriesMarker color={s.color} type={s.type} /> {s.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction findSeriesIndex<T>(series: ReadonlyArray<ChartLegendItem<T>>, targetSeries: null | T): undefined | number {\n  for (let index = 0; index < series.length; index++) {\n    if (series[index].datum === targetSeries) {\n      return index;\n    }\n  }\n  return undefined;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1fcus_1ncqp_97\",\n  \"clickable\": \"awsui_clickable_1fcus_1ncqp_106\",\n  \"precise\": \"awsui_precise_1fcus_1ncqp_110\",\n  \"focus-outline\": \"awsui_focus-outline_1fcus_1ncqp_114\",\n  \"application\": \"awsui_application_1fcus_1ncqp_123\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\n\nimport styles from './styles.css.js';\n\nexport interface ApplicationRef {\n  focus(): void;\n}\n\nexport interface ApplicationControllerProps {\n  activeElementKey: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  onFocus?: (event: React.FocusEvent<SVGGElement>) => void;\n  onBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n}\n\nexport default forwardRef(ApplicationController);\n\nfunction ApplicationController(\n  { activeElementKey, activeElementRef, onFocus, onBlur, onKeyDown }: ApplicationControllerProps,\n  ref: React.Ref<ApplicationRef>\n) {\n  const containerRef = useRef<SVGGElement>(null);\n  const applicationRef = useRef<SVGGElement>(null);\n  const focusTransitionRef = useRef(false);\n  const [isFocused, setFocused] = useState(false);\n\n  // Calls provided onFocus handler when the application obtains focus, ignoring internal focus juggling.\n  const onApplicationFocus = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(true);\n        onFocus && onFocus(event);\n      } else {\n        focusTransitionRef.current = false;\n      }\n    },\n    [onFocus]\n  );\n  // Calls provided onBlur handler when the application loses focus, ignoring internal focus juggling.\n  const onApplicationBlur = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(false);\n        onBlur && onBlur(event);\n        // The application controller can only be focused programmatically.\n        muteApplication(applicationRef.current!);\n      }\n    },\n    [onBlur]\n  );\n  const onApplicationKeyDown = onKeyDown;\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => focusApplication(applicationRef.current!, activeElementRef?.current || null),\n    }),\n    [activeElementRef]\n  );\n\n  // Re-attaches and re-focuses the application for screen readers to treat it as an update.\n  useEffect(() => {\n    // Skip if not focused or if the transition is already happening.\n    if (!isFocused || focusTransitionRef.current === true) {\n      return;\n    }\n    focusTransitionRef.current = true;\n    containerRef.current!.removeChild(applicationRef.current!);\n    containerRef.current!.appendChild(applicationRef.current!);\n    focusApplication(applicationRef.current!, activeElementRef?.current || null);\n  }, [isFocused, activeElementKey, activeElementRef]);\n\n  return (\n    <g ref={containerRef}>\n      <g\n        tabIndex={-1}\n        ref={applicationRef}\n        onFocus={onApplicationFocus}\n        onBlur={onApplicationBlur}\n        onKeyDown={onApplicationKeyDown}\n        className={styles.application}\n      ></g>\n    </g>\n  );\n}\n\n// Focuses application but before copies aria-attributes from the target.\nfunction focusApplication(app: SVGGElement, target: null | SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Copy new attributes.\n  if (target) {\n    for (const attributeName of target.getAttributeNames()) {\n      if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n        const attributeValue = target.getAttribute(attributeName);\n        attributeValue && app.setAttribute(attributeName, attributeValue);\n      }\n    }\n  }\n\n  // Make app focusable.\n  app.tabIndex = 0;\n  app.setAttribute('focusable', 'true');\n  app.setAttribute('aria-hidden', 'false');\n\n  // Focus app.\n  app.focus({ preventScroll: true });\n}\n\n// The application is to be only focused programmatically.\nfunction muteApplication(app: SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Make app non-focusable.\n  app.tabIndex = -1;\n  app.setAttribute('focusable', 'false');\n  app.setAttribute('aria-hidden', 'true');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { isModifierKey } from '@cloudscape-design/component-toolkit/internal';\n\nimport { Offset } from '../interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface FocusOutlineProps {\n  elementKey?: null | string | number | boolean;\n  elementRef?: React.RefObject<SVGSVGElement | SVGGElement>;\n  offset?: Offset;\n}\n\nfunction useFocusVisibleState() {\n  const [focusVisible, setFocusVisible] = useState(false);\n  useEffect(() => {\n    function handleMousedown() {\n      return setFocusVisible(false);\n    }\n\n    function handleKeydown(event: KeyboardEvent) {\n      // we do not want to highlight focused element\n      // when special keys are pressed\n      if (!isModifierKey(event)) {\n        setFocusVisible(true);\n      }\n    }\n\n    document.addEventListener('mousedown', handleMousedown);\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n      document.removeEventListener('mousedown', handleMousedown);\n      document.removeEventListener('keydown', handleKeydown);\n    };\n  });\n\n  return focusVisible;\n}\n\nexport default function FocusOutline({ elementKey, elementRef, offset = 0 }: FocusOutlineProps) {\n  const ref = useRef<SVGRectElement>(null);\n  const focusVisible = useFocusVisibleState();\n\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    if (focusVisible && elementKey && elementRef && elementRef.current && elementRef.current.getBBox) {\n      const element = elementRef.current.getBBox();\n      showOutline(ref.current, element, offset);\n    } else {\n      hideOutline(ref.current);\n    }\n  }, [focusVisible, elementKey, elementRef, offset]);\n\n  return <rect ref={ref} aria-hidden=\"true\" className={styles['focus-outline']} rx=\"2\" />;\n}\n\nfunction showOutline(\n  el: SVGRectElement,\n  position: { x: number; y: number; width: number; height: number },\n  offset: Offset\n) {\n  const offsetX = typeof offset === 'number' ? offset : offset.x;\n  const offsetY = typeof offset === 'number' ? offset : offset.y;\n  el.setAttribute('x', (position.x - offsetX).toString());\n  el.setAttribute('y', (position.y - offsetY).toString());\n  el.setAttribute('width', (position.width + 2 * offsetX).toString());\n  el.setAttribute('height', (position.height + 2 * offsetY).toString());\n  el.style.visibility = 'visible';\n}\n\nfunction hideOutline(el: SVGRectElement) {\n  el.style.visibility = 'hidden';\n  el.removeAttribute('x');\n  el.removeAttribute('y');\n  el.removeAttribute('width');\n  el.removeAttribute('height');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport { useUniqueId } from '../../hooks/use-unique-id';\nimport { KeyCode } from '../../keycode';\nimport { Offset } from '../interfaces';\nimport LiveRegion from '../live-region/index';\nimport ApplicationController, { ApplicationRef } from './application-controller';\nimport FocusOutline from './focus-outline';\n\nimport styles from './styles.css.js';\n\nconst DEFAULT_PLOT_FOCUS_OFFSET = 3;\nconst DEFAULT_ELEMENT_FOCUS_OFFSET = 3;\n\nexport interface ChartPlotRef {\n  svg: SVGSVGElement;\n  focusPlot(): void;\n  focusApplication(): void;\n}\n\nexport interface ChartPlotProps {\n  width: number | string;\n  height: number | string;\n  transform?: string;\n  offsetTop?: number;\n  offsetBottom?: number;\n  offsetLeft?: number;\n  offsetRight?: number;\n  focusOffset?: number;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescription?: string;\n  ariaDescribedby?: string;\n  ariaRoleDescription?: string;\n  activeElementKey?: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  activeElementFocusOffset?: Offset;\n  ariaLiveRegion?: string;\n  isClickable?: boolean;\n  isPrecise?: boolean;\n  onClick?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseMove?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseOut?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onApplicationFocus?: (event: React.FocusEvent<SVGGElement>, trigger: 'mouse' | 'keyboard') => void;\n  onApplicationBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n  children: React.ReactNode;\n}\n\n/**\n  An extension for the SVG to be used for charts. It includes a controller element to\n  handle the focus and keyboard interactions in a way that is supported by screen readers.\n\n  The application mimics the aria-activedescendant behavior which is unsupported by Safari. The\n  activeElementRef is the pointer to the secondary-focus element and activeElementKey denotes when\n  the focus transition was made.\n\n  Alternatively, ariaLiveRegion can be used to make announcements.\n*/\nexport default forwardRef(ChartPlot);\n\nfunction ChartPlot(\n  {\n    width,\n    height,\n    transform,\n    offsetTop,\n    offsetBottom,\n    offsetLeft,\n    offsetRight,\n    ariaLabel,\n    ariaLabelledby,\n    ariaRoleDescription,\n    ariaDescription,\n    ariaDescribedby,\n    activeElementKey,\n    activeElementRef,\n    ariaLiveRegion,\n    isClickable,\n    isPrecise,\n    children,\n    onClick,\n    onKeyDown,\n    focusOffset = DEFAULT_PLOT_FOCUS_OFFSET,\n    activeElementFocusOffset = DEFAULT_ELEMENT_FOCUS_OFFSET,\n    onMouseMove,\n    onMouseOut,\n    onApplicationBlur,\n    onApplicationFocus,\n  }: ChartPlotProps,\n  ref: React.Ref<ChartPlotRef>\n) {\n  const i18n = useInternalI18n('[charts]');\n  const svgRef = useRef<SVGSVGElement>(null);\n  const applicationRef = useRef<ApplicationRef>(null);\n  const plotClickedRef = useRef(false);\n  const [isPlotFocused, setPlotFocused] = useState(false);\n  const [isApplicationFocused, setApplicationFocused] = useState(false);\n\n  const internalDescriptionId = useUniqueId('awsui-chart-plot__description');\n  const ariaDescriptionId = [ariaDescription && internalDescriptionId, ariaDescribedby].filter(Boolean).join(' ');\n\n  useImperativeHandle(ref, () => ({\n    svg: svgRef.current!,\n    focusPlot: () => svgRef.current!.focus(),\n    focusApplication: () => applicationRef.current!.focus(),\n  }));\n\n  const onPlotMouseDown = () => {\n    // Record the click was made for the application focus handler.\n    plotClickedRef.current = true;\n  };\n  const onPlotFocus = (event: React.FocusEvent<SVGSVGElement>) => {\n    // If focused via click or an element was highlighted,\n    // focus the internal application, which will manage and show focus accordingly on its internal elements.\n    if (plotClickedRef.current || !!activeElementKey) {\n      applicationRef.current!.focus();\n    } else if (event.target === svgRef.current) {\n      // Otherwise, focus the entire plot if it was focused with the keyboard.\n      setPlotFocused(true);\n    }\n  };\n  const onPlotClick = (event: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    onClick && onClick(event);\n  };\n  const onPlotBlur = (event: React.FocusEvent<SVGSVGElement>) => {\n    if (event.target === svgRef.current) {\n      setPlotFocused(false);\n    }\n  };\n  // Once one of the expected keys is pressed the focus is delegated to the application controller.\n  const onPlotKeyDown = (event: React.KeyboardEvent) => {\n    if (isPlotFocused) {\n      // Delegate the focus to the application if one of the expected keys was pressed.\n      const codes = [KeyCode.space, KeyCode.enter, KeyCode.up, KeyCode.left, KeyCode.right, KeyCode.down];\n      if (codes.indexOf(event.keyCode) !== -1) {\n        applicationRef.current!.focus();\n      }\n    }\n  };\n\n  const onPlotApplicationFocus = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationFocus && onApplicationFocus(event, plotClickedRef.current ? 'mouse' : 'keyboard');\n    // \"Release\" the click reference to not affect the next call of this handler.\n    plotClickedRef.current = false;\n    setApplicationFocused(true);\n  };\n  const onPlotApplicationBlur = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationBlur && onApplicationBlur(event);\n    setApplicationFocused(false);\n  };\n  const onApplicationKeyDown = onKeyDown;\n\n  const plotFocusable = !isApplicationFocused;\n  const plotTabIndex = plotFocusable ? 0 : -1;\n  const plotAria = !isApplicationFocused\n    ? {\n        'aria-label': ariaLabel,\n        'aria-labelledby': ariaLabelledby,\n        'aria-describedby': ariaDescriptionId,\n        'aria-roledescription': i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription),\n      }\n    : {};\n\n  return (\n    <>\n      <svg\n        onMouseMove={onMouseMove}\n        onMouseOut={onMouseOut}\n        focusable={plotFocusable}\n        tabIndex={plotTabIndex}\n        role=\"application\"\n        aria-hidden=\"false\"\n        {...plotAria}\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          marginTop: offsetTop,\n          marginBottom: offsetBottom,\n          marginLeft: offsetLeft,\n          marginRight: offsetRight,\n        }}\n        className={clsx(styles.root, {\n          [styles.clickable]: isClickable,\n          [styles.precise]: isPrecise,\n        })}\n        onMouseDown={onPlotMouseDown}\n        onClick={onPlotClick}\n        onFocus={onPlotFocus}\n        onBlur={onPlotBlur}\n        onKeyDown={onPlotKeyDown}\n      >\n        <FocusOutline elementRef={svgRef} elementKey={isPlotFocused} offset={focusOffset} />\n\n        <g transform={transform}>\n          <ApplicationController\n            activeElementKey={(isApplicationFocused && activeElementKey) || null}\n            activeElementRef={activeElementRef}\n            ref={applicationRef}\n            onFocus={onPlotApplicationFocus}\n            onBlur={onPlotApplicationBlur}\n            onKeyDown={onApplicationKeyDown}\n          />\n\n          {/* Only show description when plot is focusable to avoid repetition in Safari and Firefox */}\n          {ariaDescription && plotFocusable && (\n            <desc aria-hidden=\"true\" id={internalDescriptionId}>\n              {ariaDescription}\n            </desc>\n          )}\n\n          {children}\n\n          <FocusOutline\n            elementRef={activeElementRef}\n            elementKey={isApplicationFocused && activeElementKey}\n            offset={activeElementFocusOffset}\n          />\n        </g>\n      </svg>\n\n      <LiveRegion>{ariaLiveRegion}</LiveRegion>\n    </>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t8ew_fiatb_9\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport styles from './styles.css.js';\n\nexport default function ChartPopoverFooter({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t44z_1u1ur_97\",\n  \"hover-area\": \"awsui_hover-area_1t44z_1u1ur_133\",\n  \"popover-body\": \"awsui_popover-body_1t44z_1u1ur_141\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport PopoverBody from '../../../popover/body';\nimport PopoverContainer from '../../../popover/container';\nimport { PopoverProps } from '../../../popover/interfaces';\nimport { getBaseProps } from '../../base-component';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport { nodeBelongs } from '../../utils/node-belongs';\n\nimport popoverStyles from '../../../popover/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface ChartPopoverProps extends PopoverProps {\n  /** Title of the popover */\n  title?: React.ReactNode;\n\n  /** References the element the container is positioned against. */\n  trackRef: React.RefObject<HTMLElement | SVGElement>;\n  /**\n    Used to update the container position in case track or track position changes:\n    \n    const trackRef = useRef<Element>(null)\n    return (<>\n      <Track style={getPosition(selectedItemId)} ref={trackRef} />\n      <PopoverContainer trackRef={trackRef} trackKey={selectedItemId} .../>\n    </>)\n  */\n  trackKey?: string | number;\n\n  /** Optional container element that prevents any clicks in there from dismissing the popover */\n  container: Element | null;\n\n  /** Event that is fired when the popover is dismissed */\n  onDismiss: (outsideClick?: boolean) => void;\n\n  /** Fired when the pointer enters the hoverable area around the popover */\n  onMouseEnter?: (event: React.MouseEvent) => void;\n\n  /** Fired when the pointer leaves the hoverable area around the popover */\n  onMouseLeave?: (event: React.MouseEvent) => void;\n\n  onBlur?: (event: React.FocusEvent) => void;\n\n  /** Popover content */\n  children?: React.ReactNode;\n}\n\nexport default React.forwardRef(ChartPopover);\n\nfunction ChartPopover(\n  {\n    position = 'right',\n    size = 'medium',\n    fixedWidth = false,\n    dismissButton = false,\n    dismissAriaLabel,\n\n    children,\n\n    title,\n    trackRef,\n    trackKey,\n    onDismiss,\n    container,\n\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n\n    ...restProps\n  }: ChartPopoverProps,\n  ref: React.Ref<HTMLElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const popoverObjectRef = useRef<HTMLDivElement | null>(null);\n\n  const popoverRef = useMergeRefs(popoverObjectRef, ref);\n\n  useEffect(() => {\n    const onDocumentClick = (event: MouseEvent) => {\n      if (\n        event.target &&\n        !nodeBelongs(popoverObjectRef.current, event.target as Element) && // click not in popover\n        !nodeContains(container, event.target as Element) // click not in segment\n      ) {\n        onDismiss(true);\n      }\n    };\n\n    document.addEventListener('mousedown', onDocumentClick, { capture: true });\n    return () => {\n      document.removeEventListener('mousedown', onDocumentClick, { capture: true });\n    };\n  }, [container, onDismiss]);\n\n  // In chart popovers, dismiss button is present when they are pinned, so both values are equivalent.\n  const isPinned = dismissButton;\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(popoverStyles.root, styles.root, baseProps.className)}\n      ref={popoverRef}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      onBlur={onBlur}\n      // The tabIndex makes it so that clicking inside popover assigns this element as blur target.\n      // That is necessary in charts to ensure the blur target is within the chart and no cleanup is needed.\n      tabIndex={-1}\n    >\n      <PopoverContainer\n        size={size}\n        fixedWidth={fixedWidth}\n        position={position}\n        trackRef={trackRef}\n        trackKey={trackKey}\n        arrow={position => (\n          <div className={clsx(popoverStyles.arrow, popoverStyles[`arrow-position-${position}`])}>\n            <div className={popoverStyles['arrow-outer']} />\n            <div className={popoverStyles['arrow-inner']} />\n          </div>\n        )}\n        keepPosition={true}\n        allowVerticalOverflow={true}\n        allowScrollToFit={isPinned}\n      >\n        <div className={styles['hover-area']}>\n          <PopoverBody\n            dismissButton={dismissButton}\n            dismissAriaLabel={dismissAriaLabel}\n            header={title}\n            onDismiss={onDismiss}\n            overflowVisible=\"content\"\n            className={styles['popover-body']}\n          >\n            {children}\n          </PopoverBody>\n        </div>\n      </PopoverContainer>\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"dimmed\": \"awsui_dimmed_10ipo_1uqhm_97\",\n  \"marker\": \"awsui_marker_10ipo_1uqhm_148\",\n  \"marker--line\": \"awsui_marker--line_10ipo_1uqhm_191\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_10ipo_1uqhm_195\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_10ipo_1uqhm_202\",\n  \"marker--dashed\": \"awsui_marker--dashed_10ipo_1uqhm_218\",\n  \"root\": \"awsui_root_10ipo_1uqhm_241\",\n  \"value\": \"awsui_value_10ipo_1uqhm_276\",\n  \"expandable\": \"awsui_expandable_10ipo_1uqhm_280\",\n  \"list-item\": \"awsui_list-item_10ipo_1uqhm_284\",\n  \"inner-list-item\": \"awsui_inner-list-item_10ipo_1uqhm_285\",\n  \"key-value-pair\": \"awsui_key-value-pair_10ipo_1uqhm_290\",\n  \"expandable-section\": \"awsui_expandable-section_10ipo_1uqhm_291\",\n  \"key\": \"awsui_key_10ipo_1uqhm_290\",\n  \"sub-items\": \"awsui_sub-items_10ipo_1uqhm_304\",\n  \"list\": \"awsui_list_10ipo_1uqhm_284\",\n  \"compact\": \"awsui_compact_10ipo_1uqhm_330\",\n  \"with-sub-items\": \"awsui_with-sub-items_10ipo_1uqhm_335\",\n  \"full-width\": \"awsui_full-width_10ipo_1uqhm_340\",\n  \"announced\": \"awsui_announced_10ipo_1uqhm_344\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo, ReactNode, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport InternalExpandableSection from '../../../expandable-section/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport ChartSeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport getSeriesDetailsText from './series-details-text';\n\nimport styles from './styles.css.js';\n\ninterface ChartDetailPair {\n  key: ReactNode;\n  value: ReactNode;\n}\n\ninterface ListItemProps {\n  itemKey: ReactNode;\n  value: ReactNode;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n}\n\nexport interface ChartSeriesDetailItem extends ChartDetailPair {\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n  isDimmed?: boolean;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  expandableId?: string;\n}\nexport type ExpandedSeries = Set<string>;\n\nexport interface ChartSeriesDetailsProps extends BaseComponentProps {\n  details: ReadonlyArray<ChartSeriesDetailItem>;\n  expandedSeries?: ExpandedSeries;\n  setPopoverText?: (s: string) => void;\n  setExpandedState?: (seriesTitle: string, state: boolean) => void;\n  compactList?: boolean;\n}\n\nexport default memo(forwardRef(ChartSeriesDetails));\n\nfunction ChartSeriesDetails(\n  { details, expandedSeries, setPopoverText, setExpandedState, compactList, ...restProps }: ChartSeriesDetailsProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const detailsRef = useRef<HTMLDivElement | null>(null);\n  const mergedRef = useMergeRefs(ref, detailsRef);\n\n  // Once the component has rendered, pass its content in plain text\n  // so that it can be used by screen readers.\n  useEffect(() => {\n    if (setPopoverText) {\n      if (detailsRef.current) {\n        setPopoverText(getSeriesDetailsText(detailsRef.current));\n      }\n      return () => {\n        setPopoverText('');\n      };\n    }\n  }, [details, setPopoverText]);\n\n  const isExpanded = (seriesTitle: string) => !!expandedSeries && expandedSeries.has(seriesTitle);\n\n  return (\n    <div {...baseProps} className={className} ref={mergedRef}>\n      <ul className={clsx(styles.list, compactList && styles.compact)}>\n        {details.map(({ key, value, markerType, color, isDimmed, subItems, expandableId }, index) => (\n          <li\n            key={index}\n            className={clsx({\n              [styles.dimmed]: isDimmed,\n              [styles['list-item']]: true,\n              [styles['with-sub-items']]: subItems?.length,\n              [styles.expandable]: !!expandableId,\n            })}\n          >\n            {subItems?.length && !!expandableId ? (\n              <ExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n                expanded={isExpanded(expandableId)}\n                setExpandedState={state => setExpandedState && setExpandedState(expandableId, state)}\n              />\n            ) : (\n              <NonExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n              />\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction SubItems({\n  items,\n  expandable,\n  expanded,\n}: {\n  items: ReadonlyArray<ChartDetailPair>;\n  expandable?: boolean;\n  expanded?: boolean;\n}) {\n  return (\n    <ul className={clsx(styles['sub-items'], expandable && styles.expandable)}>\n      {items.map(({ key, value }, index) => (\n        <li\n          key={index}\n          className={clsx(\n            styles['inner-list-item'],\n            styles['key-value-pair'],\n            (expanded || !expandable) && styles.announced\n          )}\n        >\n          <span className={styles.key}>{key}</span>\n          <span className={styles.value}>{value}</span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nfunction ExpandableSeries({\n  itemKey,\n  value,\n  subItems,\n  markerType,\n  color,\n  expanded,\n  setExpandedState,\n}: ListItemProps &\n  Required<Pick<ListItemProps, 'subItems'>> & {\n    expanded: boolean;\n    setExpandedState: (state: boolean) => void;\n  }) {\n  return (\n    <div className={styles['expandable-section']}>\n      {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n      <div className={styles['full-width']}>\n        <InternalExpandableSection\n          variant=\"compact\"\n          headerText={itemKey}\n          headerActions={<span className={clsx(styles.value, styles.expandable)}>{value}</span>}\n          expanded={expanded}\n          onChange={({ detail }) => setExpandedState(detail.expanded)}\n        >\n          <SubItems items={subItems} expandable={true} expanded={expanded} />\n        </InternalExpandableSection>\n      </div>\n    </div>\n  );\n}\n\nfunction NonExpandableSeries({ itemKey, value, subItems, markerType, color }: ListItemProps) {\n  return (\n    <>\n      <div className={clsx(styles['key-value-pair'], styles.announced)}>\n        <div className={styles.key}>\n          {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n          <span>{itemKey}</span>\n        </div>\n        <span className={styles.value}>{value}</span>\n      </div>\n      {subItems && <SubItems items={subItems} />}\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport expandabeleSectionHeaderStyles from '../../../expandable-section/styles.css.js';\nimport styles from './styles.css.js';\n\nexport default function getSeriesDetailsText(element: HTMLElement) {\n  const elementsWithText = Array.from(\n    element.querySelectorAll(`.${styles.announced},.${expandabeleSectionHeaderStyles.header}`)\n  );\n  return elementsWithText\n    .map(element => {\n      if (element instanceof HTMLElement) {\n        return element.innerText\n          ?.split('\\n')\n          .map(s => s.trim())\n          .join(' ')\n          .trim();\n      }\n    })\n    .filter(Boolean)\n    .join(', ');\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1isd1_1ums7_97\",\n  \"marker--line\": \"awsui_marker--line_1isd1_1ums7_140\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_1isd1_1ums7_144\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_1isd1_1ums7_151\",\n  \"marker--dashed\": \"awsui_marker--dashed_1isd1_1ums7_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { BaseComponentProps } from '../../base-component';\n\nimport styles from './styles.css.js';\n\nexport type ChartSeriesMarkerType = 'line' | 'rectangle' | 'dashed' | 'hollow-rectangle';\n\ninterface ChartSeriesMarkerProps extends BaseComponentProps {\n  type: ChartSeriesMarkerType;\n  color: string;\n}\n\nexport default memo(ChartSeriesMarker);\n\nfunction ChartSeriesMarker({ type = 'line', color }: ChartSeriesMarkerProps) {\n  return (\n    <span\n      className={clsx(styles.marker, styles[`marker--${type}`])}\n      style={{ backgroundColor: color }}\n      aria-hidden=\"true\"\n    ></span>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_11n0s_6tm6j_9\",\n  \"empty\": \"awsui_empty_11n0s_6tm6j_13\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport InternalLink from '../../../link/internal';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { BaseComponentProps } from '../../base-component';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\n\nimport styles from './styles.css.js';\n\ninterface ChartStatusContainerProps extends BaseComponentProps {\n  statusType: 'loading' | 'finished' | 'error';\n\n  empty?: React.ReactNode;\n  noMatch?: React.ReactNode;\n\n  loadingText?: string;\n  errorText?: string;\n  recoveryText?: string;\n\n  onRecoveryClick?: NonCancelableEventHandler;\n\n  // From `getChartStatus`\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  showChart?: boolean;\n}\n\nexport function getChartStatus<T, U>({\n  externalData,\n  visibleData,\n  statusType,\n}: {\n  externalData: ReadonlyArray<T>;\n  visibleData: ReadonlyArray<U>;\n  statusType: 'loading' | 'finished' | 'error';\n}) {\n  const isEmpty = !visibleData || visibleData.length === 0;\n  const isNoMatch = isEmpty && visibleData.length !== externalData.length;\n  const showChart = statusType === 'finished' && !isEmpty;\n  return { isEmpty, isNoMatch, showChart };\n}\n\nexport default function ChartStatusContainer({\n  statusType,\n  errorText,\n  loadingText,\n  recoveryText,\n  noMatch,\n  empty,\n  onRecoveryClick,\n  isNoMatch,\n  isEmpty,\n  showChart,\n}: ChartStatusContainerProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const statusContainer = useMemo(() => {\n    const handleRecoveryClick = (event: CustomEvent) => {\n      event.preventDefault();\n      fireNonCancelableEvent(onRecoveryClick);\n    };\n    if (statusType === 'error') {\n      const renderedRecoveryText = i18n('recoveryText', recoveryText);\n      return (\n        <span>\n          <InternalStatusIndicator type=\"error\">{i18n('errorText', errorText)}</InternalStatusIndicator>{' '}\n          {!!renderedRecoveryText && !!onRecoveryClick && (\n            <InternalLink onFollow={handleRecoveryClick} variant=\"recovery\">\n              {renderedRecoveryText}\n            </InternalLink>\n          )}\n        </span>\n      );\n    }\n\n    if (statusType === 'loading') {\n      return <InternalStatusIndicator type=\"loading\">{i18n('loadingText', loadingText)}</InternalStatusIndicator>;\n    }\n\n    if (isNoMatch) {\n      return <div className={styles.empty}>{noMatch}</div>;\n    }\n\n    if (isEmpty) {\n      return <div className={styles.empty}>{empty}</div>;\n    }\n  }, [i18n, statusType, onRecoveryClick, isEmpty, isNoMatch, recoveryText, loadingText, errorText, empty, noMatch]);\n\n  return (\n    <div className={styles.root} aria-live=\"polite\" aria-atomic=\"true\">\n      {!showChart && statusContainer}\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"wrapper\": \"awsui_wrapper_z5mul_11r0q_97\",\n  \"wrapper--fit-height\": \"awsui_wrapper--fit-height_z5mul_11r0q_133\",\n  \"inner-wrapper--fit-height\": \"awsui_inner-wrapper--fit-height_z5mul_11r0q_138\",\n  \"has-default-filter\": \"awsui_has-default-filter_z5mul_11r0q_144\",\n  \"content\": \"awsui_content_z5mul_11r0q_148\",\n  \"content--reserve-filter\": \"awsui_content--reserve-filter_z5mul_11r0q_155\",\n  \"content--reserve-legend\": \"awsui_content--reserve-legend_z5mul_11r0q_159\",\n  \"content--fit-height\": \"awsui_content--fit-height_z5mul_11r0q_163\",\n  \"filter-container\": \"awsui_filter-container_z5mul_11r0q_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal.js';\nimport InternalSpaceBetween from '../../../space-between/internal.js';\nimport { BaseComponentProps, getBaseProps } from '../../base-component/index.js';\n\nimport styles from './styles.css.js';\n\ninterface ChartWrapperProps extends BaseComponentProps {\n  fitHeight: boolean;\n  defaultFilter: React.ReactNode;\n  additionalFilters: React.ReactNode;\n  reserveFilterSpace: boolean;\n  reserveLegendSpace: boolean;\n  chartStatus: React.ReactNode;\n  chart: React.ReactNode;\n  legend: React.ReactNode;\n  onBlur?(event: React.FocusEvent): void;\n  contentClassName?: string;\n  contentMinHeight?: number;\n}\n\nexport const ChartWrapper = forwardRef(\n  (\n    {\n      defaultFilter,\n      additionalFilters,\n      reserveFilterSpace,\n      reserveLegendSpace,\n      chartStatus,\n      chart,\n      legend,\n      onBlur,\n      contentClassName,\n      contentMinHeight,\n      fitHeight,\n      ...props\n    }: ChartWrapperProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const baseProps = getBaseProps(props);\n\n    const filtersNode = (defaultFilter || additionalFilters) && (\n      <InternalBox className={styles['filter-container']} margin={{ bottom: 'l' }}>\n        <InternalSpaceBetween\n          size=\"l\"\n          direction=\"horizontal\"\n          className={clsx({ [styles['has-default-filter']]: !!defaultFilter })}\n        >\n          {defaultFilter}\n          {additionalFilters}\n        </InternalSpaceBetween>\n      </InternalBox>\n    );\n\n    const legendNode = legend && <InternalBox margin={{ top: 'm' }}>{legend}</InternalBox>;\n\n    if (fitHeight) {\n      return (\n        <div\n          ref={ref}\n          {...baseProps}\n          className={clsx(baseProps.className, styles.wrapper, styles['wrapper--fit-height'])}\n          onBlur={onBlur}\n        >\n          <div className={clsx(styles['inner-wrapper'], styles['inner-wrapper--fit-height'])}>\n            {filtersNode}\n\n            <div\n              className={clsx(styles.content, contentClassName, {\n                [styles['content--reserve-filter']]: reserveFilterSpace,\n                [styles['content--reserve-legend']]: reserveLegendSpace,\n                [styles['content--fit-height']]: true,\n              })}\n            >\n              {chartStatus}\n              {chart}\n            </div>\n\n            {legendNode}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div ref={ref} {...baseProps} className={clsx(baseProps.className, styles.wrapper)} onBlur={onBlur}>\n        {filtersNode}\n\n        <div\n          className={clsx(styles.content, contentClassName, {\n            [styles['content--reserve-filter']]: reserveFilterSpace,\n            [styles['content--reserve-legend']]: reserveLegendSpace,\n          })}\n          style={{ minHeight: contentMinHeight }}\n        >\n          {chartStatus}\n          {chart}\n        </div>\n\n        {legendNode}\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getTextWidth(textNode: SVGTextElement) {\n  if (textNode.getComputedTextLength) {\n    return textNode.getComputedTextLength();\n  }\n  return -1;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, useRef } from 'react';\n\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getTextWidth } from './responsive-text-utils';\n\ninterface ResponsiveTextProps {\n  x: number;\n  y: number;\n  className?: string;\n  children: string;\n  maxWidth: number;\n}\n\nexport default memo(ResponsiveText);\n\nfunction ResponsiveText({ x, y, className, children, maxWidth }: ResponsiveTextProps) {\n  const textRef = useRef<SVGTextElement>(null);\n\n  // Determine the visible width of the text and if necessary truncate it until it fits.\n  useEffect(() => {\n    const isRtl = getIsRtl(textRef.current!);\n    renderTextContent(textRef.current!, children, maxWidth, isRtl);\n  }, [maxWidth, children]);\n\n  return (\n    <text ref={textRef} x={x} y={y} style={{ textAnchor: 'end' }} className={className}>\n      {children}\n    </text>\n  );\n}\n\nexport function renderTextContent(textNode: SVGTextElement, text: string, maxWidth: number, isRtl: boolean) {\n  let visibleLength = text.length;\n  while (visibleLength >= 0) {\n    textNode.textContent = truncateText(text, visibleLength, isRtl);\n\n    if (getTextWidth(textNode) <= maxWidth) {\n      return;\n    } else {\n      visibleLength--;\n    }\n  }\n}\n\nfunction truncateText(text: string, maxLength: number, isRtl: boolean) {\n  if (text.length === maxLength) {\n    return text;\n  }\n  if (isRtl) {\n    return text.slice(text.length - maxLength) + '…';\n  }\n  return text.slice(0, maxLength) + '…';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { NonCancelableEventHandler } from '../../events';\nimport { isDevelopment } from '../../is-development';\n\nexport default function checkControlled<ValueType, EventDetailType>(\n  componentName: string,\n  propertyName: string,\n  propertyValue: ValueType | undefined,\n  handlerName: string,\n  handlerValue: NonCancelableEventHandler<EventDetailType> | undefined\n) {\n  if (propertyValue !== undefined && handlerValue === undefined && isDevelopment) {\n    warnOnce(\n      componentName,\n      `You provided \\`${propertyName}\\` prop without an \\`${handlerName}\\` handler. This will render a read-only component. If the component should be mutable, set an \\`${handlerName}\\` handler.`\n    );\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useCallback, useState } from 'react';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\n/**\n * Conditional resize observer for border box height used in charts.\n */\nexport function useHeightMeasure(\n  getMeasure: () => null | HTMLElement | SVGElement,\n  skip = false,\n  deps: React.DependencyList = []\n) {\n  const [measuredHeight, setHeight] = useState(0);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const stableGetMeasure = useCallback(getMeasure, [...deps, skip]);\n  useResizeObserver(stableGetMeasure, entry => !skip && setHeight(entry.borderBoxHeight));\n  return !skip ? measuredHeight : undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport * as tokens from '../generated/styles/tokens';\n\nexport const categoryPalette = [\n  tokens.colorChartsPaletteCategorical1,\n  tokens.colorChartsPaletteCategorical2,\n  tokens.colorChartsPaletteCategorical3,\n  tokens.colorChartsPaletteCategorical4,\n  tokens.colorChartsPaletteCategorical5,\n  tokens.colorChartsPaletteCategorical6,\n  tokens.colorChartsPaletteCategorical7,\n  tokens.colorChartsPaletteCategorical8,\n  tokens.colorChartsPaletteCategorical9,\n  tokens.colorChartsPaletteCategorical10,\n  tokens.colorChartsPaletteCategorical11,\n  tokens.colorChartsPaletteCategorical12,\n  tokens.colorChartsPaletteCategorical13,\n  tokens.colorChartsPaletteCategorical14,\n  tokens.colorChartsPaletteCategorical15,\n  tokens.colorChartsPaletteCategorical16,\n  tokens.colorChartsPaletteCategorical17,\n  tokens.colorChartsPaletteCategorical18,\n  tokens.colorChartsPaletteCategorical19,\n  tokens.colorChartsPaletteCategorical20,\n  tokens.colorChartsPaletteCategorical21,\n  tokens.colorChartsPaletteCategorical22,\n  tokens.colorChartsPaletteCategorical23,\n  tokens.colorChartsPaletteCategorical24,\n  tokens.colorChartsPaletteCategorical25,\n  tokens.colorChartsPaletteCategorical26,\n  tokens.colorChartsPaletteCategorical27,\n  tokens.colorChartsPaletteCategorical28,\n  tokens.colorChartsPaletteCategorical29,\n  tokens.colorChartsPaletteCategorical30,\n  tokens.colorChartsPaletteCategorical31,\n  tokens.colorChartsPaletteCategorical32,\n  tokens.colorChartsPaletteCategorical33,\n  tokens.colorChartsPaletteCategorical34,\n  tokens.colorChartsPaletteCategorical35,\n  tokens.colorChartsPaletteCategorical36,\n  tokens.colorChartsPaletteCategorical37,\n  tokens.colorChartsPaletteCategorical38,\n  tokens.colorChartsPaletteCategorical39,\n  tokens.colorChartsPaletteCategorical40,\n  tokens.colorChartsPaletteCategorical41,\n  tokens.colorChartsPaletteCategorical42,\n  tokens.colorChartsPaletteCategorical43,\n  tokens.colorChartsPaletteCategorical44,\n  tokens.colorChartsPaletteCategorical45,\n  tokens.colorChartsPaletteCategorical46,\n  tokens.colorChartsPaletteCategorical47,\n  tokens.colorChartsPaletteCategorical48,\n  tokens.colorChartsPaletteCategorical49,\n  tokens.colorChartsPaletteCategorical50,\n];\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { colorChartsThresholdNeutral as thresholdColor } from '../generated/styles/tokens';\nimport { categoryPalette } from '../styles/colors';\nimport { parseCssVariable } from './dom';\n\nexport default function createCategoryColorScale<T>(\n  items: readonly T[],\n  isThreshold: (item: T) => boolean = () => false,\n  getOwnColor: (item: T) => null | string = () => null\n): string[] {\n  const colors = [];\n\n  let categoryIndex = 0;\n  for (const it of items) {\n    const ownColor = getOwnColor(it);\n    const defaultColor = isThreshold(it) ? thresholdColor : categoryPalette[categoryIndex % categoryPalette.length];\n    colors.push(parseCssVariable(ownColor || defaultColor));\n\n    if (!isThreshold(it) && !ownColor) {\n      categoryIndex++;\n    }\n  }\n\n  return colors;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nexport default function useContainerWidth(\n  defaultValue = 0,\n  threshold = 1\n): [width: number, ref: React.Ref<HTMLDivElement>] {\n  const [width, ref] = useContainerQuery<number>((rect, prev) => {\n    if (prev === null) {\n      return rect.contentBoxWidth;\n    }\n    return Math.abs(prev - rect.contentBoxWidth) >= threshold ? rect.contentBoxWidth : prev;\n  });\n\n  return [width ?? defaultValue, ref];\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_g9v3m_im8v7_5\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport InternalMixedLineBarChart from '../mixed-line-bar-chart/internal';\nimport { LineChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { LineChartProps };\n\nfunction LineChart<T extends number | string | Date>({\n  series = [],\n  height = 500,\n  xScaleType = 'linear',\n  yScaleType = 'linear',\n  detailPopoverSize = 'medium',\n  statusType = 'finished',\n  emphasizeBaselineAxis = true,\n  ...props\n}: LineChartProps<T>) {\n  const baseComponentProps = useBaseComponent('LineChart', {\n    props: {\n      detailPopoverSize,\n      emphasizeBaselineAxis,\n      fitHeight: props.fitHeight,\n      hideFilter: props.hideFilter,\n      hideLegend: props.hideLegend,\n      xScaleType,\n      yScaleType,\n    },\n  });\n  const baseProps = getBaseProps(props);\n  const className = clsx(baseProps.className, styles.root);\n\n  return (\n    <InternalMixedLineBarChart\n      {...props}\n      {...baseComponentProps}\n      className={className}\n      height={height}\n      xScaleType={xScaleType}\n      yScaleType={yScaleType}\n      stackedBars={false}\n      horizontalBars={false}\n      series={series}\n      detailPopoverSize={detailPopoverSize}\n      statusType={statusType}\n      emphasizeBaselineAxis={emphasizeBaselineAxis}\n    />\n  );\n}\n\napplyDisplayName(LineChart, 'LineChart');\n\nexport default LineChart;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { GeneratedAnalyticsMetadataLinkFragment } from './analytics-metadata/interfaces';\nimport { LinkProps } from './interfaces';\nimport InternalLink from './internal';\n\nexport { LinkProps };\n\nconst Link = React.forwardRef(\n  ({ fontSize = 'body-m', color = 'normal', external = false, ...props }: LinkProps, ref: React.Ref<LinkProps.Ref>) => {\n    const baseComponentProps = useBaseComponent('Link', {\n      props: { color, external, fontSize, rel: props.rel, target: props.target, variant: props.variant },\n    });\n\n    const analyticsMetadata: GeneratedAnalyticsMetadataLinkFragment = {\n      action: 'click',\n      detail: {\n        label: { root: 'self' },\n        external: `${external}`,\n      },\n      component: {\n        name: 'awsui.Link',\n        label: { root: 'self' },\n        properties: { variant: props.variant || 'secondary' },\n      },\n    };\n\n    if (props.href) {\n      analyticsMetadata.detail.href = props.href;\n    }\n\n    return (\n      <InternalLink\n        fontSize={fontSize}\n        color={color}\n        external={external}\n        {...props}\n        {...baseComponentProps}\n        ref={ref}\n        {...getAnalyticsMetadataAttribute(analyticsMetadata)}\n      />\n    );\n  }\n);\n\napplyDisplayName(Link, 'Link');\nexport default Link;\n","\n    import './styles.scoped.css';\n    export default {\n  \"axis\": \"awsui_axis_f0fot_11j60_9\",\n  \"vertical-marker\": \"awsui_vertical-marker_f0fot_11j60_10\",\n  \"axis--emphasized\": \"awsui_axis--emphasized_f0fot_11j60_15\",\n  \"axis-label\": \"awsui_axis-label_f0fot_11j60_19\",\n  \"axis-label--x\": \"awsui_axis-label--x_f0fot_11j60_24\",\n  \"axis-label--y\": \"awsui_axis-label--y_f0fot_11j60_25\",\n  \"grid\": \"awsui_grid_f0fot_11j60_29\",\n  \"ticks__line\": \"awsui_ticks__line_f0fot_11j60_34\",\n  \"ticks__text\": \"awsui_ticks__text_f0fot_11j60_39\",\n  \"ticks--y\": \"awsui_ticks--y_f0fot_11j60_44\",\n  \"ticks--x\": \"awsui_ticks--x_f0fot_11j60_45\",\n  \"ticks--bottom\": \"awsui_ticks--bottom_f0fot_11j60_49\",\n  \"labels-inline-start\": \"awsui_labels-inline-start_f0fot_11j60_54\",\n  \"ticks\": \"awsui_ticks_f0fot_11j60_34\",\n  \"labels-inline-start__label\": \"awsui_labels-inline-start__label_f0fot_11j60_69\",\n  \"labels-inline-start--hidden\": \"awsui_labels-inline-start--hidden_f0fot_11j60_73\",\n  \"labels-block-end\": \"awsui_labels-block-end_f0fot_11j60_81\",\n  \"vertical-marker-circle\": \"awsui_vertical-marker-circle_f0fot_11j60_92\",\n  \"vertical-marker-circle-active\": \"awsui_vertical-marker-circle-active_f0fot_11j60_98\",\n  \"focus-outline\": \"awsui_focus-outline_f0fot_11j60_103\",\n  \"chart-container\": \"awsui_chart-container_f0fot_11j60_111\",\n  \"fit-height\": \"awsui_fit-height_f0fot_11j60_116\",\n  \"chart-container-outer\": \"awsui_chart-container-outer_f0fot_11j60_121\",\n  \"chart-container-inner\": \"awsui_chart-container-inner_f0fot_11j60_128\",\n  \"chart-container-plot-wrapper\": \"awsui_chart-container-plot-wrapper_f0fot_11j60_135\",\n  \"chart-container-plot\": \"awsui_chart-container-plot_f0fot_11j60_135\",\n  \"chart-container-bottom-labels\": \"awsui_chart-container-bottom-labels_f0fot_11j60_147\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal';\n\nimport styles from './styles.css.js';\n\ninterface AxisLabelProps {\n  title?: string;\n  axis: 'x' | 'y';\n  position: 'left' | 'bottom';\n}\n\nexport default memo(AxisLabel) as typeof AxisLabel;\n\nfunction AxisLabel({ title, axis, position }: AxisLabelProps) {\n  if (!title) {\n    return null;\n  }\n\n  return (\n    <InternalBox\n      className={clsx(styles['axis-label'], axis === 'x' ? styles['axis-label--x'] : styles['axis-label--y'])}\n      fontWeight=\"bold\"\n      textAlign={position === 'left' ? 'left' : 'center'}\n      margin={{ bottom: position === 'left' ? 'l' : 'n' }}\n    >\n      <span aria-hidden=\"true\">{title}</span>\n    </InternalBox>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const TICK_LENGTH = 8;\nexport const TICK_MARGIN = 4;\nexport const TICK_LINE_HEIGHT = 16;\nexport const X_TICK_COUNT_RATIO = 100;\nexport const Y_TICK_COUNT_RATIO = 50;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartDataTypes } from './interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\n\nconst SPACE_BETWEEN = 4;\n\nexport interface FormattedTick {\n  position: number;\n  space: number;\n  lines: string[];\n}\n\nexport function formatTicks({\n  ticks,\n  scale,\n  getLabelSpace,\n  tickFormatter,\n}: {\n  ticks: readonly ChartDataTypes[];\n  scale: ChartScale | NumericChartScale;\n  getLabelSpace: (label: string) => number;\n  tickFormatter?: (value: any) => string;\n}): FormattedTick[] {\n  return ticks.map(tick => {\n    const position = scale.d3Scale(tick as any) ?? NaN;\n    const label = tickFormatter ? tickFormatter(tick as any) : tick.toString();\n    const lines = (label + '').split('\\n');\n    return { position, lines, space: Math.max(...lines.map(getLabelSpace)) };\n  });\n}\n\nexport function getVisibleTicks(ticks: readonly FormattedTick[], from: number, until: number, balanceTicks = false) {\n  ticks = getTicksInRange(ticks, from, until);\n  return balanceTicks ? getReducedTicks(ticks) : removeIntersections(ticks);\n}\n\nfunction getTicksInRange(ticks: readonly FormattedTick[], from: number, until: number) {\n  return ticks.filter(tick => from <= tick.position - tick.space / 2 && tick.position + tick.space / 2 <= until);\n}\n\nfunction getReducedTicks(ticks: readonly FormattedTick[]): readonly FormattedTick[] {\n  const reduceLabelRatio = findReduceLabelRatio(ticks);\n\n  const reducedTicks = [];\n  for (let index = 0; index < ticks.length; index += reduceLabelRatio) {\n    reducedTicks.push(ticks[index]);\n  }\n  return reducedTicks;\n}\n\n// Returns a ratio such that all elements can be displayed with no intersections.\nfunction findReduceLabelRatio(ticks: readonly FormattedTick[], ratio = 1): number {\n  if (ratio >= ticks.length) {\n    return ratio;\n  }\n  for (let i = ratio; i < ticks.length; i += ratio) {\n    if (hasIntersection(ticks[i - ratio], ticks[i])) {\n      return findReduceLabelRatio(ticks, ratio + 1);\n    }\n  }\n  return ratio;\n}\n\nfunction removeIntersections(ticks: readonly FormattedTick[]) {\n  const visibleTicks = [];\n  let prevTick = null;\n  for (const tick of ticks) {\n    if (!prevTick || !hasIntersection(prevTick, tick)) {\n      visibleTicks.push(tick);\n      prevTick = tick;\n    }\n  }\n  return visibleTicks;\n}\n\nfunction hasIntersection(a: FormattedTick, b: FormattedTick) {\n  const [left, right] = a.position < b.position ? [a, b] : [b, a];\n  const leftEdge = left.position + left.space / 2 + SPACE_BETWEEN;\n  const rightEdge = right.position - right.space / 2;\n  return leftEdge > rightEdge;\n}\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getSVGTextSize(element: null | SVGTextElement): undefined | { width: number; height: number } {\n  if (element && element.getBBox) {\n    return element.getBBox();\n  }\n  return undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\nimport { ChartDataTypes } from './interfaces';\nimport { FormattedTick, formatTicks, getVisibleTicks } from './label-utils';\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\ninterface BlockEndLabelsProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: ChartScale | NumericChartScale;\n  title?: string;\n  ariaRoleDescription?: string;\n  offsetLeft?: number;\n  offsetRight?: number;\n  virtualTextRef: React.Ref<SVGTextElement>;\n  formattedTicks: readonly FormattedTick[];\n}\n\nexport function useBLockEndLabels({\n  ticks,\n  scale,\n  tickFormatter,\n}: {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n}) {\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const cacheRef = useRef<{ [label: string]: number }>({});\n  const getLabelSpace = (label: string) => {\n    if (cacheRef.current[label] !== undefined && cacheRef.current[label] !== 0) {\n      return cacheRef.current[label];\n    }\n    if (virtualTextRef.current && virtualTextRef.current.getComputedTextLength) {\n      virtualTextRef.current.textContent = label;\n      cacheRef.current[label] = virtualTextRef.current.getComputedTextLength();\n      return cacheRef.current[label];\n    }\n    return 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  let height = TICK_LENGTH + TICK_MARGIN;\n  for (const { lines } of formattedTicks) {\n    height = Math.max(height, TICK_LENGTH + TICK_MARGIN + lines.length * TICK_LINE_HEIGHT);\n  }\n\n  return { virtualTextRef, formattedTicks, height };\n}\n\nexport default memo(BlockEndLabels) as typeof BlockEndLabels;\n\n// Renders the visible tick labels on the bottom axis, as well as their grid lines.\nfunction BlockEndLabels({\n  axis = 'x',\n  width,\n  height,\n  scale,\n  title,\n  ariaRoleDescription,\n  offsetLeft = 0,\n  offsetRight = 0,\n  virtualTextRef,\n  formattedTicks,\n}: BlockEndLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const xOffset = scale.isCategorical() && axis === 'x' ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const from = 0 - offsetLeft - xOffset;\n  const until = width + offsetRight - xOffset;\n  const balanceLabels = axis === 'x' && scale.scaleType !== 'log';\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until, balanceLabels);\n\n  return (\n    <g\n      transform={`translate(0,${height})`}\n      className={styles['labels-block-end']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              transform={`translate(${position + xOffset},0)`}\n              className={clsx(styles.ticks, styles['ticks--bottom'], {\n                [styles['ticks--x']]: axis === 'x',\n                [styles['ticks--y']]: axis === 'y',\n              })}\n              role=\"listitem\"\n              aria-label={lines.join('\\n')}\n            >\n              <line className={styles.ticks__line} x1={0} x2={0} y1={0} y2={TICK_LENGTH} aria-hidden=\"true\" />\n              {lines.map((line, lineIndex) => (\n                <text\n                  className={styles.ticks__text}\n                  key={lineIndex}\n                  x={0}\n                  y={TICK_LENGTH + TICK_MARGIN + lineIndex * TICK_LINE_HEIGHT}\n                >\n                  {line}\n                </text>\n              ))}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\n\ninterface CartesianChartContainerProps {\n  minHeight: number;\n  fitHeight: boolean;\n  leftAxisLabel: React.ReactNode;\n  leftAxisLabelMeasure: React.ReactNode;\n  bottomAxisLabel: React.ReactNode;\n  chartPlot: React.ReactNode;\n  popover: React.ReactNode;\n}\n\nconst CONTENT_MIN_HEIGHT_BOUNDARY = 40;\n\nexport const CartesianChartContainer = forwardRef(\n  (\n    {\n      minHeight,\n      fitHeight,\n      leftAxisLabel,\n      leftAxisLabelMeasure,\n      bottomAxisLabel,\n      chartPlot,\n      popover,\n    }: CartesianChartContainerProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    if (fitHeight) {\n      return (\n        <div className={clsx(styles['chart-container'], styles['fit-height'])} ref={ref}>\n          {leftAxisLabel}\n\n          <div className={clsx(styles['chart-container-outer'], styles['fit-height'])}>\n            {leftAxisLabelMeasure}\n\n            <div className={styles['chart-container-inner']}>\n              <div\n                className={clsx(styles['chart-container-plot-wrapper'], styles['fit-height'])}\n                style={{ minHeight: Math.max(minHeight, CONTENT_MIN_HEIGHT_BOUNDARY) }}\n              >\n                <div className={clsx(styles['chart-container-plot'], styles['fit-height'])}>{chartPlot}</div>\n              </div>\n\n              <div className={clsx(styles['chart-container-bottom-labels'], styles['fit-height'])}>\n                {bottomAxisLabel}\n              </div>\n            </div>\n\n            {popover}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles['chart-container']} ref={ref}>\n        {leftAxisLabel}\n\n        <div className={styles['chart-container-outer']}>\n          {leftAxisLabelMeasure}\n\n          <div className={styles['chart-container-inner']}>\n            {chartPlot}\n            {bottomAxisLabel}\n          </div>\n\n          {popover}\n        </div>\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { TICK_LENGTH, TICK_MARGIN } from './constants';\nimport { NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\ninterface EmphasizedBaselineProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: NumericChartScale;\n}\n\nexport default memo(EmphasizedBaseline) as typeof EmphasizedBaseline;\n\nfunction EmphasizedBaseline({ axis = 'x', width, height, scale }: EmphasizedBaselineProps) {\n  // Y position of the zero baseline, if it exists\n  const baselineY = scale.d3Scale(0) ?? NaN;\n  const showYBaseline = axis === 'x' && isFinite(baselineY) && baselineY <= height;\n\n  if (showYBaseline) {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={-TICK_MARGIN}\n        x2={width}\n        y1={baselineY}\n        y2={baselineY}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  if (axis === 'y') {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={0}\n        y1={0}\n        x2={0}\n        y2={height + TICK_LENGTH}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  return null;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface HighlightedPointProps {\n  point: null | SeriesPoint;\n  role?: 'group' | 'button';\n  ariaLabel?: string;\n  ariaHasPopup?: boolean;\n  ariaExpanded?: boolean;\n}\n\nexport default memo(forwardRef(HighlightedPoint));\n\nfunction HighlightedPoint(\n  { point, role = 'group', ariaLabel, ariaHasPopup, ariaExpanded }: HighlightedPointProps,\n  ref: React.Ref<SVGGElement>\n) {\n  if (!point) {\n    return null;\n  }\n\n  return (\n    <g ref={ref} role={role} aria-label={ariaLabel} aria-haspopup={ariaHasPopup} aria-expanded={ariaExpanded}>\n      <circle\n        key={point.key}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker-circle-active']}\n        cx={point.x}\n        cy={point.y}\n        r={4}\n        stroke={point.color}\n        fill={point.color}\n      />\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport ResponsiveText from '../responsive-text';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\nimport { formatTicks, getSVGTextSize, getVisibleTicks } from './label-utils';\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\nconst OFFSET_PX = 12;\n\ninterface InlineStartLabelsProps {\n  axis?: 'x' | 'y';\n  plotWidth: number;\n  plotHeight: number;\n  maxLabelsWidth?: number;\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: number) => string;\n  title?: string;\n  ariaRoleDescription?: string;\n}\n\nexport default memo(InlineStartLabels) as typeof InlineStartLabels;\n\n// Renders the visible tick labels on the value axis, as well as their grid lines.\nfunction InlineStartLabels({\n  axis = 'y',\n  plotWidth,\n  plotHeight,\n  maxLabelsWidth = Number.POSITIVE_INFINITY,\n  scale,\n  ticks,\n  tickFormatter,\n  title,\n  ariaRoleDescription,\n}: InlineStartLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const yOffset = axis === 'x' && scale.isCategorical() ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const labelToBoxCache = useRef<{ [label: string]: undefined | { width: number; height: number } }>({});\n  const getLabelSpace = (label: string) => {\n    if (labelToBoxCache.current[label] !== undefined) {\n      return labelToBoxCache.current[label]?.height ?? 0;\n    }\n    if (virtualTextRef.current) {\n      virtualTextRef.current.textContent = label;\n    }\n    labelToBoxCache.current[label] = getSVGTextSize(virtualTextRef.current);\n    return labelToBoxCache.current[label]?.height ?? 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  const from = 0 - OFFSET_PX - yOffset;\n  const until = plotHeight + OFFSET_PX - yOffset;\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until);\n\n  const isRtl = virtualTextRef.current ? getIsRtl(virtualTextRef.current) : false;\n\n  return (\n    <g\n      className={styles['labels-inline-start']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              role=\"listitem\"\n              transform={`translate(0,${position + yOffset})`}\n              className={clsx(styles.ticks, axis === 'x' ? styles['ticks--x'] : styles['ticks--y'])}\n            >\n              {axis === 'y' && (\n                <line\n                  className={clsx(styles.grid, styles.ticks_line)}\n                  x1={-TICK_LENGTH}\n                  y1={0}\n                  x2={plotWidth}\n                  y2={0}\n                  aria-hidden=\"true\"\n                />\n              )}\n\n              {lines.map((line, lineIndex) => {\n                const x = -(TICK_LENGTH + TICK_MARGIN);\n                const lineTextProps = {\n                  x: !isRtl ? x : plotWidth - x,\n                  y: (lineIndex - (lines.length - 1) * 0.5) * TICK_LINE_HEIGHT,\n                  className: styles.ticks__text,\n                  children: line,\n                };\n                return (labelToBoxCache.current[lines[0]]?.width ?? 0) > maxLabelsWidth ? (\n                  <ResponsiveText key={lineIndex} {...lineTextProps} maxWidth={maxLabelsWidth} />\n                ) : (\n                  <text key={lineIndex} {...lineTextProps} />\n                );\n              })}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { Fragment, memo, useEffect } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\ninterface LabelsMeasureProps {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n  autoWidth: (value: number) => void;\n  maxLabelsWidth?: number;\n}\n\nexport default memo(LabelsMeasure) as typeof LabelsMeasure;\n\n// Places the invisible left-hand side labels to calculate their maximum width.\nfunction LabelsMeasure({ scale, ticks, tickFormatter, autoWidth, maxLabelsWidth }: LabelsMeasureProps) {\n  const [width, ref] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n\n  // Tell elements's width to the parent.\n  useEffect(() => {\n    autoWidth(width || 0);\n  }, [autoWidth, width]);\n\n  const labelMapper = (value: ChartDataTypes) => {\n    const scaledValue = scale.d3Scale(value as any);\n    if (scaledValue === undefined || !isFinite(scaledValue)) {\n      return null;\n    }\n\n    const formattedValue = tickFormatter ? tickFormatter(value as any) : value.toString();\n    const lines = (formattedValue + '').split('\\n');\n\n    return (\n      <Fragment key={`${value}`}>\n        {lines.map((line, lineIndex) => (\n          <div key={lineIndex} className={styles['labels-inline-start__label']} aria-hidden=\"true\">\n            {line}\n          </div>\n        ))}\n      </Fragment>\n    );\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={clsx(styles['labels-inline-start'], styles['labels-inline-start--hidden'])}\n      style={{ maxWidth: maxLabelsWidth }}\n    >\n      {ticks.map(labelMapper)}\n    </div>\n  );\n}\n","/**\n * Name: d3-array\n * Version: 3.2.1\n * License: ISC\n * Private: false\n * Description: Array manipulation, ordering, searching, summarizing, etc.\n * Repository: https://github.com/d3/d3-array.git\n * Homepage: https://d3js.org/d3-array/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: internmap\n * Version: 2.0.3\n * License: ISC\n * Private: false\n * Description: Map and Set with automatic key interning\n * Repository: https://github.com/mbostock/internmap.git\n * Homepage: https://github.com/mbostock/internmap/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-scale\n * Version: 4.0.2\n * License: ISC\n * Private: false\n * Description: Encodings that map abstract data to visual representation.\n * Repository: https://github.com/d3/d3-scale.git\n * Homepage: https://d3js.org/d3-scale/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-color\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Color spaces! RGB, HSL, Cubehelix, Lab and HCL (Lch).\n * Repository: https://github.com/d3/d3-color.git\n * Homepage: https://d3js.org/d3-color/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-interpolate\n * Version: 3.0.1\n * License: ISC\n * Private: false\n * Description: Interpolate numbers, colors, strings, arrays, objects, whatever!\n * Repository: https://github.com/d3/d3-interpolate.git\n * Homepage: https://d3js.org/d3-interpolate/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-format\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Format numbers for human consumption.\n * Repository: https://github.com/d3/d3-format.git\n * Homepage: https://d3js.org/d3-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: A calculator for humanity’s peculiar conventions of time.\n * Repository: https://github.com/d3/d3-time.git\n * Homepage: https://d3js.org/d3-time/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time-format\n * Version: 4.1.0\n * License: ISC\n * Private: false\n * Description: A JavaScript time formatter and parser inspired by strftime and strptime.\n * Repository: https://github.com/d3/d3-time-format.git\n * Homepage: https://d3js.org/d3-time-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n */\nfunction ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n\nfunction bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero$1;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero$1() {\n  return 0;\n}\n\nfunction number$2(x) {\n  return x === null ? NaN : +x;\n}\n\nconst ascendingBisect = bisector(ascending);\nconst bisectRight = ascendingBisect.right;\nbisector(number$2).center;\nvar bisect = bisectRight;\n\nclass InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = range(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb$1(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb$1, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar constant = x => () => x;\n\nfunction linear$1(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear$1(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = rgb$1(start)).r, (end = rgb$1(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date$1(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction interpolate(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? interpolateNumber\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date$1\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nfunction constants(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction number$1(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constants(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity$1) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number$1), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity$1, rescale()) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity$1, identity$1);\n}\n\nfunction formatDecimal(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nfunction formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n\nfunction identity(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale$1(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale$1;\nvar format;\nvar formatPrefix;\n\ndefaultLocale$1({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  format = locale$1.format;\n  formatPrefix = locale$1.formatPrefix;\n  return locale$1;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nfunction loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nconst t0 = new Date, t1 = new Date;\n\nfunction timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n\nconst millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nmillisecond.range;\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\nconst second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nsecond.range;\n\nconst timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\ntimeMinute.range;\n\nconst utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nutcMinute.range;\n\nconst timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\ntimeHour.range;\n\nconst utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nutcHour.range;\n\nconst timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\ntimeDay.range;\n\nconst utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nutcDay.range;\n\nconst unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nunixDay.range;\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nconst timeSunday = timeWeekday(0);\nconst timeMonday = timeWeekday(1);\nconst timeTuesday = timeWeekday(2);\nconst timeWednesday = timeWeekday(3);\nconst timeThursday = timeWeekday(4);\nconst timeFriday = timeWeekday(5);\nconst timeSaturday = timeWeekday(6);\n\ntimeSunday.range;\ntimeMonday.range;\ntimeTuesday.range;\ntimeWednesday.range;\ntimeThursday.range;\ntimeFriday.range;\ntimeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nconst utcSunday = utcWeekday(0);\nconst utcMonday = utcWeekday(1);\nconst utcTuesday = utcWeekday(2);\nconst utcWednesday = utcWeekday(3);\nconst utcThursday = utcWeekday(4);\nconst utcFriday = utcWeekday(5);\nconst utcSaturday = utcWeekday(6);\n\nutcSunday.range;\nutcMonday.range;\nutcTuesday.range;\nutcWednesday.range;\nutcThursday.range;\nutcFriday.range;\nutcSaturday.range;\n\nconst timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\ntimeMonth.range;\n\nconst utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nutcMonth.range;\n\nconst timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\ntimeYear.range;\n\nconst utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nutcYear.range;\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale;\nvar timeFormat;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  locale.parse;\n  locale.utcFormat;\n  locale.utcParse;\n  return locale;\n}\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nfunction time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute, second, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nexport { band as scaleBand, linear as scaleLinear, log as scaleLog, time as scaleTime };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport {\n  ScaleBand,\n  scaleBand,\n  ScaleContinuousNumeric,\n  scaleLinear,\n  scaleLog,\n  ScaleTime,\n  scaleTime,\n} from '../../vendor/d3-scale';\nimport { ChartDataTypes, ChartDomain, ScaleRange, ScaleType } from './interfaces';\n\nexport interface NumericD3Scale {\n  type: 'numeric';\n  scale: ScaleContinuousNumeric<number, number>;\n}\n\nexport interface TimeD3Scale {\n  type: 'time';\n  scale: ScaleTime<number, number>;\n}\n\nexport interface CategoricalD3Scale {\n  type: 'categorical';\n  scale: ScaleBand<ChartDataTypes>;\n}\n\nexport type D3Scale = NumericD3Scale | TimeD3Scale | CategoricalD3Scale;\n\ntype InternalScale = ScaleContinuousNumeric<number, number> | ScaleBand<ChartDataTypes> | ScaleTime<number, number>;\n\nfunction isNumericDomain(domain: ChartDomain<ChartDataTypes>): domain is number[] {\n  return domain.length > 0 && typeof domain[0] === 'number';\n}\n\nfunction isDateDomain(domain: ChartDomain<ChartDataTypes>): domain is Date[] {\n  return domain.length > 0 && domain[0] instanceof Date;\n}\n\nfunction createNumericScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>) {\n  let scale: ScaleContinuousNumeric<number, number>;\n  switch (type) {\n    case 'log':\n      scale = scaleLog();\n      break;\n    default:\n      scale = scaleLinear();\n  }\n\n  if (isNumericDomain(domain)) {\n    scale.domain(domain);\n  }\n\n  return scale;\n}\n\nfunction createTimeScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleTime();\n  if (isDateDomain(domain)) {\n    scale.domain(domain);\n  }\n  return scale;\n}\n\nfunction createBandScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleBand<ChartDataTypes>().padding(0.1);\n  scale.domain(domain);\n  return scale;\n}\n\nexport function createScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>, range: ScaleRange): D3Scale {\n  switch (type) {\n    case 'linear':\n    case 'log':\n      return { type: 'numeric', scale: createNumericScale(type, domain).range(range) };\n\n    case 'time':\n      return { type: 'time', scale: createTimeScale(domain).range(range) };\n\n    case 'categorical':\n      return { type: 'categorical', scale: createBandScale(domain).range(range) };\n  }\n}\n\nexport class ChartScale {\n  public readonly scale: D3Scale;\n  public readonly d3Scale: InternalScale;\n\n  constructor(\n    public readonly scaleType: ScaleType,\n    public readonly domain: ChartDomain<ChartDataTypes>,\n    public readonly range: ScaleRange,\n    noCategoricalOuterPadding = false\n  ) {\n    this.scale = createScale(this.scaleType, this.domain, this.range);\n    this.d3Scale = this.scale.scale;\n\n    if (this.isCategorical()) {\n      if (noCategoricalOuterPadding) {\n        // Categorical charts with only line (or threshold) series don't need as much out padding\n        // compared to a bar series. Increasing the inner padding to push more data points to the outside.\n        this.d3Scale.paddingInner(0.7);\n        this.d3Scale.paddingOuter(0);\n      } else {\n        this.d3Scale.paddingInner(0.2);\n        this.d3Scale.paddingOuter(0.05);\n      }\n    }\n  }\n\n  cloneScale(newScaleType?: ScaleType, newDomain?: ChartDomain<ChartDataTypes>, newRange?: ScaleRange) {\n    return new ChartScale(newScaleType || this.scaleType, newDomain || this.domain, newRange || this.range);\n  }\n\n  isNumeric(): this is { d3Scale: ScaleContinuousNumeric<number, number>; domain: ChartDomain<number> } {\n    return this.scale.type === 'numeric';\n  }\n\n  isTime(): this is { d3Scale: ScaleTime<number, number>; domain: ChartDomain<Date> } {\n    return this.scale.type === 'time';\n  }\n\n  isCategorical(): this is { d3Scale: ScaleBand<ChartDataTypes>; domain: ChartDomain<string> } {\n    return this.scale.type === 'categorical';\n  }\n}\n\nexport class NumericChartScale {\n  public readonly scale: NumericD3Scale;\n  public readonly d3Scale: ScaleContinuousNumeric<number, number>;\n\n  constructor(\n    public readonly scaleType: 'linear' | 'log',\n    domain: ChartDomain<number>,\n    range: ScaleRange,\n    adjustDomain: null | number\n  ) {\n    const scale = createNumericScale(scaleType, domain).range(range);\n    if (adjustDomain !== null) {\n      scale.nice(adjustDomain);\n    }\n    this.scale = { type: 'numeric', scale };\n    this.d3Scale = this.scale.scale;\n  }\n\n  isCategorical() {\n    return false;\n  }\n}\n","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarDays from \"../differenceInCalendarDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\nexport default function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n  var result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport addDays from \"../addDays/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name add\n * @category Common Helpers\n * @summary Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @description\n * Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * | Key            | Description                        |\n * |----------------|------------------------------------|\n * | years          | Amount of years to be added        |\n * | months         | Amount of months to be added       |\n * | weeks          | Amount of weeks to be added        |\n * | days           | Amount of days to be added         |\n * | hours          | Amount of hours to be added        |\n * | minutes        | Amount of minutes to be added      |\n * | seconds        | Amount of seconds to be added      |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add the following duration to 1 September 2014, 10:19:50\n * const result = add(new Date(2014, 8, 1, 10, 19, 50), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30,\n * })\n * //=> Thu Jun 15 2017 15:29:20\n */\nexport default function add(dirtyDate, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || _typeof(duration) !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0;\n\n  // Add years and months\n  var date = toDate(dirtyDate);\n  var dateWithMonths = months || years ? addMonths(date, months + years * 12) : date;\n\n  // Add weeks and days\n  var dateWithDays = days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths;\n\n  // Add days, hours, minutes and seconds\n  var minutesToAdd = minutes + hours * 60;\n  var secondsToAdd = seconds + minutesToAdd * 60;\n  var msToAdd = secondsToAdd * 1000;\n  var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n  return finalDate;\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { add, differenceInDays } from 'date-fns';\n\nimport { ChartScale, NumericChartScale } from '../../components/cartesian-chart/scales';\nimport { X_TICK_COUNT_RATIO, Y_TICK_COUNT_RATIO } from './constants';\nimport { ChartDataTypes } from './interfaces';\n\n// The number of ticks is currently defined by the length of the scale.\n// The x scale tends to have longer labels, so we're using less ticks for it.\n// These numbers are currently based on first impressions and might change in the future.\n// We might also open up an API in the future to control the amount of ticks displayed.\nexport function getXTickCount(width: number) {\n  return Math.ceil(width / X_TICK_COUNT_RATIO);\n}\nexport function getYTickCount(height: number) {\n  return Math.ceil(height / Y_TICK_COUNT_RATIO);\n}\n\nexport function createXTicks(scale: ChartScale, values: number): ChartDataTypes[] {\n  if (scale.isNumeric()) {\n    return scale.d3Scale.ticks(values);\n  } else if (scale.isTime()) {\n    const rawTicks = scale.d3Scale.ticks(values) as Date[];\n    const domain = scale.d3Scale.domain() as Date[];\n    return uniform(rawTicks, domain[domain.length - 1]);\n  } else {\n    return scale.d3Scale.domain();\n  }\n}\n\nexport function createYTicks(scale: NumericChartScale, values: number): number[] {\n  const ticks = scale.d3Scale.ticks(values);\n\n  // The logarithmic scale sometimes produces a very large amount of (major and minor) ticks,\n  // at which point we need to reduce them significantly for space.\n  if (scale.scaleType === 'log' && ticks.length > 10) {\n    return scale.d3Scale.ticks(3);\n  }\n\n  return ticks;\n}\n\n/**\n * Ensure uniformly-spaced ticks for 2-day intervals. d3-scale generates\n * ticks for even or odd numbers, which causes varying interval lengths\n * between months.\n */\nfunction uniform(ticks: Date[], max: Date): Date[] {\n  if (ticks.length < 3 || !isMixedDayInterval(ticks)) {\n    return ticks;\n  }\n\n  return createTwoDayInterval(ticks[0], max);\n}\n\nfunction isMixedDayInterval(ticks: Date[]) {\n  let oneDayInterval = false;\n  let twoDayInterval = false;\n\n  for (let i = 1; i < ticks.length; i++) {\n    oneDayInterval = oneDayInterval || isDayInterval(ticks[i - 1], ticks[i], 1);\n    twoDayInterval = twoDayInterval || isDayInterval(ticks[i - 1], ticks[i], 2);\n  }\n  return oneDayInterval && twoDayInterval;\n}\n\nfunction isDayInterval(a: Date, b: Date, difference = 1) {\n  return Math.abs(differenceInDays(a, b)) === difference;\n}\n\nfunction createTwoDayInterval(start: Date, max: Date) {\n  const result: Date[] = [];\n  let curr = start;\n  while (curr < max) {\n    result.push(curr);\n    curr = add(curr, { days: 2 });\n  }\n  return result;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\n\nimport { NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\nexport default memo(VerticalGridLines) as typeof VerticalGridLines;\n\nfunction VerticalGridLines({ ticks, scale, height }: { ticks: number[]; scale: NumericChartScale; height: number }) {\n  return (\n    <g aria-hidden=\"true\">\n      {ticks.map(tick => {\n        const x = scale.d3Scale(tick) ?? NaN;\n        return isFinite(x) && <line key={tick} className={styles.grid} x1={x} y1={0} x2={x} y2={height} />;\n      })}\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface VerticalMarkerProps {\n  height: number;\n  showPoints?: boolean;\n  showLine?: boolean;\n  points: null | readonly SeriesPoint[];\n}\n\nexport default memo(forwardRef(VerticalMarker));\n\nfunction VerticalMarker(\n  { height, showPoints = true, showLine = true, points }: VerticalMarkerProps,\n  ref: React.Ref<SVGLineElement>\n) {\n  const [firstPoint] = points || [];\n\n  return (\n    <g>\n      <line\n        ref={ref}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker']}\n        style={{ visibility: showLine && firstPoint ? 'visible' : 'hidden' }}\n        x1={firstPoint?.x}\n        x2={firstPoint?.x}\n        y1={0}\n        y2={height}\n      />\n\n      {showPoints &&\n        points &&\n        points.map(point => (\n          <circle\n            key={point.key}\n            aria-hidden=\"true\"\n            className={styles['vertical-marker-circle']}\n            cx={point.x}\n            cy={point.y}\n            r={4}\n            stroke={point.color}\n          />\n        ))}\n    </g>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"series\": \"awsui_series_1yz9c_1a980_97\",\n  \"series--bar\": \"awsui_series--bar_1yz9c_1a980_98\",\n  \"series__rect\": \"awsui_series__rect_1yz9c_1a980_98\",\n  \"exiting\": \"awsui_exiting_1yz9c_1a980_115\",\n  \"awsui-motion-fade-out-0\": \"awsui_awsui-motion-fade-out-0_1yz9c_1a980_1\",\n  \"root\": \"awsui_root_1yz9c_1a980_141\",\n  \"series--highlighted\": \"awsui_series--highlighted_1yz9c_1a980_154\",\n  \"series__bar--highlighted\": \"awsui_series__bar--highlighted_1yz9c_1a980_155\",\n  \"series--dimmed\": \"awsui_series--dimmed_1yz9c_1a980_159\",\n  \"series--threshold\": \"awsui_series--threshold_1yz9c_1a980_163\",\n  \"bar-group\": \"awsui_bar-group_1yz9c_1a980_168\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { ChartDataTypes } from './interfaces';\nimport { ScaledBarGroup } from './make-scaled-bar-groups';\n\nimport styles from './styles.css.js';\n\nconst OUTLINE_PADDING = 2;\n\nexport interface BarGroups<T extends ChartDataTypes> {\n  ariaLabel: string;\n  isRefresh: boolean;\n  isPopoverPinned: boolean;\n  barGroups: ScaledBarGroup<T>[];\n  highlightedGroupIndex: null | number;\n  highlightedGroupRef: React.RefObject<SVGRectElement>;\n}\n\n/**\n * The component renders empty SVG rectangles corresponding to the bar group slots.\n * The highlighted group rectangle is used for the pseudo-focus and therefore requires ARIA attributes.\n * Other rectangles are only needed for the \"findBarGroups\" test-utils selector.\n */\nexport default function BarGroups<T extends ChartDataTypes>({\n  ariaLabel,\n  isRefresh,\n  isPopoverPinned,\n  barGroups,\n  highlightedGroupIndex,\n  highlightedGroupRef,\n}: BarGroups<T>) {\n  return (\n    <g role=\"group\" aria-hidden=\"true\">\n      {barGroups.map((group, index) => (\n        <rect\n          key={index}\n          x={Math.max(0, group.position.x - OUTLINE_PADDING)}\n          y={Math.max(0, group.position.y - OUTLINE_PADDING)}\n          width={group.position.width + 2 * OUTLINE_PADDING}\n          height={group.position.height + 2 * OUTLINE_PADDING}\n          ref={index === highlightedGroupIndex ? highlightedGroupRef : undefined}\n          rx={isRefresh ? 4 : 2}\n          role=\"button\"\n          aria-label={ariaLabel}\n          aria-haspopup={true}\n          aria-expanded={isPopoverPinned}\n          fill=\"none\"\n          className={styles['bar-group']}\n        />\n      ))}\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport ChartPopover from '../internal/components/chart-popover';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport ChartSeriesDetails, { ExpandedSeries } from '../internal/components/chart-series-details';\nimport { Transition } from '../internal/components/transition';\nimport { HighlightDetails } from './format-highlighted';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface MixedChartPopoverProps<T extends ChartDataTypes> {\n  containerRef: React.RefObject<HTMLDivElement>;\n  trackRef: React.RefObject<SVGElement>;\n  isOpen: boolean;\n  isPinned: boolean;\n  highlightDetails: null | HighlightDetails;\n  onDismiss(): void;\n  size: MixedLineBarChartProps<T>['detailPopoverSize'];\n  footer?: React.ReactNode;\n  dismissAriaLabel?: string;\n  onMouseEnter?: (event: React.MouseEvent) => void;\n  onMouseLeave?: (event: React.MouseEvent) => void;\n  onBlur?: (event: React.FocusEvent) => void;\n  setPopoverText: (s: string) => void;\n}\n\nexport default React.forwardRef(MixedChartPopover);\n\nfunction MixedChartPopover<T extends ChartDataTypes>(\n  {\n    containerRef,\n    trackRef,\n    isOpen,\n    isPinned,\n    highlightDetails,\n    footer,\n    onDismiss,\n    size = 'medium',\n    dismissAriaLabel,\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n    setPopoverText,\n  }: MixedChartPopoverProps<T>,\n  popoverRef: React.Ref<HTMLElement>\n) {\n  const [expandedSeries, setExpandedSeries] = useState<Record<string, ExpandedSeries>>({});\n  return (\n    <Transition in={isOpen}>\n      {(state, ref) => (\n        <div ref={ref} className={clsx(state === 'exiting' && styles.exiting)}>\n          {(isOpen || state !== 'exited') && highlightDetails && (\n            <ChartPopover\n              ref={popoverRef}\n              title={highlightDetails.position}\n              trackRef={trackRef}\n              trackKey={highlightDetails.position}\n              dismissButton={isPinned}\n              dismissAriaLabel={dismissAriaLabel}\n              onDismiss={onDismiss}\n              container={containerRef.current}\n              size={size}\n              onMouseEnter={onMouseEnter}\n              onMouseLeave={onMouseLeave}\n              onBlur={onBlur}\n            >\n              <ChartSeriesDetails\n                key={highlightDetails.position}\n                details={highlightDetails.details}\n                setPopoverText={setPopoverText}\n                expandedSeries={expandedSeries[highlightDetails.position]}\n                setExpandedState={(id, isExpanded) =>\n                  setExpandedSeries(oldState => {\n                    const expandedSeriesInCurrentCoordinate = new Set(oldState[highlightDetails.position]);\n                    if (isExpanded) {\n                      expandedSeriesInCurrentCoordinate.add(id);\n                    } else {\n                      expandedSeriesInCurrentCoordinate.delete(id);\n                    }\n                    return {\n                      ...oldState,\n                      [highlightDetails.position]: expandedSeriesInCurrentCoordinate,\n                    };\n                  })\n                }\n              />\n              {footer && <ChartPopoverFooter>{footer}</ChartPopoverFooter>}\n            </ChartPopover>\n          )}\n        </div>\n      )}\n    </Transition>\n  );\n}\n","/* eslint-disable header/header */\n// Source https://stackoverflow.com/a/65186378/16648714\n\nexport function createOneSideRoundedRectPath(\n  { x, y, width, height }: { x: number; y: number; width: number; height: number },\n  radius: number,\n  side: 'left' | 'right' | 'top' | 'bottom'\n) {\n  const coordinates = [\n    { x, y },\n    { x: x + width, y },\n    { x: x + width, y: y + height },\n    { x: x, y: y + height },\n  ];\n\n  // Starting from the target side.\n  const startIndex = { left: 2, right: 0, top: 3, bottom: 1 }[side];\n\n  let path = '';\n  for (let i = startIndex; i < startIndex + coordinates.length + 1; i++) {\n    const start = coordinates[i % coordinates.length];\n    const end = coordinates[(i + 1) % coordinates.length];\n\n    // Define curvature for the first 3 points to only add rounded corners to the first side.\n    const c = radius && i < startIndex + 3 ? Math.min(radius / Math.hypot(end.x - start.x, end.y - start.y), 0.5) : 0;\n\n    // Insert start point. When c=0 the start point is [start.x, start.y].\n    if (i === startIndex) {\n      path += `M${start.x * (1 - c) + end.x * c},${start.y * (1 - c) + end.y * c}`;\n    }\n    // Insert quadratic curve.\n    if (i > startIndex) {\n      path += `Q${start.x},${start.y} ${start.x * (1 - c) + end.x * c},${start.y * (1 - c) + end.y * c}`;\n    }\n    // Draw line to the end point. When c=0 the end point is [end.x, end.y].\n    if (i < startIndex + coordinates.length) {\n      path += `L${start.x * c + end.x * (1 - c)},${start.y * c + end.y * (1 - c)}`;\n    }\n  }\n  return path + 'Z';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartSeriesMarkerType } from '../internal/components/chart-series-marker';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { ScaledBarGroup } from './make-scaled-bar-groups';\n\nexport const chartLegendMap: Record<string, ChartSeriesMarkerType> = {\n  line: 'line',\n  bar: 'rectangle',\n  threshold: 'dashed',\n};\n\n// Starting from the given index, find the first x value in the x domain that has bar data attached to it.\nexport const nextValidDomainIndex = <T>(nextGroupIndex: number, barGroups: ScaledBarGroup<T>[], direction = 1) => {\n  let index = nextGroupIndex;\n\n  if (index < 0 || index >= barGroups.length) {\n    index = 0;\n  }\n\n  do {\n    if (barGroups[index].isValid && barGroups[index].hasData) {\n      return index;\n    }\n    index += direction;\n\n    // Loop back to the beginning if necessary\n    if (index >= barGroups.length) {\n      index = 0;\n    } else if (index < 0) {\n      index = barGroups.length - 1;\n    }\n  } while (index !== nextGroupIndex);\n  return 0;\n};\n\n/**\n * Find the subset of series that are individually navigable with keyboard.\n * Lines and thresholds are navigated individually, while bar series are grouped as one.\n */\nexport function findNavigableSeries<T extends ChartDataTypes>(series: ReadonlyArray<InternalChartSeries<T>>) {\n  const navigableSeries: Array<MixedLineBarChartProps.ChartSeries<T>> = [];\n  let navigableBarSeriesIndex = -1;\n\n  series.forEach(internalSeries => {\n    if (internalSeries.series.type === 'bar') {\n      // Only include the first bar series because all bar series are handled as one\n      if (navigableBarSeriesIndex === -1) {\n        navigableBarSeriesIndex = navigableSeries.length;\n        navigableSeries.push(internalSeries.series);\n      }\n    } else {\n      navigableSeries.push(internalSeries.series);\n    }\n  });\n  return { navigableSeries, navigableBarSeriesIndex };\n}\n\n/**\n * Checks if two x values are equal.\n * With a special treat for Date values which need to be converted to numbers first.\n */\nexport const matchesX = <T>(x1: T, x2: T) => {\n  if (x1 instanceof Date && x2 instanceof Date) {\n    return x1.getTime() === x2.getTime();\n  }\n  return x1 === x2;\n};\n\nexport type StackedBarValues = Map<string | number, Map<number, number>>;\n\n// Unlike for regular bars, stacked bar series values depend on the predecessors.\n// The function computes all stacked values grouped by X and series index.\nexport function calculateStackedBarValues(\n  dataBySeries: Array<readonly MixedLineBarChartProps.Datum<ChartDataTypes>[]>\n): StackedBarValues {\n  const negativeValues = new Map<string | number, number>();\n  const positiveValues = new Map<string | number, number>();\n  const values = new Map<string | number, Map<number, number>>();\n  for (let seriesIndex = 0; seriesIndex < dataBySeries.length; seriesIndex++) {\n    for (const datum of dataBySeries[seriesIndex]) {\n      const key = getKeyValue(datum.x);\n      if (datum.y < 0) {\n        negativeValues.set(key, (negativeValues.get(key) ?? 0) + datum.y);\n      } else {\n        positiveValues.set(key, (positiveValues.get(key) ?? 0) + datum.y);\n      }\n      const seriesValue = (datum.y < 0 ? negativeValues.get(key) : positiveValues.get(key)) ?? 0;\n      const valuesByIndex = values.get(key) ?? new Map<number, number>();\n      valuesByIndex.set(seriesIndex, seriesValue);\n      values.set(key, valuesByIndex);\n    }\n  }\n  return values;\n}\n\n/** Returns string or number value for ChartDataTypes key */\nexport const getKeyValue = (key: ChartDataTypes) => (key instanceof Date ? key.getTime() : key);\n\nexport function isYThreshold<T>(\n  series: MixedLineBarChartProps.ChartSeries<T>\n): series is MixedLineBarChartProps.YThresholdSeries {\n  return series.type === 'threshold' && 'y' in series;\n}\n\nexport function isXThreshold<T>(\n  series: MixedLineBarChartProps.ChartSeries<T>\n): series is MixedLineBarChartProps.XThresholdSeries<T> {\n  return series.type === 'threshold' && 'x' in series;\n}\n\nexport function isDataSeries<T>(\n  series: MixedLineBarChartProps.ChartSeries<T>\n): series is MixedLineBarChartProps.DataSeries<T> {\n  return series.type === 'line' || series.type === 'bar';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { ScaleContinuousNumeric, ScaleTime } from '../internal/vendor/d3-scale';\nimport { createOneSideRoundedRectPath } from './create-one-side-rounded-rect-path';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\nimport { getKeyValue, matchesX, StackedBarValues } from './utils';\n\nimport styles from './styles.css.js';\n\nexport interface BarSeriesProps<T> {\n  axis: 'x' | 'y';\n\n  series: MixedLineBarChartProps.BarDataSeries<T>;\n\n  color: string;\n  totalSeriesCount: number;\n  seriesIndex: number;\n\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n\n  plotSize: number;\n  chartAreaClipPath: string;\n\n  highlighted: boolean;\n  dimmed: boolean;\n  highlightedGroupIndex: number | null;\n\n  // Contains values to be used for stacked bars.\n  stackedBarValues?: StackedBarValues;\n\n  isRtl?: boolean;\n}\n\nexport default function BarSeries<T extends ChartDataTypes>({\n  axis,\n  series,\n  color,\n  xScale,\n  yScale,\n  highlighted,\n  dimmed,\n  highlightedGroupIndex,\n  totalSeriesCount,\n  seriesIndex,\n  plotSize,\n  chartAreaClipPath,\n  stackedBarValues,\n  isRtl,\n}: BarSeriesProps<T>) {\n  const isRefresh = useVisualRefresh();\n  const isStacked = !!stackedBarValues;\n  const isVertical = axis === 'x';\n\n  const xCoordinates = (() => {\n    if (series.type !== 'bar' || !xScale.isCategorical()) {\n      return [];\n    }\n\n    const yContinuosScale: ScaleContinuousNumeric<number, number> | ScaleTime<number, number> = yScale.d3Scale;\n    const xPoints = (series.data as ReadonlyArray<MixedLineBarChartProps.Datum<ChartDataTypes>>).map(\n      ({ x }) => xScale.d3Scale(x) || NaN\n    );\n\n    const zeroY = yScale.d3Scale(0) ?? NaN;\n    const baseY = isFinite(zeroY) ? Math.min(plotSize, zeroY) : plotSize;\n\n    let barWidth = xScale.d3Scale.bandwidth();\n\n    const PADDING = 4;\n    const MINWIDTH = 4;\n\n    if (!isStacked && totalSeriesCount > 1) {\n      // Regular grouped bars\n      barWidth = (barWidth - (totalSeriesCount - 1) * PADDING) / totalSeriesCount;\n      barWidth = Math.max(barWidth, MINWIDTH);\n    }\n\n    return xPoints.map((x, i) => {\n      const d = series.data[i];\n      const key = getKeyValue(d.x);\n      let barX = x;\n      let yValue = d.y;\n      let isRoundedStart = !isStacked;\n      let isRoundedEnd = !isStacked;\n\n      // Stacked bars\n      if (isStacked) {\n        const allXValues = stackedBarValues.get(key) ?? new Map();\n        yValue = allXValues.get(seriesIndex) ?? 0;\n        const allXValuesSorted = Array.from(allXValues.values()).sort((a, b) => a - b);\n        isRoundedStart = yValue === allXValuesSorted[0];\n        isRoundedEnd = yValue === allXValuesSorted[allXValuesSorted.length - 1];\n      }\n      // Regular grouped bars\n      else if (totalSeriesCount > 1) {\n        barX += seriesIndex * (barWidth + PADDING);\n      }\n\n      // Account for negative values growing \"down\" instead of \"up\"\n      yValue = yValue < 0 ? yValue - d.y : yValue;\n\n      return {\n        x: barX,\n        y: yContinuosScale(yValue) ?? NaN,\n        width: barWidth,\n        height: Math.abs((yContinuosScale(d.y) ?? NaN) - baseY),\n        isRoundedStart,\n        isRoundedEnd,\n      };\n    });\n  })();\n\n  const highlightedXValue = highlightedGroupIndex !== null ? xScale.domain[highlightedGroupIndex] : null;\n\n  return (\n    <g\n      aria-label={series.title}\n      clipPath={`url(#${chartAreaClipPath})`}\n      className={clsx(styles.series, styles['series--bar'], {\n        [styles['series--highlighted']]: highlighted,\n        [styles['series--dimmed']]: dimmed,\n      })}\n    >\n      {xCoordinates.map(({ x, y, width, height, isRoundedStart, isRoundedEnd }, i) => {\n        if (!isFinite(x) || !isFinite(height)) {\n          return;\n        }\n\n        // Create margins between stacked series but only when series data is not too small.\n        const baseHeightOffset = isStacked ? 3 : 0;\n        const isSmallBar = height < 4;\n        const heightOffset = isSmallBar ? 0 : baseHeightOffset;\n        const widthOffset = 2;\n\n        const rx = isRefresh ? (isSmallBar ? 2 : 4) : 0;\n        const placement = isVertical\n          ? {\n              x: x + widthOffset / 2,\n              y: y + heightOffset / 2,\n              width: width - widthOffset,\n              height: height - heightOffset,\n            }\n          : {\n              x: y - (!isRtl ? height : 0) + heightOffset / 2,\n              y: x + widthOffset / 2,\n              width: height - heightOffset,\n              height: width - widthOffset,\n            };\n\n        const className = clsx(styles.series__rect, {\n          [styles['series--dimmed']]: highlightedXValue !== null && !matchesX(highlightedXValue, series.data[i].x),\n        });\n        const styleProps = { fill: color, className };\n\n        let side: 'left' | 'right' | 'top' | 'bottom' | 'all' | 'none' = 'none';\n        if (isRoundedStart && isRoundedEnd) {\n          side = 'all';\n        } else if (!isRoundedStart && !isRoundedEnd) {\n          side = 'none';\n        } else if (isVertical) {\n          side = isRoundedStart ? 'bottom' : 'top';\n        } else if (!isRtl) {\n          side = isRoundedStart ? 'left' : 'right';\n        } else {\n          side = isRoundedStart ? 'right' : 'left';\n        }\n\n        if (side === 'all') {\n          return <rect key={i} {...placement} {...styleProps} rx={rx} />;\n        }\n        if (side === 'none') {\n          return <rect key={i} {...placement} {...styleProps} rx={0} />;\n        }\n        return <path key={i} d={createOneSideRoundedRectPath(placement, rx, side)} {...styleProps} />;\n      })}\n    </g>\n  );\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { line } from 'd3-shape';\n\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { MixedLineBarChartProps } from './interfaces';\nimport { isXThreshold, isYThreshold } from './utils';\n\nexport interface LineSeriesProps<T> {\n  axis: 'x' | 'y';\n  series: MixedLineBarChartProps.LineDataSeries<T> | MixedLineBarChartProps.ThresholdSeries<T>;\n\n  color: string;\n  chartAreaClipPath: string;\n\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n}\n\nexport default function LineSeries<T>({ axis, series, color, xScale, yScale, chartAreaClipPath }: LineSeriesProps<T>) {\n  const commonProps = { 'aria-hidden': true, stroke: color, clipPath: `url(#${chartAreaClipPath})` };\n\n  // Render data path. The chart orientation is ignored as only horizontally-oriented lines are supported.\n  if (series.type === 'line') {\n    const lineGenerator = line<MixedLineBarChartProps.Datum<T>>()\n      .x((d: MixedLineBarChartProps.Datum<T>) => {\n        let x = xScale.d3Scale(d.x as any) || 0;\n        if (xScale.isCategorical()) {\n          const offset = Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2;\n          x += offset;\n        }\n        return x;\n      })\n      .y((d: MixedLineBarChartProps.Datum<T>) => yScale.d3Scale(d.y) || 0);\n\n    // Filter out any data that is not part of the xScale\n    const visibleData = series.data.filter(({ x }) => xScale.d3Scale(x as any) !== undefined);\n\n    return (\n      <path\n        {...commonProps}\n        d={lineGenerator(visibleData as unknown as Array<MixedLineBarChartProps.Datum<T>>) || ''}\n      />\n    );\n  }\n  // Render a horizontal line (vertical if chart orientation is inverted).\n  else if (isYThreshold(series)) {\n    const [x1, x2] = xScale.d3Scale.range();\n    const y = yScale.d3Scale(series.y);\n    const coordinates = axis === 'x' ? { x1, x2, y1: y, y2: y } : { x1: y, x2: y, y1: x1, y2: x2 };\n    return <line {...commonProps} {...coordinates} />;\n  }\n  // Render a vertical line (horizontal if chart orientation is inverted).\n  // The offset is necessary for categorical scale to render the line in the middle of the category bar.\n  else if (isXThreshold(series)) {\n    const [y1, y2] = yScale.d3Scale.range();\n    const xOffset = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n    const x = (xScale.d3Scale(series.x as any) ?? NaN) + xOffset;\n    const coordinates = axis === 'x' ? { x1: x, x2: x, y1, y2 } : { x1: y1, x2: y2, y1: x, y2: x };\n    return <line {...commonProps} {...coordinates} />;\n  }\n  // Bar series are handled separately.\n  else {\n    return null;\n  }\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport BarSeries from './bar-series';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport LineSeries from './line-series';\nimport { calculateStackedBarValues } from './utils';\n\nimport styles from './styles.css.js';\n\n// Should have the same value as the `border-line-chart-width` token.\nconst STROKE_WIDTH = 2;\n\nexport interface DataSeriesProps<T> {\n  axis: 'x' | 'y';\n\n  plotHeight: number;\n  plotWidth: number;\n\n  highlightedSeries: MixedLineBarChartProps.ChartSeries<T> | null;\n  highlightedGroupIndex: number | null;\n\n  stackedBars: boolean;\n  isGroupNavigation: boolean;\n\n  visibleSeries: ReadonlyArray<InternalChartSeries<T>>;\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n  isRtl?: boolean;\n}\n\nexport default function DataSeries<T extends ChartDataTypes>({\n  axis,\n  plotHeight,\n  plotWidth,\n  highlightedGroupIndex,\n  highlightedSeries,\n  stackedBars,\n  isGroupNavigation,\n  visibleSeries,\n  xScale,\n  yScale,\n  isRtl,\n}: DataSeriesProps<T>) {\n  const chartAreaClipPath = useUniqueId('awsui-mixed-line-bar-chart__chart-area-');\n\n  // Lines get a small extra space at the top and bottom to account for the strokes when they are at the edge of the graph.\n  const lineAreaClipPath = useUniqueId('awsui-line-chart__chart-area-');\n\n  const stackedBarValues = useMemo(() => {\n    if (!stackedBars) {\n      return undefined;\n    }\n    const barData: Array<readonly MixedLineBarChartProps.Datum<ChartDataTypes>[]> = [];\n    visibleSeries.forEach(({ series }) => {\n      if (series.type === 'bar') {\n        barData.push(series.data);\n      } else {\n        barData.push([]);\n      }\n    });\n    return calculateStackedBarValues(barData);\n  }, [visibleSeries, stackedBars]);\n\n  return (\n    <>\n      <defs aria-hidden=\"true\">\n        <clipPath id={chartAreaClipPath}>\n          <rect x={0} y={0} width={plotWidth} height={plotHeight} />\n        </clipPath>\n        <clipPath id={lineAreaClipPath}>\n          <rect x={0} y={-STROKE_WIDTH / 2} width={plotWidth} height={plotHeight + STROKE_WIDTH} />\n        </clipPath>\n      </defs>\n      <g aria-hidden={isGroupNavigation ? true : undefined} role=\"group\">\n        {visibleSeries.map(({ series, color }, index) => {\n          const isHighlighted = series === highlightedSeries;\n          const isDimmed = !!highlightedSeries && !isHighlighted;\n\n          switch (series.type) {\n            case 'line':\n            case 'threshold': {\n              return (\n                <g\n                  key={index}\n                  role=\"group\"\n                  aria-label={series.title}\n                  className={clsx(styles.series, styles[`series--${series.type}`], {\n                    [styles['series--highlighted']]: isHighlighted,\n                    [styles['series--dimmed']]: isDimmed,\n                  })}\n                >\n                  <LineSeries\n                    axis={axis}\n                    series={series}\n                    color={color}\n                    xScale={xScale}\n                    yScale={yScale}\n                    chartAreaClipPath={lineAreaClipPath}\n                  />\n                </g>\n              );\n            }\n\n            case 'bar':\n              return (\n                <BarSeries\n                  key={index}\n                  axis={axis}\n                  series={series}\n                  color={color}\n                  totalSeriesCount={visibleSeries.filter(s => s.series.type === 'bar').length}\n                  seriesIndex={index}\n                  xScale={xScale}\n                  yScale={yScale}\n                  plotSize={axis === 'y' ? plotWidth : plotHeight}\n                  highlighted={isHighlighted}\n                  dimmed={isDimmed}\n                  chartAreaClipPath={chartAreaClipPath}\n                  stackedBarValues={stackedBarValues}\n                  highlightedGroupIndex={highlightedGroupIndex}\n                  isRtl={isRtl}\n                />\n              );\n          }\n        })}\n      </g>\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { CartesianChartProps } from '../internal/components/cartesian-chart/interfaces';\nimport { ChartSeriesDetailItem } from '../internal/components/chart-series-details';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { isDataSeries, isXThreshold, isYThreshold, matchesX } from './utils';\n\nexport interface HighlightDetails {\n  position: string;\n  details: ChartSeriesDetailItem[];\n}\n\n/** Formats provided x-position and its corresponding series values. */\nexport default function formatHighlighted<T extends ChartDataTypes>({\n  position,\n  series,\n  xTickFormatter,\n  detailPopoverSeriesContent,\n}: {\n  position: T;\n  series: readonly InternalChartSeries<T>[];\n  xTickFormatter?: CartesianChartProps.TickFormatter<T>;\n  detailPopoverSeriesContent?: MixedLineBarChartProps.DetailPopoverSeriesContent<T>;\n}): HighlightDetails {\n  const formattedPosition = xTickFormatter ? xTickFormatter(position) : position.toString();\n\n  const details: ChartSeriesDetailItem[] = [];\n  series.forEach(s => {\n    const detail = getSeriesDetail({ internalSeries: s, targetX: position, detailPopoverSeriesContent });\n    if (detail) {\n      details.push(detail);\n    }\n  });\n\n  return { position: formattedPosition, details };\n}\n\nfunction getSeriesDetail<T>({\n  internalSeries,\n  targetX,\n  detailPopoverSeriesContent,\n}: {\n  internalSeries: InternalChartSeries<T>;\n  targetX: T;\n  detailPopoverSeriesContent?: MixedLineBarChartProps.DetailPopoverSeriesContent<T>;\n}): ChartSeriesDetailItem | null {\n  const { series, color } = internalSeries;\n\n  // X-thresholds are only shown when X matches.\n  if (isXThreshold(series)) {\n    return series.x === targetX\n      ? {\n          key: series.title,\n          value: '',\n          color,\n          markerType: 'dashed',\n        }\n      : null;\n  }\n\n  if (isYThreshold(series)) {\n    return {\n      key: series.title,\n      value: series.valueFormatter ? series.valueFormatter(series.y) : series.y,\n      color,\n      markerType: 'dashed',\n    };\n  }\n\n  if (isDataSeries(series)) {\n    for (const datum of series.data) {\n      if (matchesX(targetX, datum.x)) {\n        const customContent = detailPopoverSeriesContent\n          ? detailPopoverSeriesContent({ series, x: targetX, y: datum.y })\n          : undefined;\n        const hasSubItems = !!customContent?.subItems?.length;\n        const isExpandable = customContent?.expandable && hasSubItems;\n        const isKeyString = typeof customContent?.key === 'string';\n        const key = customContent?.key && (!isExpandable || isKeyString) ? customContent.key : series.title;\n\n        if (customContent?.expandable && !hasSubItems) {\n          warnOnce(\n            'MixedLineBarChart',\n            '`expandable` was set to `true` for a series without sub-items. This property will be ignored.'\n          );\n        }\n        if (isExpandable && !isKeyString) {\n          warnOnce(\n            'MixedLineBarChart',\n            'A ReactNode was used for the key of an expandable series. The series title will be used instead because nested interactive elements can cause accessiblity issues.'\n          );\n        }\n        if (!isKeyString && !isExpandable && customContent?.value && typeof customContent.value !== 'string') {\n          warnOnce(\n            'MixedLineBarChart',\n            'Use a ReactNode for the key or the value of a series, but not for both. It is not recommended to use links for key and value at the same time.'\n          );\n        }\n\n        return {\n          key,\n          value: customContent?.value || (series.valueFormatter ? series.valueFormatter(datum.y, targetX) : datum.y),\n          color,\n          markerType: series.type === 'line' ? 'line' : 'rectangle',\n          subItems: customContent?.subItems,\n          expandableId: isExpandable ? series.title : undefined,\n        };\n      }\n    }\n  }\n\n  return null;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport { ChartPlotRef } from '../../internal/components/chart-plot';\nimport { VerticalMarkerX } from '../interfaces';\nimport { ScaledBarGroup } from '../make-scaled-bar-groups';\nimport { ScaledPoint } from '../make-scaled-series';\nimport { isYThreshold } from '../utils';\n\nimport styles from '../styles.css.js';\n\nconst MAX_HOVER_MARGIN = 6;\nconst POPOVER_DEADZONE = 12;\n\nexport interface UseMouseHoverProps<T> {\n  plotRef: React.RefObject<ChartPlotRef>;\n  popoverRef: React.RefObject<HTMLElement>;\n  scaledSeries: ReadonlyArray<ScaledPoint<T>>;\n  barGroups: ScaledBarGroup<T>[];\n  highlightPoint: (point: ScaledPoint<T> | null) => void;\n  highlightGroup: (groupIndex: number) => void;\n  clearHighlightedSeries: () => void;\n  isGroupNavigation: boolean;\n  isHandlersDisabled: boolean;\n  highlightX: (verticalMarker: VerticalMarkerX<T> | null) => void;\n}\n\nexport function useMouseHover<T>({\n  plotRef,\n  popoverRef,\n  scaledSeries,\n  barGroups,\n  highlightPoint,\n  highlightGroup,\n  clearHighlightedSeries,\n  isGroupNavigation,\n  isHandlersDisabled,\n  highlightX,\n}: UseMouseHoverProps<T>) {\n  const isMouseOverPopover = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    if (popoverRef.current?.firstChild) {\n      const popoverPosition = (popoverRef.current.firstChild as HTMLElement).getBoundingClientRect();\n      if (\n        event.clientX > popoverPosition.x - POPOVER_DEADZONE &&\n        event.clientX < popoverPosition.x + popoverPosition.width + POPOVER_DEADZONE &&\n        event.clientY > popoverPosition.y - POPOVER_DEADZONE &&\n        event.clientY < popoverPosition.y + popoverPosition.height + POPOVER_DEADZONE\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const onSeriesMouseMove = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    const svgRect = (event.target as SVGElement).getBoundingClientRect();\n    const offsetX = event.clientX - svgRect.left;\n\n    const closestX = scaledSeries\n      .map(v => v.x)\n      .reduce((prev, curr) => (Math.abs(curr - offsetX) < Math.abs(prev - offsetX) ? curr : prev), -Infinity);\n\n    if (isFinite(closestX)) {\n      const offsetY = event.clientY - svgRect.top;\n      const closestY = scaledSeries\n        .filter(v => v.x === closestX || isYThreshold(v.series))\n        .map(v => v.y)\n        .reduce((prev, curr) => (Math.abs(curr - offsetY) < Math.abs(prev - offsetY) ? curr : prev), -Infinity);\n\n      if (\n        isFinite(closestY) &&\n        Math.abs(offsetX - closestX) < MAX_HOVER_MARGIN &&\n        Math.abs(offsetY - closestY) < MAX_HOVER_MARGIN\n      ) {\n        const [{ color, datum, series }] = scaledSeries.filter(\n          s => (s.x === closestX || isYThreshold(s.series)) && s.y === closestY\n        );\n        highlightPoint({ x: closestX, y: closestY, color, datum, series });\n      } else {\n        let datumX = null;\n        for (const point of scaledSeries) {\n          if (point.x === closestX) {\n            datumX = point.datum?.x ?? null;\n            break;\n          }\n        }\n        highlightX({ scaledX: closestX, label: datumX });\n      }\n    }\n  };\n\n  const onGroupMouseMove = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    const svgRect = (event.target as SVGElement).getBoundingClientRect();\n    const offsetX = event.clientX - svgRect.left;\n    const offsetY = event.clientY - svgRect.top;\n\n    // If hovering over some group - highlight it.\n    for (let groupIndex = 0; groupIndex < barGroups.length; groupIndex++) {\n      const {\n        position: { x, y, width, height },\n      } = barGroups[groupIndex];\n\n      if (x <= offsetX && offsetX <= x + width && y <= offsetY && offsetY <= y + height) {\n        highlightGroup(groupIndex);\n        return;\n      }\n    }\n    // Otherwise - clear the highlight.\n    clearHighlightedSeries();\n  };\n\n  const onSVGMouseMove = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    if (event.target === plotRef.current!.svg && !isHandlersDisabled && !isMouseOverPopover(event)) {\n      if (isGroupNavigation) {\n        onGroupMouseMove(event);\n      } else if (scaledSeries.length > 0) {\n        onSeriesMouseMove(event);\n      }\n    }\n  };\n\n  const onSVGMouseOut = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    if (isHandlersDisabled || isMouseOverPopover(event)) {\n      return;\n    }\n    if (\n      !nodeContains(plotRef.current!.svg, event.relatedTarget) ||\n      (event.relatedTarget && (event.relatedTarget as Element).classList.contains(styles.series))\n    ) {\n      highlightX(null);\n      clearHighlightedSeries();\n    }\n  };\n\n  const onPopoverLeave = (event: React.MouseEvent) => {\n    if (!isHandlersDisabled && nodeContains(plotRef.current!.svg, event.relatedTarget)) {\n      highlightX(null);\n      clearHighlightedSeries();\n    }\n  };\n\n  return { onSVGMouseMove, onSVGMouseOut, onPopoverLeave };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Returns given index if it is in range or the opposite range boundary otherwise.\nexport function circleIndex(index: number, [from, to]: [number, number]): number {\n  if (index < from) {\n    return to;\n  }\n  if (index > to) {\n    return from;\n  }\n  return index;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport { ChartScale, NumericChartScale } from '../../internal/components/cartesian-chart/scales';\nimport { KeyCode } from '../../internal/keycode';\nimport { circleIndex } from '../../internal/utils/circle-index';\nimport { ChartContainerProps } from '../chart-container';\nimport { ChartDataTypes, MixedLineBarChartProps, VerticalMarkerX } from '../interfaces';\nimport { ScaledBarGroup } from '../make-scaled-bar-groups';\nimport { ScaledPoint } from '../make-scaled-series';\nimport { findNavigableSeries, isXThreshold, isYThreshold, nextValidDomainIndex } from '../utils';\n\nexport type UseNavigationProps<T extends ChartDataTypes> = Pick<\n  ChartContainerProps<T>,\n  'highlightedSeries' | 'series' | 'visibleSeries'\n> & {\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n  barGroups: ScaledBarGroup<T>[];\n  scaledSeries: ReadonlyArray<ScaledPoint<T>>;\n\n  highlightedPoint: ScaledPoint<T> | null;\n  highlightedGroupIndex: number | null;\n  isHandlersDisabled: boolean;\n\n  pinPopover(pinned?: boolean): void;\n  highlightSeries(series: MixedLineBarChartProps.ChartSeries<T> | null): void;\n  highlightGroup(groupIndex: number): void;\n  highlightPoint(point: ScaledPoint<T> | null): void;\n  highlightX: (verticalMarker: VerticalMarkerX<T> | null) => void;\n  clearHighlightedSeries(): void;\n  verticalMarkerX: VerticalMarkerX<T> | null;\n\n  isRtl?: boolean;\n  horizontalBars: boolean;\n};\n\nexport function useNavigation<T extends ChartDataTypes>({\n  series,\n  visibleSeries,\n  scaledSeries,\n  barGroups,\n  xScale,\n  yScale,\n  highlightedPoint,\n  highlightedGroupIndex,\n  highlightedSeries,\n  isHandlersDisabled,\n  pinPopover,\n  highlightSeries,\n  highlightGroup,\n  highlightPoint,\n  highlightX,\n  verticalMarkerX,\n  isRtl,\n  horizontalBars,\n}: UseNavigationProps<T>) {\n  const [targetX, setTargetX] = useState<T | null>(null);\n  const [xIndex, setXIndex] = useState(0);\n\n  // There are two different types of navigation:\n  // 1) Group navigation for any chart that contains a bar series\n  // 2) Line navigation for any chart that only contains lines and thresholds\n  const isGroupNavigation = useMemo(() => visibleSeries.some(({ series }) => series.type === 'bar'), [visibleSeries]);\n\n  // Make a list of series that can be navigated between. Bar series are treated as one.\n  const { navigableSeries } = useMemo(() => findNavigableSeries(visibleSeries), [visibleSeries]);\n  const containsMultipleSeries = navigableSeries.length > 1;\n\n  const onBarGroupFocus = () => {\n    const groupIndex = highlightedGroupIndex ?? 0;\n    setTargetX((xScale.domain as T[])[groupIndex]);\n    highlightGroup(groupIndex);\n  };\n\n  const onLineFocus = () => {\n    if (verticalMarkerX === null) {\n      const index = !isRtl ? 0 : allUniqueX.length - 1;\n      if (containsMultipleSeries) {\n        moveToLineGroupIndex(index);\n      } else {\n        moveBetweenSeries(0, allUniqueX[index].datum?.x);\n      }\n    }\n  };\n\n  const onFocus = () => {\n    if (isGroupNavigation) {\n      onBarGroupFocus();\n    } else {\n      onLineFocus();\n    }\n  };\n\n  // Returns all the unique X coordinates in scaledSeries.\n  // Assumes scaledSeries is sorted by `x`.\n  const allUniqueX = useMemo(() => {\n    const result = [];\n    for (let i = 0; i < scaledSeries.length; i += 1) {\n      const point = scaledSeries[i];\n      if (point !== undefined && (!result.length || result[result.length - 1].scaledX !== point.x)) {\n        result.push({ scaledX: point.x, datum: point.datum });\n      }\n    }\n    return result;\n  }, [scaledSeries]);\n\n  const moveBetweenSeries = useCallback(\n    (direction: number, startFrom?: T) => {\n      if (isGroupNavigation) {\n        return;\n      }\n\n      const xOffset = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n      const MAX_SERIES_INDEX = navigableSeries.length - 1;\n\n      // Find the index of the currently highlighted series (if any)\n      let previousSeriesIndex = -1;\n      if (highlightedSeries) {\n        previousSeriesIndex = navigableSeries.indexOf(highlightedSeries);\n      }\n\n      // Move forwards or backwards to the new series\n      // If index === -1, show all data points from all series at the given X instead of one single series\n      const firstPossibleIndex = containsMultipleSeries ? -1 : 0;\n      let nextSeriesIndex = 0;\n      if (previousSeriesIndex !== null) {\n        nextSeriesIndex = previousSeriesIndex + direction;\n        if (nextSeriesIndex > MAX_SERIES_INDEX) {\n          nextSeriesIndex = firstPossibleIndex;\n        } else if (nextSeriesIndex < firstPossibleIndex) {\n          nextSeriesIndex = MAX_SERIES_INDEX;\n        }\n      }\n      if (nextSeriesIndex === -1) {\n        highlightSeries(null);\n        highlightPoint(null);\n        return;\n      }\n      const nextSeries = navigableSeries[nextSeriesIndex];\n      const nextInternalSeries = series.filter(({ series }) => series === nextSeries)[0];\n\n      const actualTargetX = targetX ?? startFrom ?? null;\n\n      // 2. Find point in the next series\n      let targetXPoint = (xScale.d3Scale(actualTargetX as any) ?? NaN) + xOffset;\n      if (!isFinite(targetXPoint)) {\n        targetXPoint = 0;\n      }\n\n      if (nextSeries.type === 'line') {\n        const nextScaledSeries = scaledSeries.filter(it => it.series === nextSeries);\n        const closestNextSeriesPoint = nextScaledSeries.reduce(\n          (prev, curr) => (Math.abs(curr.x - targetXPoint) < Math.abs(prev.x - targetXPoint) ? curr : prev),\n          { x: -Infinity, y: -Infinity }\n        );\n        highlightPoint({ ...closestNextSeriesPoint, color: nextInternalSeries.color, series: nextSeries });\n      } else if (isYThreshold(nextSeries)) {\n        const scaledTargetIndex = scaledSeries.map(it => it.datum?.x || null).indexOf(actualTargetX);\n        highlightPoint({\n          x: targetXPoint,\n          y: yScale.d3Scale(nextSeries.y) ?? NaN,\n          color: nextInternalSeries.color,\n          series: nextSeries,\n          datum: scaledSeries[scaledTargetIndex]?.datum,\n        });\n      } else if (isXThreshold(nextSeries)) {\n        highlightPoint({\n          x: xScale.d3Scale(nextSeries.x as any) ?? NaN,\n          y: yScale.d3Scale.range()[0],\n          color: nextInternalSeries.color,\n          series: nextSeries,\n          datum: { x: nextSeries.x, y: NaN },\n        });\n      }\n    },\n    [\n      isGroupNavigation,\n      xScale,\n      navigableSeries,\n      highlightedSeries,\n      containsMultipleSeries,\n      highlightSeries,\n      highlightPoint,\n      series,\n      targetX,\n      scaledSeries,\n      yScale,\n    ]\n  );\n\n  const moveWithinSeries = useCallback(\n    (direction: number) => {\n      const series = highlightedSeries || visibleSeries[0].series;\n\n      if (series.type === 'line' || isYThreshold(series)) {\n        const targetScaledSeries = scaledSeries.filter(it => it.series === series);\n        const previousPoint = highlightedPoint || targetScaledSeries[0];\n        const indexOfPreviousPoint = targetScaledSeries.map(it => it.x).indexOf(previousPoint.x);\n        const nextPointIndex = circleIndex(indexOfPreviousPoint + direction, [0, targetScaledSeries.length - 1]);\n        const nextPoint = targetScaledSeries[nextPointIndex];\n\n        setTargetX(nextPoint.datum?.x || null);\n        setXIndex(nextPointIndex);\n        highlightPoint(nextPoint);\n      } else if (series.type === 'bar') {\n        const xDomain = xScale.domain as T[];\n        const MAX_GROUP_INDEX = xDomain.length - 1;\n\n        let nextGroupIndex = 0;\n        if (highlightedGroupIndex !== null) {\n          if (isRtl && !horizontalBars) {\n            direction = -direction;\n          }\n\n          // find next group\n          nextGroupIndex = highlightedGroupIndex + direction;\n          if (nextGroupIndex > MAX_GROUP_INDEX) {\n            nextGroupIndex = 0;\n          } else if (nextGroupIndex < 0) {\n            nextGroupIndex = MAX_GROUP_INDEX;\n          }\n        }\n\n        const nextDomainIndex = nextValidDomainIndex(nextGroupIndex, barGroups, direction);\n        setTargetX(xDomain[nextDomainIndex]);\n        highlightGroup(nextDomainIndex);\n      }\n    },\n    [\n      highlightedSeries,\n      visibleSeries,\n      scaledSeries,\n      highlightedPoint,\n      highlightPoint,\n      xScale.domain,\n      highlightedGroupIndex,\n      barGroups,\n      highlightGroup,\n      isRtl,\n      horizontalBars,\n    ]\n  );\n\n  const moveToLineGroupIndex = useCallback(\n    (index: number) => {\n      const point = allUniqueX[index];\n      setXIndex(index);\n      setTargetX(point.datum?.x || null);\n      highlightX({ scaledX: point?.scaledX ?? null, label: point.datum?.x ?? null });\n    },\n    [allUniqueX, highlightX]\n  );\n\n  const moveWithinXAxis = useCallback(\n    (direction: number) => {\n      if (highlightedSeries || isGroupNavigation) {\n        moveWithinSeries(direction);\n      } else {\n        const nextPointGroupIndex = circleIndex(xIndex + direction, [0, allUniqueX.length - 1]);\n        moveToLineGroupIndex(nextPointGroupIndex);\n      }\n    },\n    [highlightedSeries, isGroupNavigation, moveWithinSeries, xIndex, allUniqueX.length, moveToLineGroupIndex]\n  );\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const keyCode = event.keyCode;\n      if (\n        keyCode !== KeyCode.up &&\n        keyCode !== KeyCode.right &&\n        keyCode !== KeyCode.down &&\n        keyCode !== KeyCode.left &&\n        keyCode !== KeyCode.space &&\n        keyCode !== KeyCode.enter\n      ) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (isHandlersDisabled) {\n        return;\n      }\n\n      if (keyCode === KeyCode.down || keyCode === KeyCode.up) {\n        moveBetweenSeries(keyCode === KeyCode.down ? 1 : -1);\n      } else if (keyCode === KeyCode.left || keyCode === KeyCode.right) {\n        moveWithinXAxis(keyCode === KeyCode.right ? 1 : -1);\n      } else if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\n        pinPopover();\n      }\n    },\n    [isHandlersDisabled, moveBetweenSeries, moveWithinXAxis, pinPopover]\n  );\n\n  return { isGroupNavigation, onFocus, onKeyDown, xIndex };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { isXThreshold, isYThreshold } from './utils';\n\nexport interface ScaledPoint<T> {\n  x: number;\n  y: number;\n  color: string;\n  datum?: MixedLineBarChartProps.Datum<T> | undefined;\n  series: MixedLineBarChartProps.ChartSeries<T>;\n}\n\n/** Combine all line series into an array of scaled data points with the given scales. */\nexport default function makeScaledSeries<T extends ChartDataTypes>(\n  allSeries: ReadonlyArray<InternalChartSeries<T>>,\n  xScale: ChartScale,\n  yScale: NumericChartScale\n): readonly ScaledPoint<T>[] {\n  const xOffset = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n  const scaleX = (x: T) => (xScale.d3Scale(x as any) || 0) + xOffset;\n  const scaleY = (y: number) => yScale.d3Scale(y) || 0;\n  const allX = getAllX(allSeries);\n\n  function mergeLineSeriesPointsWithXThresholds(\n    scaledPoints: ScaledPoint<T>[],\n    xThresholdSeries: MixedLineBarChartProps.ThresholdSeries<T> & { x: T },\n    xThresholdSeriesColor: string\n  ) {\n    const x = scaleX(xThresholdSeries.x);\n\n    // Locate a point the x-threshold can be inserted after (if such exists).\n    let bisectIndex = -1;\n    for (let i = 0; i < scaledPoints.length - 1; i++) {\n      if (scaledPoints[i].x < x && x < scaledPoints[i + 1].x) {\n        bisectIndex = i;\n        break;\n      }\n    }\n\n    // Insert x-threshold point into the given series using extrapolated Y value.\n    // The extrapolated value is only used to render highlighted point on the chart plot.\n    if (bisectIndex !== -1) {\n      const prevY = scaledPoints[bisectIndex].datum?.y || 0;\n      const nextY = scaledPoints[bisectIndex + 1].datum?.y || 0;\n      const averageY = (prevY + nextY) / 2;\n      scaledPoints.push({\n        x: x,\n        y: scaleY(averageY),\n        datum: { x: xThresholdSeries.x, y: NaN },\n        series: scaledPoints[bisectIndex].series,\n        color: xThresholdSeriesColor,\n      });\n    }\n  }\n\n  const scaledSeriesX = allSeries.map(({ series, color }) => {\n    const scaledPoints: ScaledPoint<T>[] = [];\n\n    // Scale and add all line series data points.\n    if (series.type === 'line') {\n      for (const datum of series.data as MixedLineBarChartProps.Datum<T>[]) {\n        scaledPoints.push({ x: scaleX(datum.x), y: scaleY(datum.y), datum, series, color });\n      }\n\n      // Sort scaled points to ensure correct x-thresholds insertion.\n      scaledPoints.sort((s1, s2) => s1.x - s2.x);\n\n      // Merge x-thresholds into series if they don't have a shared coordinate.\n      for (const otherSeries of allSeries) {\n        if (isXThreshold(otherSeries.series)) {\n          mergeLineSeriesPointsWithXThresholds(scaledPoints, otherSeries.series, otherSeries.color);\n        }\n      }\n    }\n    // Y-thresholds only have Y. To make thresholds navigable they are mapped to all defined X values.\n    else if (isYThreshold(series)) {\n      for (const x of allX) {\n        scaledPoints.push({ x: scaleX(x), y: scaleY(series.y), datum: { x, y: series.y }, series, color });\n      }\n      // Support threshold-only setup.\n      if (allX.length === 0) {\n        scaledPoints.push({ x: NaN, y: scaleY(series.y), series, color });\n      }\n    }\n    // X-thresholds only have X. The y value is taken as NaN which means there is no associated point - only vertical marker.\n    else if (isXThreshold(series)) {\n      scaledPoints.push({ x: scaleX(series.x), y: NaN, datum: { x: series.x, y: NaN }, series, color });\n    }\n    // Bar series are handled separately.\n    return scaledPoints;\n  });\n\n  // Sort scaled points by x to ensure their order matches visual order in the chart to support navigation.\n  return flatten(scaledSeriesX).sort((s1, s2) => s1.x - s2.x);\n}\n\n/** Collect unique x values from all data series. */\nfunction getAllX<T>(series: ReadonlyArray<InternalChartSeries<T>>) {\n  const addDataXSet = new Set<T>();\n  for (const { series: s } of series) {\n    switch (s.type) {\n      // Add all X values from data series.\n      case 'bar':\n      case 'line':\n        for (const d of s.data) {\n          addDataXSet.add(d.x);\n        }\n        break;\n\n      case 'threshold':\n        // X-thresholds have a single X value.\n        if (isXThreshold(s)) {\n          addDataXSet.add(s.x);\n        }\n        // Thresholds don't have X values.\n        break;\n    }\n  }\n  const allDataX: T[] = [];\n  addDataXSet.forEach(x => allDataX.push(x));\n\n  return allDataX;\n}\n\nfunction flatten<T>(arrays: T[][]): T[] {\n  const merged: T[] = [];\n  for (const array of arrays) {\n    for (const item of array) {\n      merged.push(item);\n    }\n  }\n  return merged;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\n\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nimport AxisLabel from '../internal/components/cartesian-chart/axis-label';\nimport BlockEndLabels, { useBLockEndLabels } from '../internal/components/cartesian-chart/block-end-labels';\nimport { CartesianChartContainer } from '../internal/components/cartesian-chart/chart-container';\nimport EmphasizedBaseline from '../internal/components/cartesian-chart/emphasized-baseline';\nimport HighlightedPoint from '../internal/components/cartesian-chart/highlighted-point';\nimport InlineStartLabels from '../internal/components/cartesian-chart/inline-start-labels';\nimport { CartesianChartProps } from '../internal/components/cartesian-chart/interfaces';\nimport LabelsMeasure from '../internal/components/cartesian-chart/labels-measure';\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { createXTicks, createYTicks, getXTickCount, getYTickCount } from '../internal/components/cartesian-chart/ticks';\nimport VerticalGridLines from '../internal/components/cartesian-chart/vertical-grid-lines';\nimport VerticalMarker from '../internal/components/cartesian-chart/vertical-marker';\nimport ChartPlot, { ChartPlotRef } from '../internal/components/chart-plot';\nimport { useHeightMeasure } from '../internal/hooks/container-queries/use-height-measure';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport BarGroups from './bar-groups';\nimport MixedChartPopover from './chart-popover';\nimport DataSeries from './data-series';\nimport { computeDomainX, computeDomainY } from './domain';\nimport formatHighlighted from './format-highlighted';\nimport { useMouseHover } from './hooks/use-mouse-hover';\nimport { useNavigation } from './hooks/use-navigation';\nimport { usePopover } from './hooks/use-popover';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps, ScaleType, VerticalMarkerX } from './interfaces';\nimport makeScaledBarGroups, { ScaledBarGroup } from './make-scaled-bar-groups';\nimport makeScaledSeries, { ScaledPoint } from './make-scaled-series';\nimport { isXThreshold } from './utils';\n\nconst INLINE_START_LABELS_MARGIN = 16;\nconst BLOCK_END_LABELS_OFFSET = 12;\n\ntype TickFormatter = undefined | ((value: ChartDataTypes) => string);\n\nexport interface ChartContainerProps<T extends ChartDataTypes> {\n  series: ReadonlyArray<InternalChartSeries<T>>;\n  visibleSeries: ReadonlyArray<InternalChartSeries<T>>;\n\n  fitHeight?: boolean;\n  height: number;\n  detailPopoverSize: MixedLineBarChartProps<T>['detailPopoverSize'];\n  detailPopoverFooter: MixedLineBarChartProps<T>['detailPopoverFooter'];\n\n  xScaleType: ScaleType;\n  yScaleType: 'linear' | 'log';\n\n  xDomain: MixedLineBarChartProps<T>['xDomain'];\n  yDomain: MixedLineBarChartProps<T>['yDomain'];\n\n  xTickFormatter?: CartesianChartProps.TickFormatter<T>;\n  yTickFormatter?: CartesianChartProps.TickFormatter<number>;\n\n  xTitle?: string;\n  yTitle?: string;\n\n  stackedBars?: boolean;\n  emphasizeBaselineAxis: boolean;\n  horizontalBars?: boolean;\n\n  highlightedSeries?: MixedLineBarChartProps<T>['highlightedSeries'];\n  onHighlightChange: (series: InternalChartSeries<T>['series'] | null) => void;\n  highlightedPoint: ScaledPoint<T> | null;\n  setHighlightedPoint: (point: ScaledPoint<T> | null) => void;\n  highlightedGroupIndex: number | null;\n  setHighlightedGroupIndex: (groupIndex: number | null) => void;\n\n  ariaLabel: MixedLineBarChartProps<T>['ariaLabel'];\n  ariaLabelledby: MixedLineBarChartProps<T>['ariaLabelledby'];\n  ariaDescription: MixedLineBarChartProps<T>['ariaDescription'];\n  i18nStrings: MixedLineBarChartProps<T>['i18nStrings'];\n\n  detailPopoverSeriesContent?: MixedLineBarChartProps.DetailPopoverSeriesContent<T>;\n}\n\ninterface BaseAxisProps {\n  tickCount: number;\n  tickFormatter: TickFormatter;\n  title?: string;\n  ariaRoleDescription?: string;\n}\n\ninterface XAxisProps extends BaseAxisProps {\n  axis: 'x';\n  scale: ChartScale;\n  ticks: ChartDataTypes[];\n}\n\ninterface YAxisProps extends BaseAxisProps {\n  axis: 'y';\n  scale: NumericChartScale;\n  ticks: number[];\n}\n\nconst fallbackContainerWidth = 500;\n\nexport default function ChartContainer<T extends ChartDataTypes>({\n  fitHeight,\n  height: explicitPlotHeight,\n  series,\n  visibleSeries,\n  highlightedSeries,\n  onHighlightChange,\n  highlightedPoint,\n  setHighlightedPoint,\n  highlightedGroupIndex,\n  setHighlightedGroupIndex,\n  detailPopoverFooter,\n  detailPopoverSize = 'medium',\n  stackedBars = false,\n  horizontalBars = false,\n  xScaleType,\n  yScaleType,\n  xTickFormatter,\n  yTickFormatter,\n  emphasizeBaselineAxis,\n  xTitle,\n  yTitle,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  i18nStrings = {},\n  detailPopoverSeriesContent,\n  ...props\n}: ChartContainerProps<T>) {\n  const plotRef = useRef<ChartPlotRef>(null);\n  const verticalMarkerRef = useRef<SVGLineElement>(null);\n\n  const [inlineStartLabelsWidth, setInlineStartLabelsWidth] = useState(0);\n  const [verticalMarkerX, setVerticalMarkerX] = useState<VerticalMarkerX<T> | null>(null);\n  const [detailsPopoverText, setDetailsPopoverText] = useState('');\n  const [containerWidth, containerMeasureRef] = useContainerWidth(fallbackContainerWidth);\n  const maxInlineStartLabelsWidth = Math.round(containerWidth / 2);\n  const plotWidth = containerWidth\n    ? // Calculate the minimum between inlineStartLabelsWidth and maxInlineStartLabelsWidth for extra safety because inlineStarteLabelsWidth could be out of date\n      Math.max(\n        0,\n        containerWidth - Math.min(inlineStartLabelsWidth, maxInlineStartLabelsWidth) - INLINE_START_LABELS_MARGIN\n      )\n    : fallbackContainerWidth;\n  const containerRefObject = useRef(null);\n  const containerRef = useMergeRefs(containerMeasureRef, containerRefObject);\n  const popoverRef = useRef<HTMLElement | null>(null);\n\n  const isRtl = getIsRtl(containerRefObject.current);\n\n  const xDomain = (props.xDomain || computeDomainX(series, xScaleType)) as\n    | readonly number[]\n    | readonly string[]\n    | readonly Date[];\n  const yDomain = (props.yDomain || computeDomainY(series, yScaleType, stackedBars)) as readonly number[];\n\n  const linesOnly = series.every(({ series }) => series.type === 'line' || series.type === 'threshold');\n\n  function getXAxisProps(size: number, range: [from: number, until: number]): XAxisProps {\n    const tickCount = getXTickCount(size);\n    const scale = new ChartScale(xScaleType, xDomain, range, linesOnly);\n    const ticks = createXTicks(scale, tickCount);\n    return {\n      axis: 'x',\n      tickCount,\n      scale,\n      ticks,\n      tickFormatter: xTickFormatter as TickFormatter,\n      title: xTitle,\n      ariaRoleDescription: i18nStrings.xAxisAriaRoleDescription,\n    };\n  }\n\n  function getYAxisProps(size: number, range: [from: number, until: number]): YAxisProps {\n    const tickCount = getYTickCount(size);\n    const scale = new NumericChartScale(yScaleType, yDomain, range, props.yDomain ? null : tickCount);\n    const ticks = createYTicks(scale, tickCount);\n    return {\n      axis: 'y',\n      tickCount,\n      scale,\n      ticks,\n      tickFormatter: yTickFormatter as TickFormatter,\n      title: yTitle,\n      ariaRoleDescription: i18nStrings.yAxisAriaRoleDescription,\n    };\n  }\n\n  const bottomAxisProps = !horizontalBars\n    ? getXAxisProps(plotWidth, !isRtl ? [0, plotWidth] : [plotWidth, 0])\n    : getYAxisProps(plotWidth, !isRtl ? [0, plotWidth] : [plotWidth, 0]);\n  const blockEndLabelsProps = useBLockEndLabels({ ...bottomAxisProps });\n\n  const plotMeasureRef = useRef<SVGLineElement>(null);\n  const measuredHeight = useHeightMeasure(() => plotMeasureRef.current, !fitHeight);\n  const plotHeight = fitHeight ? measuredHeight ?? 0 : explicitPlotHeight;\n\n  const leftAxisProps = !horizontalBars\n    ? getYAxisProps(plotHeight, [plotHeight, 0])\n    : getXAxisProps(plotHeight, [0, plotHeight]);\n\n  const xAxisProps = bottomAxisProps.axis === 'x' ? bottomAxisProps : leftAxisProps.axis === 'x' ? leftAxisProps : null;\n  const yAxisProps = bottomAxisProps.axis === 'y' ? bottomAxisProps : leftAxisProps.axis === 'y' ? leftAxisProps : null;\n  if (!xAxisProps || !yAxisProps) {\n    throw new Error('Invariant violation: invalid axis props.');\n  }\n\n  /**\n   * Interactions\n   */\n  const highlightedPointRef = useRef<SVGGElement>(null);\n  const highlightedGroupRef = useRef<SVGRectElement>(null);\n\n  // Some chart components are rendered against \"x\" or \"y\" axes,\n  // When \"horizontalBars\" is enabled, the axes are inverted.\n  const x = !horizontalBars ? 'x' : 'y';\n  const y = !horizontalBars ? 'y' : 'x';\n\n  const scaledSeries = makeScaledSeries(visibleSeries, xAxisProps.scale, yAxisProps.scale);\n  const barGroups: ScaledBarGroup<T>[] = makeScaledBarGroups(visibleSeries, xAxisProps.scale, plotWidth, plotHeight, y);\n\n  const { isPopoverOpen, isPopoverPinned, showPopover, pinPopover, dismissPopover } = usePopover();\n\n  // Allows to add a delay between popover is dismissed and handlers are enabled to prevent immediate popover reopening.\n  const [isHandlersDisabled, setHandlersDisabled] = useState(!isPopoverPinned);\n  useEffect(() => {\n    if (isPopoverPinned) {\n      setHandlersDisabled(true);\n    } else {\n      const timeoutId = setTimeout(() => setHandlersDisabled(false), 25);\n      return () => clearTimeout(timeoutId);\n    }\n  }, [isPopoverPinned]);\n\n  const highlightSeries = useCallback(\n    (series: MixedLineBarChartProps.ChartSeries<T> | null) => {\n      if (series !== highlightedSeries) {\n        onHighlightChange(series);\n      }\n    },\n    [highlightedSeries, onHighlightChange]\n  );\n\n  const highlightPoint = useCallback(\n    (point: ScaledPoint<T> | null) => {\n      setHighlightedGroupIndex(null);\n      setHighlightedPoint(point);\n      if (point) {\n        highlightSeries(point.series);\n        setVerticalMarkerX({\n          scaledX: point.x,\n          label: point.datum?.x ?? null,\n        });\n      }\n    },\n    [setHighlightedGroupIndex, setHighlightedPoint, highlightSeries]\n  );\n\n  const clearAllHighlights = useCallback(() => {\n    setHighlightedPoint(null);\n    highlightSeries(null);\n    setHighlightedGroupIndex(null);\n  }, [highlightSeries, setHighlightedGroupIndex, setHighlightedPoint]);\n\n  // Highlight all points at a given X in a line chart\n  const highlightX = useCallback(\n    (marker: VerticalMarkerX<T> | null) => {\n      if (marker) {\n        clearAllHighlights();\n      }\n      setVerticalMarkerX(marker);\n    },\n    [clearAllHighlights]\n  );\n\n  // Highlight all points and bars at a given X index in a mixed line and bar chart\n  const highlightGroup = useCallback(\n    (groupIndex: number) => {\n      highlightSeries(null);\n      setHighlightedPoint(null);\n      setHighlightedGroupIndex(groupIndex);\n    },\n    [highlightSeries, setHighlightedPoint, setHighlightedGroupIndex]\n  );\n\n  const clearHighlightedSeries = useCallback(() => {\n    clearAllHighlights();\n    dismissPopover();\n  }, [dismissPopover, clearAllHighlights]);\n\n  const { isGroupNavigation, ...handlers } = useNavigation({\n    series,\n    visibleSeries,\n    scaledSeries,\n    barGroups,\n    xScale: xAxisProps.scale,\n    yScale: yAxisProps.scale,\n    highlightedPoint,\n    highlightedGroupIndex,\n    highlightedSeries,\n    isHandlersDisabled,\n    pinPopover,\n    highlightSeries,\n    highlightGroup,\n    highlightPoint,\n    highlightX,\n    clearHighlightedSeries,\n    verticalMarkerX,\n    isRtl: !!isRtl,\n    horizontalBars,\n  });\n\n  const { onSVGMouseMove, onSVGMouseOut, onPopoverLeave } = useMouseHover<T>({\n    scaledSeries,\n    barGroups,\n    plotRef,\n    popoverRef,\n    highlightPoint,\n    highlightGroup,\n    clearHighlightedSeries,\n    isGroupNavigation,\n    isHandlersDisabled,\n    highlightX,\n  });\n\n  // There are multiple ways to indicate what X is selected.\n  // TODO: make a uniform verticalMarkerX state to fit all use-cases.\n  const highlightedX = useMemo(() => {\n    if (highlightedGroupIndex !== null) {\n      return barGroups[highlightedGroupIndex].x;\n    }\n    if (verticalMarkerX !== null) {\n      return verticalMarkerX.label;\n    }\n    return highlightedPoint?.datum?.x ?? null;\n  }, [highlightedPoint, verticalMarkerX, highlightedGroupIndex, barGroups]);\n\n  useEffect(() => {\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        dismissPopover();\n      }\n    };\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [dismissPopover]);\n\n  useLayoutEffect(() => {\n    if (highlightedX !== null || highlightedPoint !== null) {\n      showPopover();\n    }\n  }, [highlightedX, highlightedPoint, showPopover]);\n\n  const onPopoverDismiss = (outsideClick?: boolean) => {\n    dismissPopover();\n\n    if (!outsideClick) {\n      // The delay is needed to bypass focus events caused by click or keypress needed to unpin the popover.\n      setTimeout(() => {\n        const isSomeElementHighlighted = !!(highlightedPoint || highlightedGroupIndex !== null || verticalMarkerX);\n        if (isSomeElementHighlighted) {\n          plotRef.current?.focusApplication();\n        } else {\n          plotRef.current?.focusPlot();\n        }\n      }, 0);\n    } else {\n      clearAllHighlights();\n      setVerticalMarkerX(null);\n    }\n  };\n\n  const onSVGClick = (e: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    if (isPopoverOpen) {\n      if (isPopoverPinned) {\n        dismissPopover();\n      } else {\n        pinPopover();\n        e.preventDefault();\n      }\n    } else {\n      showPopover();\n    }\n  };\n\n  const onApplicationFocus = (event: React.FocusEvent, trigger: 'mouse' | 'keyboard') => {\n    if (trigger === 'keyboard') {\n      handlers.onFocus();\n    } else {\n      // noop: clicks are handled separately\n    }\n  };\n\n  const onApplicationBlur = (event: React.FocusEvent<Element>) => {\n    const blurTarget = event.relatedTarget || event.target;\n    if (\n      blurTarget === null ||\n      !(blurTarget instanceof Element) ||\n      !nodeBelongs(containerRefObject.current, blurTarget)\n    ) {\n      clearHighlightedSeries();\n      setVerticalMarkerX(null);\n\n      if (isPopoverOpen && !isPopoverPinned) {\n        dismissPopover();\n      }\n    }\n  };\n\n  const onSVGKeyDown = handlers.onKeyDown;\n\n  const xOffset = xAxisProps.scale.isCategorical() ? Math.max(0, xAxisProps.scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  let verticalLineX: number | null = null;\n  if (verticalMarkerX !== null) {\n    verticalLineX = verticalMarkerX.scaledX;\n  } else if (isGroupNavigation && highlightedGroupIndex !== null) {\n    const x = xAxisProps.scale.d3Scale(barGroups[highlightedGroupIndex].x as any) ?? null;\n    if (x !== null) {\n      verticalLineX = xOffset + x;\n    }\n  }\n\n  const point = useMemo(\n    () =>\n      highlightedPoint\n        ? {\n            key: `${highlightedPoint.x}-${highlightedPoint.y}`,\n            x: highlightedPoint.x,\n            y: highlightedPoint.y,\n            color: highlightedPoint.color,\n          }\n        : null,\n    [highlightedPoint]\n  );\n\n  const verticalMarkers = useMemo(\n    () =>\n      verticalLineX !== null\n        ? scaledSeries\n            .filter(({ x, y }) => (x === verticalLineX || isNaN(x)) && !isNaN(y))\n            .map(({ x, y, color }, index) => ({\n              key: `${index}-${x}-${y}`,\n              x: !horizontalBars ? verticalLineX || 0 : y,\n              y: !horizontalBars ? y : verticalLineX || 0,\n              color: color,\n            }))\n        : [],\n    [scaledSeries, verticalLineX, horizontalBars]\n  );\n\n  const highlightedElementRef = isGroupNavigation\n    ? highlightedGroupRef\n    : highlightedPoint\n      ? highlightedPointRef\n      : verticalMarkerRef;\n\n  const highlightDetails = useMemo(() => {\n    if (highlightedX === null) {\n      return null;\n    }\n\n    // When series point is highlighted show the corresponding series and matching x-thresholds.\n    if (highlightedPoint) {\n      const seriesToShow = visibleSeries.filter(\n        series => series.series === highlightedPoint?.series || isXThreshold(series.series)\n      );\n      return formatHighlighted({\n        position: highlightedX,\n        series: seriesToShow,\n        xTickFormatter,\n        detailPopoverSeriesContent,\n      });\n    }\n\n    // Otherwise - show all visible series details.\n    return formatHighlighted({\n      position: highlightedX,\n      series: visibleSeries,\n      xTickFormatter,\n      detailPopoverSeriesContent,\n    });\n  }, [highlightedX, highlightedPoint, visibleSeries, xTickFormatter, detailPopoverSeriesContent]);\n\n  const detailPopoverFooterContent = useMemo(\n    () => (detailPopoverFooter && highlightedX ? detailPopoverFooter(highlightedX) : null),\n    [detailPopoverFooter, highlightedX]\n  );\n\n  const activeAriaLabel =\n    highlightDetails && detailsPopoverText ? `${highlightDetails.position}, ${detailsPopoverText}` : '';\n\n  // Live region is used when nothing is focused e.g. when hovering.\n  const activeLiveRegion =\n    activeAriaLabel && !highlightedPoint && highlightedGroupIndex === null ? activeAriaLabel : '';\n\n  const isLineXKeyboardFocused = !highlightedPoint && verticalMarkerX;\n\n  const isRefresh = useVisualRefresh();\n\n  return (\n    <CartesianChartContainer\n      ref={containerRef}\n      minHeight={explicitPlotHeight + blockEndLabelsProps.height}\n      fitHeight={!!fitHeight}\n      leftAxisLabel={<AxisLabel axis={y} position=\"left\" title={leftAxisProps.title} />}\n      leftAxisLabelMeasure={\n        <LabelsMeasure\n          ticks={leftAxisProps.ticks}\n          scale={leftAxisProps.scale}\n          tickFormatter={leftAxisProps.tickFormatter as TickFormatter}\n          autoWidth={setInlineStartLabelsWidth}\n          maxLabelsWidth={maxInlineStartLabelsWidth}\n        />\n      }\n      bottomAxisLabel={<AxisLabel axis={x} position=\"bottom\" title={bottomAxisProps.title} />}\n      chartPlot={\n        <ChartPlot\n          ref={plotRef}\n          width=\"100%\"\n          height={fitHeight ? `calc(100% - ${blockEndLabelsProps.height}px)` : plotHeight}\n          offsetBottom={blockEndLabelsProps.height}\n          isClickable={isPopoverOpen && !isPopoverPinned}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n          ariaDescription={ariaDescription}\n          ariaRoleDescription={i18nStrings?.chartAriaRoleDescription}\n          ariaLiveRegion={activeLiveRegion}\n          activeElementRef={highlightedElementRef}\n          activeElementKey={activeAriaLabel}\n          activeElementFocusOffset={isGroupNavigation ? 0 : isLineXKeyboardFocused ? { x: 8, y: 0 } : 3}\n          onMouseMove={onSVGMouseMove}\n          onMouseOut={onSVGMouseOut}\n          onClick={onSVGClick}\n          onApplicationFocus={onApplicationFocus}\n          onApplicationBlur={onApplicationBlur}\n          onKeyDown={onSVGKeyDown}\n        >\n          <line\n            ref={plotMeasureRef}\n            x1=\"0\"\n            x2=\"0\"\n            y1=\"0\"\n            y2=\"100%\"\n            stroke=\"transparent\"\n            strokeWidth={1}\n            style={{ pointerEvents: 'none' }}\n          />\n\n          <InlineStartLabels\n            axis={y}\n            ticks={leftAxisProps.ticks}\n            scale={leftAxisProps.scale}\n            tickFormatter={leftAxisProps.tickFormatter as TickFormatter}\n            title={leftAxisProps.title}\n            ariaRoleDescription={leftAxisProps.ariaRoleDescription}\n            maxLabelsWidth={maxInlineStartLabelsWidth}\n            plotWidth={plotWidth}\n            plotHeight={plotHeight}\n          />\n\n          {horizontalBars && (\n            <VerticalGridLines scale={yAxisProps.scale} ticks={yAxisProps.ticks} height={plotHeight} />\n          )}\n\n          {emphasizeBaselineAxis && linesOnly && (\n            <EmphasizedBaseline axis={x} scale={yAxisProps.scale} width={plotWidth} height={plotHeight} />\n          )}\n\n          <DataSeries\n            axis={x}\n            plotWidth={plotWidth}\n            plotHeight={plotHeight}\n            highlightedSeries={highlightedSeries ?? null}\n            highlightedGroupIndex={highlightedGroupIndex}\n            stackedBars={stackedBars}\n            isGroupNavigation={isGroupNavigation}\n            visibleSeries={visibleSeries}\n            xScale={xAxisProps.scale}\n            yScale={yAxisProps.scale}\n            isRtl={!!isRtl}\n          />\n\n          {emphasizeBaselineAxis && !linesOnly && (\n            <EmphasizedBaseline axis={x} scale={yAxisProps.scale} width={plotWidth} height={plotHeight} />\n          )}\n\n          <VerticalMarker\n            key={verticalLineX || ''}\n            height={plotHeight}\n            showPoints={highlightedPoint === null}\n            showLine={!isGroupNavigation}\n            points={verticalMarkers}\n            ref={verticalMarkerRef}\n          />\n\n          {highlightedPoint && (\n            <HighlightedPoint\n              ref={highlightedPointRef}\n              point={point}\n              role=\"button\"\n              ariaLabel={activeAriaLabel}\n              ariaHasPopup={true}\n              ariaExpanded={isPopoverPinned}\n            />\n          )}\n\n          {isGroupNavigation && xAxisProps.scale.isCategorical() && (\n            <BarGroups\n              ariaLabel={activeAriaLabel}\n              isRefresh={isRefresh}\n              isPopoverPinned={isPopoverPinned}\n              barGroups={barGroups}\n              highlightedGroupIndex={highlightedGroupIndex}\n              highlightedGroupRef={highlightedGroupRef}\n            />\n          )}\n\n          <BlockEndLabels\n            {...blockEndLabelsProps}\n            axis={x}\n            scale={bottomAxisProps.scale}\n            title={bottomAxisProps.title}\n            ariaRoleDescription={bottomAxisProps.ariaRoleDescription}\n            height={plotHeight}\n            width={plotWidth}\n            offsetLeft={inlineStartLabelsWidth + BLOCK_END_LABELS_OFFSET}\n            offsetRight={BLOCK_END_LABELS_OFFSET}\n          />\n        </ChartPlot>\n      }\n      popover={\n        <MixedChartPopover\n          ref={popoverRef}\n          containerRef={containerRefObject}\n          trackRef={highlightedElementRef}\n          isOpen={isPopoverOpen}\n          isPinned={isPopoverPinned}\n          highlightDetails={highlightDetails}\n          onDismiss={onPopoverDismiss}\n          size={detailPopoverSize}\n          footer={detailPopoverFooterContent}\n          dismissAriaLabel={i18nStrings.detailPopoverDismissAriaLabel}\n          onMouseLeave={onPopoverLeave}\n          onBlur={onApplicationBlur}\n          setPopoverText={setDetailsPopoverText}\n        />\n      }\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { InternalChartSeries, MixedLineBarChartProps, ScaleType } from './interfaces';\nimport { isDataSeries, isXThreshold, isYThreshold, matchesX } from './utils';\n\nexport function computeDomainX<T>(series: readonly InternalChartSeries<T>[], xScaleType: ScaleType) {\n  if (xScaleType === 'categorical') {\n    return series.reduce((acc, s) => {\n      if (isDataSeries(s.series)) {\n        s.series.data.forEach(({ x }) => {\n          if (acc.indexOf(x) === -1) {\n            acc.push(x);\n          }\n        });\n      }\n      if (isXThreshold(s.series)) {\n        if (acc.indexOf(s.series.x) === -1) {\n          acc.push(s.series.x);\n        }\n      }\n      return acc;\n    }, [] as T[]);\n  }\n\n  return series.reduce((acc, curr) => {\n    // Y-thresholds don't have X value.\n    if (isYThreshold(curr.series)) {\n      return acc;\n    }\n\n    // Compare x-threshold X with current min, max.\n    if (isXThreshold(curr.series)) {\n      const [min, max] = acc;\n      const newMin = min === undefined || min === null || curr.series.x < min ? curr.series.x : min;\n      const newMax = max === undefined || max === null || max < curr.series.x ? curr.series.x : max;\n      return [newMin, newMax] as T[];\n    }\n\n    // Compare all series X values with current min, max.\n    if (isDataSeries(curr.series)) {\n      return curr.series.data.reduce(([min, max], { x }) => {\n        const newMin = min === undefined || min === null || x < min ? x : min;\n        const newMax = max === undefined || max === null || max < x ? x : max;\n        return [newMin, newMax] as T[];\n      }, acc);\n    }\n\n    return acc;\n  }, [] as T[]);\n}\n\nfunction find<Q>(arr: readonly Q[], func: (el: Q) => boolean) {\n  for (let i = 0; i < arr.length; i++) {\n    const found = func(arr[i]);\n    if (found) {\n      return arr[i];\n    }\n  }\n  return null;\n}\n\nexport function computeDomainY<T>(\n  series: readonly InternalChartSeries<T>[],\n  scaleType: 'linear' | 'log',\n  stackedBars: boolean\n) {\n  let _series = series;\n\n  // For stacked bars, we need to accumulate all the bar series into a positive and a negative series\n  if (stackedBars) {\n    const { positiveData, negativeData } = series.reduce(\n      (acc, curr) => {\n        if (curr.series.type === 'bar') {\n          curr.series.data.forEach(({ x, y }) => {\n            const data = y < 0 ? acc.negativeData : acc.positiveData;\n            const stackedDatum = find(data, el => matchesX(el.x, x));\n            if (stackedDatum) {\n              stackedDatum.y += y;\n            } else {\n              data.push({ x, y });\n            }\n            return acc;\n          });\n        }\n        return acc;\n      },\n      {\n        positiveData: [] as MixedLineBarChartProps.Datum<T>[],\n        negativeData: [] as MixedLineBarChartProps.Datum<T>[],\n      }\n    );\n\n    // Artificial series with the sum of all bars when stacked\n    const stackedSeries: InternalChartSeries<T>[] = [\n      {\n        color: '',\n        index: NaN,\n        series: {\n          type: 'bar',\n          title: 'positive',\n          data: positiveData as any,\n        },\n      },\n      {\n        color: '',\n        index: NaN,\n        series: {\n          type: 'bar',\n          title: 'negative',\n          data: negativeData as any,\n        },\n      },\n    ];\n\n    // MixedLineBarChart can also contain other non-bar series,\n    // so we replace all bars with the artificial bar series\n    // Then proceed to compute range with it and the remaining (non-bar) series\n    _series = [...stackedSeries, ..._series.filter(s => s.series.type !== 'bar')];\n  }\n\n  const domain = _series.reduce(\n    (acc, curr) => {\n      // Compare threshold Y value with current min, max.\n      if (isYThreshold(curr.series)) {\n        const [min, max] = acc;\n        const newMin = min === undefined || curr.series.y < min ? curr.series.y : min;\n        const newMax = max === undefined || max < curr.series.y ? curr.series.y : max;\n        return [newMin, newMax];\n      }\n\n      // X-thresholds don't have Y value.\n      if (isXThreshold(curr.series)) {\n        return acc;\n      }\n\n      // Compare all series Y values with current min, max.\n      if (isDataSeries(curr.series)) {\n        return curr.series.data.reduce(([min, max], { y }) => {\n          const newMin = min === undefined || y < min ? y : min;\n          const newMax = max === undefined || max < y ? y : max;\n          return [newMin, newMax];\n        }, acc);\n      }\n\n      return acc;\n    },\n    [0, 0]\n  );\n\n  // Log scales can't start from 0, so if possible, start from 1.\n  if (scaleType === 'log' && domain[0] === 0 && domain[1] > 1) {\n    return [1, domain[1]];\n  }\n  return domain;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartScale } from '../internal/components/cartesian-chart/scales';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { isDataSeries, isXThreshold, isYThreshold, matchesX } from './utils';\n\nexport interface ScaledBarGroup<T> {\n  x: T;\n  hasData: boolean;\n  isValid: boolean;\n  position: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n}\n\n/**\n * Creates a list of all bar (and mixed) groups in the series with their scaled positions.\n */\nexport default function makeScaledBarGroups<T extends ChartDataTypes>(\n  series: ReadonlyArray<InternalChartSeries<T>>,\n  xScale: ChartScale,\n  plotWidth: number,\n  plotHeight: number,\n  axis: 'x' | 'y'\n): ScaledBarGroup<T>[] {\n  if (!xScale.isCategorical()) {\n    return [];\n  }\n\n  return (xScale.domain as ReadonlyArray<T>).map(x => {\n    const scaledX = xScale.d3Scale(x);\n    const isValid = typeof scaledX !== 'undefined' && isFinite(scaledX);\n\n    return {\n      x,\n      isValid,\n      hasData: series.some(({ series }) => {\n        // If there is a threshold series, every valid group will have a data point.\n        if (isYThreshold(series)) {\n          return true;\n        }\n        // X-thresholds do not have associated value.\n        if (isXThreshold(series)) {\n          return false;\n        }\n        if (isDataSeries(series)) {\n          return (series.data as ReadonlyArray<MixedLineBarChartProps.Datum<T>>).some(datum => matchesX(datum.x, x));\n        }\n        return false;\n      }),\n      position:\n        axis === 'x'\n          ? {\n              x: 0,\n              y: isValid ? scaledX || 0 : 0,\n              width: plotWidth,\n              height: xScale.d3Scale.bandwidth(),\n            }\n          : {\n              x: isValid ? scaledX || 0 : 0,\n              y: 0,\n              width: xScale.d3Scale.bandwidth(),\n              height: plotHeight,\n            },\n    };\n  });\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\n\nexport function usePopover() {\n  const [state, setState] = useState<'open' | 'closed' | 'pinned'>('closed');\n\n  const isPopoverOpen = state !== 'closed';\n  const isPopoverPinned = state === 'pinned';\n\n  const showPopover = useCallback(() => setState('open'), []);\n  const pinPopover = useCallback(() => setState('pinned'), []);\n  const dismissPopover = useCallback(() => setState('closed'), []);\n\n  return { isPopoverOpen, isPopoverPinned, showPopover, pinPopover, dismissPopover };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\n\nimport { ChartFilterProps } from '../internal/components/chart-filter';\nimport ChartLegend from '../internal/components/chart-legend';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { chartLegendMap } from './utils';\n\ninterface InternalChartLegendProps<T extends ChartDataTypes> {\n  series: ReadonlyArray<InternalChartSeries<T>>;\n  visibleSeries: ReadonlyArray<MixedLineBarChartProps.ChartSeries<T>>;\n  plotContainerRef: React.RefObject<HTMLDivElement>;\n  highlightedSeries?: MixedLineBarChartProps.ChartSeries<T> | null;\n  onHighlightChange: (series: MixedLineBarChartProps.ChartSeries<T> | null) => void;\n  legendTitle?: string;\n  ariaLabel?: string;\n}\n\nexport default function InternalChartLegend<T extends number | string | Date>({\n  series,\n  visibleSeries,\n  highlightedSeries,\n  onHighlightChange,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: InternalChartLegendProps<T>) {\n  const legendItems: ChartFilterProps<MixedLineBarChartProps.ChartSeries<T>>['series'] = useMemo(() => {\n    return series\n      .filter(s => visibleSeries.indexOf(s.series) !== -1)\n      .map(({ series, color }) => ({\n        label: series.title,\n        type: chartLegendMap[series.type],\n        color,\n        datum: series,\n      }));\n  }, [series, visibleSeries]);\n\n  return (\n    <ChartLegend<MixedLineBarChartProps.ChartSeries<T>>\n      series={legendItems}\n      highlightedSeries={highlightedSeries || null}\n      onHighlightChange={onHighlightChange}\n      legendTitle={legendTitle}\n      ariaLabel={ariaLabel}\n      plotContainerRef={plotContainerRef}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../internal/base-component';\nimport Filter from '../internal/components/chart-filter';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { usePrevious } from '../internal/hooks/use-previous';\nimport { isDevelopment } from '../internal/is-development';\nimport { SomeRequired } from '../internal/types';\nimport createCategoryColorScale from '../internal/utils/create-category-color-scale';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport ChartContainer from './chart-container';\nimport InternalChartLegend from './chart-legend';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\nimport { ScaledPoint } from './make-scaled-series';\nimport { chartLegendMap, isXThreshold, isYThreshold } from './utils';\n\nimport styles from './styles.css.js';\n\ntype InternalMixedLineBarChartProps<T extends ChartDataTypes> = SomeRequired<\n  MixedLineBarChartProps<T>,\n  | 'series'\n  | 'height'\n  | 'xScaleType'\n  | 'yScaleType'\n  | 'stackedBars'\n  | 'horizontalBars'\n  | 'statusType'\n  | 'detailPopoverSize'\n  | 'emphasizeBaselineAxis'\n> &\n  InternalBaseComponentProps;\n\nexport default function InternalMixedLineBarChart<T extends number | string | Date>({\n  fitHeight,\n  height,\n  xScaleType,\n  yScaleType,\n  xDomain,\n  yDomain,\n  xTickFormatter,\n  yTickFormatter,\n  highlightedSeries: controlledHighlightedSeries,\n  visibleSeries: controlledVisibleSeries,\n  series: externalSeries,\n  onFilterChange,\n  onHighlightChange: controlledOnHighlightChange,\n  i18nStrings,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  xTitle,\n  yTitle,\n  stackedBars,\n  horizontalBars,\n  hideFilter,\n  additionalFilters,\n  hideLegend,\n  legendTitle,\n  statusType,\n  detailPopoverSize,\n  detailPopoverFooter,\n  detailPopoverSeriesContent,\n  emphasizeBaselineAxis,\n  empty,\n  noMatch,\n  errorText,\n  loadingText,\n  recoveryText,\n  onRecoveryClick,\n  __internalRootRef = null,\n  ...props\n}: InternalMixedLineBarChartProps<T>) {\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const gotBarSeries = externalSeries.some(s => s.type === 'bar');\n    const gotLineSeries = externalSeries.some(s => s.type === 'line');\n\n    if (xScaleType !== 'categorical' && gotBarSeries) {\n      warnOnce(\n        'MixedLineBarChart',\n        `Bar series cannot be used with a ${xScaleType} scale. Use a categorical x axis instead.`\n      );\n    }\n\n    if (horizontalBars && gotLineSeries) {\n      warnOnce(\n        'MixedLineBarChart',\n        `Property horizontalBars can only be used with charts that contain only bar or threshold series.`\n      );\n    }\n\n    for (const s of externalSeries) {\n      if (s.type === 'threshold' && s.x !== undefined && s.y !== undefined) {\n        warnOnce('MixedLineBarChart', `Series of type \"threshold\" must contain either x or y property.`);\n      }\n      if (s.type === 'threshold' && s.x === undefined && s.y === undefined) {\n        warnOnce('MixedLineBarChart', `Series of type \"threshold\" must contain either x or y property.`);\n      }\n    }\n  }, [xScaleType, horizontalBars, externalSeries]);\n\n  const series = useMemo(() => {\n    // Generate series colors if not explicitly provided.\n    // The thresholds use a dedicated colour scale.\n    const colors = createCategoryColorScale(\n      externalSeries,\n      it => isYThreshold(it) || isXThreshold(it),\n      it => it.color || null\n    );\n\n    return externalSeries.map((s, i) => ({ index: i, color: colors[i], series: s }));\n  }, [externalSeries]);\n\n  const [highlightedPoint, setHighlightedPoint] = useState<ScaledPoint<T> | null>(null);\n  const [highlightedGroupIndex, setHighlightedGroupIndex] = useState<number | null>(null);\n  const [highlightedSeries = null, setHighlightedSeries] = useControllable(\n    controlledHighlightedSeries,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'MixedLineBarChart',\n      controlledProp: 'highlightedSeries',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n  const [legendSeries, setLegendSeries] = useState<MixedLineBarChartProps.ChartSeries<T> | null>(highlightedSeries);\n  useEffect(() => {\n    setLegendSeries(controlledHighlightedSeries || null);\n  }, [controlledHighlightedSeries]);\n\n  const [externalVisibleSeries, setExternalVisibleSeries] = useControllable(\n    controlledVisibleSeries,\n    onFilterChange,\n    externalSeries,\n    {\n      componentName: 'MixedLineBarChart',\n      controlledProp: 'visibleSeries',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  if (isDevelopment) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const previousSeries = usePrevious(externalSeries);\n\n    const hasPrevious = !!(previousSeries && previousSeries.length);\n    const hasCurrent = !!externalSeries.length;\n\n    if (hasPrevious && hasCurrent && externalSeries !== previousSeries && !controlledVisibleSeries && !hideFilter) {\n      warnOnce(\n        'MixedLineBarChart',\n        'The `series` value passed into the component changed. ' +\n          'This may cause problems with filtering - we recommend that you make the `series` value constant, ' +\n          'or provide a `visibleSeries` value that derives from the current `series` value.'\n      );\n    }\n  }\n\n  const visibleSeries = useMemo(\n    () => series.filter(s => externalVisibleSeries?.indexOf(s.series) !== -1),\n    [series, externalVisibleSeries]\n  );\n\n  const filterChange = (selectedSeries: ReadonlyArray<MixedLineBarChartProps.ChartSeries<T>>) => {\n    setExternalVisibleSeries(selectedSeries);\n    fireNonCancelableEvent(onFilterChange, {\n      visibleSeries: selectedSeries,\n    });\n  };\n\n  const onHighlightChange = (series: MixedLineBarChartProps.ChartSeries<T> | null) => {\n    setHighlightedSeries(series);\n    fireNonCancelableEvent(controlledOnHighlightChange, {\n      highlightedSeries: series,\n    });\n    setLegendSeries(series);\n  };\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      highlightedSeries && onHighlightChange(highlightedSeries);\n      setHighlightedPoint(null);\n      setHighlightedGroupIndex(null);\n      setLegendSeries(null);\n    }\n  };\n\n  const { isEmpty, isNoMatch, showChart } = getChartStatus({\n    externalData: externalSeries,\n    visibleData: visibleSeries || [],\n    statusType,\n  });\n  const showFilters = statusType === 'finished' && (!isEmpty || isNoMatch) && (additionalFilters || !hideFilter);\n  const showLegend = !hideLegend && !isEmpty && statusType === 'finished';\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = !showChart && !isNoMatch && (!hideFilter || additionalFilters);\n  const mergedRef = useMergeRefs(containerRef, __internalRootRef);\n\n  const filterItems = series.map(({ series, color }) => ({\n    label: series.title,\n    type: chartLegendMap[series.type],\n    color,\n    datum: series,\n  }));\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      fitHeight={!!fitHeight}\n      contentMinHeight={height}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <Filter\n            series={filterItems}\n            onChange={filterChange}\n            selectedSeries={externalVisibleSeries || []}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={empty}\n          noMatch={noMatch}\n          loadingText={loadingText}\n          errorText={errorText}\n          recoveryText={recoveryText}\n          onRecoveryClick={onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <ChartContainer\n            fitHeight={fitHeight}\n            height={height}\n            xScaleType={xScaleType}\n            yScaleType={yScaleType}\n            xDomain={xDomain}\n            yDomain={yDomain}\n            xTickFormatter={xTickFormatter ?? i18nStrings?.xTickFormatter}\n            yTickFormatter={yTickFormatter ?? i18nStrings?.yTickFormatter}\n            emphasizeBaselineAxis={emphasizeBaselineAxis}\n            stackedBars={stackedBars}\n            horizontalBars={horizontalBars}\n            series={series}\n            visibleSeries={visibleSeries}\n            highlightedSeries={highlightedSeries}\n            onHighlightChange={onHighlightChange}\n            highlightedPoint={highlightedPoint}\n            setHighlightedPoint={setHighlightedPoint}\n            highlightedGroupIndex={highlightedGroupIndex}\n            setHighlightedGroupIndex={setHighlightedGroupIndex}\n            detailPopoverSize={detailPopoverSize}\n            detailPopoverFooter={detailPopoverFooter}\n            detailPopoverSeriesContent={detailPopoverSeriesContent}\n            xTitle={xTitle}\n            yTitle={yTitle}\n            ariaLabel={ariaLabel}\n            ariaLabelledby={ariaLabelledby}\n            ariaDescription={ariaDescription}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      legend={\n        showLegend ? (\n          <InternalChartLegend\n            series={series}\n            visibleSeries={externalVisibleSeries || []}\n            highlightedSeries={legendSeries}\n            onHighlightChange={onHighlightChange}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings?.legendAriaLabel}\n            plotContainerRef={containerRef}\n          />\n        ) : null\n      }\n      onBlur={onBlur}\n    />\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_fvjdu_ki6j9_97\",\n  \"button\": \"awsui_button_fvjdu_ki6j9_140\",\n  \"dots\": \"awsui_dots_fvjdu_ki6j9_141\",\n  \"button-disabled\": \"awsui_button-disabled_fvjdu_ki6j9_169\",\n  \"arrow\": \"awsui_arrow_fvjdu_ki6j9_174\",\n  \"page-number\": \"awsui_page-number_fvjdu_ki6j9_184\",\n  \"button-current\": \"awsui_button-current_fvjdu_ki6j9_190\",\n  \"page-item\": \"awsui_page-item_fvjdu_ki6j9_207\",\n  \"root-disabled\": \"awsui_root-disabled_fvjdu_ki6j9_225\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport {\n  copyAnalyticsMetadataAttribute,\n  getAnalyticsMetadataAttribute,\n} from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { useInternalI18n } from '../i18n/context';\nimport InternalIcon from '../icon/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { GeneratedAnalyticsMetadataPaginationClick } from './analytics-metadata/interfaces';\nimport { PaginationProps } from './interfaces';\nimport { getPaginationState, range } from './utils';\n\nimport styles from './styles.css.js';\n\nconst defaultAriaLabels: Required<PaginationProps.Labels> = {\n  nextPageLabel: '',\n  paginationLabel: '',\n  previousPageLabel: '',\n  pageLabel: pageNumber => `${pageNumber}`,\n};\n\ninterface PageButtonProps {\n  className?: string;\n  ariaLabel: string;\n  disabled?: boolean;\n  pageIndex: number;\n  isCurrent?: boolean;\n  children?: React.ReactNode;\n  onClick: (requestedIndex: number) => void;\n}\n\nfunction PageButton({\n  className,\n  ariaLabel,\n  disabled,\n  pageIndex,\n  isCurrent = false,\n  children,\n  onClick,\n  ...rest\n}: PageButtonProps) {\n  function handleClick(event: React.MouseEvent) {\n    event.preventDefault();\n    onClick(pageIndex);\n  }\n  return (\n    <li className={styles['page-item']} {...copyAnalyticsMetadataAttribute(rest)}>\n      <button\n        className={clsx(\n          className,\n          styles.button,\n          disabled && styles['button-disabled'],\n          isCurrent && styles['button-current']\n        )}\n        type=\"button\"\n        aria-label={ariaLabel}\n        disabled={disabled}\n        onClick={handleClick}\n        aria-current={isCurrent}\n        {...(disabled\n          ? {}\n          : getAnalyticsMetadataAttribute({\n              action: 'click',\n              detail: {\n                label: { root: 'self' },\n              },\n            } as GeneratedAnalyticsMetadataPaginationClick))}\n      >\n        {children}\n      </button>\n    </li>\n  );\n}\n\nfunction PageNumber({ pageIndex, ...rest }: PageButtonProps) {\n  return (\n    <PageButton\n      className={styles['page-number']}\n      pageIndex={pageIndex}\n      {...rest}\n      {...(rest.disabled\n        ? {}\n        : getAnalyticsMetadataAttribute({\n            detail: {\n              position: `${pageIndex}`,\n            },\n          }))}\n    >\n      {pageIndex}\n    </PageButton>\n  );\n}\n\ntype InternalPaginationProps = PaginationProps & InternalBaseComponentProps;\n\nexport default function InternalPagination({\n  openEnd,\n  currentPageIndex,\n  ariaLabels,\n  pagesCount,\n  disabled,\n  onChange,\n  onNextPageClick,\n  onPreviousPageClick,\n  __internalRootRef = null,\n  ...rest\n}: InternalPaginationProps) {\n  const baseProps = getBaseProps(rest);\n  const { leftDots, leftIndex, rightIndex, rightDots } = getPaginationState(currentPageIndex, pagesCount, openEnd);\n\n  const i18n = useInternalI18n('pagination');\n\n  const paginationLabel = ariaLabels?.paginationLabel;\n  const nextPageLabel = i18n('ariaLabels.nextPageLabel', ariaLabels?.nextPageLabel) ?? defaultAriaLabels.nextPageLabel;\n  const previousPageLabel =\n    i18n('ariaLabels.previousPageLabel', ariaLabels?.previousPageLabel) ?? defaultAriaLabels.previousPageLabel;\n  const pageNumberLabelFn =\n    i18n('ariaLabels.pageLabel', ariaLabels?.pageLabel, format => pageNumber => format({ pageNumber })) ??\n    defaultAriaLabels.pageLabel;\n\n  function handlePrevPageClick(requestedPageIndex: number) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onPreviousPageClick, {\n      requestedPageAvailable: true,\n      requestedPageIndex: requestedPageIndex,\n    });\n  }\n\n  function handleNextPageClick(requestedPageIndex: number) {\n    handlePageClick(requestedPageIndex);\n    fireNonCancelableEvent(onNextPageClick, {\n      requestedPageAvailable: currentPageIndex < pagesCount,\n      requestedPageIndex: requestedPageIndex,\n    });\n  }\n\n  function handlePageClick(requestedPageIndex: number) {\n    fireNonCancelableEvent(onChange, { currentPageIndex: requestedPageIndex });\n  }\n\n  const previousButtonDisabled = disabled || currentPageIndex === 1;\n  const nextButtonDisabled = disabled || (!openEnd && (pagesCount === 0 || currentPageIndex === pagesCount));\n\n  return (\n    <ul\n      aria-label={paginationLabel}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root, disabled && styles['root-disabled'])}\n      ref={__internalRootRef}\n    >\n      <PageButton\n        className={styles.arrow}\n        pageIndex={currentPageIndex - 1}\n        ariaLabel={previousPageLabel ?? defaultAriaLabels.nextPageLabel}\n        disabled={previousButtonDisabled}\n        onClick={handlePrevPageClick}\n        {...(previousButtonDisabled\n          ? {}\n          : getAnalyticsMetadataAttribute({\n              detail: {\n                position: 'prev',\n              },\n            }))}\n      >\n        <InternalIcon name=\"angle-left\" variant={disabled ? 'disabled' : 'normal'} />\n      </PageButton>\n      <PageNumber\n        pageIndex={1}\n        isCurrent={currentPageIndex === 1}\n        disabled={disabled}\n        ariaLabel={pageNumberLabelFn(1)}\n        onClick={handlePageClick}\n      />\n      {leftDots && <li className={styles.dots}>...</li>}\n      {range(leftIndex, rightIndex).map(pageIndex => (\n        <PageNumber\n          key={pageIndex}\n          isCurrent={currentPageIndex === pageIndex}\n          pageIndex={pageIndex}\n          disabled={disabled}\n          ariaLabel={pageNumberLabelFn(pageIndex)}\n          onClick={handlePageClick}\n        />\n      ))}\n      {rightDots && <li className={styles.dots}>...</li>}\n      {!openEnd && pagesCount > 1 && (\n        <PageNumber\n          isCurrent={currentPageIndex === pagesCount}\n          pageIndex={pagesCount}\n          disabled={disabled}\n          ariaLabel={pageNumberLabelFn(pagesCount)}\n          onClick={handlePageClick}\n        />\n      )}\n      <PageButton\n        className={styles.arrow}\n        pageIndex={currentPageIndex + 1}\n        ariaLabel={nextPageLabel ?? defaultAriaLabels.nextPageLabel}\n        disabled={nextButtonDisabled}\n        onClick={handleNextPageClick}\n        {...(nextButtonDisabled\n          ? {}\n          : getAnalyticsMetadataAttribute({\n              detail: {\n                position: 'next',\n              },\n            }))}\n      >\n        <InternalIcon name=\"angle-right\" variant={disabled ? 'disabled' : 'normal'} />\n      </PageButton>\n    </ul>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// TODO [mjawors] _.range\nexport function range(from: number, to: number) {\n  const result = [];\n  for (let i = from; i <= to; i++) {\n    result.push(i);\n  }\n  return result;\n}\n\nexport function getPaginationState(currentPageIndex: number, totalPagesCount: number, isOpenEnd?: boolean) {\n  // Total number of elements handled here\n  const numberOfControls = 7;\n  // Max number of controls that can be displayed on the left and right hand side of the current page.\n  // Works only for odd numbers\n  const leftDelta = Math.floor(numberOfControls / 2);\n  let rightDelta = leftDelta;\n  // upper and lower limits for pages range\n  const lowerLimit = 2;\n  let upperLimit = totalPagesCount - 1;\n\n  if (isOpenEnd) {\n    rightDelta++;\n    upperLimit = totalPagesCount + 1;\n  }\n\n  // Left and right indices based on delta calculation\n  let leftIndex = currentPageIndex - leftDelta;\n  let rightIndex = currentPageIndex + rightDelta;\n\n  // adjust page indexes if page index is too small\n  if (leftIndex < lowerLimit) {\n    rightIndex += lowerLimit - leftIndex;\n    leftIndex = lowerLimit;\n  }\n\n  // adjust page indexes if page index is to big\n  if (rightIndex > upperLimit) {\n    leftIndex -= rightIndex - upperLimit;\n    rightIndex = upperLimit;\n  }\n\n  // adjust indexes one more time to avoid out of range errors\n  leftIndex = Math.max(leftIndex, 2);\n  rightIndex = Math.min(rightIndex, upperLimit);\n\n  // consider adding dots\n  const leftDots = leftIndex > 2;\n  const rightDots = isOpenEnd || rightIndex < upperLimit;\n\n  if (leftDots) {\n    leftIndex++;\n  }\n\n  if (rightDots) {\n    rightIndex--;\n  }\n\n  return { leftDots, rightDots, leftIndex, rightIndex };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { GeneratedAnalyticsMetadataPaginationComponent } from './analytics-metadata/interfaces';\nimport { PaginationProps } from './interfaces';\nimport InternalPagination from './internal';\n\nexport { PaginationProps };\n\nexport default function Pagination(props: PaginationProps) {\n  const baseComponentProps = useBaseComponent('Pagination', { props: { openEnd: props.openEnd } });\n  return (\n    <InternalPagination\n      {...props}\n      {...baseComponentProps}\n      {...getAnalyticsMetadataAttribute({\n        component: {\n          name: 'awsui.Pagination',\n          label: { root: 'self' },\n          properties: {\n            openEnd: `${!!props.openEnd}`,\n            pagesCount: `${props.pagesCount || ''}`,\n            currentPageIndex: `${props.currentPageIndex}`,\n          },\n        } as GeneratedAnalyticsMetadataPaginationComponent,\n      })}\n    />\n  );\n}\n\napplyDisplayName(Pagination, 'Pagination');\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, useRef } from 'react';\n\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nimport { renderTextContent } from '../internal/components/responsive-text';\n\ninterface ResponsiveTextProps {\n  x: number;\n  y: number;\n  rightSide?: boolean;\n  className?: string;\n  children: string;\n  containerBoundaries: null | { left: number; right: number };\n}\n\nexport default memo(ResponsiveText);\n\nfunction ResponsiveText({ x, y, rightSide, className, children, containerBoundaries }: ResponsiveTextProps) {\n  const actualRef = useRef<SVGTextElement>(null);\n  const virtualRef = useRef<SVGTextElement>(null);\n\n  const isRtl = actualRef.current ? getIsRtl(actualRef.current) : false;\n  rightSide = !isRtl ? rightSide : !rightSide;\n\n  // Determine the visible width of the text and if necessary truncate it until it fits.\n  useEffect(() => {\n    // The debouncing is necessary for visual smoothness.\n    const timeoutId = setTimeout(() => {\n      const isRtl = getIsRtl(virtualRef.current!);\n      const groupRect = virtualRef.current!.getBoundingClientRect();\n      const visibleWidth = containerBoundaries ? getVisibleWidth(groupRect, containerBoundaries) : 0;\n      renderTextContent(actualRef.current!, children, visibleWidth, isRtl);\n    }, 25);\n    return () => clearTimeout(timeoutId);\n  });\n\n  return (\n    <>\n      {/* Invisible sample text used for measurement */}\n      <text\n        ref={virtualRef}\n        x={x}\n        y={y}\n        style={{ textAnchor: rightSide ? 'start' : 'end', visibility: 'hidden' }}\n        aria-hidden=\"true\"\n        className={className}\n      >\n        {children}\n      </text>\n\n      {/* Text node to render truncated text into */}\n      <text ref={actualRef} x={x} y={y} style={{ textAnchor: rightSide ? 'start' : 'end' }} className={className}>\n        {children}\n      </text>\n    </>\n  );\n}\n\nfunction getVisibleWidth(element: { left: number; right: number }, container: { left: number; right: number }): number {\n  if (element.left < container.left) {\n    return element.right - container.left;\n  } else if (element.right > container.right) {\n    return container.right - element.left;\n  } else {\n    return container.right - container.left;\n  }\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"segment__path\": \"awsui_segment__path_1edmh_14ng5_101\",\n  \"segment\": \"awsui_segment_1edmh_14ng5_101\",\n  \"segment__hover\": \"awsui_segment__hover_1edmh_14ng5_128\",\n  \"label\": \"awsui_label_1edmh_14ng5_142\",\n  \"root\": \"awsui_root_1edmh_14ng5_160\",\n  \"content\": \"awsui_content_1edmh_14ng5_164\",\n  \"content--small\": \"awsui_content--small_1edmh_14ng5_164\",\n  \"content--fit-height\": \"awsui_content--fit-height_1edmh_14ng5_167\",\n  \"content--without-labels\": \"awsui_content--without-labels_1edmh_14ng5_170\",\n  \"content--medium\": \"awsui_content--medium_1edmh_14ng5_176\",\n  \"content--large\": \"awsui_content--large_1edmh_14ng5_188\",\n  \"status-container\": \"awsui_status-container_1edmh_14ng5_205\",\n  \"chart-container\": \"awsui_chart-container_1edmh_14ng5_209\",\n  \"chart-container--fit-height\": \"awsui_chart-container--fit-height_1edmh_14ng5_213\",\n  \"chart-container-chart-plot\": \"awsui_chart-container-chart-plot_1edmh_14ng5_218\",\n  \"chart-container-chart-plot--fit-height\": \"awsui_chart-container-chart-plot--fit-height_1edmh_14ng5_221\",\n  \"inner-content\": \"awsui_inner-content_1edmh_14ng5_227\",\n  \"segment__highlight\": \"awsui_segment__highlight_1edmh_14ng5_238\",\n  \"segment--dimmed\": \"awsui_segment--dimmed_1edmh_14ng5_253\",\n  \"segment--highlighted\": \"awsui_segment--highlighted_1edmh_14ng5_256\",\n  \"label--dimmed\": \"awsui_label--dimmed_1edmh_14ng5_273\",\n  \"label--align-right\": \"awsui_label--align-right_1edmh_14ng5_276\",\n  \"label-text\": \"awsui_label-text_1edmh_14ng5_284\",\n  \"label__description\": \"awsui_label__description_1edmh_14ng5_292\",\n  \"label-line\": \"awsui_label-line_1edmh_14ng5_299\",\n  \"label--highlighted\": \"awsui_label--highlighted_1edmh_14ng5_303\",\n  \"popover-header\": \"awsui_popover-header_1edmh_14ng5_307\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ComponentFormatFunction } from '../i18n/context';\nimport { PieChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface Dimension {\n  innerRadius: number;\n  outerRadius: number;\n  padding: number;\n  paddingLabels: number;\n  innerLabelPadding: number;\n  cornerRadius?: number;\n}\n\nconst minRadius = 30;\nconst paddingLabels = 44; // = 2 * (size-lineHeight-body-100)\nconst defaultPadding = 12; // = space-s\nconst smallPadding = 8; // = space-xs\nexport const minLabelLineAngularPadding = Math.PI / 20;\n\nexport const dimensionsBySize: Record<NonNullable<PieChartProps['size']>, Dimension> = {\n  small: {\n    innerRadius: 33,\n    outerRadius: 50,\n    innerLabelPadding: smallPadding,\n    padding: smallPadding,\n    paddingLabels,\n  },\n  medium: {\n    innerRadius: 66,\n    outerRadius: 100,\n    innerLabelPadding: defaultPadding,\n    padding: defaultPadding,\n    paddingLabels,\n  },\n  large: {\n    innerRadius: 93,\n    outerRadius: 140,\n    innerLabelPadding: defaultPadding,\n    padding: defaultPadding,\n    paddingLabels,\n  },\n};\n\nexport const refreshDimensionsBySize: Record<NonNullable<PieChartProps['size']>, Dimension> = {\n  small: {\n    ...dimensionsBySize.small,\n    innerRadius: 38,\n    cornerRadius: 3,\n  },\n  medium: {\n    ...dimensionsBySize.medium,\n    innerRadius: 75,\n    cornerRadius: 4,\n  },\n  large: {\n    ...dimensionsBySize.large,\n    innerRadius: 105,\n    cornerRadius: 5,\n  },\n};\n\n/**\n * When `size` is a string (\"small\", \"medium\" or \"large\") the predefined pie chart element dimensions for classic and visual refresh are used.\n * When `size` is a number the outer and inner radii are computed and the rest of the dimensions are taken from the closest predefined size.\n */\nexport function getDimensionsBySize({\n  size,\n  hasLabels,\n  visualRefresh,\n}: {\n  size: NonNullable<PieChartProps['size']> | number;\n  hasLabels: boolean;\n  visualRefresh?: boolean;\n}): Dimension & { size: NonNullable<PieChartProps['size']> } {\n  if (typeof size === 'string') {\n    const dimensions = visualRefresh ? refreshDimensionsBySize[size] : dimensionsBySize[size];\n    return { ...dimensions, size };\n  }\n  const sizeSpec = visualRefresh ? refreshDimensionsBySize : dimensionsBySize;\n  const getPixelSize = (d: Dimension) => d.outerRadius * 2 + d.padding * 2 + (hasLabels ? d.paddingLabels : 0) * 2;\n\n  let matchedSize: NonNullable<PieChartProps['size']> = 'small';\n  if (size > getPixelSize(sizeSpec.medium)) {\n    matchedSize = 'medium';\n  }\n  if (size > getPixelSize(sizeSpec.large)) {\n    matchedSize = 'large';\n  }\n\n  const padding = sizeSpec[matchedSize].padding;\n  const paddingLabels = hasLabels ? sizeSpec[matchedSize].paddingLabels : 0;\n  const radiiRatio = sizeSpec[matchedSize].outerRadius / sizeSpec[matchedSize].innerRadius;\n  const outerRadius = Math.max(minRadius, (size - 2 * paddingLabels - 2 * padding) / 2);\n  const innerRadius = outerRadius / radiiRatio;\n\n  return { ...sizeSpec[matchedSize], outerRadius, innerRadius, size: matchedSize };\n}\n\nexport const defaultDetails =\n  (i18n: ComponentFormatFunction<'pie-chart'>, i18nStrings: PieChartProps.I18nStrings) =>\n  (datum: PieChartProps.Datum, dataSum: number) => [\n    { key: i18n('i18nStrings.detailsValue', i18nStrings.detailsValue) || '', value: datum.value },\n    {\n      key: i18n('i18nStrings.detailsPercentage', i18nStrings.detailsPercentage) || '',\n      value: `${((datum.value * 100) / dataSum).toFixed(0)}%`,\n    },\n  ];\n\n/**\n * Adjusts the position of the given label nodes to avoid visual overlapping.\n * @param nodes List of label nodes of the entire chart (both left and right side)\n * @param markers Markers array that was calculated in <Labels>, but we just need the `endY` values\n * @param leftSide Boolean flag whether we are processing the left or right side of the chart labels\n */\nexport const balanceLabelNodes = (\n  nodes: NodeListOf<SVGGElement>,\n  markers: Array<{ endY: number; endX: number }>,\n  leftSide: boolean,\n  radius: number\n) => {\n  const MARGIN = 10;\n\n  let previousBBox: { x: number; y: number; height: number } | null = null;\n\n  // When traversing the right side of labels, we start at the beginning of the array and go forwards.\n  // For the left side, we need to traverse backwards from the end, so that overlapping nodes are pushed down in the right order.\n  let i = leftSide ? nodes.length - 1 : 0;\n\n  while ((leftSide && i >= 0) || (!leftSide && i < nodes.length)) {\n    const node = nodes[i];\n\n    const x = parseFloat(node.getAttribute('data-x') || '0');\n    const y = parseFloat(node.getAttribute('data-y') || '0');\n    const box = {\n      x,\n      y,\n      height: node.getBoundingClientRect().height,\n    };\n\n    const marker = markers[i];\n\n    if (leftSide) {\n      i--;\n    } else {\n      i++;\n    }\n\n    if (!previousBBox) {\n      previousBBox = box;\n      node.setAttribute('transform', '');\n      continue;\n    }\n\n    if ((!leftSide && box.x < 0) || (leftSide && box.x >= 0)) {\n      // We have reached a label that is on the other side of the chart, so we're done.\n      break;\n    }\n\n    node.setAttribute('transform', '');\n\n    // Calculate how much the current node is overlapping with the previous one.\n    const yOffset = previousBBox.y + previousBBox.height + MARGIN - box.y;\n\n    if (yOffset > 0) {\n      const xOffset = computeXOffset(box, yOffset, radius) * (leftSide ? -1 : 1);\n      // Move the label down.\n      node.setAttribute('transform', `translate(${xOffset} ${yOffset})`);\n\n      // Adjust the attached line accordingly.\n      const lineNode = node.parentNode?.querySelector(`.${styles['label-line']}`);\n      if (lineNode) {\n        const { endY, endX } = marker;\n        lineNode.setAttribute('y2', '' + (endY + yOffset));\n        lineNode.setAttribute('x2', '' + (endX + xOffset));\n      }\n\n      // Update the position accordingly to inform the next label\n      box.y += yOffset;\n      box.x += xOffset;\n    }\n\n    previousBBox = box;\n  }\n};\n\nconst squareDistance = (edge: [number, number]): number => Math.pow(edge[0], 2) + Math.pow(edge[1], 2);\n\nconst computeXOffset = (box: { x: number; y: number; height: number }, yOffset: number, radius: number): number => {\n  const upperEdge: [number, number] = [box.x, box.y + yOffset];\n  const lowerEdge: [number, number] = [box.x, box.y + box.height + yOffset];\n  const closestEdge = squareDistance(upperEdge) < squareDistance(lowerEdge) ? upperEdge : lowerEdge;\n\n  if (squareDistance(closestEdge) < Math.pow(radius, 2)) {\n    return Math.sqrt(Math.pow(radius, 2) - Math.pow(closestEdge[1], 2)) - Math.abs(closestEdge[0]);\n  }\n  return 0;\n};\n\nexport const computeSmartAngle = (startAngle: number, endAngle: number, optimize = false): number => {\n  if (!optimize || endAngle - startAngle < 2 * minLabelLineAngularPadding) {\n    return (endAngle + startAngle) / 2;\n  }\n  const paddedStartAngle = startAngle + minLabelLineAngularPadding;\n  const paddedEndAngle = endAngle - minLabelLineAngularPadding;\n  if (paddedStartAngle < 0 && paddedEndAngle > 0) {\n    return 0;\n  }\n  if (paddedStartAngle < Math.PI && paddedEndAngle > Math.PI) {\n    return Math.PI;\n  }\n\n  const endAngleMinDistance = Math.min(\n    paddedEndAngle,\n    Math.abs(Math.PI - paddedEndAngle),\n    2 * Math.PI - paddedEndAngle\n  );\n  const startAngleMinDistance = Math.min(\n    paddedStartAngle,\n    Math.abs(Math.PI - paddedStartAngle),\n    2 * Math.PI - paddedStartAngle\n  );\n  if (endAngleMinDistance < startAngleMinDistance) {\n    return paddedEndAngle;\n  }\n  return paddedStartAngle;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { arc, PieArcDatum } from 'd3-shape';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nimport { PieChartProps } from './interfaces';\nimport { InternalChartDatum } from './pie-chart';\nimport ResponsiveText from './responsive-text';\nimport { balanceLabelNodes, computeSmartAngle, Dimension } from './utils';\n\nimport styles from './styles.css.js';\n\nexport interface LabelsProps<T> {\n  pieData: PieArcDatum<InternalChartDatum<T>>[];\n  visibleDataSum: number;\n  dimensions: Dimension;\n  hideTitles: boolean;\n  hideDescriptions: boolean;\n  highlightedSegment: PieChartProps.Datum | null;\n  segmentDescription?: PieChartProps.SegmentDescriptionFunction<T>;\n  containerRef: React.RefObject<HTMLDivElement>;\n}\n\ninterface LabelElementProps {\n  x: number;\n  y: number;\n  rightSide: boolean;\n  hideTitles: boolean;\n  hideDescriptions: boolean;\n  title: PieChartProps.Datum['title'];\n  description?: string;\n  containerBoundaries: null | { left: number; right: number };\n}\n\nfunction LabelElement({\n  x,\n  y,\n  hideTitles,\n  hideDescriptions,\n  rightSide,\n  title,\n  description,\n  containerBoundaries,\n}: LabelElementProps) {\n  return (\n    <g className={styles['label-text']} transform=\"\" data-x={x} data-y={y}>\n      {!hideTitles && (\n        <ResponsiveText x={x} y={y} rightSide={rightSide} containerBoundaries={containerBoundaries}>\n          {title}\n        </ResponsiveText>\n      )}\n      {!hideDescriptions && description && (\n        <ResponsiveText\n          x={x}\n          y={y + (hideTitles ? 0 : 18)}\n          rightSide={rightSide}\n          className={styles.label__description}\n          containerBoundaries={containerBoundaries}\n        >\n          {description}\n        </ResponsiveText>\n      )}\n    </g>\n  );\n}\n\nexport default <T extends PieChartProps.Datum>({\n  pieData,\n  dimensions,\n  highlightedSegment,\n  segmentDescription,\n  visibleDataSum,\n  hideTitles,\n  hideDescriptions,\n  containerRef,\n}: LabelsProps<T>) => {\n  const containerBoundaries = useElementBoundaries(containerRef);\n  const shouldOptimizeLabels =\n    containerBoundaries.right - containerBoundaries.left - (dimensions.outerRadius + dimensions.innerLabelPadding) * 2 <\n    300;\n  const markers = useMemo(() => {\n    const { outerRadius: radius, innerLabelPadding } = dimensions;\n\n    // More arc factories for the label positioning\n    const arcMarkerStart = arc<PieArcDatum<any>>()\n      .innerRadius(radius - 1)\n      .outerRadius(radius - 1);\n\n    const arcMarkerBreak = arc<PieArcDatum<any>>()\n      .innerRadius(radius + innerLabelPadding)\n      .outerRadius(radius + innerLabelPadding);\n\n    return pieData.map((datum, i) => {\n      const labelDatum = pieData[i];\n      const smartAngle = computeSmartAngle(labelDatum.startAngle, labelDatum.endAngle, shouldOptimizeLabels);\n\n      // Make the marker line longer if the segment is closer to the top or bottom of the chart\n      const lineExtension = 0.5 * Math.cos(2 * smartAngle) + 0.5;\n      arcMarkerBreak.outerRadius(radius + 20 * lineExtension);\n      arcMarkerBreak.innerRadius(radius + 20 * lineExtension);\n      const [startX, startY] = arcMarkerStart.centroid({ ...datum, startAngle: smartAngle, endAngle: smartAngle });\n      const [breakX, breakY] = arcMarkerBreak.centroid({ ...datum, startAngle: smartAngle, endAngle: smartAngle });\n\n      const rightSide = smartAngle < Math.PI;\n      const endX = shouldOptimizeLabels ? breakX + 20 * (rightSide ? 1 : -1) : (radius + 20) * (rightSide ? 1 : -1);\n      const textX = endX + 5 * (rightSide ? 1 : -1);\n\n      return {\n        startX,\n        startY,\n        breakX,\n        breakY,\n        endX,\n        endY: breakY,\n        textX,\n        textY: breakY,\n        rightSide,\n        datum,\n      };\n    });\n  }, [pieData, dimensions, shouldOptimizeLabels]);\n\n  const rootRef = useRef<SVGGElement>(null);\n\n  useLayoutEffect(() => {\n    if (!rootRef.current) {\n      return;\n    }\n\n    // Relax labels that are overlapping\n    const labelNodes = rootRef.current.querySelectorAll<SVGGElement>(`.${styles['label-text']}`);\n    balanceLabelNodes(labelNodes, markers, false, dimensions.outerRadius + dimensions.innerLabelPadding);\n    balanceLabelNodes(labelNodes, markers, true, dimensions.outerRadius + dimensions.innerLabelPadding);\n  }, [markers, pieData, dimensions]);\n\n  return (\n    <g className={styles.markers} aria-hidden=\"true\" ref={rootRef}>\n      {markers.map(({ startX, startY, breakX, breakY, endX, endY, textX, textY, rightSide, datum }) => {\n        const segment = datum.data.datum;\n        const description = segmentDescription?.(segment, visibleDataSum);\n        if ((hideTitles && !description) || (hideDescriptions && !segment.title)) {\n          return null;\n        }\n        return (\n          <g\n            key={datum.data.index}\n            className={clsx(styles.label, {\n              [styles['label--highlighted']]: highlightedSegment === segment,\n              [styles['label--dimmed']]: highlightedSegment !== null && highlightedSegment !== segment,\n              [styles['label--align-right']]: !rightSide,\n            })}\n          >\n            <line x1={startX} y1={startY} x2={breakX} y2={breakY} />\n            <line x1={breakX} y1={breakY} x2={endX} y2={endY} className={styles['label-line']} />\n            <LabelElement\n              x={textX}\n              y={textY}\n              rightSide={rightSide}\n              title={segment.title}\n              description={description}\n              hideTitles={hideTitles}\n              hideDescriptions={hideDescriptions}\n              containerBoundaries={containerBoundaries}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nfunction useElementBoundaries(ref: React.RefObject<HTMLElement>): { left: number; right: number } {\n  const [state, setState] = useState({ left: 0, right: 0 });\n  useResizeObserver(ref, entry => {\n    const elementRect = entry.target.getBoundingClientRect();\n    setState({ left: elementRect.left, right: elementRect.right });\n  });\n  return state;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\nimport clsx from 'clsx';\nimport { arc, PieArcDatum } from 'd3-shape';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { PieChartProps } from './interfaces';\nimport { InternalChartDatum } from './pie-chart';\nimport { Dimension } from './utils';\n\nimport styles from './styles.css.js';\n\ninterface SegmentsProps<T> {\n  pieData: Array<PieArcDatum<InternalChartDatum<T>>>;\n  highlightedSegment: T | null;\n  dimensions: Dimension;\n  variant: PieChartProps['variant'];\n  focusedSegmentRef: React.RefObject<SVGGElement>;\n  popoverTrackRef: React.RefObject<SVGCircleElement>;\n  segmentAriaRoleDescription?: string;\n  onMouseDown: (datum: InternalChartDatum<T>) => void;\n  onMouseOver: (datum: InternalChartDatum<T>) => void;\n  onTouchStart: () => void;\n}\n\nexport default function Segments<T extends PieChartProps.Datum>({\n  pieData,\n  highlightedSegment,\n  dimensions,\n  variant,\n  focusedSegmentRef,\n  popoverTrackRef,\n  segmentAriaRoleDescription,\n  onMouseDown,\n  onMouseOver,\n  onTouchStart,\n}: SegmentsProps<T>) {\n  const i18n = useInternalI18n('pie-chart');\n\n  const { arcFactory, highlightedArcFactory } = useMemo(() => {\n    const radius = dimensions.outerRadius;\n    const innerRadius = variant === 'pie' ? 0 : dimensions.innerRadius;\n    const cornerRadius = dimensions.cornerRadius || 0;\n\n    const arcFactory = arc<PieArcDatum<InternalChartDatum<any>>>()\n      .innerRadius(innerRadius)\n      .outerRadius(radius)\n      .cornerRadius(cornerRadius);\n\n    const highlightedArcFactory = arc<PieArcDatum<InternalChartDatum<any>>>()\n      .innerRadius(radius + 4)\n      .outerRadius(radius + 6);\n\n    return {\n      arcFactory,\n      highlightedArcFactory,\n    };\n  }, [dimensions, variant]);\n\n  const centroid = useMemo(() => {\n    for (const datum of pieData) {\n      if (datum.data.datum === highlightedSegment) {\n        const [centroidLeft, centroidTop] = arcFactory.centroid(datum);\n        return { cx: centroidLeft, cy: centroidTop };\n      }\n    }\n    return null;\n  }, [highlightedSegment, pieData, arcFactory]);\n\n  return (\n    <g>\n      {pieData.map(datum => {\n        const isHighlighted = highlightedSegment === datum.data.datum;\n        const isDimmed = highlightedSegment !== null && !isHighlighted;\n        const arcPath = arcFactory(datum) || undefined;\n        const highlightedPath = highlightedArcFactory(datum) || undefined;\n        return (\n          <g\n            key={datum.data.index}\n            onTouchStart={() => onTouchStart()}\n            onMouseDown={e => {\n              onMouseDown(datum.data);\n              e.preventDefault();\n            }}\n            onMouseOver={() => onMouseOver(datum.data)}\n            className={clsx(styles.segment, {\n              [styles['segment--highlighted']]: isHighlighted,\n              [styles['segment--dimmed']]: isDimmed,\n            })}\n            ref={isHighlighted ? focusedSegmentRef : undefined}\n            aria-label={`${datum.data.datum.title} (${datum.data.datum.value})`}\n            role=\"button\"\n            aria-roledescription={i18n('i18nStrings.segmentAriaRoleDescription', segmentAriaRoleDescription)}\n          >\n            <path d={arcPath} fill={datum.data.color} className={styles.segment__path} aria-hidden=\"true\" />\n            <path\n              d={highlightedPath}\n              fill={datum.data.color}\n              className={clsx(styles.segment__path, styles.segment__highlight)}\n              aria-hidden=\"true\"\n            />\n          </g>\n        );\n      })}\n\n      <circle {...centroid} ref={popoverTrackRef} r=\"1\" opacity=\"0\" aria-hidden=\"true\" />\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { PieArcDatum } from 'd3-shape';\n\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport InternalBox from '../box/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport ChartPlot, { ChartPlotRef } from '../internal/components/chart-plot';\nimport ChartPopover from '../internal/components/chart-popover';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport SeriesDetails from '../internal/components/chart-series-details';\nimport SeriesMarker from '../internal/components/chart-series-marker';\nimport LiveRegion from '../internal/components/live-region';\nimport { useHeightMeasure } from '../internal/hooks/container-queries/use-height-measure';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { KeyCode } from '../internal/keycode';\nimport { SomeRequired } from '../internal/types';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport { PieChartProps, SeriesInfo } from './interfaces';\nimport Labels from './labels';\nimport Segments from './segments';\nimport { defaultDetails, getDimensionsBySize } from './utils';\n\nimport styles from './styles.css.js';\n\nexport interface InternalChartDatum<T> {\n  index: number;\n  color: string;\n  datum: Readonly<T>;\n}\n\ninterface InternalPieChartProps<T extends PieChartProps.Datum>\n  extends SomeRequired<\n    Omit<PieChartProps<T>, 'onHighlightChange' | 'statusType'>,\n    'variant' | 'size' | 'i18nStrings' | 'hideTitles' | 'hideDescriptions'\n  > {\n  width: number;\n  height: number;\n\n  highlightedSegment: T | null;\n  onHighlightChange: (segment: null | T) => void;\n\n  legendSegment: T | null;\n\n  pieData: PieArcDatum<InternalChartDatum<T>>[];\n  dataSum: number;\n}\n\nexport interface PopoverData<T> {\n  datum: T;\n  trackRef: React.RefObject<SVGElement>;\n  series: SeriesInfo;\n}\n\nexport default <T extends PieChartProps.Datum>({\n  fitHeight,\n  height: explicitHeight,\n  variant,\n  size,\n  width,\n  i18nStrings,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  innerMetricValue,\n  innerMetricDescription,\n  hideTitles,\n  hideDescriptions,\n  detailPopoverContent,\n  detailPopoverSize,\n  detailPopoverFooter,\n  segmentDescription,\n  highlightedSegment,\n  onHighlightChange,\n  legendSegment,\n  pieData,\n  dataSum,\n}: InternalPieChartProps<T>) => {\n  const [pinnedSegment, setPinnedSegment] = useState<T | null>(null);\n  const plotRef = useRef<ChartPlotRef>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const focusedSegmentRef = useRef<SVGGElement>(null);\n  const popoverTrackRef = useRef<SVGCircleElement>(null);\n  const popoverRef = useRef<HTMLElement | null>(null);\n\n  const hasLabels = !(hideTitles && hideDescriptions);\n  const isRefresh = useVisualRefresh();\n\n  const height = useHeightMeasure(() => plotRef.current?.svg ?? null, !fitHeight) ?? explicitHeight;\n\n  const dimensions = useMemo(\n    () =>\n      getDimensionsBySize({ size: fitHeight ? Math.min(height, width) : size, hasLabels, visualRefresh: isRefresh }),\n    [fitHeight, height, width, size, hasLabels, isRefresh]\n  );\n\n  // Inner content is only available for donut charts and the inner description is not displayed for small charts\n  const hasInnerContent =\n    variant === 'donut' && (innerMetricValue || (innerMetricDescription && dimensions.size !== 'small'));\n\n  const innerMetricId = useUniqueId('awsui-pie-chart__inner');\n\n  const [isPopoverOpen, setPopoverOpen] = useState<boolean>(false);\n  const [popoverData, setPopoverData] = useState<PopoverData<T>>();\n\n  const highlightedSegmentIndex = useMemo(() => {\n    for (let index = 0; index < pieData.length; index++) {\n      if (pieData[index].data.datum === highlightedSegment) {\n        return index;\n      }\n    }\n    return null;\n  }, [pieData, highlightedSegment]);\n\n  const detailPopoverFooterContent = useMemo(\n    () => (detailPopoverFooter && highlightedSegment ? detailPopoverFooter(highlightedSegment) : null),\n    [detailPopoverFooter, highlightedSegment]\n  );\n\n  const i18n = useInternalI18n('pie-chart');\n  const detailFunction = detailPopoverContent || defaultDetails(i18n, i18nStrings);\n  const details = popoverData ? detailFunction(popoverData.datum, dataSum) : [];\n  const popoverContentRef = useRef<HTMLDivElement | null>(null);\n  const popoverContent = popoverData && <SeriesDetails details={details} compactList={true} ref={popoverContentRef} />;\n\n  const popoverDismissedRecently = useRef(false);\n  const escapePressed = useRef(false);\n  const duringTouch = useRef(false);\n\n  const highlightSegment = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      const segment = internalDatum.datum;\n      if (segment !== highlightedSegment) {\n        onHighlightChange(segment);\n      }\n\n      if (popoverTrackRef.current) {\n        setPopoverData({\n          datum: internalDatum.datum,\n          series: {\n            color: internalDatum.color,\n            index: internalDatum.index,\n            label: internalDatum.datum.title,\n            markerType: 'rectangle',\n          },\n          trackRef: popoverTrackRef,\n        });\n        setPopoverOpen(true);\n      }\n    },\n    [highlightedSegment, setPopoverOpen, onHighlightChange]\n  );\n\n  const clearHighlightedSegment = useCallback(() => {\n    setPopoverOpen(false);\n    onHighlightChange(null);\n  }, [onHighlightChange, setPopoverOpen]);\n\n  const checkMouseLeave = (event: React.MouseEvent) => {\n    if (pinnedSegment !== null) {\n      return;\n    }\n\n    if (\n      nodeContains(popoverRef.current, event.relatedTarget) ||\n      nodeContains(focusedSegmentRef.current, event.relatedTarget)\n    ) {\n      return;\n    }\n\n    clearHighlightedSegment();\n  };\n\n  useEffect(() => {\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        clearHighlightedSegment();\n        escapePressed.current = true;\n      }\n    };\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [clearHighlightedSegment]);\n\n  const onMouseDown = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      if (pinnedSegment === internalDatum.datum) {\n        setPinnedSegment(null);\n        clearHighlightedSegment();\n      } else {\n        setPinnedSegment(internalDatum.datum);\n        highlightSegment(internalDatum);\n      }\n    },\n    [pinnedSegment, clearHighlightedSegment, setPinnedSegment, highlightSegment]\n  );\n  const onMouseOver = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      if (escapePressed.current) {\n        escapePressed.current = false;\n        return;\n      }\n      if (duringTouch.current) {\n        duringTouch.current = false;\n        return;\n      }\n      if (pinnedSegment !== null) {\n        return;\n      }\n      highlightSegment(internalDatum);\n    },\n    [pinnedSegment, highlightSegment]\n  );\n  const onTouchStart = useCallback(() => {\n    duringTouch.current = true;\n  }, []);\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const keyCode = event.keyCode;\n      if (\n        keyCode !== KeyCode.right &&\n        keyCode !== KeyCode.left &&\n        keyCode !== KeyCode.enter &&\n        keyCode !== KeyCode.space\n      ) {\n        return;\n      }\n\n      event.preventDefault();\n\n      let nextIndex = highlightedSegmentIndex || 0;\n      const MAX = pieData.length - 1;\n      if (keyCode === KeyCode.right) {\n        nextIndex++;\n        if (nextIndex > MAX) {\n          nextIndex = 0;\n        }\n      } else if (keyCode === KeyCode.left) {\n        nextIndex--;\n        if (nextIndex < 0) {\n          nextIndex = MAX;\n        }\n      }\n      if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\n        setPinnedSegment(pieData[nextIndex].data.datum);\n      }\n      highlightSegment(pieData[nextIndex].data);\n    },\n    [setPinnedSegment, highlightSegment, pieData, highlightedSegmentIndex]\n  );\n  const onApplicationFocus = useCallback(\n    (_event: any, target: 'keyboard' | 'mouse') => {\n      if (pinnedSegment !== null || popoverDismissedRecently.current || target === 'mouse') {\n        return;\n      }\n\n      const segment = highlightedSegment || legendSegment || pieData[0].data.datum;\n      const matched = pieData.filter(d => d.data.datum === segment);\n      highlightSegment(matched[0].data);\n    },\n    [pinnedSegment, pieData, highlightSegment, highlightedSegment, legendSegment]\n  );\n\n  const onApplicationBlur = useCallback(\n    (event: React.FocusEvent) => {\n      const blurTarget = event.relatedTarget || event.target;\n      if (blurTarget === null || !(blurTarget instanceof Element) || !nodeBelongs(containerRef.current, blurTarget)) {\n        // We only need to close the popover and remove the pinned segment so that we keep track of the current\n        // highlighted legendSeries. using clearHighlightedSegment() would set the legendSeries to null, in that case\n        // using Keyboard Tab will always highlight the first legend item in the legend component.\n        setPopoverOpen(false);\n        setPinnedSegment(null);\n      }\n    },\n    [setPinnedSegment]\n  );\n  const onPopoverDismiss = (outsideClick?: boolean) => {\n    setPopoverOpen(false);\n    setPinnedSegment(null);\n\n    if (!outsideClick) {\n      // The delay is needed to bypass focus events caused by click or keypress needed to unpin the popover.\n      setTimeout(() => {\n        popoverDismissedRecently.current = true;\n        plotRef.current!.focusApplication();\n        popoverDismissedRecently.current = false;\n      }, 0);\n    } else {\n      onHighlightChange(null);\n    }\n  };\n\n  return (\n    <div\n      className={clsx(styles['chart-container'], fitHeight && styles['chart-container--fit-height'])}\n      ref={containerRef}\n    >\n      <div\n        className={clsx(\n          styles['chart-container-chart-plot'],\n          fitHeight && styles['chart-container-chart-plot--fit-height']\n        )}\n      >\n        <ChartPlot\n          ref={plotRef}\n          width=\"100%\"\n          height={fitHeight ? '100%' : height}\n          transform={`translate(${width / 2} ${height / 2})`}\n          isPrecise={true}\n          isClickable={!isPopoverOpen}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n          ariaDescription={ariaDescription}\n          ariaDescribedby={hasInnerContent ? innerMetricId : undefined}\n          ariaRoleDescription={i18nStrings?.chartAriaRoleDescription}\n          activeElementRef={focusedSegmentRef}\n          activeElementKey={highlightedSegmentIndex?.toString()}\n          onApplicationFocus={onApplicationFocus}\n          onApplicationBlur={onApplicationBlur}\n          onKeyDown={onKeyDown}\n          onMouseOut={checkMouseLeave}\n        >\n          <Segments\n            pieData={pieData}\n            dimensions={dimensions}\n            variant={variant}\n            focusedSegmentRef={focusedSegmentRef}\n            popoverTrackRef={popoverTrackRef}\n            highlightedSegment={highlightedSegment}\n            segmentAriaRoleDescription={i18nStrings?.segmentAriaRoleDescription}\n            onMouseDown={onMouseDown}\n            onMouseOver={onMouseOver}\n            onTouchStart={onTouchStart}\n          />\n          {hasLabels && (\n            <Labels\n              pieData={pieData}\n              dimensions={dimensions}\n              segmentDescription={segmentDescription}\n              visibleDataSum={dataSum}\n              hideTitles={hideTitles}\n              hideDescriptions={hideDescriptions}\n              highlightedSegment={highlightedSegment}\n              containerRef={containerRef}\n            />\n          )}\n        </ChartPlot>\n      </div>\n\n      {hasInnerContent && (\n        <div className={styles['inner-content']} id={innerMetricId}>\n          {innerMetricValue && (\n            <InternalBox\n              variant={dimensions.size === 'small' ? 'h3' : 'h1'}\n              tagOverride=\"div\"\n              color=\"inherit\"\n              padding=\"n\"\n            >\n              {innerMetricValue}\n            </InternalBox>\n          )}\n          {innerMetricDescription && dimensions.size !== 'small' && (\n            <InternalBox variant=\"h3\" color=\"text-body-secondary\" tagOverride=\"div\" padding=\"n\">\n              {innerMetricDescription}\n            </InternalBox>\n          )}\n        </div>\n      )}\n      {isPopoverOpen && popoverData && (\n        <ChartPopover\n          ref={popoverRef}\n          title={\n            popoverData.series && (\n              <InternalBox className={styles['popover-header']} variant=\"strong\">\n                <SeriesMarker color={popoverData.series.color} type={popoverData.series.markerType} />{' '}\n                {popoverData.series.label}\n              </InternalBox>\n            )\n          }\n          trackRef={popoverData.trackRef}\n          trackKey={popoverData.series.index}\n          dismissButton={pinnedSegment !== null}\n          dismissAriaLabel={i18nStrings.detailPopoverDismissAriaLabel}\n          onDismiss={onPopoverDismiss}\n          container={plotRef.current?.svg || null}\n          size={detailPopoverSize}\n          onMouseLeave={checkMouseLeave}\n          onBlur={onApplicationBlur}\n        >\n          {popoverContent}\n          {detailPopoverFooterContent && <ChartPopoverFooter>{detailPopoverFooterContent}</ChartPopoverFooter>}\n        </ChartPopover>\n      )}\n      <LiveRegion source={[popoverContentRef]} />\n    </div>\n  );\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { pie } from 'd3-shape';\n\nimport { getBaseProps } from '../internal/base-component';\nimport Filter, { ChartFilterProps } from '../internal/components/chart-filter';\nimport Legend, { ChartLegendProps } from '../internal/components/chart-legend';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport createCategoryColorScale from '../internal/utils/create-category-color-scale';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport { PieChartProps } from './interfaces';\nimport InternalPieChart, { InternalChartDatum } from './pie-chart';\nimport { getDimensionsBySize } from './utils';\n\nimport styles from './styles.css.js';\n\nexport { PieChartProps };\n\nconst PieChart = function PieChart<T extends PieChartProps.Datum = PieChartProps.Datum>({\n  fitHeight,\n  variant = 'pie',\n  size = 'medium',\n  hideTitles = false,\n  hideDescriptions = false,\n  hideLegend = false,\n  hideFilter = false,\n  statusType = 'finished',\n  data: externalData = [],\n  i18nStrings = {},\n  highlightedSegment: controlledHighlightedSegment,\n  visibleSegments: controlledVisibleSegments,\n  onHighlightChange: controlledOnHighlightChange,\n  onFilterChange,\n  additionalFilters,\n  legendTitle,\n  detailPopoverSize = 'medium',\n  ...props\n}: PieChartProps<T>) {\n  const { __internalRootRef = null } = useBaseComponent('PieChart', {\n    props: {\n      fitHeight,\n      variant,\n      size,\n      hideTitles,\n      hideDescriptions,\n      hideLegend,\n      hideFilter,\n      detailPopoverSize,\n    },\n  });\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [containerWidth, measureRef] = useContainerWidth();\n\n  const data: ReadonlyArray<InternalChartDatum<T>> = useMemo(() => {\n    const colors = createCategoryColorScale(externalData, undefined, it => it.color || null);\n\n    return externalData.map((datum, i) => ({\n      index: i,\n      color: colors[i],\n      datum,\n    }));\n  }, [externalData]);\n\n  const [highlightedSegment = null, setHighlightedSegment] = useControllable(\n    controlledHighlightedSegment,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'highlightedSegment',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n  const [legendSegment, setLegendSegment] = useState<null | T>(highlightedSegment);\n  useEffect(() => {\n    setLegendSegment(controlledHighlightedSegment || null);\n  }, [controlledHighlightedSegment]);\n\n  const [visibleSegments, setVisibleSegments] = useControllable(\n    controlledVisibleSegments,\n    onFilterChange,\n    externalData,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'visibleSegments',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  const visibleData = useMemo(\n    () => data.filter(d => visibleSegments?.indexOf(d.datum) !== -1),\n    [data, visibleSegments]\n  );\n\n  const filterItems: ChartFilterProps<T>['series'] = data?.map(data => ({\n    label: data.datum.title,\n    color: data.color,\n    type: 'rectangle',\n    datum: data.datum,\n  }));\n\n  const legendItems: ChartLegendProps<T>['series'] = filterItems.filter(d => visibleSegments?.indexOf(d.datum) !== -1);\n\n  const filterChange = useCallback(\n    (selectedSeries: ReadonlyArray<T>) => {\n      setVisibleSegments(selectedSeries);\n      fireNonCancelableEvent(onFilterChange, {\n        visibleSegments: selectedSeries,\n      });\n    },\n    [setVisibleSegments, onFilterChange]\n  );\n\n  const onHighlightChange = useCallback(\n    (segment: T | null) => {\n      setLegendSegment(segment);\n      setHighlightedSegment(segment);\n      fireNonCancelableEvent(controlledOnHighlightChange, { highlightedSegment: segment });\n    },\n    [controlledOnHighlightChange, setHighlightedSegment]\n  );\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      highlightedSegment && onHighlightChange(null);\n      setLegendSegment(null);\n    }\n  };\n\n  const mergedRef = useMergeRefs(containerRef, measureRef, __internalRootRef);\n\n  const { pieData, dataSum } = useMemo(() => {\n    const dataSum = visibleData.reduce((sum, d) => sum + d.datum.value, 0);\n\n    const pieFactory = pie<InternalChartDatum<T>>()\n      // Minimum 1% segment size\n      .value(d => (d.datum.value < dataSum / 100 ? dataSum / 100 : d.datum.value))\n      .sort(null);\n\n    // Filter out segments with value of zero or below\n    const pieData = pieFactory(visibleData.filter(d => d.datum.value > 0));\n\n    return { pieData, dataSum };\n  }, [visibleData]);\n\n  const hasNoData = !externalData || externalData.length === 0;\n  const { isEmpty, showChart } = getChartStatus({ externalData: data, visibleData: pieData, statusType });\n  // Pie charts have a special condition for empty/noMatch due to how zero-value segments are handled.\n  const isNoMatch = isEmpty && visibleData.length !== data.length;\n  const showFilters = statusType === 'finished' && !hasNoData && (additionalFilters || !hideFilter);\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = statusType !== 'finished' && !isNoMatch && (!hideFilter || additionalFilters);\n  const hasLabels = !(hideTitles && hideDescriptions);\n\n  const isRefresh = useVisualRefresh();\n  const defaultDimensions = getDimensionsBySize({ size, hasLabels, visualRefresh: isRefresh });\n  const radius = defaultDimensions.outerRadius;\n  const height = 2 * (radius + defaultDimensions.padding + (hasLabels ? defaultDimensions.paddingLabels : 0));\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      fitHeight={!!fitHeight}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      contentClassName={clsx(styles.content, styles[`content--${defaultDimensions.size}`], {\n        [styles['content--without-labels']]: !hasLabels,\n        [styles['content--fit-height']]: fitHeight,\n      })}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <Filter\n            series={filterItems}\n            onChange={filterChange}\n            selectedSeries={visibleSegments}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={props.empty}\n          noMatch={props.noMatch}\n          loadingText={props.loadingText}\n          errorText={props.errorText}\n          recoveryText={props.recoveryText}\n          onRecoveryClick={props.onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <InternalPieChart\n            {...props}\n            variant={variant}\n            size={size}\n            height={height}\n            fitHeight={fitHeight}\n            data={externalData}\n            width={containerWidth}\n            hideTitles={hideTitles}\n            hideDescriptions={hideDescriptions}\n            i18nStrings={i18nStrings}\n            onHighlightChange={onHighlightChange}\n            highlightedSegment={highlightedSegment}\n            legendSegment={legendSegment}\n            detailPopoverSize={detailPopoverSize}\n            pieData={pieData}\n            dataSum={dataSum}\n          />\n        ) : null\n      }\n      legend={\n        !hideLegend &&\n        !hasNoData &&\n        statusType === 'finished' && (\n          <Legend<T>\n            series={legendItems}\n            highlightedSeries={legendSegment}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings?.legendAriaLabel}\n            onHighlightChange={onHighlightChange}\n            plotContainerRef={containerRef}\n          />\n        )\n      }\n      onBlur={onBlur}\n    />\n  );\n};\n\napplyDisplayName(PieChart, 'PieChart');\nexport default PieChart;\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { ButtonContext } from './button-context';\nimport { CollectionLabelContext } from './collection-label-context';\nimport { FormFieldContext } from './form-field-context';\nimport { InfoLinkLabelContext } from './info-link-label-context';\nimport { defaultValue as linkDefaultValue, LinkDefaultVariantContext } from './link-default-variant-context';\nimport {\n  defaultValue as singleTabStopDefaultValue,\n  SingleTabStopNavigationContext,\n} from './single-tab-stop-navigation-context';\n\n/*\n Use this context-resetter when creating a new modal-type context where typically the contents\n of the modal should not be affected by the surrounding components/DOM.\n */\nconst ResetContextsForModal = ({ children }: { children: React.ReactNode }) => (\n  <ButtonContext.Provider value={{ onClick: () => {} }}>\n    <CollectionLabelContext.Provider value={{ assignId: () => {} }}>\n      <FormFieldContext.Provider value={{}}>\n        <InfoLinkLabelContext.Provider value=\"\">\n          <LinkDefaultVariantContext.Provider value={linkDefaultValue}>\n            <SingleTabStopNavigationContext.Provider value={singleTabStopDefaultValue}>\n              {children}\n            </SingleTabStopNavigationContext.Provider>\n          </LinkDefaultVariantContext.Provider>\n        </InfoLinkLabelContext.Provider>\n      </FormFieldContext.Provider>\n    </CollectionLabelContext.Provider>\n  </ButtonContext.Provider>\n);\n\nexport default ResetContextsForModal;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { getBaseProps } from '../internal/base-component';\nimport { getFirstFocusable } from '../internal/components/focus-lock/utils';\nimport Portal from '../internal/components/portal';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport ResetContextsForModal from '../internal/context/reset-contexts-for-modal';\nimport { useSingleTabStopNavigation } from '../internal/context/single-tab-stop-navigation-context';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../internal/events/index';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { KeyCode } from '../internal/keycode';\nimport Arrow from './arrow';\nimport PopoverBody from './body';\nimport PopoverContainer from './container';\nimport { PopoverProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface InternalPopoverProps extends Omit<PopoverProps, 'triggerType'>, InternalBaseComponentProps {\n  __onOpen?: NonCancelableEventHandler<null>;\n  triggerType?: PopoverProps.TriggerType | 'filtering-token';\n}\n\nexport interface InternalPopoverRef {\n  dismissPopover: () => void;\n  focus: HTMLElement['focus'];\n}\n\nexport default React.forwardRef(InternalPopover);\n\nfunction InternalPopover(\n  {\n    position = 'right',\n    size = 'medium',\n    fixedWidth = false,\n    triggerType = 'text',\n    dismissButton = true,\n\n    children,\n    header,\n    content,\n    triggerAriaLabel,\n\n    wrapTriggerText = true,\n    renderWithPortal = false,\n\n    __onOpen,\n    __internalRootRef = null,\n    ...restProps\n  }: InternalPopoverProps,\n  ref: React.Ref<InternalPopoverRef>\n) {\n  const baseProps = getBaseProps(restProps);\n  const triggerRef = useRef<HTMLElement | null>(null);\n  const popoverRef = useRef<HTMLDivElement | null>(null);\n  const clickFrameId = useRef<number | null>(null);\n\n  const i18n = useInternalI18n('popover');\n  const dismissAriaLabel = i18n('dismissAriaLabel', restProps.dismissAriaLabel);\n\n  const [visible, setVisible] = useState(false);\n\n  const focusTrigger = useCallback(() => {\n    if (triggerType === 'text') {\n      triggerRef.current?.focus();\n    } else {\n      triggerRef.current && getFirstFocusable(triggerRef.current)?.focus();\n    }\n  }, [triggerType]);\n\n  const onTriggerClick = useCallback(() => {\n    fireNonCancelableEvent(__onOpen);\n    setVisible(true);\n  }, [__onOpen]);\n\n  const onDismiss = useCallback(() => {\n    setVisible(false);\n    focusTrigger();\n  }, [focusTrigger]);\n\n  const onTriggerKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const isEscapeKey = event.keyCode === KeyCode.escape;\n      const isTabKey = event.keyCode === KeyCode.tab;\n      if (isEscapeKey && visible) {\n        event.stopPropagation();\n      }\n      if (isTabKey || isEscapeKey) {\n        setVisible(false);\n      }\n    },\n    [visible]\n  );\n\n  useImperativeHandle(ref, () => ({\n    dismissPopover: onDismiss,\n    focus: () => {\n      setVisible(false);\n      focusTrigger();\n    },\n  }));\n\n  useEffect(() => {\n    if (!triggerRef.current) {\n      return;\n    }\n    const document = triggerRef.current.ownerDocument;\n\n    const onDocumentClick = () => {\n      // Dismiss popover unless there was a click inside within the last animation frame.\n      if (clickFrameId.current === null) {\n        setVisible(false);\n      }\n    };\n\n    document.addEventListener('mousedown', onDocumentClick);\n\n    return () => {\n      document.removeEventListener('mousedown', onDocumentClick);\n    };\n  }, []);\n\n  const popoverClasses = usePortalModeClasses(triggerRef);\n\n  const triggerProps = {\n    // https://github.com/microsoft/TypeScript/issues/36659\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ref: triggerRef as any,\n    onClick: onTriggerClick,\n    onKeyDown: onTriggerKeyDown,\n    className: clsx(styles.trigger, styles[`trigger-type-${triggerType}`]),\n  };\n  const { tabIndex: triggerTabIndex } = useSingleTabStopNavigation(triggerRef);\n\n  const referrerId = useUniqueId();\n\n  const popoverContent = (\n    <div\n      aria-live={dismissButton ? undefined : 'polite'}\n      aria-atomic={dismissButton ? undefined : true}\n      className={clsx(popoverClasses, !renderWithPortal && styles['popover-inline-content'])}\n      data-awsui-referrer-id={referrerId}\n    >\n      {visible && (\n        <PopoverContainer\n          size={size}\n          fixedWidth={fixedWidth}\n          position={position}\n          trackRef={triggerRef}\n          arrow={position => <Arrow position={position} />}\n          renderWithPortal={renderWithPortal}\n          zIndex={renderWithPortal ? 7000 : undefined}\n        >\n          <LinkDefaultVariantContext.Provider value={{ defaultVariant: 'primary' }}>\n            <PopoverBody\n              dismissButton={dismissButton}\n              dismissAriaLabel={dismissAriaLabel}\n              header={header}\n              onDismiss={onDismiss}\n              overflowVisible=\"both\"\n            >\n              {content}\n            </PopoverBody>\n          </LinkDefaultVariantContext.Provider>\n        </PopoverContainer>\n      )}\n    </div>\n  );\n\n  const mergedRef = useMergeRefs(popoverRef, __internalRootRef);\n\n  return (\n    <span\n      {...baseProps}\n      className={clsx(\n        styles.root,\n        baseProps.className,\n        triggerType === 'filtering-token' && styles['root-filtering-token']\n      )}\n      ref={mergedRef}\n      onMouseDown={() => {\n        // Indicate there was a click inside popover recently, including nested portals.\n        clickFrameId.current = requestAnimationFrame(() => {\n          clickFrameId.current = null;\n        });\n      }}\n    >\n      {triggerType === 'text' ? (\n        <button\n          {...triggerProps}\n          className={clsx(triggerProps.className, wrapTriggerText === false && styles['overflow-ellipsis'])}\n          tabIndex={triggerTabIndex}\n          type=\"button\"\n          aria-haspopup=\"dialog\"\n          id={referrerId}\n          aria-label={triggerAriaLabel}\n        >\n          {children}\n        </button>\n      ) : (\n        <span {...triggerProps} id={referrerId}>\n          {children}\n        </span>\n      )}\n      <ResetContextsForModal>\n        {renderWithPortal ? <Portal>{popoverContent}</Portal> : popoverContent}\n      </ResetContextsForModal>\n    </span>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport useForwardFocus from '../internal/hooks/forward-focus';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { isDevelopment } from '../internal/is-development';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { getExternalProps } from '../internal/utils/external-props';\nimport { PopoverProps } from './interfaces';\nimport InternalPopover, { InternalPopoverRef } from './internal';\n\nexport { PopoverProps };\n\nconst Popover = React.forwardRef(\n  (\n    {\n      position = 'right',\n      size = 'medium',\n      fixedWidth = false,\n      triggerType = 'text',\n      dismissButton = true,\n      renderWithPortal = false,\n      wrapTriggerText = true,\n      header,\n      ...rest\n    }: PopoverProps,\n    ref: React.Ref<PopoverProps.Ref>\n  ) => {\n    if (isDevelopment) {\n      if (dismissButton && !header) {\n        warnOnce('Popover', `You should provide a \\`header\\` when \\`dismissButton\\` is true.`);\n      }\n    }\n\n    const baseComponentProps = useBaseComponent('Popover', {\n      props: { dismissButton, fixedWidth, position, renderWithPortal, size, triggerType },\n    });\n    const externalProps = getExternalProps(rest);\n\n    const internalRef = useRef<InternalPopoverRef | null>(null);\n    useForwardFocus(ref, internalRef);\n\n    return (\n      <InternalPopover\n        ref={internalRef}\n        header={header}\n        position={position}\n        size={size}\n        fixedWidth={fixedWidth}\n        triggerType={triggerType}\n        dismissButton={dismissButton}\n        renderWithPortal={renderWithPortal}\n        wrapTriggerText={wrapTriggerText}\n        {...externalProps}\n        {...baseComponentProps}\n      />\n    );\n  }\n);\n\napplyDisplayName(Popover, 'Popover');\nexport default Popover;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  var dayOfMonth = date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}"],"names":["BarChart","_a","series","height","xScaleType","yScaleType","stackedBars","horizontalBars","detailPopoverSize","statusType","emphasizeBaselineAxis","detailPopoverSeriesContent","props","__rest","baseComponentProps","useBaseComponent","fitHeight","hideFilter","hideLegend","baseProps","getBaseProps","className","clsx","styles","React","InternalMixedLineBarChart","Object","assign","applyDisplayName","isSameMonth","dirtyDateLeft","dirtyDateRight","requiredArgs","arguments","dateLeft","toDate","dateRight","getFullYear","getMonth","isSameDay","dateLeftStartOfDay","startOfDay","dateRightStartOfDay","getTime","isSameYear","addYears","dirtyDate","dirtyAmount","amount","toInteger","addMonths","useDateCache","cacheRef","useRef","Map","date","current","get","set","padLeftZeros","text","length","concat","formatDate","value","granularity","undefined","year","month","getDate","mergeLocales","locale","fullLocale","indexOf","normalizeLocale","component","checkLocale","browserLocale","Intl","DateTimeFormat","resolvedOptions","htmlLocale","document","querySelector","getAttribute","replace","match","warnOnce","GridCell","forwardRef","focusedDateRef","disabledReason","rest","isDisabledWithReason","targetProps","descriptionEl","useHiddenDescription","ref","showTooltip","setShowTooltip","useState","useMergeRefs","onFocus","onBlur","onMouseEnter","onMouseLeave","children","Tooltip","trackRef","Grid","_ref","isDateEnabled","dateDisabledReason","focusedDate","focusableDate","onSelectDate","selectedDate","ariaLabelledby","header","rows","isCurrentPage","renderDate","renderDateAnnouncement","isSameDate","onGridKeyDownHandler","useEffectOnUpdate","focus","denseGrid","role","onKeyDown","map","row","rowIndex","key","dateIndex","isFocusable","isSelected","isEnabled","isCurrentDate","Date","tabIndex","onClick","ScreenreaderOnly","renderDayName","dayIndex","mode","tempDate","diff","getDay","setDate","setDayIndex","toLocaleDateString","weekday","renderMonthAndYear","baseDate","dayLabelCache","CalendarGridHeader","scope","startOfYear","cleanDate","setFullYear","setHours","startOfMonth","compareAsc","differenceInYears","sign","difference","Math","abs","differenceInCalendarYears","isLastYearNotFull","result","Number","moveNextDay","startDate","isDateFocusable","moveDay","movePrevDay","moveNextWeek","movePrevWeek","moveNextMonth","moveMonth","movePrevMonth","moveMonthDown","moveMonthUp","getBaseDate","isMonthGranularity","moveDate","isSamePage","firstEnabledDate","step","_ref2","addSteps","addDays","limitYears","days","day","getCalendarMonth","options","_firstDayOfWeek$optio","_objectSpread","firstDayOfWeek","firstDateOfMonth","lastDateOfMonth","firstWeekdayOfMonth","lastWeekdayOfMonth","daysInMonth","daysToAppend","DAYS_IN_WEEK","week","i","push","en","zh","zh_hans","hans","wuu","hsn","hak","nan","gan","hi","te","mr","ta","gu","kn","or","ml","pa_guru","bho","awa","as","mwr","mai","mag","bgc","hne","dcc","dz","tn","am","om","quc","id","jv","su","mad","ms_arab","ga","he","jam","ja","km","ko","lo","mh","my","mt","ne","fil","ceb","ilo","ur","pa","pa_arab","arab","lah","ps","sd","sd_arab","skr","gn","th","tts","aeb","zh_hant","hant","sm","zu","sn","arq","ar","arz","fa","az_arab","ary","bn","rkt","dv","AG","ATG","AR","ARG","AS","ASM","AU","AUS","BR","BRA","BS","BHS","BT","BTN","BW","BWA","BZ","BLZ","CA","CAN","CN","CHN","CO","COL","DM","DMA","DO","DOM","ET","ETH","GT","GTM","GU","GUM","HK","HKG","HN","HND","ID","IDN","IE","IRL","IL","ISR","IN","IND","JM","JAM","JP","JPN","KE","KEN","KH","KHM","KR","KOR","LA","LA0","MH","MHL","MM","MMR","MO","MAC","MT","MLT","MX","MEX","MZ","MOZ","NI","NIC","NP","NPL","NZ","NZL","PA","PAN","PE","PER","PH","PHL","PK","PAK","PR","PRI","PY","PRY","SA","SAU","SG","SGP","SV","SLV","TH","THA","TN","TUN","TT","TTO","TW","TWN","UM","UMI","US","USA","VE","VEN","VI","VIR","WS","WSM","YE","YEM","ZA","ZAF","ZW","ZWE","AE","ARE","AF","AFG","BH","BHR","DJ","DJI","DZ","DZA","EG","EGY","IQ","IRQ","IR","IRN","JO","JOR","KW","KWT","LY","LBY","MA","MAR","OM","OMN","QA","QAT","SD","SDN","SY","SYR","BD","BGD","MV","MDV","getWeekStartByLocale$1","langRegionMap","regionDayMap","country","data","toLowerCase","split","language","regionCode","code","toUpperCase","getWeekStartByRegion","getWeekStartByLocale","normalizeStartOfWeek","startOfWeek","useCalendarGridRows","isMonthPicker","useMemo","Array","fill","_","j","getCalendarYear","HeaderPrevButton","ariaLabel","onChange","InternalButton","iconName","variant","formAction","HeaderNextButton","formattedDate","previousLabel","nextLabel","headingId","useCalendarLabels","i18nStrings","previousMonthAriaLabel","nextMonthAriaLabel","todayAriaLabel","i18n","useInternalI18n","previousButtonLabel","previousYearAriaLabel","nextButtonLabel","nextYearAriaLabel","_b","currentDateLabel","currentMonthAriaLabel","_c","toLocaleString","toString","cacheKey","cachedValue","getDateLabel","renderHeaderText","Calendar","ariaDescribedby","__internalRootRef","checkControlled","normalizedLocale","gridWrapperRef","setFocusedDate","valueDateCache","focusedDateCache","parsedValue","strict","yearString","monthString","dayString","isNaN","parseDate","memoizedValue","defaultDisplayedDate","displayedDate","setDisplayedDate","useUniqueId","getBaseMonth","getBaseDay","gridRows","useEffect","prev","selectFocusedDate","selected","today","onChangePageHandler","newDate","onGridFocusDateHandler","onGridSelectDateHandler","fireNonCancelableEvent","onChangePage","onFocusDate","moveDown","moveLeft","moveRight","moveUp","event","updatedFocusDate","keys","KeyCode","up","down","left","right","space","enter","keyCode","preventDefault","handleKey","onActivate","onBlockEnd","onBlockStart","onInlineStart","onInlineEnd","useCalendarGridKeyboardNavigation","headerText","root","calendar","CalendarHeader","relatedTarget","contains","InternalCalendar","gridDefinition","disableGutters","restProps","breakpoint","useContainerBreakpoints","InternalGrid","__breakpoint","content","hasItems","LiveRegion","visible","tagName","DropdownStatus","searchableFields","matchesString","searchText","strictMatching","index","matchesSingleOption","dropdownOption","option","searchableTagFields","some","attr","filterOptions","currentGroup","parentMatched","reduce","acc","type","isInteractive","disabled","isGroupInteractive","isGroup","testIndexMap","WeakMap","prepareOptions","filteringType","filteringText","flatOptions","parentMap","parentDropdownOption","allOptionsDisabled","every","forEach","child","childDropdownOption","flattenOptions","filteredOptions","generateTestIndexes","filteredItems","getParentGroup","throughIndex","groupIndex","inGroupIndex","item","group","bind","totalCount","matchesCount","filterProps","InternalInput","filter","autoComplete","disableBrowserAutocorrect","invalid","__noBorderRadius","__nativeAttributes","autoCorrect","autoCapitalize","Highlight","str","HighlightMatch","highlightText","noMatches","matches","splitOnFiltering","filteringPattern","regexp","RegExp","highlighted","noMatch","idx","Label","label","prefix","triggerVariant","LabelTag","labelTag","Description","_ref3","description","highlightedOption","selectedOption","Tags","_ref4","tags","tag","FilteringTags","_ref5","filteringTags","searchElement","filteringTag","OptionIcon","name","url","svg","size","InternalIcon","validateStringValue","propertyName","isGroupOption","isGenericGroup","isDevelopment","icon","__customIcon","iconUrl","iconSvg","alt","iconAlt","genericGroupProps","title","_d","lang","_e","__labelPrefix","SelectableItem","ariaSelected","ariaChecked","hasBackground","isParent","isChild","virtualPosition","padBottom","isNextSelected","useInteractiveGroups","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","classNames","contentRef","screenReaderContentRef","useLayoutEffect","setAttribute","textContent","style","transform","a11yProperties","Item","filteringValue","hasCheckbox","wrappedOption","internalRef","descriptionId","Boolean","checkbox","CheckboxIcon","checked","Option","position","MultiSelectItem","indeterminate","getItemProps","getOptionProps","checkboxes","optionProps","getTestOptionIndexes","renderOptions","hasDropdownStatus","virtualItems","virtualItem","globalIndex","isLastItem","ListItem","MutliselectItem","start","measureRef","PlainList","menuProps","listBottom","menuRef","useImperativeHandle","moveFocus","scrollElementIntoView","OptionsList","ButtonTrigger","pressed","hideCaret","readOnly","warning","inlineTokens","inFilteringToken","ariaHasPopup","ariaControls","onKeyUp","onMouseDown","autoFocus","attributes","fireKeyboardEvent","fireCancelableEvent","controlId","inlineLabelText","triggerProps","selectedOptions","isOpen","placeholder","isVisualRefresh","useVisualRefresh","generatedId","triggerContentId","ariaLabelledbyIds","joinStrings","triggerContent","trigger","mergedRef","triggerButton","htmlFor","_extends","target","source","prototype","hasOwnProperty","call","apply","this","rafId","observedNodes","run","changedStates","state","node","a","b","newRect","getBoundingClientRect","rect","prop","callbacks","cb","window","requestAnimationFrame","useIsomorphicLayoutEffect","useRect","nodeRef","initialRect","width","_React$useState","element","setElement","_React$useReducer","rectReducer","dispatch","initialRectSet","_rect","observer","observe","wasEmpty","has","hasRectChanged","unobserve","splice","cancelAnimationFrame","action","defaultEstimateSize","defaultKeyExtractor","defaultMeasureSize","el","horizontal","defaultRangeExtractor","range","max","overscan","end","min","arr","useVirtual","_measurements","_ref$size","_ref$estimateSize","estimateSize","_ref$overscan","_ref$paddingStart","paddingStart","_ref$paddingEnd","paddingEnd","parentRef","scrollToFn","useObserver","onScrollElement","scrollOffsetFn","_ref$keyExtractor","keyExtractor","_ref$measureSize","measureSize","_ref$rangeExtractor","rangeExtractor","sizeKey","scrollKey","latestRef","scrollOffset","measurements","setScrollOffset","outerSize","defaultScrollToFn","offset","resolvedScrollToFn","_React$useState2","measuredCache","setMeasuredCache","measure","pendingMeasuredCacheIndexesRef","slice","measuredSize","_start","_size","_end","totalSize","scrollOffsetFnRef","onScroll","addEventListener","capture","passive","removeEventListener","_calculateRange","getOffset","findNearestBinarySearch","calculateRange","indexes","measureSizeRef","_loop","k","len","_scrollOffset","old","_extends2","mountedRef","scrollToOffset","toOffset","_temp","_ref2$align","align","_latestRef$current","tryScrollToIndex","_temp2","_ref3$align","excluded","sourceKeys","_objectWithoutPropertiesLoose","_latestRef$current2","measurement","scrollToIndex","_len","args","_key","low","high","getCurrentValue","middle","currentValue","VirtualListOpen","menuMeasureRef","useContainerQuery","contentBoxWidth","menuRefObject","items","rowVirtualizer","useVirtualDefault","measuresCache","indicesKey","join","mountedCount","useCallback","finalOptions","VirtualListClosed","VirtualList","open","findOptionIndex","__option","parentGroup","isRepeatedChar","c","useNativeSearch","highlightOption","delayedResetValue","useDebounceCallback","newValue","nextHighlight","currentHighlight","interactivityCheck","matchingOptions","active","findMatchingOption","HighlightType","constructor","useHighlightedOption","isHighlightable","highlightedIndex","setHighlightedIndexState","setHighlightType","setHighlightedIndex","moveHighlightFrom","direction","startIndex","newIndex","setHighlightedIndexWithMouse","moveHighlightWithKeyboard","moveHighlight","highlightOptionWithKeyboard","resetHighlightWithKeyboard","goHomeWithKeyboard","goEndWithKeyboard","getOptionId","menuId","useSelect","updateSelectedOption","externalRef","keepOpen","fireLoadItems","setFilteringValue","filterRef","triggerRef","hasFilter","activeRef","__selectedOptions","connectOptionsByValue","__selectedValuesSet","selectedValuesSet","add","Set","openDropdown","closeDropdown","toggleDropdown","openedWithKeyboard","useOpenState","onOpen","onClose","handleFocus","handleBlur","hasSelectedOption","dialogId","highlightedOptionId","selectOption","optionToSelect","activeKeyDownHandler","goUp","goDown","goHome","goEnd","preventNativeSpace","e","detail","escape","stopPropagation","useMenuKeyboard","triggerKeyDownHandler","useTriggerKeyboard","getGroupState","totalSelected","hasSelected","allSelected","prevOpen","usePrevious","preventScroll","useForwardFocus","highlightedGroupSelected","announceSelected","getTriggerProps","getDropdownProps","dropdownContentId","dropdownContentRole","getMenuProps","onMouseUp","itemIndex","onMouseMove","nativeAttributes","getFilterProps","__onDelayedInput","groupState","nextOption","tokenSelector","toggleButtonSelector","toggle","TokenLimitToggle","allHidden","expanded","numberOfHiddenOptions","limitShowFewerAriaLabel","limitShowMoreAriaLabel","numberOfHiddenOptionLabel","limitShowFewer","limitShowMore","handleClick","TokenList","alignment","renderItem","limit","after","moveFocusNextToIndex","onExpandedClick","tokenListRef","tokenElements","querySelectorAll","toggleButton","closestPrevIndex","NEGATIVE_INFINITY","closestNextIndex","POSITIVE_INFINITY","activeIndex","nextElement","prevElement","HTMLElement","getFirstFocusable","useTokenFocusController","setExpanded","hasHiddenItems","visibleItems","hasVisibleItems","isExpanded","list","separator","vertical","dismissLabel","onDismiss","Token","errorText","warningText","errorIconAriaLabel","warningIconAriaLabel","errorId","warningId","showWarning","token","DismissButton","FormFieldError","FormFieldWarning","InternalTokenGroup","disableOuterPadding","removedItemIndex","setRemovedItemIndex","InternalMultiselect","filteringPlaceholder","filteringAriaLabel","filteringClearAriaLabel","filteringResultsText","ariaRequired","empty","loadingText","finishedText","renderHighlightedAriaLive","deselectAriaLabel","tokenLimit","onLoadItems","virtualScroll","hideTokens","expandToViewport","tokenLimitShowFewerAriaLabel","tokenLimitShowMoreAriaLabel","componentName","propertyValue","checkOptionValueField","formFieldContext","useFormFieldContext","i18nCommon","recoveryText","selectedAriaLabel","handleLoadMore","handleRecoveryClick","prevFilteringText","firstPage","samePage","useLoadItems","filtered","isAllChildrenSelected","optionsArray","select","union","visibleOptions","unselect","newSelectedOptions","intersection","rootRef","selfControlId","multiSelectAriaLabelId","footerId","handleNativeSearch","isEmpty","isNoMatch","isFiltered","dropdownStatus","onRecoveryClick","hasRecoveryCallback","previousStatusType","statusResult","isSticky","InternalStatusIndicator","__display","__animate","iconAriaLabel","InternalLink","onFollow","useDropdownStatus","Filter","clearAriaLabel","Trigger","onLoadMore","announcement","getParent","prevAnnouncedGroup","frameId","parent","defaultOptionDescription","useAnnouncement","tokens","format","option__label","ListComponent","showTokens","tokenGroupI18nStrings","tokenLimitShowFewer","tokenLimitShowMore","dropdownProps","onKeyPress","Dropdown","activeElement","footer","DropdownFooter","stretchBeyondTriggerWidth","optionToDeselect","targetRef","memo","selectedSeries","defaultOptions","d","datum","SeriesMarker","color","updateSelection","InternalFormField","filterLabel","filterPlaceholder","filterSelectedAriaLabel","onHighlightChange","highlightedSeries","legendTitle","plotContainerRef","containerRef","segmentsRef","highlightedSeriesIndex","targetSeries","findSeriesIndex","handleSelection","handleMouseLeave","highlightInlineStart","currentIndex","nextIndex","highlightInlineEnd","InternalBox","fontWeight","s","someHighlighted","isHighlighted","isDimmed","elem","onMouseOver","handleMouseOver","activeElementKey","activeElementRef","applicationRef","focusTransitionRef","isFocused","setFocused","onApplicationFocus","onApplicationBlur","app","attributeName","getAttributeNames","removeAttribute","muteApplication","onApplicationKeyDown","focusApplication","removeChild","appendChild","application","attributeValue","FocusOutline","elementKey","elementRef","focusVisible","setFocusVisible","handleMousedown","handleKeydown","isModifierKey","useFocusVisibleState","getBBox","offsetX","x","offsetY","y","visibility","showOutline","rx","DEFAULT_PLOT_FOCUS_OFFSET","DEFAULT_ELEMENT_FOCUS_OFFSET","offsetTop","offsetBottom","offsetLeft","offsetRight","ariaRoleDescription","ariaDescription","ariaLiveRegion","isClickable","isPrecise","focusOffset","activeElementFocusOffset","onMouseOut","svgRef","plotClickedRef","isPlotFocused","setPlotFocused","isApplicationFocused","setApplicationFocused","internalDescriptionId","ariaDescriptionId","focusPlot","plotFocusable","plotTabIndex","plotAria","focusable","marginTop","marginBottom","marginLeft","marginRight","clickable","precise","onPlotMouseDown","ApplicationController","ChartPopoverFooter","fixedWidth","dismissButton","dismissAriaLabel","trackKey","container","popoverObjectRef","popoverRef","onDocumentClick","nodeBelongs","nodeContains","isPinned","popoverStyles","PopoverContainer","arrow","keepPosition","allowVerticalOverflow","allowScrollToFit","PopoverBody","overflowVisible","details","expandedSeries","setPopoverText","setExpandedState","compactList","detailsRef","from","announced","expandabeleSectionHeaderStyles","innerText","trim","compact","markerType","subItems","expandableId","dimmed","expandable","ExpandableSeries","itemKey","seriesTitle","NonExpandableSeries","SubItems","ChartSeriesMarker","InternalExpandableSection","headerActions","_ref6","marker","backgroundColor","getChartStatus","externalData","visibleData","showChart","ChartStatusContainer","statusContainer","renderedRecoveryText","ChartWrapper","defaultFilter","additionalFilters","reserveFilterSpace","reserveLegendSpace","chartStatus","chart","legend","contentClassName","contentMinHeight","filtersNode","margin","bottom","InternalSpaceBetween","legendNode","top","wrapper","minHeight","getTextWidth","textNode","getComputedTextLength","maxWidth","textRef","isRtl","getIsRtl","renderTextContent","textAnchor","visibleLength","truncateText","maxLength","handlerName","handlerValue","useHeightMeasure","getMeasure","skip","deps","measuredHeight","setHeight","stableGetMeasure","useResizeObserver","entry","borderBoxHeight","categoryPalette","createCategoryColorScale","isThreshold","getOwnColor","colors","categoryIndex","it","ownColor","defaultColor","thresholdColor","parseCssVariable","useContainerWidth","defaultValue","threshold","LineChart","Link","fontSize","external","rel","analyticsMetadata","properties","href","getAnalyticsMetadataAttribute","axis","textAlign","TICK_LENGTH","TICK_MARGIN","TICK_LINE_HEIGHT","X_TICK_COUNT_RATIO","Y_TICK_COUNT_RATIO","SPACE_BETWEEN","formatTicks","ticks","scale","getLabelSpace","tickFormatter","tick","d3Scale","NaN","lines","getVisibleTicks","until","balanceTicks","getTicksInRange","reduceLabelRatio","findReduceLabelRatio","reducedTicks","getReducedTicks","visibleTicks","prevTick","hasIntersection","removeIntersections","ratio","virtualTextRef","formattedTicks","xOffset","isCategorical","bandwidth","balanceLabels","scaleType","isFinite","ticks__line","x1","x2","y1","y2","line","lineIndex","ticks__text","CartesianChartContainer","leftAxisLabel","leftAxisLabelMeasure","bottomAxisLabel","chartPlot","popover","baselineY","point","ariaExpanded","cx","cy","r","stroke","plotWidth","plotHeight","maxLabelsWidth","yOffset","labelToBoxCache","getSVGTextSize","grid","ticks_line","lineTextProps","ResponsiveText","autoWidth","scaledValue","Fragment","ascending","descending","bisector","f","compare1","compare2","delta","mid","zero$1","center","bisectRight","bisect","InternMap","entries","keyof","super","defineProperties","_intern","intern_get","intern_set","delete","intern_delete","valueOf","e10","sqrt","e5","e2","stop","count","reverse","n","tickIncrement","r0","round","r1","power","floor","log","LN10","error","pow","tickStep","step0","step1","initRange","domain","implicit","Symbol","ordinal","unknown","copy","band","ordinalRange","paddingInner","paddingOuter","rescale","values","ceil","rangeRound","padding","define","factory","extend","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","m","l","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgb$1","opacity","o","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","channels","displayable","formatHex8","formatHsl","clamp","constant","gamma","nogamma","t","exponential","linear$1","rgbGamma","numberArray","genericArray","nb","na","interpolate","date$1","setTime","interpolateNumber","object","reA","reB","string","bm","bs","bi","lastIndex","q","one","zero","ArrayBuffer","isView","DataView","isArray","interpolateRound","number$1","unit","identity$1","normalize","bimap","d0","d1","polymap","transformer","untransform","piecewise","output","input","interpolate$1","clamper","invert","u","continuous","formatDecimalParts","p","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","Error","FormatSpecifier","symbol","comma","precision","formatRounded","formatTypes","%","toFixed","toPrecision","identity","locale$1","formatPrefix","prefixes","formatLocale$1","grouping","thousands","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","newFormat","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","charCodeAt","Infinity","tickFormat","precisionPrefix","precisionRound","precisionFixed","linear","nice","prestep","maxIter","linearish","interval","x0","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","v","z","t0","t1","timeInterval","floori","offseti","field","previous","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getMilliseconds","getUTCSeconds","timeMinute","getSeconds","getMinutes","utcMinute","setUTCSeconds","getUTCMinutes","timeHour","getHours","utcHour","setUTCMinutes","getUTCHours","timeDay","getTimezoneOffset","utcDay","setUTCHours","setUTCDate","getUTCDate","unixDay","timeWeekday","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","setMonth","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","timeYear","utcYear","setUTCFullYear","ticker","hour","minute","tickIntervals","tickInterval","timeTicks","timeTickInterval","localDate","H","M","S","L","utcDate","UTC","timeFormat","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","number","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","time","createNumericScale","scaleLog","scaleLinear","isNumericDomain","createTimeScale","scaleTime","isDateDomain","createBandScale","scaleBand","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","parse","X","utcFormat","utcParse","formatLocale","defaultLocale","ChartScale","noCategoricalOuterPadding","createScale","cloneScale","newScaleType","newDomain","newRange","isNumeric","isTime","NumericChartScale","adjustDomain","getTimezoneOffsetInMilliseconds","MILLISECONDS_IN_DAY","compareLocalAsc","differenceInDays","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","differenceInCalendarDays","duration","_typeof","years","weeks","hours","minutes","seconds","dateWithMonths","dateWithDays","msToAdd","createXTicks","rawTicks","oneDayInterval","twoDayInterval","isDayInterval","isMixedDayInterval","curr","createTwoDayInterval","uniform","showPoints","showLine","points","firstPoint","OUTLINE_PADDING","BarGroups","isRefresh","isPopoverPinned","barGroups","highlightedGroupIndex","highlightedGroupRef","highlightDetails","setExpandedSeries","Transition","in","exiting","ChartPopover","ChartSeriesDetails","oldState","expandedSeriesInCurrentCoordinate","createOneSideRoundedRectPath","radius","side","coordinates","path","hypot","chartLegendMap","bar","nextValidDomainIndex","nextGroupIndex","isValid","hasData","matchesX","getKeyValue","isYThreshold","isXThreshold","isDataSeries","BarSeries","xScale","yScale","totalSeriesCount","seriesIndex","plotSize","chartAreaClipPath","stackedBarValues","isStacked","isVertical","xCoordinates","yContinuosScale","xPoints","zeroY","baseY","barWidth","barX","yValue","isRoundedStart","isRoundedEnd","allXValues","allXValuesSorted","sort","highlightedXValue","clipPath","isSmallBar","heightOffset","placement","widthOffset","series__rect","styleProps","Linear","context","_context","LineSeries","commonProps","lineGenerator","pointX","pointY","defined","curve","curveLinear","buffer","defined0","lineStart","lineEnd","areaStart","_line","areaEnd","_point","closePath","lineTo","moveTo","STROKE_WIDTH","DataSeries","isGroupNavigation","visibleSeries","lineAreaClipPath","barData","dataBySeries","negativeValues","positiveValues","seriesValue","valuesByIndex","calculateStackedBarValues","formatHighlighted","xTickFormatter","formattedPosition","internalSeries","targetX","valueFormatter","customContent","hasSubItems","isExpandable","isKeyString","getSeriesDetail","MAX_HOVER_MARGIN","POPOVER_DEADZONE","useMouseHover","plotRef","scaledSeries","highlightPoint","highlightGroup","clearHighlightedSeries","isHandlersDisabled","highlightX","isMouseOverPopover","firstChild","popoverPosition","clientX","clientY","onSVGMouseMove","svgRect","onGroupMouseMove","closestX","closestY","datumX","scaledX","onSeriesMouseMove","onSVGMouseOut","classList","onPopoverLeave","circleIndex","to","useNavigation","highlightedPoint","pinPopover","highlightSeries","verticalMarkerX","setTargetX","xIndex","setXIndex","navigableSeries","navigableBarSeriesIndex","findNavigableSeries","containsMultipleSeries","allUniqueX","moveBetweenSeries","startFrom","MAX_SERIES_INDEX","previousSeriesIndex","firstPossibleIndex","nextSeriesIndex","nextSeries","nextInternalSeries","actualTargetX","targetXPoint","closestNextSeriesPoint","scaledTargetIndex","moveWithinSeries","targetScaledSeries","previousPoint","nextPointIndex","nextPoint","xDomain","MAX_GROUP_INDEX","nextDomainIndex","moveToLineGroupIndex","moveWithinXAxis","nextPointGroupIndex","onBarGroupFocus","onLineFocus","makeScaledSeries","allSeries","scaleX","scaleY","allX","addDataXSet","allDataX","getAllX","mergeLineSeriesPointsWithXThresholds","scaledPoints","xThresholdSeries","xThresholdSeriesColor","bisectIndex","averageY","scaledSeriesX","s1","s2","otherSeries","arrays","merged","array","flatten","INLINE_START_LABELS_MARGIN","BLOCK_END_LABELS_OFFSET","fallbackContainerWidth","ChartContainer","explicitPlotHeight","setHighlightedPoint","setHighlightedGroupIndex","detailPopoverFooter","yTickFormatter","xTitle","yTitle","verticalMarkerRef","inlineStartLabelsWidth","setInlineStartLabelsWidth","setVerticalMarkerX","detailsPopoverText","setDetailsPopoverText","containerWidth","containerMeasureRef","maxInlineStartLabelsWidth","containerRefObject","computeDomainX","yDomain","_series","positiveData","negativeData","stackedDatum","func","find","computeDomainY","linesOnly","getXAxisProps","tickCount","xAxisAriaRoleDescription","getYAxisProps","createYTicks","yAxisAriaRoleDescription","bottomAxisProps","blockEndLabelsProps","useBLockEndLabels","plotMeasureRef","leftAxisProps","xAxisProps","yAxisProps","highlightedPointRef","makeScaledBarGroups","isPopoverOpen","showPopover","dismissPopover","setState","usePopover","setHandlersDisabled","timeoutId","setTimeout","clearTimeout","clearAllHighlights","handlers","highlightedX","blurTarget","Element","onSVGKeyDown","verticalLineX","verticalMarkers","highlightedElementRef","seriesToShow","detailPopoverFooterContent","activeAriaLabel","activeLiveRegion","isLineXKeyboardFocused","AxisLabel","LabelsMeasure","ChartPlot","chartAriaRoleDescription","strokeWidth","pointerEvents","InlineStartLabels","VerticalGridLines","EmphasizedBaseline","VerticalMarker","HighlightedPoint","BlockEndLabels","MixedChartPopover","outsideClick","detailPopoverDismissAriaLabel","InternalChartLegend","legendItems","ChartLegend","controlledHighlightedSeries","controlledVisibleSeries","externalSeries","onFilterChange","controlledOnHighlightChange","gotBarSeries","gotLineSeries","setHighlightedSeries","useControllable","controlledProp","changeHandler","legendSeries","setLegendSeries","externalVisibleSeries","setExternalVisibleSeries","previousSeries","hasPrevious","hasCurrent","showFilters","showLegend","filterItems","legendAriaLabel","defaultAriaLabels","nextPageLabel","paginationLabel","previousPageLabel","pageLabel","pageNumber","PageButton","pageIndex","isCurrent","copyAnalyticsMetadataAttribute","button","PageNumber","InternalPagination","openEnd","currentPageIndex","ariaLabels","pagesCount","onNextPageClick","onPreviousPageClick","leftDots","leftIndex","rightIndex","rightDots","totalPagesCount","isOpenEnd","leftDelta","numberOfControls","rightDelta","upperLimit","getPaginationState","pageNumberLabelFn","handlePageClick","requestedPageIndex","previousButtonDisabled","nextButtonDisabled","requestedPageAvailable","dots","Pagination","atan2","cos","sin","epsilon","pi","PI","halfPi","tau","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","cornerTangents","y0","rc","cw","x01","y01","ox","oy","x11","y11","x10","y10","x00","y00","dx","dy","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","arc","a0","a1","da","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","x3","y3","x32","y32","intersect","ax","ay","bx","by","kc","acos","lc","centroid","rightSide","containerBoundaries","actualRef","virtualRef","groupRect","visibleWidth","minLabelLineAngularPadding","dimensionsBySize","small","innerLabelPadding","paddingLabels","medium","large","refreshDimensionsBySize","getDimensionsBySize","hasLabels","visualRefresh","dimensions","sizeSpec","getPixelSize","matchedSize","radiiRatio","balanceLabelNodes","nodes","markers","leftSide","previousBBox","box","parseFloat","computeXOffset","lineNode","parentNode","endY","endX","squareDistance","edge","upperEdge","lowerEdge","closestEdge","LabelElement","hideTitles","hideDescriptions","label__description","pieData","highlightedSegment","segmentDescription","visibleDataSum","elementRect","useElementBoundaries","shouldOptimizeLabels","arcMarkerStart","arcMarkerBreak","labelDatum","smartAngle","paddedStartAngle","paddedEndAngle","computeSmartAngle","lineExtension","startX","startY","breakX","breakY","textX","textY","labelNodes","segment","Segments","focusedSegmentRef","popoverTrackRef","segmentAriaRoleDescription","onTouchStart","arcFactory","highlightedArcFactory","centroidLeft","centroidTop","arcPath","highlightedPath","segment__path","segment__highlight","explicitHeight","innerMetricValue","innerMetricDescription","detailPopoverContent","legendSegment","dataSum","pinnedSegment","setPinnedSegment","hasInnerContent","innerMetricId","setPopoverOpen","popoverData","setPopoverData","highlightedSegmentIndex","detailFunction","defaultDetails","detailsValue","detailsPercentage","popoverContentRef","popoverContent","SeriesDetails","popoverDismissedRecently","escapePressed","duringTouch","highlightSegment","internalDatum","clearHighlightedSegment","checkMouseLeave","MAX","_event","matched","Labels","tagOverride","PieChart","controlledHighlightedSegment","visibleSegments","controlledVisibleSegments","setHighlightedSegment","setLegendSegment","setVisibleSegments","filterChange","sum","pieFactory","sortValues","pie","arcs","hasNoData","defaultDimensions","InternalPieChart","Legend","ButtonContext","Provider","CollectionLabelContext","assignId","FormFieldContext","InfoLinkLabelContext","LinkDefaultVariantContext","linkDefaultValue","SingleTabStopNavigationContext","singleTabStopDefaultValue","triggerType","triggerAriaLabel","wrapTriggerText","renderWithPortal","__onOpen","clickFrameId","setVisible","focusTrigger","onTriggerClick","onTriggerKeyDown","isEscapeKey","isTabKey","tab","ownerDocument","popoverClasses","usePortalModeClasses","triggerTabIndex","useSingleTabStopNavigation","referrerId","Arrow","zIndex","defaultVariant","ResetContextsForModal","Portal","Popover","externalProps","getExternalProps","InternalPopover","tauEpsilon","Path","_x0","_y0","_x1","_y1","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","required","TypeError","dirtyNumber","dayOfMonth","endOfDesiredMonth","argument","argStr","console","warn","stack"],"sourceRoot":""}