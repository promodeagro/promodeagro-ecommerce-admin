{"version":3,"file":"static/js/30.cbed113c.chunk.js","mappings":"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","sources":["../node_modules/@cloudscape-design/components/bar-chart/styles.css.js","../node_modules/src/bar-chart/index.tsx","../node_modules/@cloudscape-design/components/multiselect/styles.css.js","../node_modules/src/multiselect/internal.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-filter/styles.css.js","../node_modules/src/internal/components/chart-filter/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-legend/styles.css.js","../node_modules/src/internal/components/chart-legend/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-plot/styles.css.js","../node_modules/src/internal/components/chart-plot/application-controller.tsx","../node_modules/src/internal/components/chart-plot/focus-outline.tsx","../node_modules/src/internal/components/chart-plot/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover-footer/styles.css.js","../node_modules/src/internal/components/chart-popover-footer/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover/styles.css.js","../node_modules/src/internal/components/chart-popover/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-series-details/styles.css.js","../node_modules/src/internal/components/chart-series-details/index.tsx","../node_modules/src/internal/components/chart-series-details/series-details-text.ts","../node_modules/@cloudscape-design/components/internal/components/chart-series-marker/styles.css.js","../node_modules/src/internal/components/chart-series-marker/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-status-container/styles.css.js","../node_modules/src/internal/components/chart-status-container/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-wrapper/styles.css.js","../node_modules/src/internal/components/chart-wrapper/index.tsx","../node_modules/src/internal/components/responsive-text/responsive-text-utils.ts","../node_modules/src/internal/components/responsive-text/index.tsx","../node_modules/src/internal/hooks/container-queries/use-height-measure.ts","../node_modules/src/internal/utils/circle-index.ts","../node_modules/src/internal/styles/colors.ts","../node_modules/src/internal/utils/create-category-color-scale.ts","../node_modules/src/internal/utils/use-container-width.ts","../node_modules/@cloudscape-design/components/internal/components/cartesian-chart/styles.css.js","../node_modules/src/internal/components/cartesian-chart/axis-label.tsx","../node_modules/src/internal/components/cartesian-chart/constants.ts","../node_modules/src/internal/components/cartesian-chart/label-utils.ts","../node_modules/src/internal/components/cartesian-chart/block-end-labels.tsx","../node_modules/src/internal/components/cartesian-chart/chart-container.tsx","../node_modules/src/internal/components/cartesian-chart/emphasized-baseline.tsx","../node_modules/src/internal/components/cartesian-chart/highlighted-point.tsx","../node_modules/src/internal/components/cartesian-chart/inline-start-labels.tsx","../node_modules/src/internal/components/cartesian-chart/labels-measure.tsx","../node_modules/@cloudscape-design/components/internal/vendor/d3-scale.js","../node_modules/src/internal/components/cartesian-chart/scales.ts","../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/esm/differenceInCalendarDays/index.js","../node_modules/date-fns/esm/differenceInDays/index.js","../node_modules/date-fns/esm/add/index.js","../node_modules/src/internal/components/cartesian-chart/ticks.ts","../node_modules/src/internal/components/cartesian-chart/vertical-grid-lines.tsx","../node_modules/src/internal/components/cartesian-chart/vertical-marker.tsx","../node_modules/@cloudscape-design/components/mixed-line-bar-chart/styles.css.js","../node_modules/src/mixed-line-bar-chart/bar-groups.tsx","../node_modules/src/mixed-line-bar-chart/chart-popover.tsx","../node_modules/src/mixed-line-bar-chart/create-one-side-rounded-rect-path.ts","../node_modules/src/mixed-line-bar-chart/utils.ts","../node_modules/src/mixed-line-bar-chart/bar-series.tsx","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/src/mixed-line-bar-chart/line-series.tsx","../node_modules/d3-shape/src/line.js","../node_modules/src/mixed-line-bar-chart/data-series.tsx","../node_modules/src/mixed-line-bar-chart/format-highlighted.ts","../node_modules/src/mixed-line-bar-chart/hooks/use-mouse-hover.ts","../node_modules/src/mixed-line-bar-chart/hooks/use-navigation.ts","../node_modules/src/mixed-line-bar-chart/make-scaled-series.ts","../node_modules/src/mixed-line-bar-chart/chart-container.tsx","../node_modules/src/mixed-line-bar-chart/domain.ts","../node_modules/src/mixed-line-bar-chart/make-scaled-bar-groups.ts","../node_modules/src/mixed-line-bar-chart/hooks/use-popover.ts","../node_modules/src/mixed-line-bar-chart/chart-legend.tsx","../node_modules/src/mixed-line-bar-chart/internal.tsx","../node_modules/@cloudscape-design/components/internal/components/token-list/styles.css.js","../node_modules/src/internal/components/token-list/token-focus-controller.tsx","../node_modules/src/internal/components/token-list/token-limit-toggle.tsx","../node_modules/src/internal/components/token-list/index.tsx","../node_modules/@cloudscape-design/components/token-group/styles.css.js","../node_modules/src/token-group/dismiss-button.tsx","../node_modules/src/token-group/token.tsx","../node_modules/src/token-group/internal.tsx","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../node_modules/date-fns/esm/_lib/toInteger/index.js","../node_modules/date-fns/esm/addDays/index.js","../node_modules/date-fns/esm/addMonths/index.js","../node_modules/date-fns/esm/startOfDay/index.js","../node_modules/date-fns/esm/toDate/index.js"],"sourcesContent":["\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1gfe1_7b6p8_9\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport InternalMixedLineBarChart from '../mixed-line-bar-chart/internal';\nimport { BarChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { BarChartProps };\n\nfunction BarChart<T extends number | string | Date>({\n  series = [],\n  height = 500,\n  xScaleType = 'categorical',\n  yScaleType = 'linear',\n  stackedBars = false,\n  horizontalBars = false,\n  detailPopoverSize = 'medium',\n  statusType = 'finished',\n  emphasizeBaselineAxis = true,\n  detailPopoverSeriesContent,\n  ...props\n}: BarChartProps<T>) {\n  const baseComponentProps = useBaseComponent('BarChart', {\n    props: {\n      detailPopoverSize,\n      emphasizeBaselineAxis,\n      fitHeight: props.fitHeight,\n      hideFilter: props.hideFilter,\n      hideLegend: props.hideLegend,\n      horizontalBars,\n      stackedBars,\n      xScaleType,\n      yScaleType,\n    },\n  });\n  const baseProps = getBaseProps(props);\n  const className = clsx(baseProps.className, styles.root);\n\n  return (\n    <InternalMixedLineBarChart\n      {...props}\n      {...baseComponentProps}\n      className={className}\n      height={height}\n      xScaleType={xScaleType}\n      yScaleType={yScaleType}\n      stackedBars={stackedBars}\n      horizontalBars={horizontalBars}\n      series={series}\n      detailPopoverSize={detailPopoverSize}\n      statusType={statusType}\n      emphasizeBaselineAxis={emphasizeBaselineAxis}\n      detailPopoverSeriesContent={detailPopoverSeriesContent}\n    />\n  );\n}\n\napplyDisplayName(BarChart, 'BarChart');\n\nexport default BarChart;\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_f8g6q_1i4ll_97\",\n  \"tokens\": \"awsui_tokens_f8g6q_1i4ll_132\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { getBaseProps } from '../internal/base-component';\nimport Dropdown from '../internal/components/dropdown';\nimport DropdownFooter from '../internal/components/dropdown-footer/index.js';\nimport { useDropdownStatus } from '../internal/components/dropdown-status';\nimport { OptionDefinition, OptionGroup } from '../internal/components/option/interfaces';\nimport { isGroup } from '../internal/components/option/utils/filter-options';\nimport { prepareOptions } from '../internal/components/option/utils/prepare-options';\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { joinStrings } from '../internal/utils/strings';\nimport Filter from '../select/parts/filter';\nimport PlainList, { SelectListProps } from '../select/parts/plain-list';\nimport Trigger from '../select/parts/trigger';\nimport VirtualList from '../select/parts/virtual-list';\nimport { checkOptionValueField } from '../select/utils/check-option-value-field.js';\nimport { findOptionIndex } from '../select/utils/connect-options';\nimport { useAnnouncement } from '../select/utils/use-announcement';\nimport { useLoadItems } from '../select/utils/use-load-items';\nimport { useNativeSearch } from '../select/utils/use-native-search';\nimport { MenuProps, useSelect } from '../select/utils/use-select';\nimport { TokenGroupProps } from '../token-group/interfaces';\nimport InternalTokenGroup from '../token-group/internal';\nimport { MultiselectProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\ntype InternalMultiselectProps = MultiselectProps & InternalBaseComponentProps & { inlineTokens?: boolean };\n\nconst InternalMultiselect = React.forwardRef(\n  (\n    {\n      options = [],\n      filteringType = 'none',\n      filteringPlaceholder,\n      filteringAriaLabel,\n      filteringClearAriaLabel,\n      filteringResultsText,\n      ariaRequired,\n      placeholder,\n      disabled,\n      readOnly,\n      ariaLabel,\n      statusType = 'finished',\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      noMatch,\n      renderHighlightedAriaLive,\n      selectedOptions = [],\n      deselectAriaLabel,\n      keepOpen = true,\n      tokenLimit,\n      i18nStrings,\n      onBlur,\n      onFocus,\n      onLoadItems,\n      onChange,\n      virtualScroll,\n      inlineTokens = false,\n      hideTokens = false,\n      expandToViewport,\n      tokenLimitShowFewerAriaLabel,\n      tokenLimitShowMoreAriaLabel,\n      __internalRootRef = null,\n      autoFocus,\n      ...restProps\n    }: InternalMultiselectProps,\n    externalRef: React.Ref<MultiselectProps.Ref>\n  ) => {\n    checkOptionValueField('Multiselect', 'options', options);\n\n    const baseProps = getBaseProps(restProps);\n    const formFieldContext = useFormFieldContext(restProps);\n    const i18n = useInternalI18n('multiselect');\n\n    const i18nCommon = useInternalI18n('select');\n    const recoveryText = i18nCommon('recoveryText', restProps.recoveryText);\n    const errorIconAriaLabel = i18nCommon('errorIconAriaLabel', restProps.errorIconAriaLabel);\n    const selectedAriaLabel = i18nCommon('selectedAriaLabel', restProps.selectedAriaLabel);\n\n    if (restProps.recoveryText && !onLoadItems) {\n      warnOnce('Multiselect', '`onLoadItems` must be provided for `recoveryText` to be displayed.');\n    }\n\n    const { handleLoadMore, handleRecoveryClick, fireLoadItems } = useLoadItems({\n      onLoadItems,\n      options,\n      statusType,\n    });\n    const useInteractiveGroups = true;\n    const [filteringValue, setFilteringValue] = useState('');\n    const { filteredOptions, parentMap, totalCount, matchesCount } = prepareOptions(\n      options,\n      filteringType,\n      filteringValue\n    );\n\n    const updateSelectedOption = useCallback(\n      (option: OptionDefinition | OptionGroup) => {\n        const filtered = filteredOptions.filter(item => item.type !== 'parent').map(item => item.option);\n\n        // switch between selection and deselection behavior, ignores disabled options to prevent\n        // getting stuck on one behavior when an option is disabled and its state cannot be changed\n        const isAllChildrenSelected = (optionsArray: OptionDefinition[]) =>\n          optionsArray.every(item => findOptionIndex(selectedOptions, item) > -1 || item.disabled);\n        const intersection = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) > -1 && !item.disabled);\n        const union = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) === -1).concat(options);\n        const select = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return union(selectedOptions, options);\n        };\n        const unselect = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return selectedOptions.filter(option => findOptionIndex(options, option) === -1);\n        };\n        let newSelectedOptions = [...selectedOptions];\n\n        if (isGroup(option)) {\n          const visibleOptions = intersection([...option.options], filtered);\n          newSelectedOptions = isAllChildrenSelected(visibleOptions)\n            ? unselect(visibleOptions, newSelectedOptions)\n            : select(visibleOptions, newSelectedOptions);\n        } else {\n          newSelectedOptions = isAllChildrenSelected([option])\n            ? unselect([option], newSelectedOptions)\n            : select([option], newSelectedOptions);\n        }\n\n        fireNonCancelableEvent(onChange, {\n          selectedOptions: newSelectedOptions,\n        });\n      },\n      [onChange, selectedOptions, filteredOptions]\n    );\n\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const selfControlId = useUniqueId('trigger');\n    const controlId = formFieldContext.controlId ?? selfControlId;\n\n    const multiSelectAriaLabelId = useUniqueId('multiselect-arialabel-');\n\n    const footerId = useUniqueId('footer');\n\n    const scrollToIndex = useRef<SelectListProps.SelectListRef>(null);\n    const {\n      isOpen,\n      highlightType,\n      highlightedOption,\n      highlightedIndex,\n      getTriggerProps,\n      getDropdownProps,\n      getFilterProps,\n      getMenuProps,\n      getOptionProps,\n      highlightOption,\n      announceSelected,\n    } = useSelect({\n      selectedOptions,\n      updateSelectedOption,\n      options: filteredOptions,\n      filteringType,\n      onFocus,\n      onBlur,\n      externalRef,\n      keepOpen,\n      fireLoadItems,\n      setFilteringValue,\n      useInteractiveGroups,\n      statusType,\n    });\n\n    const handleNativeSearch = useNativeSearch({\n      isEnabled: filteringType === 'none' && isOpen,\n      options: filteredOptions,\n      highlightOption: highlightOption,\n      highlightedOption: highlightedOption?.option,\n      useInteractiveGroups,\n    });\n\n    const isEmpty = !options || options.length === 0;\n    const isNoMatch = filteredOptions && filteredOptions.length === 0;\n    const isFiltered =\n      filteringType !== 'none' && filteringValue.length > 0 && filteredOptions && filteredOptions.length > 0;\n    const filteredText = isFiltered ? filteringResultsText?.(matchesCount, totalCount) : undefined;\n    const dropdownStatus = useDropdownStatus({\n      statusType,\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      recoveryText,\n      isEmpty,\n      isNoMatch,\n      noMatch,\n      isFiltered,\n      filteringResultsText: filteredText,\n      onRecoveryClick: handleRecoveryClick,\n      errorIconAriaLabel: errorIconAriaLabel,\n      hasRecoveryCallback: !!onLoadItems,\n    });\n\n    const filter = (\n      <Filter\n        clearAriaLabel={filteringClearAriaLabel}\n        filteringType={filteringType}\n        placeholder={filteringPlaceholder}\n        ariaLabel={filteringAriaLabel}\n        ariaRequired={ariaRequired}\n        value={filteringValue}\n        {...getFilterProps()}\n      />\n    );\n\n    const trigger = (\n      <Trigger\n        placeholder={placeholder}\n        disabled={disabled}\n        readOnly={readOnly}\n        triggerProps={getTriggerProps(disabled, autoFocus)}\n        selectedOption={null}\n        selectedOptions={selectedOptions}\n        triggerVariant={inlineTokens ? 'tokens' : 'placeholder'}\n        isOpen={isOpen}\n        {...formFieldContext}\n        controlId={controlId}\n        ariaLabelledby={joinStrings(formFieldContext.ariaLabelledby, multiSelectAriaLabelId)}\n      />\n    );\n\n    const menuProps: MenuProps = {\n      ...getMenuProps(),\n      onLoadMore: handleLoadMore,\n      ariaLabelledby: joinStrings(multiSelectAriaLabelId, controlId),\n      ariaDescribedby: dropdownStatus.content ? footerId : undefined,\n    };\n\n    const announcement = useAnnouncement({\n      announceSelected,\n      highlightedOption,\n      getParent: option => parentMap.get(option)?.option as undefined | OptionGroup,\n      selectedAriaLabel,\n      renderHighlightedAriaLive,\n    });\n\n    const tokens: TokenGroupProps['items'] = selectedOptions.map(option => ({\n      label: option.label,\n      disabled: disabled || option.disabled,\n      labelTag: option.labelTag,\n      description: option.description,\n      iconAlt: option.iconAlt,\n      iconName: option.iconName,\n      iconUrl: option.iconUrl,\n      iconSvg: option.iconSvg,\n      tags: option.tags,\n      dismissLabel: i18n('deselectAriaLabel', deselectAriaLabel?.(option), format =>\n        format({ option__label: option.label ?? '' })\n      ),\n    }));\n\n    useEffect(() => {\n      scrollToIndex.current?.(highlightedIndex);\n    }, [highlightedIndex]);\n\n    const ListComponent = virtualScroll ? VirtualList : PlainList;\n\n    const handleMouseDown = (event: React.MouseEvent) => {\n      const target = event.target as HTMLElement;\n\n      if (target !== document.activeElement) {\n        // prevent currently focused element from losing it\n        event.preventDefault();\n      }\n    };\n\n    const showTokens = !hideTokens && !inlineTokens && tokens.length > 0;\n    const handleTokenDismiss: TokenGroupProps['onDismiss'] = ({ detail }) => {\n      const optionToDeselect = selectedOptions[detail.itemIndex];\n      updateSelectedOption(optionToDeselect);\n      const targetRef = getTriggerProps().ref;\n      if (targetRef.current) {\n        targetRef.current.focus();\n      }\n    };\n\n    const tokenGroupI18nStrings: TokenGroupProps.I18nStrings = {\n      limitShowFewer: i18nStrings?.tokenLimitShowFewer,\n      limitShowMore: i18nStrings?.tokenLimitShowMore,\n    };\n\n    const mergedRef = useMergeRefs(rootRef, __internalRootRef);\n\n    const dropdownProps = getDropdownProps();\n\n    return (\n      <div\n        {...baseProps}\n        ref={mergedRef}\n        className={clsx(styles.root, baseProps.className)}\n        onKeyPress={handleNativeSearch}\n      >\n        <Dropdown\n          {...dropdownProps}\n          ariaLabelledby={\n            dropdownProps.dropdownContentRole ? joinStrings(multiSelectAriaLabelId, controlId) : undefined\n          }\n          ariaDescribedby={\n            dropdownProps.dropdownContentRole ? (dropdownStatus.content ? footerId : undefined) : undefined\n          }\n          open={isOpen}\n          trigger={trigger}\n          header={filter}\n          onMouseDown={handleMouseDown}\n          footer={\n            dropdownStatus.isSticky ? (\n              <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n            ) : null\n          }\n          expandToViewport={expandToViewport}\n          stretchBeyondTriggerWidth={true}\n        >\n          <ListComponent\n            listBottom={\n              !dropdownStatus.isSticky ? (\n                <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n              ) : null\n            }\n            menuProps={menuProps}\n            getOptionProps={getOptionProps}\n            filteredOptions={filteredOptions}\n            filteringValue={filteringValue}\n            ref={scrollToIndex}\n            hasDropdownStatus={dropdownStatus.content !== null}\n            checkboxes={true}\n            useInteractiveGroups={useInteractiveGroups}\n            screenReaderContent={announcement}\n            highlightType={highlightType}\n          />\n        </Dropdown>\n        {showTokens && (\n          <InternalTokenGroup\n            className={styles.tokens}\n            alignment=\"horizontal\"\n            limit={tokenLimit}\n            items={tokens}\n            onDismiss={handleTokenDismiss}\n            i18nStrings={tokenGroupI18nStrings}\n            limitShowMoreAriaLabel={tokenLimitShowMoreAriaLabel}\n            limitShowFewerAriaLabel={tokenLimitShowFewerAriaLabel}\n            disableOuterPadding={true}\n            readOnly={readOnly}\n          />\n        )}\n        <ScreenreaderOnly id={multiSelectAriaLabelId}>{ariaLabel}</ScreenreaderOnly>\n      </div>\n    );\n  }\n);\n\nexport default InternalMultiselect;\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1px7g_4rwm1_97\",\n  \"chart-filter\": \"awsui_chart-filter_1px7g_4rwm1_132\",\n  \"custom-icon-wrapper\": \"awsui_custom-icon-wrapper_1px7g_4rwm1_136\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useCallback } from 'react';\nimport clsx from 'clsx';\n\nimport InternalFormField from '../../../form-field/internal';\nimport { useInternalI18n } from '../../../i18n/context';\nimport { MultiselectProps } from '../../../multiselect/interfaces';\nimport InternalMultiselect from '../../../multiselect/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { NonCancelableEventHandler } from '../../events';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\n\nimport styles from './styles.css.js';\n\ninterface I18nStrings {\n  filterLabel?: string;\n  filterPlaceholder?: string;\n  filterSelectedAriaLabel?: string;\n}\n\nexport interface ChartFilterItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartFilterProps<T> extends BaseComponentProps {\n  series: ReadonlyArray<ChartFilterItem<T>>;\n  selectedSeries?: ReadonlyArray<T>;\n  onChange: (selectedSeries: ReadonlyArray<T>) => void;\n  i18nStrings?: I18nStrings;\n}\n\nexport default memo(ChartFilter) as typeof ChartFilter;\n\nfunction ChartFilter<T>({ series, i18nStrings, selectedSeries, onChange, ...restProps }: ChartFilterProps<T>) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const i18n = useInternalI18n('[charts]');\n\n  const defaultOptions = series.map((d, i) => ({\n    label: d.label,\n    value: '' + i,\n    datum: d.datum,\n    __customIcon: (\n      <span className={styles['custom-icon-wrapper']}>\n        <SeriesMarker color={d.color} type={d.type} />\n      </span>\n    ),\n  }));\n\n  const selectedOptions = defaultOptions.filter(option => selectedSeries?.indexOf(option.datum) !== -1);\n\n  const updateSelection = useCallback<NonCancelableEventHandler<MultiselectProps.MultiselectChangeDetail>>(\n    ({ detail: { selectedOptions } }) => {\n      const selectedSeries = defaultOptions\n        .filter(option => selectedOptions.indexOf(option) !== -1)\n        .map(option => option.datum);\n      onChange(selectedSeries);\n    },\n    [onChange, defaultOptions]\n  );\n\n  return (\n    <InternalFormField\n      {...baseProps}\n      label={i18n('i18nStrings.filterLabel', i18nStrings?.filterLabel)}\n      className={className}\n    >\n      <InternalMultiselect\n        placeholder={i18n('i18nStrings.filterPlaceholder', i18nStrings?.filterPlaceholder)}\n        options={defaultOptions}\n        selectedOptions={selectedOptions}\n        onChange={updateSelection}\n        className={styles['chart-filter']}\n        selectedAriaLabel={i18nStrings?.filterSelectedAriaLabel}\n        hideTokens={true}\n      />\n    </InternalFormField>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1kjc7_xlzpw_97\",\n  \"root\": \"awsui_root_1kjc7_xlzpw_115\",\n  \"title\": \"awsui_title_1kjc7_xlzpw_153\",\n  \"list\": \"awsui_list_1kjc7_xlzpw_157\",\n  \"marker--dimmed\": \"awsui_marker--dimmed_1kjc7_xlzpw_206\",\n  \"marker--highlighted\": \"awsui_marker--highlighted_1kjc7_xlzpw_209\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal';\nimport { useInternalI18n } from '../../../i18n/context';\nimport { KeyCode } from '../../keycode';\nimport handleKey from '../../utils/handle-key';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\n\nimport styles from './styles.css.js';\n\nexport interface ChartLegendItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartLegendProps<T> {\n  series: ReadonlyArray<ChartLegendItem<T>>;\n  highlightedSeries: T | null;\n  legendTitle?: string;\n  ariaLabel?: string;\n  plotContainerRef?: React.RefObject<HTMLDivElement>;\n  onHighlightChange: (series: T | null) => void;\n}\n\nexport default memo(ChartLegend) as typeof ChartLegend;\n\nfunction ChartLegend<T>({\n  series,\n  onHighlightChange,\n  highlightedSeries,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: ChartLegendProps<T>) {\n  const i18n = useInternalI18n('[charts]');\n  const containerRef = useRef<HTMLDivElement>(null);\n  const segmentsRef = useRef<Record<number, HTMLElement>>([]);\n\n  const highlightedSeriesIndex = findSeriesIndex(series, highlightedSeries);\n\n  const highlightInlineStart = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : series.length - 1;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const highlightInlineEnd = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex + 1 < series.length ? currentIndex + 1 : 0;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLElement>) => {\n    if (event.keyCode === KeyCode.right || event.keyCode === KeyCode.left) {\n      // Preventing default fixes an issue in Safari+VO when VO additionally interprets arrow keys as its commands.\n      event.preventDefault();\n\n      handleKey(event, {\n        onInlineStart: () => highlightInlineStart(),\n        onInlineEnd: () => highlightInlineEnd(),\n      });\n    }\n  };\n\n  const handleSelection = (index: number) => {\n    if (series[index].datum !== highlightedSeries) {\n      onHighlightChange(series[index].datum);\n    }\n  };\n\n  const handleBlur = (event: React.FocusEvent<Element>) => {\n    // We need to check if the next element to be focused inside the plot container or not\n    // so we don't clear the selected legend in case we are still focusing elements ( legend elements )\n    // inside the plot container\n    if (\n      event.relatedTarget === null ||\n      (containerRef.current &&\n        !containerRef.current.contains(event.relatedTarget) &&\n        !plotContainerRef?.current?.contains(event.relatedTarget))\n    ) {\n      onHighlightChange(null);\n    }\n  };\n\n  const handleMouseOver = (s: T) => {\n    if (s !== highlightedSeries) {\n      onHighlightChange(s);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    onHighlightChange(null);\n  };\n\n  return (\n    <>\n      <div\n        ref={containerRef}\n        role=\"toolbar\"\n        aria-label={legendTitle || i18n('i18nStrings.legendAriaLabel', ariaLabel)}\n        className={styles.root}\n        onKeyDown={handleKeyPress}\n        onBlur={handleBlur}\n      >\n        {legendTitle && (\n          <InternalBox fontWeight=\"bold\" className={styles.title}>\n            {legendTitle}\n          </InternalBox>\n        )}\n\n        <div className={styles.list}>\n          {series.map((s, index) => {\n            const someHighlighted = highlightedSeries !== null;\n            const isHighlighted = highlightedSeries === s.datum;\n            const isDimmed = someHighlighted && !isHighlighted;\n            return (\n              <div\n                role=\"button\"\n                key={index}\n                aria-pressed={isHighlighted}\n                className={clsx(styles.marker, {\n                  [styles['marker--dimmed']]: isDimmed,\n                  [styles['marker--highlighted']]: isHighlighted,\n                })}\n                ref={elem => {\n                  if (elem) {\n                    segmentsRef.current[index] = elem;\n                  } else {\n                    delete segmentsRef.current[index];\n                  }\n                }}\n                tabIndex={\n                  index === highlightedSeriesIndex || (highlightedSeriesIndex === undefined && index === 0) ? 0 : -1\n                }\n                onFocus={() => handleSelection(index)}\n                onClick={() => handleSelection(index)}\n                onMouseOver={() => handleMouseOver(s.datum)}\n                onMouseLeave={handleMouseLeave}\n              >\n                <SeriesMarker color={s.color} type={s.type} /> {s.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction findSeriesIndex<T>(series: ReadonlyArray<ChartLegendItem<T>>, targetSeries: null | T): undefined | number {\n  for (let index = 0; index < series.length; index++) {\n    if (series[index].datum === targetSeries) {\n      return index;\n    }\n  }\n  return undefined;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1fcus_1ncqp_97\",\n  \"clickable\": \"awsui_clickable_1fcus_1ncqp_106\",\n  \"precise\": \"awsui_precise_1fcus_1ncqp_110\",\n  \"focus-outline\": \"awsui_focus-outline_1fcus_1ncqp_114\",\n  \"application\": \"awsui_application_1fcus_1ncqp_123\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\n\nimport styles from './styles.css.js';\n\nexport interface ApplicationRef {\n  focus(): void;\n}\n\nexport interface ApplicationControllerProps {\n  activeElementKey: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  onFocus?: (event: React.FocusEvent<SVGGElement>) => void;\n  onBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n}\n\nexport default forwardRef(ApplicationController);\n\nfunction ApplicationController(\n  { activeElementKey, activeElementRef, onFocus, onBlur, onKeyDown }: ApplicationControllerProps,\n  ref: React.Ref<ApplicationRef>\n) {\n  const containerRef = useRef<SVGGElement>(null);\n  const applicationRef = useRef<SVGGElement>(null);\n  const focusTransitionRef = useRef(false);\n  const [isFocused, setFocused] = useState(false);\n\n  // Calls provided onFocus handler when the application obtains focus, ignoring internal focus juggling.\n  const onApplicationFocus = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(true);\n        onFocus && onFocus(event);\n      } else {\n        focusTransitionRef.current = false;\n      }\n    },\n    [onFocus]\n  );\n  // Calls provided onBlur handler when the application loses focus, ignoring internal focus juggling.\n  const onApplicationBlur = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(false);\n        onBlur && onBlur(event);\n        // The application controller can only be focused programmatically.\n        muteApplication(applicationRef.current!);\n      }\n    },\n    [onBlur]\n  );\n  const onApplicationKeyDown = onKeyDown;\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => focusApplication(applicationRef.current!, activeElementRef?.current || null),\n    }),\n    [activeElementRef]\n  );\n\n  // Re-attaches and re-focuses the application for screen readers to treat it as an update.\n  useEffect(() => {\n    // Skip if not focused or if the transition is already happening.\n    if (!isFocused || focusTransitionRef.current === true) {\n      return;\n    }\n    focusTransitionRef.current = true;\n    containerRef.current!.removeChild(applicationRef.current!);\n    containerRef.current!.appendChild(applicationRef.current!);\n    focusApplication(applicationRef.current!, activeElementRef?.current || null);\n  }, [isFocused, activeElementKey, activeElementRef]);\n\n  return (\n    <g ref={containerRef}>\n      <g\n        tabIndex={-1}\n        ref={applicationRef}\n        onFocus={onApplicationFocus}\n        onBlur={onApplicationBlur}\n        onKeyDown={onApplicationKeyDown}\n        className={styles.application}\n      ></g>\n    </g>\n  );\n}\n\n// Focuses application but before copies aria-attributes from the target.\nfunction focusApplication(app: SVGGElement, target: null | SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Copy new attributes.\n  if (target) {\n    for (const attributeName of target.getAttributeNames()) {\n      if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n        const attributeValue = target.getAttribute(attributeName);\n        attributeValue && app.setAttribute(attributeName, attributeValue);\n      }\n    }\n  }\n\n  // Make app focusable.\n  app.tabIndex = 0;\n  app.setAttribute('focusable', 'true');\n  app.setAttribute('aria-hidden', 'false');\n\n  // Focus app.\n  app.focus({ preventScroll: true });\n}\n\n// The application is to be only focused programmatically.\nfunction muteApplication(app: SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Make app non-focusable.\n  app.tabIndex = -1;\n  app.setAttribute('focusable', 'false');\n  app.setAttribute('aria-hidden', 'true');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { isModifierKey } from '@cloudscape-design/component-toolkit/internal';\n\nimport { Offset } from '../interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface FocusOutlineProps {\n  elementKey?: null | string | number | boolean;\n  elementRef?: React.RefObject<SVGSVGElement | SVGGElement>;\n  offset?: Offset;\n}\n\nfunction useFocusVisibleState() {\n  const [focusVisible, setFocusVisible] = useState(false);\n  useEffect(() => {\n    function handleMousedown() {\n      return setFocusVisible(false);\n    }\n\n    function handleKeydown(event: KeyboardEvent) {\n      // we do not want to highlight focused element\n      // when special keys are pressed\n      if (!isModifierKey(event)) {\n        setFocusVisible(true);\n      }\n    }\n\n    document.addEventListener('mousedown', handleMousedown);\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n      document.removeEventListener('mousedown', handleMousedown);\n      document.removeEventListener('keydown', handleKeydown);\n    };\n  });\n\n  return focusVisible;\n}\n\nexport default function FocusOutline({ elementKey, elementRef, offset = 0 }: FocusOutlineProps) {\n  const ref = useRef<SVGRectElement>(null);\n  const focusVisible = useFocusVisibleState();\n\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    if (focusVisible && elementKey && elementRef && elementRef.current && elementRef.current.getBBox) {\n      const element = elementRef.current.getBBox();\n      showOutline(ref.current, element, offset);\n    } else {\n      hideOutline(ref.current);\n    }\n  }, [focusVisible, elementKey, elementRef, offset]);\n\n  return <rect ref={ref} aria-hidden=\"true\" className={styles['focus-outline']} rx=\"2\" />;\n}\n\nfunction showOutline(\n  el: SVGRectElement,\n  position: { x: number; y: number; width: number; height: number },\n  offset: Offset\n) {\n  const offsetX = typeof offset === 'number' ? offset : offset.x;\n  const offsetY = typeof offset === 'number' ? offset : offset.y;\n  el.setAttribute('x', (position.x - offsetX).toString());\n  el.setAttribute('y', (position.y - offsetY).toString());\n  el.setAttribute('width', (position.width + 2 * offsetX).toString());\n  el.setAttribute('height', (position.height + 2 * offsetY).toString());\n  el.style.visibility = 'visible';\n}\n\nfunction hideOutline(el: SVGRectElement) {\n  el.style.visibility = 'hidden';\n  el.removeAttribute('x');\n  el.removeAttribute('y');\n  el.removeAttribute('width');\n  el.removeAttribute('height');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport { useUniqueId } from '../../hooks/use-unique-id';\nimport { KeyCode } from '../../keycode';\nimport { Offset } from '../interfaces';\nimport LiveRegion from '../live-region/index';\nimport ApplicationController, { ApplicationRef } from './application-controller';\nimport FocusOutline from './focus-outline';\n\nimport styles from './styles.css.js';\n\nconst DEFAULT_PLOT_FOCUS_OFFSET = 3;\nconst DEFAULT_ELEMENT_FOCUS_OFFSET = 3;\n\nexport interface ChartPlotRef {\n  svg: SVGSVGElement;\n  focusPlot(): void;\n  focusApplication(): void;\n}\n\nexport interface ChartPlotProps {\n  width: number | string;\n  height: number | string;\n  transform?: string;\n  offsetTop?: number;\n  offsetBottom?: number;\n  offsetLeft?: number;\n  offsetRight?: number;\n  focusOffset?: number;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescription?: string;\n  ariaDescribedby?: string;\n  ariaRoleDescription?: string;\n  activeElementKey?: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  activeElementFocusOffset?: Offset;\n  ariaLiveRegion?: string;\n  isClickable?: boolean;\n  isPrecise?: boolean;\n  onClick?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseMove?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseOut?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onApplicationFocus?: (event: React.FocusEvent<SVGGElement>, trigger: 'mouse' | 'keyboard') => void;\n  onApplicationBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n  children: React.ReactNode;\n}\n\n/**\n  An extension for the SVG to be used for charts. It includes a controller element to\n  handle the focus and keyboard interactions in a way that is supported by screen readers.\n\n  The application mimics the aria-activedescendant behavior which is unsupported by Safari. The\n  activeElementRef is the pointer to the secondary-focus element and activeElementKey denotes when\n  the focus transition was made.\n\n  Alternatively, ariaLiveRegion can be used to make announcements.\n*/\nexport default forwardRef(ChartPlot);\n\nfunction ChartPlot(\n  {\n    width,\n    height,\n    transform,\n    offsetTop,\n    offsetBottom,\n    offsetLeft,\n    offsetRight,\n    ariaLabel,\n    ariaLabelledby,\n    ariaRoleDescription,\n    ariaDescription,\n    ariaDescribedby,\n    activeElementKey,\n    activeElementRef,\n    ariaLiveRegion,\n    isClickable,\n    isPrecise,\n    children,\n    onClick,\n    onKeyDown,\n    focusOffset = DEFAULT_PLOT_FOCUS_OFFSET,\n    activeElementFocusOffset = DEFAULT_ELEMENT_FOCUS_OFFSET,\n    onMouseMove,\n    onMouseOut,\n    onApplicationBlur,\n    onApplicationFocus,\n  }: ChartPlotProps,\n  ref: React.Ref<ChartPlotRef>\n) {\n  const i18n = useInternalI18n('[charts]');\n  const svgRef = useRef<SVGSVGElement>(null);\n  const applicationRef = useRef<ApplicationRef>(null);\n  const plotClickedRef = useRef(false);\n  const [isPlotFocused, setPlotFocused] = useState(false);\n  const [isApplicationFocused, setApplicationFocused] = useState(false);\n\n  const internalDescriptionId = useUniqueId('awsui-chart-plot__description');\n  const ariaDescriptionId = [ariaDescription && internalDescriptionId, ariaDescribedby].filter(Boolean).join(' ');\n\n  useImperativeHandle(ref, () => ({\n    svg: svgRef.current!,\n    focusPlot: () => svgRef.current!.focus(),\n    focusApplication: () => applicationRef.current!.focus(),\n  }));\n\n  const onPlotMouseDown = () => {\n    // Record the click was made for the application focus handler.\n    plotClickedRef.current = true;\n  };\n  const onPlotFocus = (event: React.FocusEvent<SVGSVGElement>) => {\n    // If focused via click or an element was highlighted,\n    // focus the internal application, which will manage and show focus accordingly on its internal elements.\n    if (plotClickedRef.current || !!activeElementKey) {\n      applicationRef.current!.focus();\n    } else if (event.target === svgRef.current) {\n      // Otherwise, focus the entire plot if it was focused with the keyboard.\n      setPlotFocused(true);\n    }\n  };\n  const onPlotClick = (event: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    onClick && onClick(event);\n  };\n  const onPlotBlur = (event: React.FocusEvent<SVGSVGElement>) => {\n    if (event.target === svgRef.current) {\n      setPlotFocused(false);\n    }\n  };\n  // Once one of the expected keys is pressed the focus is delegated to the application controller.\n  const onPlotKeyDown = (event: React.KeyboardEvent) => {\n    if (isPlotFocused) {\n      // Delegate the focus to the application if one of the expected keys was pressed.\n      const codes = [KeyCode.space, KeyCode.enter, KeyCode.up, KeyCode.left, KeyCode.right, KeyCode.down];\n      if (codes.indexOf(event.keyCode) !== -1) {\n        applicationRef.current!.focus();\n      }\n    }\n  };\n\n  const onPlotApplicationFocus = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationFocus && onApplicationFocus(event, plotClickedRef.current ? 'mouse' : 'keyboard');\n    // \"Release\" the click reference to not affect the next call of this handler.\n    plotClickedRef.current = false;\n    setApplicationFocused(true);\n  };\n  const onPlotApplicationBlur = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationBlur && onApplicationBlur(event);\n    setApplicationFocused(false);\n  };\n  const onApplicationKeyDown = onKeyDown;\n\n  const plotFocusable = !isApplicationFocused;\n  const plotTabIndex = plotFocusable ? 0 : -1;\n  const plotAria = !isApplicationFocused\n    ? {\n        'aria-label': ariaLabel,\n        'aria-labelledby': ariaLabelledby,\n        'aria-describedby': ariaDescriptionId,\n        'aria-roledescription': i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription),\n      }\n    : {};\n\n  return (\n    <>\n      <svg\n        onMouseMove={onMouseMove}\n        onMouseOut={onMouseOut}\n        focusable={plotFocusable}\n        tabIndex={plotTabIndex}\n        role=\"application\"\n        aria-hidden=\"false\"\n        {...plotAria}\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          marginTop: offsetTop,\n          marginBottom: offsetBottom,\n          marginLeft: offsetLeft,\n          marginRight: offsetRight,\n        }}\n        className={clsx(styles.root, {\n          [styles.clickable]: isClickable,\n          [styles.precise]: isPrecise,\n        })}\n        onMouseDown={onPlotMouseDown}\n        onClick={onPlotClick}\n        onFocus={onPlotFocus}\n        onBlur={onPlotBlur}\n        onKeyDown={onPlotKeyDown}\n      >\n        <FocusOutline elementRef={svgRef} elementKey={isPlotFocused} offset={focusOffset} />\n\n        <g transform={transform}>\n          <ApplicationController\n            activeElementKey={(isApplicationFocused && activeElementKey) || null}\n            activeElementRef={activeElementRef}\n            ref={applicationRef}\n            onFocus={onPlotApplicationFocus}\n            onBlur={onPlotApplicationBlur}\n            onKeyDown={onApplicationKeyDown}\n          />\n\n          {/* Only show description when plot is focusable to avoid repetition in Safari and Firefox */}\n          {ariaDescription && plotFocusable && (\n            <desc aria-hidden=\"true\" id={internalDescriptionId}>\n              {ariaDescription}\n            </desc>\n          )}\n\n          {children}\n\n          <FocusOutline\n            elementRef={activeElementRef}\n            elementKey={isApplicationFocused && activeElementKey}\n            offset={activeElementFocusOffset}\n          />\n        </g>\n      </svg>\n\n      <LiveRegion>{ariaLiveRegion}</LiveRegion>\n    </>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t8ew_fiatb_9\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport styles from './styles.css.js';\n\nexport default function ChartPopoverFooter({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t44z_1u1ur_97\",\n  \"hover-area\": \"awsui_hover-area_1t44z_1u1ur_133\",\n  \"popover-body\": \"awsui_popover-body_1t44z_1u1ur_141\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport PopoverBody from '../../../popover/body';\nimport PopoverContainer from '../../../popover/container';\nimport { PopoverProps } from '../../../popover/interfaces';\nimport { getBaseProps } from '../../base-component';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport { nodeBelongs } from '../../utils/node-belongs';\n\nimport popoverStyles from '../../../popover/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface ChartPopoverProps extends PopoverProps {\n  /** Title of the popover */\n  title?: React.ReactNode;\n\n  /** References the element the container is positioned against. */\n  trackRef: React.RefObject<HTMLElement | SVGElement>;\n  /**\n    Used to update the container position in case track or track position changes:\n    \n    const trackRef = useRef<Element>(null)\n    return (<>\n      <Track style={getPosition(selectedItemId)} ref={trackRef} />\n      <PopoverContainer trackRef={trackRef} trackKey={selectedItemId} .../>\n    </>)\n  */\n  trackKey?: string | number;\n\n  /** Optional container element that prevents any clicks in there from dismissing the popover */\n  container: Element | null;\n\n  /** Event that is fired when the popover is dismissed */\n  onDismiss: (outsideClick?: boolean) => void;\n\n  /** Fired when the pointer enters the hoverable area around the popover */\n  onMouseEnter?: (event: React.MouseEvent) => void;\n\n  /** Fired when the pointer leaves the hoverable area around the popover */\n  onMouseLeave?: (event: React.MouseEvent) => void;\n\n  onBlur?: (event: React.FocusEvent) => void;\n\n  /** Popover content */\n  children?: React.ReactNode;\n}\n\nexport default React.forwardRef(ChartPopover);\n\nfunction ChartPopover(\n  {\n    position = 'right',\n    size = 'medium',\n    fixedWidth = false,\n    dismissButton = false,\n    dismissAriaLabel,\n\n    children,\n\n    title,\n    trackRef,\n    trackKey,\n    onDismiss,\n    container,\n\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n\n    ...restProps\n  }: ChartPopoverProps,\n  ref: React.Ref<HTMLElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const popoverObjectRef = useRef<HTMLDivElement | null>(null);\n\n  const popoverRef = useMergeRefs(popoverObjectRef, ref);\n\n  useEffect(() => {\n    const onDocumentClick = (event: MouseEvent) => {\n      if (\n        event.target &&\n        !nodeBelongs(popoverObjectRef.current, event.target as Element) && // click not in popover\n        !nodeContains(container, event.target as Element) // click not in segment\n      ) {\n        onDismiss(true);\n      }\n    };\n\n    document.addEventListener('mousedown', onDocumentClick, { capture: true });\n    return () => {\n      document.removeEventListener('mousedown', onDocumentClick, { capture: true });\n    };\n  }, [container, onDismiss]);\n\n  // In chart popovers, dismiss button is present when they are pinned, so both values are equivalent.\n  const isPinned = dismissButton;\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(popoverStyles.root, styles.root, baseProps.className)}\n      ref={popoverRef}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      onBlur={onBlur}\n      // The tabIndex makes it so that clicking inside popover assigns this element as blur target.\n      // That is necessary in charts to ensure the blur target is within the chart and no cleanup is needed.\n      tabIndex={-1}\n    >\n      <PopoverContainer\n        size={size}\n        fixedWidth={fixedWidth}\n        position={position}\n        trackRef={trackRef}\n        trackKey={trackKey}\n        arrow={position => (\n          <div className={clsx(popoverStyles.arrow, popoverStyles[`arrow-position-${position}`])}>\n            <div className={popoverStyles['arrow-outer']} />\n            <div className={popoverStyles['arrow-inner']} />\n          </div>\n        )}\n        keepPosition={true}\n        allowVerticalOverflow={true}\n        allowScrollToFit={isPinned}\n      >\n        <div className={styles['hover-area']}>\n          <PopoverBody\n            dismissButton={dismissButton}\n            dismissAriaLabel={dismissAriaLabel}\n            header={title}\n            onDismiss={onDismiss}\n            overflowVisible=\"content\"\n            className={styles['popover-body']}\n          >\n            {children}\n          </PopoverBody>\n        </div>\n      </PopoverContainer>\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"dimmed\": \"awsui_dimmed_10ipo_1uqhm_97\",\n  \"marker\": \"awsui_marker_10ipo_1uqhm_148\",\n  \"marker--line\": \"awsui_marker--line_10ipo_1uqhm_191\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_10ipo_1uqhm_195\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_10ipo_1uqhm_202\",\n  \"marker--dashed\": \"awsui_marker--dashed_10ipo_1uqhm_218\",\n  \"root\": \"awsui_root_10ipo_1uqhm_241\",\n  \"value\": \"awsui_value_10ipo_1uqhm_276\",\n  \"expandable\": \"awsui_expandable_10ipo_1uqhm_280\",\n  \"list-item\": \"awsui_list-item_10ipo_1uqhm_284\",\n  \"inner-list-item\": \"awsui_inner-list-item_10ipo_1uqhm_285\",\n  \"key-value-pair\": \"awsui_key-value-pair_10ipo_1uqhm_290\",\n  \"expandable-section\": \"awsui_expandable-section_10ipo_1uqhm_291\",\n  \"key\": \"awsui_key_10ipo_1uqhm_290\",\n  \"sub-items\": \"awsui_sub-items_10ipo_1uqhm_304\",\n  \"list\": \"awsui_list_10ipo_1uqhm_284\",\n  \"compact\": \"awsui_compact_10ipo_1uqhm_330\",\n  \"with-sub-items\": \"awsui_with-sub-items_10ipo_1uqhm_335\",\n  \"full-width\": \"awsui_full-width_10ipo_1uqhm_340\",\n  \"announced\": \"awsui_announced_10ipo_1uqhm_344\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo, ReactNode, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport InternalExpandableSection from '../../../expandable-section/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport ChartSeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport getSeriesDetailsText from './series-details-text';\n\nimport styles from './styles.css.js';\n\ninterface ChartDetailPair {\n  key: ReactNode;\n  value: ReactNode;\n}\n\ninterface ListItemProps {\n  itemKey: ReactNode;\n  value: ReactNode;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n}\n\nexport interface ChartSeriesDetailItem extends ChartDetailPair {\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n  isDimmed?: boolean;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  expandableId?: string;\n}\nexport type ExpandedSeries = Set<string>;\n\nexport interface ChartSeriesDetailsProps extends BaseComponentProps {\n  details: ReadonlyArray<ChartSeriesDetailItem>;\n  expandedSeries?: ExpandedSeries;\n  setPopoverText?: (s: string) => void;\n  setExpandedState?: (seriesTitle: string, state: boolean) => void;\n  compactList?: boolean;\n}\n\nexport default memo(forwardRef(ChartSeriesDetails));\n\nfunction ChartSeriesDetails(\n  { details, expandedSeries, setPopoverText, setExpandedState, compactList, ...restProps }: ChartSeriesDetailsProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const detailsRef = useRef<HTMLDivElement | null>(null);\n  const mergedRef = useMergeRefs(ref, detailsRef);\n\n  // Once the component has rendered, pass its content in plain text\n  // so that it can be used by screen readers.\n  useEffect(() => {\n    if (setPopoverText) {\n      if (detailsRef.current) {\n        setPopoverText(getSeriesDetailsText(detailsRef.current));\n      }\n      return () => {\n        setPopoverText('');\n      };\n    }\n  }, [details, setPopoverText]);\n\n  const isExpanded = (seriesTitle: string) => !!expandedSeries && expandedSeries.has(seriesTitle);\n\n  return (\n    <div {...baseProps} className={className} ref={mergedRef}>\n      <ul className={clsx(styles.list, compactList && styles.compact)}>\n        {details.map(({ key, value, markerType, color, isDimmed, subItems, expandableId }, index) => (\n          <li\n            key={index}\n            className={clsx({\n              [styles.dimmed]: isDimmed,\n              [styles['list-item']]: true,\n              [styles['with-sub-items']]: subItems?.length,\n              [styles.expandable]: !!expandableId,\n            })}\n          >\n            {subItems?.length && !!expandableId ? (\n              <ExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n                expanded={isExpanded(expandableId)}\n                setExpandedState={state => setExpandedState && setExpandedState(expandableId, state)}\n              />\n            ) : (\n              <NonExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n              />\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction SubItems({\n  items,\n  expandable,\n  expanded,\n}: {\n  items: ReadonlyArray<ChartDetailPair>;\n  expandable?: boolean;\n  expanded?: boolean;\n}) {\n  return (\n    <ul className={clsx(styles['sub-items'], expandable && styles.expandable)}>\n      {items.map(({ key, value }, index) => (\n        <li\n          key={index}\n          className={clsx(\n            styles['inner-list-item'],\n            styles['key-value-pair'],\n            (expanded || !expandable) && styles.announced\n          )}\n        >\n          <span className={styles.key}>{key}</span>\n          <span className={styles.value}>{value}</span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nfunction ExpandableSeries({\n  itemKey,\n  value,\n  subItems,\n  markerType,\n  color,\n  expanded,\n  setExpandedState,\n}: ListItemProps &\n  Required<Pick<ListItemProps, 'subItems'>> & {\n    expanded: boolean;\n    setExpandedState: (state: boolean) => void;\n  }) {\n  return (\n    <div className={styles['expandable-section']}>\n      {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n      <div className={styles['full-width']}>\n        <InternalExpandableSection\n          variant=\"compact\"\n          headerText={itemKey}\n          headerActions={<span className={clsx(styles.value, styles.expandable)}>{value}</span>}\n          expanded={expanded}\n          onChange={({ detail }) => setExpandedState(detail.expanded)}\n        >\n          <SubItems items={subItems} expandable={true} expanded={expanded} />\n        </InternalExpandableSection>\n      </div>\n    </div>\n  );\n}\n\nfunction NonExpandableSeries({ itemKey, value, subItems, markerType, color }: ListItemProps) {\n  return (\n    <>\n      <div className={clsx(styles['key-value-pair'], styles.announced)}>\n        <div className={styles.key}>\n          {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n          <span>{itemKey}</span>\n        </div>\n        <span className={styles.value}>{value}</span>\n      </div>\n      {subItems && <SubItems items={subItems} />}\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport expandabeleSectionHeaderStyles from '../../../expandable-section/styles.css.js';\nimport styles from './styles.css.js';\n\nexport default function getSeriesDetailsText(element: HTMLElement) {\n  const elementsWithText = Array.from(\n    element.querySelectorAll(`.${styles.announced},.${expandabeleSectionHeaderStyles.header}`)\n  );\n  return elementsWithText\n    .map(element => {\n      if (element instanceof HTMLElement) {\n        return element.innerText\n          ?.split('\\n')\n          .map(s => s.trim())\n          .join(' ')\n          .trim();\n      }\n    })\n    .filter(Boolean)\n    .join(', ');\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1isd1_1ums7_97\",\n  \"marker--line\": \"awsui_marker--line_1isd1_1ums7_140\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_1isd1_1ums7_144\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_1isd1_1ums7_151\",\n  \"marker--dashed\": \"awsui_marker--dashed_1isd1_1ums7_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { BaseComponentProps } from '../../base-component';\n\nimport styles from './styles.css.js';\n\nexport type ChartSeriesMarkerType = 'line' | 'rectangle' | 'dashed' | 'hollow-rectangle';\n\ninterface ChartSeriesMarkerProps extends BaseComponentProps {\n  type: ChartSeriesMarkerType;\n  color: string;\n}\n\nexport default memo(ChartSeriesMarker);\n\nfunction ChartSeriesMarker({ type = 'line', color }: ChartSeriesMarkerProps) {\n  return (\n    <span\n      className={clsx(styles.marker, styles[`marker--${type}`])}\n      style={{ backgroundColor: color }}\n      aria-hidden=\"true\"\n    ></span>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_11n0s_6tm6j_9\",\n  \"empty\": \"awsui_empty_11n0s_6tm6j_13\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport InternalLink from '../../../link/internal';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { BaseComponentProps } from '../../base-component';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\n\nimport styles from './styles.css.js';\n\ninterface ChartStatusContainerProps extends BaseComponentProps {\n  statusType: 'loading' | 'finished' | 'error';\n\n  empty?: React.ReactNode;\n  noMatch?: React.ReactNode;\n\n  loadingText?: string;\n  errorText?: string;\n  recoveryText?: string;\n\n  onRecoveryClick?: NonCancelableEventHandler;\n\n  // From `getChartStatus`\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  showChart?: boolean;\n}\n\nexport function getChartStatus<T, U>({\n  externalData,\n  visibleData,\n  statusType,\n}: {\n  externalData: ReadonlyArray<T>;\n  visibleData: ReadonlyArray<U>;\n  statusType: 'loading' | 'finished' | 'error';\n}) {\n  const isEmpty = !visibleData || visibleData.length === 0;\n  const isNoMatch = isEmpty && visibleData.length !== externalData.length;\n  const showChart = statusType === 'finished' && !isEmpty;\n  return { isEmpty, isNoMatch, showChart };\n}\n\nexport default function ChartStatusContainer({\n  statusType,\n  errorText,\n  loadingText,\n  recoveryText,\n  noMatch,\n  empty,\n  onRecoveryClick,\n  isNoMatch,\n  isEmpty,\n  showChart,\n}: ChartStatusContainerProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const statusContainer = useMemo(() => {\n    const handleRecoveryClick = (event: CustomEvent) => {\n      event.preventDefault();\n      fireNonCancelableEvent(onRecoveryClick);\n    };\n    if (statusType === 'error') {\n      const renderedRecoveryText = i18n('recoveryText', recoveryText);\n      return (\n        <span>\n          <InternalStatusIndicator type=\"error\">{i18n('errorText', errorText)}</InternalStatusIndicator>{' '}\n          {!!renderedRecoveryText && !!onRecoveryClick && (\n            <InternalLink onFollow={handleRecoveryClick} variant=\"recovery\">\n              {renderedRecoveryText}\n            </InternalLink>\n          )}\n        </span>\n      );\n    }\n\n    if (statusType === 'loading') {\n      return <InternalStatusIndicator type=\"loading\">{i18n('loadingText', loadingText)}</InternalStatusIndicator>;\n    }\n\n    if (isNoMatch) {\n      return <div className={styles.empty}>{noMatch}</div>;\n    }\n\n    if (isEmpty) {\n      return <div className={styles.empty}>{empty}</div>;\n    }\n  }, [i18n, statusType, onRecoveryClick, isEmpty, isNoMatch, recoveryText, loadingText, errorText, empty, noMatch]);\n\n  return (\n    <div className={styles.root} aria-live=\"polite\" aria-atomic=\"true\">\n      {!showChart && statusContainer}\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"wrapper\": \"awsui_wrapper_z5mul_11r0q_97\",\n  \"wrapper--fit-height\": \"awsui_wrapper--fit-height_z5mul_11r0q_133\",\n  \"inner-wrapper--fit-height\": \"awsui_inner-wrapper--fit-height_z5mul_11r0q_138\",\n  \"has-default-filter\": \"awsui_has-default-filter_z5mul_11r0q_144\",\n  \"content\": \"awsui_content_z5mul_11r0q_148\",\n  \"content--reserve-filter\": \"awsui_content--reserve-filter_z5mul_11r0q_155\",\n  \"content--reserve-legend\": \"awsui_content--reserve-legend_z5mul_11r0q_159\",\n  \"content--fit-height\": \"awsui_content--fit-height_z5mul_11r0q_163\",\n  \"filter-container\": \"awsui_filter-container_z5mul_11r0q_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal.js';\nimport InternalSpaceBetween from '../../../space-between/internal.js';\nimport { BaseComponentProps, getBaseProps } from '../../base-component/index.js';\n\nimport styles from './styles.css.js';\n\ninterface ChartWrapperProps extends BaseComponentProps {\n  fitHeight: boolean;\n  defaultFilter: React.ReactNode;\n  additionalFilters: React.ReactNode;\n  reserveFilterSpace: boolean;\n  reserveLegendSpace: boolean;\n  chartStatus: React.ReactNode;\n  chart: React.ReactNode;\n  legend: React.ReactNode;\n  onBlur?(event: React.FocusEvent): void;\n  contentClassName?: string;\n  contentMinHeight?: number;\n}\n\nexport const ChartWrapper = forwardRef(\n  (\n    {\n      defaultFilter,\n      additionalFilters,\n      reserveFilterSpace,\n      reserveLegendSpace,\n      chartStatus,\n      chart,\n      legend,\n      onBlur,\n      contentClassName,\n      contentMinHeight,\n      fitHeight,\n      ...props\n    }: ChartWrapperProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const baseProps = getBaseProps(props);\n\n    const filtersNode = (defaultFilter || additionalFilters) && (\n      <InternalBox className={styles['filter-container']} margin={{ bottom: 'l' }}>\n        <InternalSpaceBetween\n          size=\"l\"\n          direction=\"horizontal\"\n          className={clsx({ [styles['has-default-filter']]: !!defaultFilter })}\n        >\n          {defaultFilter}\n          {additionalFilters}\n        </InternalSpaceBetween>\n      </InternalBox>\n    );\n\n    const legendNode = legend && <InternalBox margin={{ top: 'm' }}>{legend}</InternalBox>;\n\n    if (fitHeight) {\n      return (\n        <div\n          ref={ref}\n          {...baseProps}\n          className={clsx(baseProps.className, styles.wrapper, styles['wrapper--fit-height'])}\n          onBlur={onBlur}\n        >\n          <div className={clsx(styles['inner-wrapper'], styles['inner-wrapper--fit-height'])}>\n            {filtersNode}\n\n            <div\n              className={clsx(styles.content, contentClassName, {\n                [styles['content--reserve-filter']]: reserveFilterSpace,\n                [styles['content--reserve-legend']]: reserveLegendSpace,\n                [styles['content--fit-height']]: true,\n              })}\n            >\n              {chartStatus}\n              {chart}\n            </div>\n\n            {legendNode}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div ref={ref} {...baseProps} className={clsx(baseProps.className, styles.wrapper)} onBlur={onBlur}>\n        {filtersNode}\n\n        <div\n          className={clsx(styles.content, contentClassName, {\n            [styles['content--reserve-filter']]: reserveFilterSpace,\n            [styles['content--reserve-legend']]: reserveLegendSpace,\n          })}\n          style={{ minHeight: contentMinHeight }}\n        >\n          {chartStatus}\n          {chart}\n        </div>\n\n        {legendNode}\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getTextWidth(textNode: SVGTextElement) {\n  if (textNode.getComputedTextLength) {\n    return textNode.getComputedTextLength();\n  }\n  return -1;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, useRef } from 'react';\n\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getTextWidth } from './responsive-text-utils';\n\ninterface ResponsiveTextProps {\n  x: number;\n  y: number;\n  className?: string;\n  children: string;\n  maxWidth: number;\n}\n\nexport default memo(ResponsiveText);\n\nfunction ResponsiveText({ x, y, className, children, maxWidth }: ResponsiveTextProps) {\n  const textRef = useRef<SVGTextElement>(null);\n\n  // Determine the visible width of the text and if necessary truncate it until it fits.\n  useEffect(() => {\n    const isRtl = getIsRtl(textRef.current!);\n    renderTextContent(textRef.current!, children, maxWidth, isRtl);\n  }, [maxWidth, children]);\n\n  return (\n    <text ref={textRef} x={x} y={y} style={{ textAnchor: 'end' }} className={className}>\n      {children}\n    </text>\n  );\n}\n\nexport function renderTextContent(textNode: SVGTextElement, text: string, maxWidth: number, isRtl: boolean) {\n  let visibleLength = text.length;\n  while (visibleLength >= 0) {\n    textNode.textContent = truncateText(text, visibleLength, isRtl);\n\n    if (getTextWidth(textNode) <= maxWidth) {\n      return;\n    } else {\n      visibleLength--;\n    }\n  }\n}\n\nfunction truncateText(text: string, maxLength: number, isRtl: boolean) {\n  if (text.length === maxLength) {\n    return text;\n  }\n  if (isRtl) {\n    return text.slice(text.length - maxLength) + '…';\n  }\n  return text.slice(0, maxLength) + '…';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useCallback, useState } from 'react';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\n/**\n * Conditional resize observer for border box height used in charts.\n */\nexport function useHeightMeasure(\n  getMeasure: () => null | HTMLElement | SVGElement,\n  skip = false,\n  deps: React.DependencyList = []\n) {\n  const [measuredHeight, setHeight] = useState(0);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const stableGetMeasure = useCallback(getMeasure, [...deps, skip]);\n  useResizeObserver(stableGetMeasure, entry => !skip && setHeight(entry.borderBoxHeight));\n  return !skip ? measuredHeight : undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Returns given index if it is in range or the opposite range boundary otherwise.\nexport function circleIndex(index: number, [from, to]: [number, number]): number {\n  if (index < from) {\n    return to;\n  }\n  if (index > to) {\n    return from;\n  }\n  return index;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport * as tokens from '../generated/styles/tokens';\n\nexport const categoryPalette = [\n  tokens.colorChartsPaletteCategorical1,\n  tokens.colorChartsPaletteCategorical2,\n  tokens.colorChartsPaletteCategorical3,\n  tokens.colorChartsPaletteCategorical4,\n  tokens.colorChartsPaletteCategorical5,\n  tokens.colorChartsPaletteCategorical6,\n  tokens.colorChartsPaletteCategorical7,\n  tokens.colorChartsPaletteCategorical8,\n  tokens.colorChartsPaletteCategorical9,\n  tokens.colorChartsPaletteCategorical10,\n  tokens.colorChartsPaletteCategorical11,\n  tokens.colorChartsPaletteCategorical12,\n  tokens.colorChartsPaletteCategorical13,\n  tokens.colorChartsPaletteCategorical14,\n  tokens.colorChartsPaletteCategorical15,\n  tokens.colorChartsPaletteCategorical16,\n  tokens.colorChartsPaletteCategorical17,\n  tokens.colorChartsPaletteCategorical18,\n  tokens.colorChartsPaletteCategorical19,\n  tokens.colorChartsPaletteCategorical20,\n  tokens.colorChartsPaletteCategorical21,\n  tokens.colorChartsPaletteCategorical22,\n  tokens.colorChartsPaletteCategorical23,\n  tokens.colorChartsPaletteCategorical24,\n  tokens.colorChartsPaletteCategorical25,\n  tokens.colorChartsPaletteCategorical26,\n  tokens.colorChartsPaletteCategorical27,\n  tokens.colorChartsPaletteCategorical28,\n  tokens.colorChartsPaletteCategorical29,\n  tokens.colorChartsPaletteCategorical30,\n  tokens.colorChartsPaletteCategorical31,\n  tokens.colorChartsPaletteCategorical32,\n  tokens.colorChartsPaletteCategorical33,\n  tokens.colorChartsPaletteCategorical34,\n  tokens.colorChartsPaletteCategorical35,\n  tokens.colorChartsPaletteCategorical36,\n  tokens.colorChartsPaletteCategorical37,\n  tokens.colorChartsPaletteCategorical38,\n  tokens.colorChartsPaletteCategorical39,\n  tokens.colorChartsPaletteCategorical40,\n  tokens.colorChartsPaletteCategorical41,\n  tokens.colorChartsPaletteCategorical42,\n  tokens.colorChartsPaletteCategorical43,\n  tokens.colorChartsPaletteCategorical44,\n  tokens.colorChartsPaletteCategorical45,\n  tokens.colorChartsPaletteCategorical46,\n  tokens.colorChartsPaletteCategorical47,\n  tokens.colorChartsPaletteCategorical48,\n  tokens.colorChartsPaletteCategorical49,\n  tokens.colorChartsPaletteCategorical50,\n];\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { colorChartsThresholdNeutral as thresholdColor } from '../generated/styles/tokens';\nimport { categoryPalette } from '../styles/colors';\nimport { parseCssVariable } from './dom';\n\nexport default function createCategoryColorScale<T>(\n  items: readonly T[],\n  isThreshold: (item: T) => boolean = () => false,\n  getOwnColor: (item: T) => null | string = () => null\n): string[] {\n  const colors = [];\n\n  let categoryIndex = 0;\n  for (const it of items) {\n    const ownColor = getOwnColor(it);\n    const defaultColor = isThreshold(it) ? thresholdColor : categoryPalette[categoryIndex % categoryPalette.length];\n    colors.push(parseCssVariable(ownColor || defaultColor));\n\n    if (!isThreshold(it) && !ownColor) {\n      categoryIndex++;\n    }\n  }\n\n  return colors;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nexport default function useContainerWidth(\n  defaultValue = 0,\n  threshold = 1\n): [width: number, ref: React.Ref<HTMLDivElement>] {\n  const [width, ref] = useContainerQuery<number>((rect, prev) => {\n    if (prev === null) {\n      return rect.contentBoxWidth;\n    }\n    return Math.abs(prev - rect.contentBoxWidth) >= threshold ? rect.contentBoxWidth : prev;\n  });\n\n  return [width ?? defaultValue, ref];\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"axis\": \"awsui_axis_f0fot_11j60_9\",\n  \"vertical-marker\": \"awsui_vertical-marker_f0fot_11j60_10\",\n  \"axis--emphasized\": \"awsui_axis--emphasized_f0fot_11j60_15\",\n  \"axis-label\": \"awsui_axis-label_f0fot_11j60_19\",\n  \"axis-label--x\": \"awsui_axis-label--x_f0fot_11j60_24\",\n  \"axis-label--y\": \"awsui_axis-label--y_f0fot_11j60_25\",\n  \"grid\": \"awsui_grid_f0fot_11j60_29\",\n  \"ticks__line\": \"awsui_ticks__line_f0fot_11j60_34\",\n  \"ticks__text\": \"awsui_ticks__text_f0fot_11j60_39\",\n  \"ticks--y\": \"awsui_ticks--y_f0fot_11j60_44\",\n  \"ticks--x\": \"awsui_ticks--x_f0fot_11j60_45\",\n  \"ticks--bottom\": \"awsui_ticks--bottom_f0fot_11j60_49\",\n  \"labels-inline-start\": \"awsui_labels-inline-start_f0fot_11j60_54\",\n  \"ticks\": \"awsui_ticks_f0fot_11j60_34\",\n  \"labels-inline-start__label\": \"awsui_labels-inline-start__label_f0fot_11j60_69\",\n  \"labels-inline-start--hidden\": \"awsui_labels-inline-start--hidden_f0fot_11j60_73\",\n  \"labels-block-end\": \"awsui_labels-block-end_f0fot_11j60_81\",\n  \"vertical-marker-circle\": \"awsui_vertical-marker-circle_f0fot_11j60_92\",\n  \"vertical-marker-circle-active\": \"awsui_vertical-marker-circle-active_f0fot_11j60_98\",\n  \"focus-outline\": \"awsui_focus-outline_f0fot_11j60_103\",\n  \"chart-container\": \"awsui_chart-container_f0fot_11j60_111\",\n  \"fit-height\": \"awsui_fit-height_f0fot_11j60_116\",\n  \"chart-container-outer\": \"awsui_chart-container-outer_f0fot_11j60_121\",\n  \"chart-container-inner\": \"awsui_chart-container-inner_f0fot_11j60_128\",\n  \"chart-container-plot-wrapper\": \"awsui_chart-container-plot-wrapper_f0fot_11j60_135\",\n  \"chart-container-plot\": \"awsui_chart-container-plot_f0fot_11j60_135\",\n  \"chart-container-bottom-labels\": \"awsui_chart-container-bottom-labels_f0fot_11j60_147\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal';\n\nimport styles from './styles.css.js';\n\ninterface AxisLabelProps {\n  title?: string;\n  axis: 'x' | 'y';\n  position: 'left' | 'bottom';\n}\n\nexport default memo(AxisLabel) as typeof AxisLabel;\n\nfunction AxisLabel({ title, axis, position }: AxisLabelProps) {\n  if (!title) {\n    return null;\n  }\n\n  return (\n    <InternalBox\n      className={clsx(styles['axis-label'], axis === 'x' ? styles['axis-label--x'] : styles['axis-label--y'])}\n      fontWeight=\"bold\"\n      textAlign={position === 'left' ? 'left' : 'center'}\n      margin={{ bottom: position === 'left' ? 'l' : 'n' }}\n    >\n      <span aria-hidden=\"true\">{title}</span>\n    </InternalBox>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const TICK_LENGTH = 8;\nexport const TICK_MARGIN = 4;\nexport const TICK_LINE_HEIGHT = 16;\nexport const X_TICK_COUNT_RATIO = 100;\nexport const Y_TICK_COUNT_RATIO = 50;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartDataTypes } from './interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\n\nconst SPACE_BETWEEN = 4;\n\nexport interface FormattedTick {\n  position: number;\n  space: number;\n  lines: string[];\n}\n\nexport function formatTicks({\n  ticks,\n  scale,\n  getLabelSpace,\n  tickFormatter,\n}: {\n  ticks: readonly ChartDataTypes[];\n  scale: ChartScale | NumericChartScale;\n  getLabelSpace: (label: string) => number;\n  tickFormatter?: (value: any) => string;\n}): FormattedTick[] {\n  return ticks.map(tick => {\n    const position = scale.d3Scale(tick as any) ?? NaN;\n    const label = tickFormatter ? tickFormatter(tick as any) : tick.toString();\n    const lines = (label + '').split('\\n');\n    return { position, lines, space: Math.max(...lines.map(getLabelSpace)) };\n  });\n}\n\nexport function getVisibleTicks(ticks: readonly FormattedTick[], from: number, until: number, balanceTicks = false) {\n  ticks = getTicksInRange(ticks, from, until);\n  return balanceTicks ? getReducedTicks(ticks) : removeIntersections(ticks);\n}\n\nfunction getTicksInRange(ticks: readonly FormattedTick[], from: number, until: number) {\n  return ticks.filter(tick => from <= tick.position - tick.space / 2 && tick.position + tick.space / 2 <= until);\n}\n\nfunction getReducedTicks(ticks: readonly FormattedTick[]): readonly FormattedTick[] {\n  const reduceLabelRatio = findReduceLabelRatio(ticks);\n\n  const reducedTicks = [];\n  for (let index = 0; index < ticks.length; index += reduceLabelRatio) {\n    reducedTicks.push(ticks[index]);\n  }\n  return reducedTicks;\n}\n\n// Returns a ratio such that all elements can be displayed with no intersections.\nfunction findReduceLabelRatio(ticks: readonly FormattedTick[], ratio = 1): number {\n  if (ratio >= ticks.length) {\n    return ratio;\n  }\n  for (let i = ratio; i < ticks.length; i += ratio) {\n    if (hasIntersection(ticks[i - ratio], ticks[i])) {\n      return findReduceLabelRatio(ticks, ratio + 1);\n    }\n  }\n  return ratio;\n}\n\nfunction removeIntersections(ticks: readonly FormattedTick[]) {\n  const visibleTicks = [];\n  let prevTick = null;\n  for (const tick of ticks) {\n    if (!prevTick || !hasIntersection(prevTick, tick)) {\n      visibleTicks.push(tick);\n      prevTick = tick;\n    }\n  }\n  return visibleTicks;\n}\n\nfunction hasIntersection(a: FormattedTick, b: FormattedTick) {\n  const [left, right] = a.position < b.position ? [a, b] : [b, a];\n  const leftEdge = left.position + left.space / 2 + SPACE_BETWEEN;\n  const rightEdge = right.position - right.space / 2;\n  return leftEdge > rightEdge;\n}\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getSVGTextSize(element: null | SVGTextElement): undefined | { width: number; height: number } {\n  if (element && element.getBBox) {\n    return element.getBBox();\n  }\n  return undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\nimport { ChartDataTypes } from './interfaces';\nimport { FormattedTick, formatTicks, getVisibleTicks } from './label-utils';\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\ninterface BlockEndLabelsProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: ChartScale | NumericChartScale;\n  title?: string;\n  ariaRoleDescription?: string;\n  offsetLeft?: number;\n  offsetRight?: number;\n  virtualTextRef: React.Ref<SVGTextElement>;\n  formattedTicks: readonly FormattedTick[];\n}\n\nexport function useBLockEndLabels({\n  ticks,\n  scale,\n  tickFormatter,\n}: {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n}) {\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const cacheRef = useRef<{ [label: string]: number }>({});\n  const getLabelSpace = (label: string) => {\n    if (cacheRef.current[label] !== undefined && cacheRef.current[label] !== 0) {\n      return cacheRef.current[label];\n    }\n    if (virtualTextRef.current && virtualTextRef.current.getComputedTextLength) {\n      virtualTextRef.current.textContent = label;\n      cacheRef.current[label] = virtualTextRef.current.getComputedTextLength();\n      return cacheRef.current[label];\n    }\n    return 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  let height = TICK_LENGTH + TICK_MARGIN;\n  for (const { lines } of formattedTicks) {\n    height = Math.max(height, TICK_LENGTH + TICK_MARGIN + lines.length * TICK_LINE_HEIGHT);\n  }\n\n  return { virtualTextRef, formattedTicks, height };\n}\n\nexport default memo(BlockEndLabels) as typeof BlockEndLabels;\n\n// Renders the visible tick labels on the bottom axis, as well as their grid lines.\nfunction BlockEndLabels({\n  axis = 'x',\n  width,\n  height,\n  scale,\n  title,\n  ariaRoleDescription,\n  offsetLeft = 0,\n  offsetRight = 0,\n  virtualTextRef,\n  formattedTicks,\n}: BlockEndLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const xOffset = scale.isCategorical() && axis === 'x' ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const from = 0 - offsetLeft - xOffset;\n  const until = width + offsetRight - xOffset;\n  const balanceLabels = axis === 'x' && scale.scaleType !== 'log';\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until, balanceLabels);\n\n  return (\n    <g\n      transform={`translate(0,${height})`}\n      className={styles['labels-block-end']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              transform={`translate(${position + xOffset},0)`}\n              className={clsx(styles.ticks, styles['ticks--bottom'], {\n                [styles['ticks--x']]: axis === 'x',\n                [styles['ticks--y']]: axis === 'y',\n              })}\n              role=\"listitem\"\n              aria-label={lines.join('\\n')}\n            >\n              <line className={styles.ticks__line} x1={0} x2={0} y1={0} y2={TICK_LENGTH} aria-hidden=\"true\" />\n              {lines.map((line, lineIndex) => (\n                <text\n                  className={styles.ticks__text}\n                  key={lineIndex}\n                  x={0}\n                  y={TICK_LENGTH + TICK_MARGIN + lineIndex * TICK_LINE_HEIGHT}\n                >\n                  {line}\n                </text>\n              ))}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\n\ninterface CartesianChartContainerProps {\n  minHeight: number;\n  fitHeight: boolean;\n  leftAxisLabel: React.ReactNode;\n  leftAxisLabelMeasure: React.ReactNode;\n  bottomAxisLabel: React.ReactNode;\n  chartPlot: React.ReactNode;\n  popover: React.ReactNode;\n}\n\nconst CONTENT_MIN_HEIGHT_BOUNDARY = 40;\n\nexport const CartesianChartContainer = forwardRef(\n  (\n    {\n      minHeight,\n      fitHeight,\n      leftAxisLabel,\n      leftAxisLabelMeasure,\n      bottomAxisLabel,\n      chartPlot,\n      popover,\n    }: CartesianChartContainerProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    if (fitHeight) {\n      return (\n        <div className={clsx(styles['chart-container'], styles['fit-height'])} ref={ref}>\n          {leftAxisLabel}\n\n          <div className={clsx(styles['chart-container-outer'], styles['fit-height'])}>\n            {leftAxisLabelMeasure}\n\n            <div className={styles['chart-container-inner']}>\n              <div\n                className={clsx(styles['chart-container-plot-wrapper'], styles['fit-height'])}\n                style={{ minHeight: Math.max(minHeight, CONTENT_MIN_HEIGHT_BOUNDARY) }}\n              >\n                <div className={clsx(styles['chart-container-plot'], styles['fit-height'])}>{chartPlot}</div>\n              </div>\n\n              <div className={clsx(styles['chart-container-bottom-labels'], styles['fit-height'])}>\n                {bottomAxisLabel}\n              </div>\n            </div>\n\n            {popover}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles['chart-container']} ref={ref}>\n        {leftAxisLabel}\n\n        <div className={styles['chart-container-outer']}>\n          {leftAxisLabelMeasure}\n\n          <div className={styles['chart-container-inner']}>\n            {chartPlot}\n            {bottomAxisLabel}\n          </div>\n\n          {popover}\n        </div>\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { TICK_LENGTH, TICK_MARGIN } from './constants';\nimport { NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\ninterface EmphasizedBaselineProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: NumericChartScale;\n}\n\nexport default memo(EmphasizedBaseline) as typeof EmphasizedBaseline;\n\nfunction EmphasizedBaseline({ axis = 'x', width, height, scale }: EmphasizedBaselineProps) {\n  // Y position of the zero baseline, if it exists\n  const baselineY = scale.d3Scale(0) ?? NaN;\n  const showYBaseline = axis === 'x' && isFinite(baselineY) && baselineY <= height;\n\n  if (showYBaseline) {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={-TICK_MARGIN}\n        x2={width}\n        y1={baselineY}\n        y2={baselineY}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  if (axis === 'y') {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={0}\n        y1={0}\n        x2={0}\n        y2={height + TICK_LENGTH}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  return null;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface HighlightedPointProps {\n  point: null | SeriesPoint;\n  role?: 'group' | 'button';\n  ariaLabel?: string;\n  ariaHasPopup?: boolean;\n  ariaExpanded?: boolean;\n}\n\nexport default memo(forwardRef(HighlightedPoint));\n\nfunction HighlightedPoint(\n  { point, role = 'group', ariaLabel, ariaHasPopup, ariaExpanded }: HighlightedPointProps,\n  ref: React.Ref<SVGGElement>\n) {\n  if (!point) {\n    return null;\n  }\n\n  return (\n    <g ref={ref} role={role} aria-label={ariaLabel} aria-haspopup={ariaHasPopup} aria-expanded={ariaExpanded}>\n      <circle\n        key={point.key}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker-circle-active']}\n        cx={point.x}\n        cy={point.y}\n        r={4}\n        stroke={point.color}\n        fill={point.color}\n      />\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport ResponsiveText from '../responsive-text';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\nimport { formatTicks, getSVGTextSize, getVisibleTicks } from './label-utils';\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\nconst OFFSET_PX = 12;\n\ninterface InlineStartLabelsProps {\n  axis?: 'x' | 'y';\n  plotWidth: number;\n  plotHeight: number;\n  maxLabelsWidth?: number;\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: number) => string;\n  title?: string;\n  ariaRoleDescription?: string;\n}\n\nexport default memo(InlineStartLabels) as typeof InlineStartLabels;\n\n// Renders the visible tick labels on the value axis, as well as their grid lines.\nfunction InlineStartLabels({\n  axis = 'y',\n  plotWidth,\n  plotHeight,\n  maxLabelsWidth = Number.POSITIVE_INFINITY,\n  scale,\n  ticks,\n  tickFormatter,\n  title,\n  ariaRoleDescription,\n}: InlineStartLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const yOffset = axis === 'x' && scale.isCategorical() ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const labelToBoxCache = useRef<{ [label: string]: undefined | { width: number; height: number } }>({});\n  const getLabelSpace = (label: string) => {\n    if (labelToBoxCache.current[label] !== undefined) {\n      return labelToBoxCache.current[label]?.height ?? 0;\n    }\n    if (virtualTextRef.current) {\n      virtualTextRef.current.textContent = label;\n    }\n    labelToBoxCache.current[label] = getSVGTextSize(virtualTextRef.current);\n    return labelToBoxCache.current[label]?.height ?? 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  const from = 0 - OFFSET_PX - yOffset;\n  const until = plotHeight + OFFSET_PX - yOffset;\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until);\n\n  const isRtl = virtualTextRef.current ? getIsRtl(virtualTextRef.current) : false;\n\n  return (\n    <g\n      className={styles['labels-inline-start']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              role=\"listitem\"\n              transform={`translate(0,${position + yOffset})`}\n              className={clsx(styles.ticks, axis === 'x' ? styles['ticks--x'] : styles['ticks--y'])}\n            >\n              {axis === 'y' && (\n                <line\n                  className={clsx(styles.grid, styles.ticks_line)}\n                  x1={-TICK_LENGTH}\n                  y1={0}\n                  x2={plotWidth}\n                  y2={0}\n                  aria-hidden=\"true\"\n                />\n              )}\n\n              {lines.map((line, lineIndex) => {\n                const x = -(TICK_LENGTH + TICK_MARGIN);\n                const lineTextProps = {\n                  x: !isRtl ? x : plotWidth - x,\n                  y: (lineIndex - (lines.length - 1) * 0.5) * TICK_LINE_HEIGHT,\n                  className: styles.ticks__text,\n                  children: line,\n                };\n                return (labelToBoxCache.current[lines[0]]?.width ?? 0) > maxLabelsWidth ? (\n                  <ResponsiveText key={lineIndex} {...lineTextProps} maxWidth={maxLabelsWidth} />\n                ) : (\n                  <text key={lineIndex} {...lineTextProps} />\n                );\n              })}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { Fragment, memo, useEffect } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\ninterface LabelsMeasureProps {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n  autoWidth: (value: number) => void;\n  maxLabelsWidth?: number;\n}\n\nexport default memo(LabelsMeasure) as typeof LabelsMeasure;\n\n// Places the invisible left-hand side labels to calculate their maximum width.\nfunction LabelsMeasure({ scale, ticks, tickFormatter, autoWidth, maxLabelsWidth }: LabelsMeasureProps) {\n  const [width, ref] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n\n  // Tell elements's width to the parent.\n  useEffect(() => {\n    autoWidth(width || 0);\n  }, [autoWidth, width]);\n\n  const labelMapper = (value: ChartDataTypes) => {\n    const scaledValue = scale.d3Scale(value as any);\n    if (scaledValue === undefined || !isFinite(scaledValue)) {\n      return null;\n    }\n\n    const formattedValue = tickFormatter ? tickFormatter(value as any) : value.toString();\n    const lines = (formattedValue + '').split('\\n');\n\n    return (\n      <Fragment key={`${value}`}>\n        {lines.map((line, lineIndex) => (\n          <div key={lineIndex} className={styles['labels-inline-start__label']} aria-hidden=\"true\">\n            {line}\n          </div>\n        ))}\n      </Fragment>\n    );\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={clsx(styles['labels-inline-start'], styles['labels-inline-start--hidden'])}\n      style={{ maxWidth: maxLabelsWidth }}\n    >\n      {ticks.map(labelMapper)}\n    </div>\n  );\n}\n","/**\n * Name: d3-array\n * Version: 3.2.1\n * License: ISC\n * Private: false\n * Description: Array manipulation, ordering, searching, summarizing, etc.\n * Repository: https://github.com/d3/d3-array.git\n * Homepage: https://d3js.org/d3-array/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: internmap\n * Version: 2.0.3\n * License: ISC\n * Private: false\n * Description: Map and Set with automatic key interning\n * Repository: https://github.com/mbostock/internmap.git\n * Homepage: https://github.com/mbostock/internmap/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-scale\n * Version: 4.0.2\n * License: ISC\n * Private: false\n * Description: Encodings that map abstract data to visual representation.\n * Repository: https://github.com/d3/d3-scale.git\n * Homepage: https://d3js.org/d3-scale/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-color\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Color spaces! RGB, HSL, Cubehelix, Lab and HCL (Lch).\n * Repository: https://github.com/d3/d3-color.git\n * Homepage: https://d3js.org/d3-color/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-interpolate\n * Version: 3.0.1\n * License: ISC\n * Private: false\n * Description: Interpolate numbers, colors, strings, arrays, objects, whatever!\n * Repository: https://github.com/d3/d3-interpolate.git\n * Homepage: https://d3js.org/d3-interpolate/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-format\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Format numbers for human consumption.\n * Repository: https://github.com/d3/d3-format.git\n * Homepage: https://d3js.org/d3-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: A calculator for humanity’s peculiar conventions of time.\n * Repository: https://github.com/d3/d3-time.git\n * Homepage: https://d3js.org/d3-time/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time-format\n * Version: 4.1.0\n * License: ISC\n * Private: false\n * Description: A JavaScript time formatter and parser inspired by strftime and strptime.\n * Repository: https://github.com/d3/d3-time-format.git\n * Homepage: https://d3js.org/d3-time-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n */\nfunction ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n\nfunction bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero$1;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero$1() {\n  return 0;\n}\n\nfunction number$2(x) {\n  return x === null ? NaN : +x;\n}\n\nconst ascendingBisect = bisector(ascending);\nconst bisectRight = ascendingBisect.right;\nbisector(number$2).center;\nvar bisect = bisectRight;\n\nclass InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = range(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb$1(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb$1, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar constant = x => () => x;\n\nfunction linear$1(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear$1(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = rgb$1(start)).r, (end = rgb$1(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date$1(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction interpolate(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? interpolateNumber\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date$1\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nfunction constants(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction number$1(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constants(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity$1) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number$1), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity$1, rescale()) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity$1, identity$1);\n}\n\nfunction formatDecimal(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nfunction formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n\nfunction identity(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale$1(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale$1;\nvar format;\nvar formatPrefix;\n\ndefaultLocale$1({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  format = locale$1.format;\n  formatPrefix = locale$1.formatPrefix;\n  return locale$1;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nfunction loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nconst t0 = new Date, t1 = new Date;\n\nfunction timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n\nconst millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nmillisecond.range;\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\nconst second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nsecond.range;\n\nconst timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\ntimeMinute.range;\n\nconst utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nutcMinute.range;\n\nconst timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\ntimeHour.range;\n\nconst utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nutcHour.range;\n\nconst timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\ntimeDay.range;\n\nconst utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nutcDay.range;\n\nconst unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nunixDay.range;\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nconst timeSunday = timeWeekday(0);\nconst timeMonday = timeWeekday(1);\nconst timeTuesday = timeWeekday(2);\nconst timeWednesday = timeWeekday(3);\nconst timeThursday = timeWeekday(4);\nconst timeFriday = timeWeekday(5);\nconst timeSaturday = timeWeekday(6);\n\ntimeSunday.range;\ntimeMonday.range;\ntimeTuesday.range;\ntimeWednesday.range;\ntimeThursday.range;\ntimeFriday.range;\ntimeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nconst utcSunday = utcWeekday(0);\nconst utcMonday = utcWeekday(1);\nconst utcTuesday = utcWeekday(2);\nconst utcWednesday = utcWeekday(3);\nconst utcThursday = utcWeekday(4);\nconst utcFriday = utcWeekday(5);\nconst utcSaturday = utcWeekday(6);\n\nutcSunday.range;\nutcMonday.range;\nutcTuesday.range;\nutcWednesday.range;\nutcThursday.range;\nutcFriday.range;\nutcSaturday.range;\n\nconst timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\ntimeMonth.range;\n\nconst utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nutcMonth.range;\n\nconst timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\ntimeYear.range;\n\nconst utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nutcYear.range;\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale;\nvar timeFormat;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  locale.parse;\n  locale.utcFormat;\n  locale.utcParse;\n  return locale;\n}\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nfunction time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute, second, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nexport { band as scaleBand, linear as scaleLinear, log as scaleLog, time as scaleTime };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport {\n  ScaleBand,\n  scaleBand,\n  ScaleContinuousNumeric,\n  scaleLinear,\n  scaleLog,\n  ScaleTime,\n  scaleTime,\n} from '../../vendor/d3-scale';\nimport { ChartDataTypes, ChartDomain, ScaleRange, ScaleType } from './interfaces';\n\nexport interface NumericD3Scale {\n  type: 'numeric';\n  scale: ScaleContinuousNumeric<number, number>;\n}\n\nexport interface TimeD3Scale {\n  type: 'time';\n  scale: ScaleTime<number, number>;\n}\n\nexport interface CategoricalD3Scale {\n  type: 'categorical';\n  scale: ScaleBand<ChartDataTypes>;\n}\n\nexport type D3Scale = NumericD3Scale | TimeD3Scale | CategoricalD3Scale;\n\ntype InternalScale = ScaleContinuousNumeric<number, number> | ScaleBand<ChartDataTypes> | ScaleTime<number, number>;\n\nfunction isNumericDomain(domain: ChartDomain<ChartDataTypes>): domain is number[] {\n  return domain.length > 0 && typeof domain[0] === 'number';\n}\n\nfunction isDateDomain(domain: ChartDomain<ChartDataTypes>): domain is Date[] {\n  return domain.length > 0 && domain[0] instanceof Date;\n}\n\nfunction createNumericScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>) {\n  let scale: ScaleContinuousNumeric<number, number>;\n  switch (type) {\n    case 'log':\n      scale = scaleLog();\n      break;\n    default:\n      scale = scaleLinear();\n  }\n\n  if (isNumericDomain(domain)) {\n    scale.domain(domain);\n  }\n\n  return scale;\n}\n\nfunction createTimeScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleTime();\n  if (isDateDomain(domain)) {\n    scale.domain(domain);\n  }\n  return scale;\n}\n\nfunction createBandScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleBand<ChartDataTypes>().padding(0.1);\n  scale.domain(domain);\n  return scale;\n}\n\nexport function createScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>, range: ScaleRange): D3Scale {\n  switch (type) {\n    case 'linear':\n    case 'log':\n      return { type: 'numeric', scale: createNumericScale(type, domain).range(range) };\n\n    case 'time':\n      return { type: 'time', scale: createTimeScale(domain).range(range) };\n\n    case 'categorical':\n      return { type: 'categorical', scale: createBandScale(domain).range(range) };\n  }\n}\n\nexport class ChartScale {\n  public readonly scale: D3Scale;\n  public readonly d3Scale: InternalScale;\n\n  constructor(\n    public readonly scaleType: ScaleType,\n    public readonly domain: ChartDomain<ChartDataTypes>,\n    public readonly range: ScaleRange,\n    noCategoricalOuterPadding = false\n  ) {\n    this.scale = createScale(this.scaleType, this.domain, this.range);\n    this.d3Scale = this.scale.scale;\n\n    if (this.isCategorical()) {\n      if (noCategoricalOuterPadding) {\n        // Categorical charts with only line (or threshold) series don't need as much out padding\n        // compared to a bar series. Increasing the inner padding to push more data points to the outside.\n        this.d3Scale.paddingInner(0.7);\n        this.d3Scale.paddingOuter(0);\n      } else {\n        this.d3Scale.paddingInner(0.2);\n        this.d3Scale.paddingOuter(0.05);\n      }\n    }\n  }\n\n  cloneScale(newScaleType?: ScaleType, newDomain?: ChartDomain<ChartDataTypes>, newRange?: ScaleRange) {\n    return new ChartScale(newScaleType || this.scaleType, newDomain || this.domain, newRange || this.range);\n  }\n\n  isNumeric(): this is { d3Scale: ScaleContinuousNumeric<number, number>; domain: ChartDomain<number> } {\n    return this.scale.type === 'numeric';\n  }\n\n  isTime(): this is { d3Scale: ScaleTime<number, number>; domain: ChartDomain<Date> } {\n    return this.scale.type === 'time';\n  }\n\n  isCategorical(): this is { d3Scale: ScaleBand<ChartDataTypes>; domain: ChartDomain<string> } {\n    return this.scale.type === 'categorical';\n  }\n}\n\nexport class NumericChartScale {\n  public readonly scale: NumericD3Scale;\n  public readonly d3Scale: ScaleContinuousNumeric<number, number>;\n\n  constructor(\n    public readonly scaleType: 'linear' | 'log',\n    domain: ChartDomain<number>,\n    range: ScaleRange,\n    adjustDomain: null | number\n  ) {\n    const scale = createNumericScale(scaleType, domain).range(range);\n    if (adjustDomain !== null) {\n      scale.nice(adjustDomain);\n    }\n    this.scale = { type: 'numeric', scale };\n    this.d3Scale = this.scale.scale;\n  }\n\n  isCategorical() {\n    return false;\n  }\n}\n","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarDays from \"../differenceInCalendarDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\nexport default function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n  var result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport addDays from \"../addDays/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name add\n * @category Common Helpers\n * @summary Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @description\n * Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * | Key            | Description                        |\n * |----------------|------------------------------------|\n * | years          | Amount of years to be added        |\n * | months         | Amount of months to be added       |\n * | weeks          | Amount of weeks to be added        |\n * | days           | Amount of days to be added         |\n * | hours          | Amount of hours to be added        |\n * | minutes        | Amount of minutes to be added      |\n * | seconds        | Amount of seconds to be added      |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add the following duration to 1 September 2014, 10:19:50\n * const result = add(new Date(2014, 8, 1, 10, 19, 50), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30,\n * })\n * //=> Thu Jun 15 2017 15:29:20\n */\nexport default function add(dirtyDate, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || _typeof(duration) !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0;\n\n  // Add years and months\n  var date = toDate(dirtyDate);\n  var dateWithMonths = months || years ? addMonths(date, months + years * 12) : date;\n\n  // Add weeks and days\n  var dateWithDays = days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths;\n\n  // Add days, hours, minutes and seconds\n  var minutesToAdd = minutes + hours * 60;\n  var secondsToAdd = seconds + minutesToAdd * 60;\n  var msToAdd = secondsToAdd * 1000;\n  var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n  return finalDate;\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { add, differenceInDays } from 'date-fns';\n\nimport { ChartScale, NumericChartScale } from '../../components/cartesian-chart/scales';\nimport { X_TICK_COUNT_RATIO, Y_TICK_COUNT_RATIO } from './constants';\nimport { ChartDataTypes } from './interfaces';\n\n// The number of ticks is currently defined by the length of the scale.\n// The x scale tends to have longer labels, so we're using less ticks for it.\n// These numbers are currently based on first impressions and might change in the future.\n// We might also open up an API in the future to control the amount of ticks displayed.\nexport function getXTickCount(width: number) {\n  return Math.ceil(width / X_TICK_COUNT_RATIO);\n}\nexport function getYTickCount(height: number) {\n  return Math.ceil(height / Y_TICK_COUNT_RATIO);\n}\n\nexport function createXTicks(scale: ChartScale, values: number): ChartDataTypes[] {\n  if (scale.isNumeric()) {\n    return scale.d3Scale.ticks(values);\n  } else if (scale.isTime()) {\n    const rawTicks = scale.d3Scale.ticks(values) as Date[];\n    const domain = scale.d3Scale.domain() as Date[];\n    return uniform(rawTicks, domain[domain.length - 1]);\n  } else {\n    return scale.d3Scale.domain();\n  }\n}\n\nexport function createYTicks(scale: NumericChartScale, values: number): number[] {\n  const ticks = scale.d3Scale.ticks(values);\n\n  // The logarithmic scale sometimes produces a very large amount of (major and minor) ticks,\n  // at which point we need to reduce them significantly for space.\n  if (scale.scaleType === 'log' && ticks.length > 10) {\n    return scale.d3Scale.ticks(3);\n  }\n\n  return ticks;\n}\n\n/**\n * Ensure uniformly-spaced ticks for 2-day intervals. d3-scale generates\n * ticks for even or odd numbers, which causes varying interval lengths\n * between months.\n */\nfunction uniform(ticks: Date[], max: Date): Date[] {\n  if (ticks.length < 3 || !isMixedDayInterval(ticks)) {\n    return ticks;\n  }\n\n  return createTwoDayInterval(ticks[0], max);\n}\n\nfunction isMixedDayInterval(ticks: Date[]) {\n  let oneDayInterval = false;\n  let twoDayInterval = false;\n\n  for (let i = 1; i < ticks.length; i++) {\n    oneDayInterval = oneDayInterval || isDayInterval(ticks[i - 1], ticks[i], 1);\n    twoDayInterval = twoDayInterval || isDayInterval(ticks[i - 1], ticks[i], 2);\n  }\n  return oneDayInterval && twoDayInterval;\n}\n\nfunction isDayInterval(a: Date, b: Date, difference = 1) {\n  return Math.abs(differenceInDays(a, b)) === difference;\n}\n\nfunction createTwoDayInterval(start: Date, max: Date) {\n  const result: Date[] = [];\n  let curr = start;\n  while (curr < max) {\n    result.push(curr);\n    curr = add(curr, { days: 2 });\n  }\n  return result;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\n\nimport { NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\n\nexport default memo(VerticalGridLines) as typeof VerticalGridLines;\n\nfunction VerticalGridLines({ ticks, scale, height }: { ticks: number[]; scale: NumericChartScale; height: number }) {\n  return (\n    <g aria-hidden=\"true\">\n      {ticks.map(tick => {\n        const x = scale.d3Scale(tick) ?? NaN;\n        return isFinite(x) && <line key={tick} className={styles.grid} x1={x} y1={0} x2={x} y2={height} />;\n      })}\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface VerticalMarkerProps {\n  height: number;\n  showPoints?: boolean;\n  showLine?: boolean;\n  points: null | readonly SeriesPoint[];\n}\n\nexport default memo(forwardRef(VerticalMarker));\n\nfunction VerticalMarker(\n  { height, showPoints = true, showLine = true, points }: VerticalMarkerProps,\n  ref: React.Ref<SVGLineElement>\n) {\n  const [firstPoint] = points || [];\n\n  return (\n    <g>\n      <line\n        ref={ref}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker']}\n        style={{ visibility: showLine && firstPoint ? 'visible' : 'hidden' }}\n        x1={firstPoint?.x}\n        x2={firstPoint?.x}\n        y1={0}\n        y2={height}\n      />\n\n      {showPoints &&\n        points &&\n        points.map(point => (\n          <circle\n            key={point.key}\n            aria-hidden=\"true\"\n            className={styles['vertical-marker-circle']}\n            cx={point.x}\n            cy={point.y}\n            r={4}\n            stroke={point.color}\n          />\n        ))}\n    </g>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"series\": \"awsui_series_1yz9c_1a980_97\",\n  \"series--bar\": \"awsui_series--bar_1yz9c_1a980_98\",\n  \"series__rect\": \"awsui_series__rect_1yz9c_1a980_98\",\n  \"exiting\": \"awsui_exiting_1yz9c_1a980_115\",\n  \"awsui-motion-fade-out-0\": \"awsui_awsui-motion-fade-out-0_1yz9c_1a980_1\",\n  \"root\": \"awsui_root_1yz9c_1a980_141\",\n  \"series--highlighted\": \"awsui_series--highlighted_1yz9c_1a980_154\",\n  \"series__bar--highlighted\": \"awsui_series__bar--highlighted_1yz9c_1a980_155\",\n  \"series--dimmed\": \"awsui_series--dimmed_1yz9c_1a980_159\",\n  \"series--threshold\": \"awsui_series--threshold_1yz9c_1a980_163\",\n  \"bar-group\": \"awsui_bar-group_1yz9c_1a980_168\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { ChartDataTypes } from './interfaces';\nimport { ScaledBarGroup } from './make-scaled-bar-groups';\n\nimport styles from './styles.css.js';\n\nconst OUTLINE_PADDING = 2;\n\nexport interface BarGroups<T extends ChartDataTypes> {\n  ariaLabel: string;\n  isRefresh: boolean;\n  isPopoverPinned: boolean;\n  barGroups: ScaledBarGroup<T>[];\n  highlightedGroupIndex: null | number;\n  highlightedGroupRef: React.RefObject<SVGRectElement>;\n}\n\n/**\n * The component renders empty SVG rectangles corresponding to the bar group slots.\n * The highlighted group rectangle is used for the pseudo-focus and therefore requires ARIA attributes.\n * Other rectangles are only needed for the \"findBarGroups\" test-utils selector.\n */\nexport default function BarGroups<T extends ChartDataTypes>({\n  ariaLabel,\n  isRefresh,\n  isPopoverPinned,\n  barGroups,\n  highlightedGroupIndex,\n  highlightedGroupRef,\n}: BarGroups<T>) {\n  return (\n    <g role=\"group\" aria-hidden=\"true\">\n      {barGroups.map((group, index) => (\n        <rect\n          key={index}\n          x={Math.max(0, group.position.x - OUTLINE_PADDING)}\n          y={Math.max(0, group.position.y - OUTLINE_PADDING)}\n          width={group.position.width + 2 * OUTLINE_PADDING}\n          height={group.position.height + 2 * OUTLINE_PADDING}\n          ref={index === highlightedGroupIndex ? highlightedGroupRef : undefined}\n          rx={isRefresh ? 4 : 2}\n          role=\"button\"\n          aria-label={ariaLabel}\n          aria-haspopup={true}\n          aria-expanded={isPopoverPinned}\n          fill=\"none\"\n          className={styles['bar-group']}\n        />\n      ))}\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport ChartPopover from '../internal/components/chart-popover';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport ChartSeriesDetails, { ExpandedSeries } from '../internal/components/chart-series-details';\nimport { Transition } from '../internal/components/transition';\nimport { HighlightDetails } from './format-highlighted';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface MixedChartPopoverProps<T extends ChartDataTypes> {\n  containerRef: React.RefObject<HTMLDivElement>;\n  trackRef: React.RefObject<SVGElement>;\n  isOpen: boolean;\n  isPinned: boolean;\n  highlightDetails: null | HighlightDetails;\n  onDismiss(): void;\n  size: MixedLineBarChartProps<T>['detailPopoverSize'];\n  footer?: React.ReactNode;\n  dismissAriaLabel?: string;\n  onMouseEnter?: (event: React.MouseEvent) => void;\n  onMouseLeave?: (event: React.MouseEvent) => void;\n  onBlur?: (event: React.FocusEvent) => void;\n  setPopoverText: (s: string) => void;\n}\n\nexport default React.forwardRef(MixedChartPopover);\n\nfunction MixedChartPopover<T extends ChartDataTypes>(\n  {\n    containerRef,\n    trackRef,\n    isOpen,\n    isPinned,\n    highlightDetails,\n    footer,\n    onDismiss,\n    size = 'medium',\n    dismissAriaLabel,\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n    setPopoverText,\n  }: MixedChartPopoverProps<T>,\n  popoverRef: React.Ref<HTMLElement>\n) {\n  const [expandedSeries, setExpandedSeries] = useState<Record<string, ExpandedSeries>>({});\n  return (\n    <Transition in={isOpen}>\n      {(state, ref) => (\n        <div ref={ref} className={clsx(state === 'exiting' && styles.exiting)}>\n          {(isOpen || state !== 'exited') && highlightDetails && (\n            <ChartPopover\n              ref={popoverRef}\n              title={highlightDetails.position}\n              trackRef={trackRef}\n              trackKey={highlightDetails.position}\n              dismissButton={isPinned}\n              dismissAriaLabel={dismissAriaLabel}\n              onDismiss={onDismiss}\n              container={containerRef.current}\n              size={size}\n              onMouseEnter={onMouseEnter}\n              onMouseLeave={onMouseLeave}\n              onBlur={onBlur}\n            >\n              <ChartSeriesDetails\n                key={highlightDetails.position}\n                details={highlightDetails.details}\n                setPopoverText={setPopoverText}\n                expandedSeries={expandedSeries[highlightDetails.position]}\n                setExpandedState={(id, isExpanded) =>\n                  setExpandedSeries(oldState => {\n                    const expandedSeriesInCurrentCoordinate = new Set(oldState[highlightDetails.position]);\n                    if (isExpanded) {\n                      expandedSeriesInCurrentCoordinate.add(id);\n                    } else {\n                      expandedSeriesInCurrentCoordinate.delete(id);\n                    }\n                    return {\n                      ...oldState,\n                      [highlightDetails.position]: expandedSeriesInCurrentCoordinate,\n                    };\n                  })\n                }\n              />\n              {footer && <ChartPopoverFooter>{footer}</ChartPopoverFooter>}\n            </ChartPopover>\n          )}\n        </div>\n      )}\n    </Transition>\n  );\n}\n","/* eslint-disable header/header */\n// Source https://stackoverflow.com/a/65186378/16648714\n\nexport function createOneSideRoundedRectPath(\n  { x, y, width, height }: { x: number; y: number; width: number; height: number },\n  radius: number,\n  side: 'left' | 'right' | 'top' | 'bottom'\n) {\n  const coordinates = [\n    { x, y },\n    { x: x + width, y },\n    { x: x + width, y: y + height },\n    { x: x, y: y + height },\n  ];\n\n  // Starting from the target side.\n  const startIndex = { left: 2, right: 0, top: 3, bottom: 1 }[side];\n\n  let path = '';\n  for (let i = startIndex; i < startIndex + coordinates.length + 1; i++) {\n    const start = coordinates[i % coordinates.length];\n    const end = coordinates[(i + 1) % coordinates.length];\n\n    // Define curvature for the first 3 points to only add rounded corners to the first side.\n    const c = radius && i < startIndex + 3 ? Math.min(radius / Math.hypot(end.x - start.x, end.y - start.y), 0.5) : 0;\n\n    // Insert start point. When c=0 the start point is [start.x, start.y].\n    if (i === startIndex) {\n      path += `M${start.x * (1 - c) + end.x * c},${start.y * (1 - c) + end.y * c}`;\n    }\n    // Insert quadratic curve.\n    if (i > startIndex) {\n      path += `Q${start.x},${start.y} ${start.x * (1 - c) + end.x * c},${start.y * (1 - c) + end.y * c}`;\n    }\n    // Draw line to the end point. When c=0 the end point is [end.x, end.y].\n    if (i < startIndex + coordinates.length) {\n      path += `L${start.x * c + end.x * (1 - c)},${start.y * c + end.y * (1 - c)}`;\n    }\n  }\n  return path + 'Z';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartSeriesMarkerType } from '../internal/components/chart-series-marker';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { ScaledBarGroup } from './make-scaled-bar-groups';\n\nexport const chartLegendMap: Record<string, ChartSeriesMarkerType> = {\n  line: 'line',\n  bar: 'rectangle',\n  threshold: 'dashed',\n};\n\n// Starting from the given index, find the first x value in the x domain that has bar data attached to it.\nexport const nextValidDomainIndex = <T>(nextGroupIndex: number, barGroups: ScaledBarGroup<T>[], direction = 1) => {\n  let index = nextGroupIndex;\n\n  if (index < 0 || index >= barGroups.length) {\n    index = 0;\n  }\n\n  do {\n    if (barGroups[index].isValid && barGroups[index].hasData) {\n      return index;\n    }\n    index += direction;\n\n    // Loop back to the beginning if necessary\n    if (index >= barGroups.length) {\n      index = 0;\n    } else if (index < 0) {\n      index = barGroups.length - 1;\n    }\n  } while (index !== nextGroupIndex);\n  return 0;\n};\n\n/**\n * Find the subset of series that are individually navigable with keyboard.\n * Lines and thresholds are navigated individually, while bar series are grouped as one.\n */\nexport function findNavigableSeries<T extends ChartDataTypes>(series: ReadonlyArray<InternalChartSeries<T>>) {\n  const navigableSeries: Array<MixedLineBarChartProps.ChartSeries<T>> = [];\n  let navigableBarSeriesIndex = -1;\n\n  series.forEach(internalSeries => {\n    if (internalSeries.series.type === 'bar') {\n      // Only include the first bar series because all bar series are handled as one\n      if (navigableBarSeriesIndex === -1) {\n        navigableBarSeriesIndex = navigableSeries.length;\n        navigableSeries.push(internalSeries.series);\n      }\n    } else {\n      navigableSeries.push(internalSeries.series);\n    }\n  });\n  return { navigableSeries, navigableBarSeriesIndex };\n}\n\n/**\n * Checks if two x values are equal.\n * With a special treat for Date values which need to be converted to numbers first.\n */\nexport const matchesX = <T>(x1: T, x2: T) => {\n  if (x1 instanceof Date && x2 instanceof Date) {\n    return x1.getTime() === x2.getTime();\n  }\n  return x1 === x2;\n};\n\nexport type StackedBarValues = Map<string | number, Map<number, number>>;\n\n// Unlike for regular bars, stacked bar series values depend on the predecessors.\n// The function computes all stacked values grouped by X and series index.\nexport function calculateStackedBarValues(\n  dataBySeries: Array<readonly MixedLineBarChartProps.Datum<ChartDataTypes>[]>\n): StackedBarValues {\n  const negativeValues = new Map<string | number, number>();\n  const positiveValues = new Map<string | number, number>();\n  const values = new Map<string | number, Map<number, number>>();\n  for (let seriesIndex = 0; seriesIndex < dataBySeries.length; seriesIndex++) {\n    for (const datum of dataBySeries[seriesIndex]) {\n      const key = getKeyValue(datum.x);\n      if (datum.y < 0) {\n        negativeValues.set(key, (negativeValues.get(key) ?? 0) + datum.y);\n      } else {\n        positiveValues.set(key, (positiveValues.get(key) ?? 0) + datum.y);\n      }\n      const seriesValue = (datum.y < 0 ? negativeValues.get(key) : positiveValues.get(key)) ?? 0;\n      const valuesByIndex = values.get(key) ?? new Map<number, number>();\n      valuesByIndex.set(seriesIndex, seriesValue);\n      values.set(key, valuesByIndex);\n    }\n  }\n  return values;\n}\n\n/** Returns string or number value for ChartDataTypes key */\nexport const getKeyValue = (key: ChartDataTypes) => (key instanceof Date ? key.getTime() : key);\n\nexport function isYThreshold<T>(\n  series: MixedLineBarChartProps.ChartSeries<T>\n): series is MixedLineBarChartProps.YThresholdSeries {\n  return series.type === 'threshold' && 'y' in series;\n}\n\nexport function isXThreshold<T>(\n  series: MixedLineBarChartProps.ChartSeries<T>\n): series is MixedLineBarChartProps.XThresholdSeries<T> {\n  return series.type === 'threshold' && 'x' in series;\n}\n\nexport function isDataSeries<T>(\n  series: MixedLineBarChartProps.ChartSeries<T>\n): series is MixedLineBarChartProps.DataSeries<T> {\n  return series.type === 'line' || series.type === 'bar';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { ScaleContinuousNumeric, ScaleTime } from '../internal/vendor/d3-scale';\nimport { createOneSideRoundedRectPath } from './create-one-side-rounded-rect-path';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\nimport { getKeyValue, matchesX, StackedBarValues } from './utils';\n\nimport styles from './styles.css.js';\n\nexport interface BarSeriesProps<T> {\n  axis: 'x' | 'y';\n\n  series: MixedLineBarChartProps.BarDataSeries<T>;\n\n  color: string;\n  totalSeriesCount: number;\n  seriesIndex: number;\n\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n\n  plotSize: number;\n  chartAreaClipPath: string;\n\n  highlighted: boolean;\n  dimmed: boolean;\n  highlightedGroupIndex: number | null;\n\n  // Contains values to be used for stacked bars.\n  stackedBarValues?: StackedBarValues;\n\n  isRtl?: boolean;\n}\n\nexport default function BarSeries<T extends ChartDataTypes>({\n  axis,\n  series,\n  color,\n  xScale,\n  yScale,\n  highlighted,\n  dimmed,\n  highlightedGroupIndex,\n  totalSeriesCount,\n  seriesIndex,\n  plotSize,\n  chartAreaClipPath,\n  stackedBarValues,\n  isRtl,\n}: BarSeriesProps<T>) {\n  const isRefresh = useVisualRefresh();\n  const isStacked = !!stackedBarValues;\n  const isVertical = axis === 'x';\n\n  const xCoordinates = (() => {\n    if (series.type !== 'bar' || !xScale.isCategorical()) {\n      return [];\n    }\n\n    const yContinuosScale: ScaleContinuousNumeric<number, number> | ScaleTime<number, number> = yScale.d3Scale;\n    const xPoints = (series.data as ReadonlyArray<MixedLineBarChartProps.Datum<ChartDataTypes>>).map(\n      ({ x }) => xScale.d3Scale(x) || NaN\n    );\n\n    const zeroY = yScale.d3Scale(0) ?? NaN;\n    const baseY = isFinite(zeroY) ? Math.min(plotSize, zeroY) : plotSize;\n\n    let barWidth = xScale.d3Scale.bandwidth();\n\n    const PADDING = 4;\n    const MINWIDTH = 4;\n\n    if (!isStacked && totalSeriesCount > 1) {\n      // Regular grouped bars\n      barWidth = (barWidth - (totalSeriesCount - 1) * PADDING) / totalSeriesCount;\n      barWidth = Math.max(barWidth, MINWIDTH);\n    }\n\n    return xPoints.map((x, i) => {\n      const d = series.data[i];\n      const key = getKeyValue(d.x);\n      let barX = x;\n      let yValue = d.y;\n      let isRoundedStart = !isStacked;\n      let isRoundedEnd = !isStacked;\n\n      // Stacked bars\n      if (isStacked) {\n        const allXValues = stackedBarValues.get(key) ?? new Map();\n        yValue = allXValues.get(seriesIndex) ?? 0;\n        const allXValuesSorted = Array.from(allXValues.values()).sort((a, b) => a - b);\n        isRoundedStart = yValue === allXValuesSorted[0];\n        isRoundedEnd = yValue === allXValuesSorted[allXValuesSorted.length - 1];\n      }\n      // Regular grouped bars\n      else if (totalSeriesCount > 1) {\n        barX += seriesIndex * (barWidth + PADDING);\n      }\n\n      // Account for negative values growing \"down\" instead of \"up\"\n      yValue = yValue < 0 ? yValue - d.y : yValue;\n\n      return {\n        x: barX,\n        y: yContinuosScale(yValue) ?? NaN,\n        width: barWidth,\n        height: Math.abs((yContinuosScale(d.y) ?? NaN) - baseY),\n        isRoundedStart,\n        isRoundedEnd,\n      };\n    });\n  })();\n\n  const highlightedXValue = highlightedGroupIndex !== null ? xScale.domain[highlightedGroupIndex] : null;\n\n  return (\n    <g\n      aria-label={series.title}\n      clipPath={`url(#${chartAreaClipPath})`}\n      className={clsx(styles.series, styles['series--bar'], {\n        [styles['series--highlighted']]: highlighted,\n        [styles['series--dimmed']]: dimmed,\n      })}\n    >\n      {xCoordinates.map(({ x, y, width, height, isRoundedStart, isRoundedEnd }, i) => {\n        if (!isFinite(x) || !isFinite(height)) {\n          return;\n        }\n\n        // Create margins between stacked series but only when series data is not too small.\n        const baseHeightOffset = isStacked ? 3 : 0;\n        const isSmallBar = height < 4;\n        const heightOffset = isSmallBar ? 0 : baseHeightOffset;\n        const widthOffset = 2;\n\n        const rx = isRefresh ? (isSmallBar ? 2 : 4) : 0;\n        const placement = isVertical\n          ? {\n              x: x + widthOffset / 2,\n              y: y + heightOffset / 2,\n              width: width - widthOffset,\n              height: height - heightOffset,\n            }\n          : {\n              x: y - (!isRtl ? height : 0) + heightOffset / 2,\n              y: x + widthOffset / 2,\n              width: height - heightOffset,\n              height: width - widthOffset,\n            };\n\n        const className = clsx(styles.series__rect, {\n          [styles['series--dimmed']]: highlightedXValue !== null && !matchesX(highlightedXValue, series.data[i].x),\n        });\n        const styleProps = { fill: color, className };\n\n        let side: 'left' | 'right' | 'top' | 'bottom' | 'all' | 'none' = 'none';\n        if (isRoundedStart && isRoundedEnd) {\n          side = 'all';\n        } else if (!isRoundedStart && !isRoundedEnd) {\n          side = 'none';\n        } else if (isVertical) {\n          side = isRoundedStart ? 'bottom' : 'top';\n        } else if (!isRtl) {\n          side = isRoundedStart ? 'left' : 'right';\n        } else {\n          side = isRoundedStart ? 'right' : 'left';\n        }\n\n        if (side === 'all') {\n          return <rect key={i} {...placement} {...styleProps} rx={rx} />;\n        }\n        if (side === 'none') {\n          return <rect key={i} {...placement} {...styleProps} rx={0} />;\n        }\n        return <path key={i} d={createOneSideRoundedRectPath(placement, rx, side)} {...styleProps} />;\n      })}\n    </g>\n  );\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { line } from 'd3-shape';\n\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { MixedLineBarChartProps } from './interfaces';\nimport { isXThreshold, isYThreshold } from './utils';\n\nexport interface LineSeriesProps<T> {\n  axis: 'x' | 'y';\n  series: MixedLineBarChartProps.LineDataSeries<T> | MixedLineBarChartProps.ThresholdSeries<T>;\n\n  color: string;\n  chartAreaClipPath: string;\n\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n}\n\nexport default function LineSeries<T>({ axis, series, color, xScale, yScale, chartAreaClipPath }: LineSeriesProps<T>) {\n  const commonProps = { 'aria-hidden': true, stroke: color, clipPath: `url(#${chartAreaClipPath})` };\n\n  // Render data path. The chart orientation is ignored as only horizontally-oriented lines are supported.\n  if (series.type === 'line') {\n    const lineGenerator = line<MixedLineBarChartProps.Datum<T>>()\n      .x((d: MixedLineBarChartProps.Datum<T>) => {\n        let x = xScale.d3Scale(d.x as any) || 0;\n        if (xScale.isCategorical()) {\n          const offset = Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2;\n          x += offset;\n        }\n        return x;\n      })\n      .y((d: MixedLineBarChartProps.Datum<T>) => yScale.d3Scale(d.y) || 0);\n\n    // Filter out any data that is not part of the xScale\n    const visibleData = series.data.filter(({ x }) => xScale.d3Scale(x as any) !== undefined);\n\n    return (\n      <path\n        {...commonProps}\n        d={lineGenerator(visibleData as unknown as Array<MixedLineBarChartProps.Datum<T>>) || ''}\n      />\n    );\n  }\n  // Render a horizontal line (vertical if chart orientation is inverted).\n  else if (isYThreshold(series)) {\n    const [x1, x2] = xScale.d3Scale.range();\n    const y = yScale.d3Scale(series.y);\n    const coordinates = axis === 'x' ? { x1, x2, y1: y, y2: y } : { x1: y, x2: y, y1: x1, y2: x2 };\n    return <line {...commonProps} {...coordinates} />;\n  }\n  // Render a vertical line (horizontal if chart orientation is inverted).\n  // The offset is necessary for categorical scale to render the line in the middle of the category bar.\n  else if (isXThreshold(series)) {\n    const [y1, y2] = yScale.d3Scale.range();\n    const xOffset = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n    const x = (xScale.d3Scale(series.x as any) ?? NaN) + xOffset;\n    const coordinates = axis === 'x' ? { x1: x, x2: x, y1, y2 } : { x1: y1, x2: y2, y1: x, y2: x };\n    return <line {...commonProps} {...coordinates} />;\n  }\n  // Bar series are handled separately.\n  else {\n    return null;\n  }\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport BarSeries from './bar-series';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport LineSeries from './line-series';\nimport { calculateStackedBarValues } from './utils';\n\nimport styles from './styles.css.js';\n\n// Should have the same value as the `border-line-chart-width` token.\nconst STROKE_WIDTH = 2;\n\nexport interface DataSeriesProps<T> {\n  axis: 'x' | 'y';\n\n  plotHeight: number;\n  plotWidth: number;\n\n  highlightedSeries: MixedLineBarChartProps.ChartSeries<T> | null;\n  highlightedGroupIndex: number | null;\n\n  stackedBars: boolean;\n  isGroupNavigation: boolean;\n\n  visibleSeries: ReadonlyArray<InternalChartSeries<T>>;\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n  isRtl?: boolean;\n}\n\nexport default function DataSeries<T extends ChartDataTypes>({\n  axis,\n  plotHeight,\n  plotWidth,\n  highlightedGroupIndex,\n  highlightedSeries,\n  stackedBars,\n  isGroupNavigation,\n  visibleSeries,\n  xScale,\n  yScale,\n  isRtl,\n}: DataSeriesProps<T>) {\n  const chartAreaClipPath = useUniqueId('awsui-mixed-line-bar-chart__chart-area-');\n\n  // Lines get a small extra space at the top and bottom to account for the strokes when they are at the edge of the graph.\n  const lineAreaClipPath = useUniqueId('awsui-line-chart__chart-area-');\n\n  const stackedBarValues = useMemo(() => {\n    if (!stackedBars) {\n      return undefined;\n    }\n    const barData: Array<readonly MixedLineBarChartProps.Datum<ChartDataTypes>[]> = [];\n    visibleSeries.forEach(({ series }) => {\n      if (series.type === 'bar') {\n        barData.push(series.data);\n      } else {\n        barData.push([]);\n      }\n    });\n    return calculateStackedBarValues(barData);\n  }, [visibleSeries, stackedBars]);\n\n  return (\n    <>\n      <defs aria-hidden=\"true\">\n        <clipPath id={chartAreaClipPath}>\n          <rect x={0} y={0} width={plotWidth} height={plotHeight} />\n        </clipPath>\n        <clipPath id={lineAreaClipPath}>\n          <rect x={0} y={-STROKE_WIDTH / 2} width={plotWidth} height={plotHeight + STROKE_WIDTH} />\n        </clipPath>\n      </defs>\n      <g aria-hidden={isGroupNavigation ? true : undefined} role=\"group\">\n        {visibleSeries.map(({ series, color }, index) => {\n          const isHighlighted = series === highlightedSeries;\n          const isDimmed = !!highlightedSeries && !isHighlighted;\n\n          switch (series.type) {\n            case 'line':\n            case 'threshold': {\n              return (\n                <g\n                  key={index}\n                  role=\"group\"\n                  aria-label={series.title}\n                  className={clsx(styles.series, styles[`series--${series.type}`], {\n                    [styles['series--highlighted']]: isHighlighted,\n                    [styles['series--dimmed']]: isDimmed,\n                  })}\n                >\n                  <LineSeries\n                    axis={axis}\n                    series={series}\n                    color={color}\n                    xScale={xScale}\n                    yScale={yScale}\n                    chartAreaClipPath={lineAreaClipPath}\n                  />\n                </g>\n              );\n            }\n\n            case 'bar':\n              return (\n                <BarSeries\n                  key={index}\n                  axis={axis}\n                  series={series}\n                  color={color}\n                  totalSeriesCount={visibleSeries.filter(s => s.series.type === 'bar').length}\n                  seriesIndex={index}\n                  xScale={xScale}\n                  yScale={yScale}\n                  plotSize={axis === 'y' ? plotWidth : plotHeight}\n                  highlighted={isHighlighted}\n                  dimmed={isDimmed}\n                  chartAreaClipPath={chartAreaClipPath}\n                  stackedBarValues={stackedBarValues}\n                  highlightedGroupIndex={highlightedGroupIndex}\n                  isRtl={isRtl}\n                />\n              );\n          }\n        })}\n      </g>\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { CartesianChartProps } from '../internal/components/cartesian-chart/interfaces';\nimport { ChartSeriesDetailItem } from '../internal/components/chart-series-details';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { isDataSeries, isXThreshold, isYThreshold, matchesX } from './utils';\n\nexport interface HighlightDetails {\n  position: string;\n  details: ChartSeriesDetailItem[];\n}\n\n/** Formats provided x-position and its corresponding series values. */\nexport default function formatHighlighted<T extends ChartDataTypes>({\n  position,\n  series,\n  xTickFormatter,\n  detailPopoverSeriesContent,\n}: {\n  position: T;\n  series: readonly InternalChartSeries<T>[];\n  xTickFormatter?: CartesianChartProps.TickFormatter<T>;\n  detailPopoverSeriesContent?: MixedLineBarChartProps.DetailPopoverSeriesContent<T>;\n}): HighlightDetails {\n  const formattedPosition = xTickFormatter ? xTickFormatter(position) : position.toString();\n\n  const details: ChartSeriesDetailItem[] = [];\n  series.forEach(s => {\n    const detail = getSeriesDetail({ internalSeries: s, targetX: position, detailPopoverSeriesContent });\n    if (detail) {\n      details.push(detail);\n    }\n  });\n\n  return { position: formattedPosition, details };\n}\n\nfunction getSeriesDetail<T>({\n  internalSeries,\n  targetX,\n  detailPopoverSeriesContent,\n}: {\n  internalSeries: InternalChartSeries<T>;\n  targetX: T;\n  detailPopoverSeriesContent?: MixedLineBarChartProps.DetailPopoverSeriesContent<T>;\n}): ChartSeriesDetailItem | null {\n  const { series, color } = internalSeries;\n\n  // X-thresholds are only shown when X matches.\n  if (isXThreshold(series)) {\n    return series.x === targetX\n      ? {\n          key: series.title,\n          value: '',\n          color,\n          markerType: 'dashed',\n        }\n      : null;\n  }\n\n  if (isYThreshold(series)) {\n    return {\n      key: series.title,\n      value: series.valueFormatter ? series.valueFormatter(series.y) : series.y,\n      color,\n      markerType: 'dashed',\n    };\n  }\n\n  if (isDataSeries(series)) {\n    for (const datum of series.data) {\n      if (matchesX(targetX, datum.x)) {\n        const customContent = detailPopoverSeriesContent\n          ? detailPopoverSeriesContent({ series, x: targetX, y: datum.y })\n          : undefined;\n        const hasSubItems = !!customContent?.subItems?.length;\n        const isExpandable = customContent?.expandable && hasSubItems;\n        const isKeyString = typeof customContent?.key === 'string';\n        const key = customContent?.key && (!isExpandable || isKeyString) ? customContent.key : series.title;\n\n        if (customContent?.expandable && !hasSubItems) {\n          warnOnce(\n            'MixedLineBarChart',\n            '`expandable` was set to `true` for a series without sub-items. This property will be ignored.'\n          );\n        }\n        if (isExpandable && !isKeyString) {\n          warnOnce(\n            'MixedLineBarChart',\n            'A ReactNode was used for the key of an expandable series. The series title will be used instead because nested interactive elements can cause accessiblity issues.'\n          );\n        }\n        if (!isKeyString && !isExpandable && customContent?.value && typeof customContent.value !== 'string') {\n          warnOnce(\n            'MixedLineBarChart',\n            'Use a ReactNode for the key or the value of a series, but not for both. It is not recommended to use links for key and value at the same time.'\n          );\n        }\n\n        return {\n          key,\n          value: customContent?.value || (series.valueFormatter ? series.valueFormatter(datum.y, targetX) : datum.y),\n          color,\n          markerType: series.type === 'line' ? 'line' : 'rectangle',\n          subItems: customContent?.subItems,\n          expandableId: isExpandable ? series.title : undefined,\n        };\n      }\n    }\n  }\n\n  return null;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport { ChartPlotRef } from '../../internal/components/chart-plot';\nimport { VerticalMarkerX } from '../interfaces';\nimport { ScaledBarGroup } from '../make-scaled-bar-groups';\nimport { ScaledPoint } from '../make-scaled-series';\nimport { isYThreshold } from '../utils';\n\nimport styles from '../styles.css.js';\n\nconst MAX_HOVER_MARGIN = 6;\nconst POPOVER_DEADZONE = 12;\n\nexport interface UseMouseHoverProps<T> {\n  plotRef: React.RefObject<ChartPlotRef>;\n  popoverRef: React.RefObject<HTMLElement>;\n  scaledSeries: ReadonlyArray<ScaledPoint<T>>;\n  barGroups: ScaledBarGroup<T>[];\n  highlightPoint: (point: ScaledPoint<T> | null) => void;\n  highlightGroup: (groupIndex: number) => void;\n  clearHighlightedSeries: () => void;\n  isGroupNavigation: boolean;\n  isHandlersDisabled: boolean;\n  highlightX: (verticalMarker: VerticalMarkerX<T> | null) => void;\n}\n\nexport function useMouseHover<T>({\n  plotRef,\n  popoverRef,\n  scaledSeries,\n  barGroups,\n  highlightPoint,\n  highlightGroup,\n  clearHighlightedSeries,\n  isGroupNavigation,\n  isHandlersDisabled,\n  highlightX,\n}: UseMouseHoverProps<T>) {\n  const isMouseOverPopover = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    if (popoverRef.current?.firstChild) {\n      const popoverPosition = (popoverRef.current.firstChild as HTMLElement).getBoundingClientRect();\n      if (\n        event.clientX > popoverPosition.x - POPOVER_DEADZONE &&\n        event.clientX < popoverPosition.x + popoverPosition.width + POPOVER_DEADZONE &&\n        event.clientY > popoverPosition.y - POPOVER_DEADZONE &&\n        event.clientY < popoverPosition.y + popoverPosition.height + POPOVER_DEADZONE\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const onSeriesMouseMove = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    const svgRect = (event.target as SVGElement).getBoundingClientRect();\n    const offsetX = event.clientX - svgRect.left;\n\n    const closestX = scaledSeries\n      .map(v => v.x)\n      .reduce((prev, curr) => (Math.abs(curr - offsetX) < Math.abs(prev - offsetX) ? curr : prev), -Infinity);\n\n    if (isFinite(closestX)) {\n      const offsetY = event.clientY - svgRect.top;\n      const closestY = scaledSeries\n        .filter(v => v.x === closestX || isYThreshold(v.series))\n        .map(v => v.y)\n        .reduce((prev, curr) => (Math.abs(curr - offsetY) < Math.abs(prev - offsetY) ? curr : prev), -Infinity);\n\n      if (\n        isFinite(closestY) &&\n        Math.abs(offsetX - closestX) < MAX_HOVER_MARGIN &&\n        Math.abs(offsetY - closestY) < MAX_HOVER_MARGIN\n      ) {\n        const [{ color, datum, series }] = scaledSeries.filter(\n          s => (s.x === closestX || isYThreshold(s.series)) && s.y === closestY\n        );\n        highlightPoint({ x: closestX, y: closestY, color, datum, series });\n      } else {\n        let datumX = null;\n        for (const point of scaledSeries) {\n          if (point.x === closestX) {\n            datumX = point.datum?.x ?? null;\n            break;\n          }\n        }\n        highlightX({ scaledX: closestX, label: datumX });\n      }\n    }\n  };\n\n  const onGroupMouseMove = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    const svgRect = (event.target as SVGElement).getBoundingClientRect();\n    const offsetX = event.clientX - svgRect.left;\n    const offsetY = event.clientY - svgRect.top;\n\n    // If hovering over some group - highlight it.\n    for (let groupIndex = 0; groupIndex < barGroups.length; groupIndex++) {\n      const {\n        position: { x, y, width, height },\n      } = barGroups[groupIndex];\n\n      if (x <= offsetX && offsetX <= x + width && y <= offsetY && offsetY <= y + height) {\n        highlightGroup(groupIndex);\n        return;\n      }\n    }\n    // Otherwise - clear the highlight.\n    clearHighlightedSeries();\n  };\n\n  const onSVGMouseMove = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    if (event.target === plotRef.current!.svg && !isHandlersDisabled && !isMouseOverPopover(event)) {\n      if (isGroupNavigation) {\n        onGroupMouseMove(event);\n      } else if (scaledSeries.length > 0) {\n        onSeriesMouseMove(event);\n      }\n    }\n  };\n\n  const onSVGMouseOut = (event: React.MouseEvent<SVGElement, MouseEvent>) => {\n    if (isHandlersDisabled || isMouseOverPopover(event)) {\n      return;\n    }\n    if (\n      !nodeContains(plotRef.current!.svg, event.relatedTarget) ||\n      (event.relatedTarget && (event.relatedTarget as Element).classList.contains(styles.series))\n    ) {\n      highlightX(null);\n      clearHighlightedSeries();\n    }\n  };\n\n  const onPopoverLeave = (event: React.MouseEvent) => {\n    if (!isHandlersDisabled && nodeContains(plotRef.current!.svg, event.relatedTarget)) {\n      highlightX(null);\n      clearHighlightedSeries();\n    }\n  };\n\n  return { onSVGMouseMove, onSVGMouseOut, onPopoverLeave };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport { ChartScale, NumericChartScale } from '../../internal/components/cartesian-chart/scales';\nimport { KeyCode } from '../../internal/keycode';\nimport { circleIndex } from '../../internal/utils/circle-index';\nimport { ChartContainerProps } from '../chart-container';\nimport { ChartDataTypes, MixedLineBarChartProps, VerticalMarkerX } from '../interfaces';\nimport { ScaledBarGroup } from '../make-scaled-bar-groups';\nimport { ScaledPoint } from '../make-scaled-series';\nimport { findNavigableSeries, isXThreshold, isYThreshold, nextValidDomainIndex } from '../utils';\n\nexport type UseNavigationProps<T extends ChartDataTypes> = Pick<\n  ChartContainerProps<T>,\n  'highlightedSeries' | 'series' | 'visibleSeries'\n> & {\n  xScale: ChartScale;\n  yScale: NumericChartScale;\n  barGroups: ScaledBarGroup<T>[];\n  scaledSeries: ReadonlyArray<ScaledPoint<T>>;\n\n  highlightedPoint: ScaledPoint<T> | null;\n  highlightedGroupIndex: number | null;\n  isHandlersDisabled: boolean;\n\n  pinPopover(pinned?: boolean): void;\n  highlightSeries(series: MixedLineBarChartProps.ChartSeries<T> | null): void;\n  highlightGroup(groupIndex: number): void;\n  highlightPoint(point: ScaledPoint<T> | null): void;\n  highlightX: (verticalMarker: VerticalMarkerX<T> | null) => void;\n  clearHighlightedSeries(): void;\n  verticalMarkerX: VerticalMarkerX<T> | null;\n\n  isRtl?: boolean;\n  horizontalBars: boolean;\n};\n\nexport function useNavigation<T extends ChartDataTypes>({\n  series,\n  visibleSeries,\n  scaledSeries,\n  barGroups,\n  xScale,\n  yScale,\n  highlightedPoint,\n  highlightedGroupIndex,\n  highlightedSeries,\n  isHandlersDisabled,\n  pinPopover,\n  highlightSeries,\n  highlightGroup,\n  highlightPoint,\n  highlightX,\n  verticalMarkerX,\n  isRtl,\n  horizontalBars,\n}: UseNavigationProps<T>) {\n  const [targetX, setTargetX] = useState<T | null>(null);\n  const [xIndex, setXIndex] = useState(0);\n\n  // There are two different types of navigation:\n  // 1) Group navigation for any chart that contains a bar series\n  // 2) Line navigation for any chart that only contains lines and thresholds\n  const isGroupNavigation = useMemo(() => visibleSeries.some(({ series }) => series.type === 'bar'), [visibleSeries]);\n\n  // Make a list of series that can be navigated between. Bar series are treated as one.\n  const { navigableSeries } = useMemo(() => findNavigableSeries(visibleSeries), [visibleSeries]);\n  const containsMultipleSeries = navigableSeries.length > 1;\n\n  const onBarGroupFocus = () => {\n    const groupIndex = highlightedGroupIndex ?? 0;\n    setTargetX((xScale.domain as T[])[groupIndex]);\n    highlightGroup(groupIndex);\n  };\n\n  const onLineFocus = () => {\n    if (verticalMarkerX === null) {\n      const index = !isRtl ? 0 : allUniqueX.length - 1;\n      if (containsMultipleSeries) {\n        moveToLineGroupIndex(index);\n      } else {\n        moveBetweenSeries(0, allUniqueX[index].datum?.x);\n      }\n    }\n  };\n\n  const onFocus = () => {\n    if (isGroupNavigation) {\n      onBarGroupFocus();\n    } else {\n      onLineFocus();\n    }\n  };\n\n  // Returns all the unique X coordinates in scaledSeries.\n  // Assumes scaledSeries is sorted by `x`.\n  const allUniqueX = useMemo(() => {\n    const result = [];\n    for (let i = 0; i < scaledSeries.length; i += 1) {\n      const point = scaledSeries[i];\n      if (point !== undefined && (!result.length || result[result.length - 1].scaledX !== point.x)) {\n        result.push({ scaledX: point.x, datum: point.datum });\n      }\n    }\n    return result;\n  }, [scaledSeries]);\n\n  const moveBetweenSeries = useCallback(\n    (direction: number, startFrom?: T) => {\n      if (isGroupNavigation) {\n        return;\n      }\n\n      const xOffset = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n      const MAX_SERIES_INDEX = navigableSeries.length - 1;\n\n      // Find the index of the currently highlighted series (if any)\n      let previousSeriesIndex = -1;\n      if (highlightedSeries) {\n        previousSeriesIndex = navigableSeries.indexOf(highlightedSeries);\n      }\n\n      // Move forwards or backwards to the new series\n      // If index === -1, show all data points from all series at the given X instead of one single series\n      const firstPossibleIndex = containsMultipleSeries ? -1 : 0;\n      let nextSeriesIndex = 0;\n      if (previousSeriesIndex !== null) {\n        nextSeriesIndex = previousSeriesIndex + direction;\n        if (nextSeriesIndex > MAX_SERIES_INDEX) {\n          nextSeriesIndex = firstPossibleIndex;\n        } else if (nextSeriesIndex < firstPossibleIndex) {\n          nextSeriesIndex = MAX_SERIES_INDEX;\n        }\n      }\n      if (nextSeriesIndex === -1) {\n        highlightSeries(null);\n        highlightPoint(null);\n        return;\n      }\n      const nextSeries = navigableSeries[nextSeriesIndex];\n      const nextInternalSeries = series.filter(({ series }) => series === nextSeries)[0];\n\n      const actualTargetX = targetX ?? startFrom ?? null;\n\n      // 2. Find point in the next series\n      let targetXPoint = (xScale.d3Scale(actualTargetX as any) ?? NaN) + xOffset;\n      if (!isFinite(targetXPoint)) {\n        targetXPoint = 0;\n      }\n\n      if (nextSeries.type === 'line') {\n        const nextScaledSeries = scaledSeries.filter(it => it.series === nextSeries);\n        const closestNextSeriesPoint = nextScaledSeries.reduce(\n          (prev, curr) => (Math.abs(curr.x - targetXPoint) < Math.abs(prev.x - targetXPoint) ? curr : prev),\n          { x: -Infinity, y: -Infinity }\n        );\n        highlightPoint({ ...closestNextSeriesPoint, color: nextInternalSeries.color, series: nextSeries });\n      } else if (isYThreshold(nextSeries)) {\n        const scaledTargetIndex = scaledSeries.map(it => it.datum?.x || null).indexOf(actualTargetX);\n        highlightPoint({\n          x: targetXPoint,\n          y: yScale.d3Scale(nextSeries.y) ?? NaN,\n          color: nextInternalSeries.color,\n          series: nextSeries,\n          datum: scaledSeries[scaledTargetIndex]?.datum,\n        });\n      } else if (isXThreshold(nextSeries)) {\n        highlightPoint({\n          x: xScale.d3Scale(nextSeries.x as any) ?? NaN,\n          y: yScale.d3Scale.range()[0],\n          color: nextInternalSeries.color,\n          series: nextSeries,\n          datum: { x: nextSeries.x, y: NaN },\n        });\n      }\n    },\n    [\n      isGroupNavigation,\n      xScale,\n      navigableSeries,\n      highlightedSeries,\n      containsMultipleSeries,\n      highlightSeries,\n      highlightPoint,\n      series,\n      targetX,\n      scaledSeries,\n      yScale,\n    ]\n  );\n\n  const moveWithinSeries = useCallback(\n    (direction: number) => {\n      const series = highlightedSeries || visibleSeries[0].series;\n\n      if (series.type === 'line' || isYThreshold(series)) {\n        const targetScaledSeries = scaledSeries.filter(it => it.series === series);\n        const previousPoint = highlightedPoint || targetScaledSeries[0];\n        const indexOfPreviousPoint = targetScaledSeries.map(it => it.x).indexOf(previousPoint.x);\n        const nextPointIndex = circleIndex(indexOfPreviousPoint + direction, [0, targetScaledSeries.length - 1]);\n        const nextPoint = targetScaledSeries[nextPointIndex];\n\n        setTargetX(nextPoint.datum?.x || null);\n        setXIndex(nextPointIndex);\n        highlightPoint(nextPoint);\n      } else if (series.type === 'bar') {\n        const xDomain = xScale.domain as T[];\n        const MAX_GROUP_INDEX = xDomain.length - 1;\n\n        let nextGroupIndex = 0;\n        if (highlightedGroupIndex !== null) {\n          if (isRtl && !horizontalBars) {\n            direction = -direction;\n          }\n\n          // find next group\n          nextGroupIndex = highlightedGroupIndex + direction;\n          if (nextGroupIndex > MAX_GROUP_INDEX) {\n            nextGroupIndex = 0;\n          } else if (nextGroupIndex < 0) {\n            nextGroupIndex = MAX_GROUP_INDEX;\n          }\n        }\n\n        const nextDomainIndex = nextValidDomainIndex(nextGroupIndex, barGroups, direction);\n        setTargetX(xDomain[nextDomainIndex]);\n        highlightGroup(nextDomainIndex);\n      }\n    },\n    [\n      highlightedSeries,\n      visibleSeries,\n      scaledSeries,\n      highlightedPoint,\n      highlightPoint,\n      xScale.domain,\n      highlightedGroupIndex,\n      barGroups,\n      highlightGroup,\n      isRtl,\n      horizontalBars,\n    ]\n  );\n\n  const moveToLineGroupIndex = useCallback(\n    (index: number) => {\n      const point = allUniqueX[index];\n      setXIndex(index);\n      setTargetX(point.datum?.x || null);\n      highlightX({ scaledX: point?.scaledX ?? null, label: point.datum?.x ?? null });\n    },\n    [allUniqueX, highlightX]\n  );\n\n  const moveWithinXAxis = useCallback(\n    (direction: number) => {\n      if (highlightedSeries || isGroupNavigation) {\n        moveWithinSeries(direction);\n      } else {\n        const nextPointGroupIndex = circleIndex(xIndex + direction, [0, allUniqueX.length - 1]);\n        moveToLineGroupIndex(nextPointGroupIndex);\n      }\n    },\n    [highlightedSeries, isGroupNavigation, moveWithinSeries, xIndex, allUniqueX.length, moveToLineGroupIndex]\n  );\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const keyCode = event.keyCode;\n      if (\n        keyCode !== KeyCode.up &&\n        keyCode !== KeyCode.right &&\n        keyCode !== KeyCode.down &&\n        keyCode !== KeyCode.left &&\n        keyCode !== KeyCode.space &&\n        keyCode !== KeyCode.enter\n      ) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (isHandlersDisabled) {\n        return;\n      }\n\n      if (keyCode === KeyCode.down || keyCode === KeyCode.up) {\n        moveBetweenSeries(keyCode === KeyCode.down ? 1 : -1);\n      } else if (keyCode === KeyCode.left || keyCode === KeyCode.right) {\n        moveWithinXAxis(keyCode === KeyCode.right ? 1 : -1);\n      } else if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\n        pinPopover();\n      }\n    },\n    [isHandlersDisabled, moveBetweenSeries, moveWithinXAxis, pinPopover]\n  );\n\n  return { isGroupNavigation, onFocus, onKeyDown, xIndex };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { isXThreshold, isYThreshold } from './utils';\n\nexport interface ScaledPoint<T> {\n  x: number;\n  y: number;\n  color: string;\n  datum?: MixedLineBarChartProps.Datum<T> | undefined;\n  series: MixedLineBarChartProps.ChartSeries<T>;\n}\n\n/** Combine all line series into an array of scaled data points with the given scales. */\nexport default function makeScaledSeries<T extends ChartDataTypes>(\n  allSeries: ReadonlyArray<InternalChartSeries<T>>,\n  xScale: ChartScale,\n  yScale: NumericChartScale\n): readonly ScaledPoint<T>[] {\n  const xOffset = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n  const scaleX = (x: T) => (xScale.d3Scale(x as any) || 0) + xOffset;\n  const scaleY = (y: number) => yScale.d3Scale(y) || 0;\n  const allX = getAllX(allSeries);\n\n  function mergeLineSeriesPointsWithXThresholds(\n    scaledPoints: ScaledPoint<T>[],\n    xThresholdSeries: MixedLineBarChartProps.ThresholdSeries<T> & { x: T },\n    xThresholdSeriesColor: string\n  ) {\n    const x = scaleX(xThresholdSeries.x);\n\n    // Locate a point the x-threshold can be inserted after (if such exists).\n    let bisectIndex = -1;\n    for (let i = 0; i < scaledPoints.length - 1; i++) {\n      if (scaledPoints[i].x < x && x < scaledPoints[i + 1].x) {\n        bisectIndex = i;\n        break;\n      }\n    }\n\n    // Insert x-threshold point into the given series using extrapolated Y value.\n    // The extrapolated value is only used to render highlighted point on the chart plot.\n    if (bisectIndex !== -1) {\n      const prevY = scaledPoints[bisectIndex].datum?.y || 0;\n      const nextY = scaledPoints[bisectIndex + 1].datum?.y || 0;\n      const averageY = (prevY + nextY) / 2;\n      scaledPoints.push({\n        x: x,\n        y: scaleY(averageY),\n        datum: { x: xThresholdSeries.x, y: NaN },\n        series: scaledPoints[bisectIndex].series,\n        color: xThresholdSeriesColor,\n      });\n    }\n  }\n\n  const scaledSeriesX = allSeries.map(({ series, color }) => {\n    const scaledPoints: ScaledPoint<T>[] = [];\n\n    // Scale and add all line series data points.\n    if (series.type === 'line') {\n      for (const datum of series.data as MixedLineBarChartProps.Datum<T>[]) {\n        scaledPoints.push({ x: scaleX(datum.x), y: scaleY(datum.y), datum, series, color });\n      }\n\n      // Sort scaled points to ensure correct x-thresholds insertion.\n      scaledPoints.sort((s1, s2) => s1.x - s2.x);\n\n      // Merge x-thresholds into series if they don't have a shared coordinate.\n      for (const otherSeries of allSeries) {\n        if (isXThreshold(otherSeries.series)) {\n          mergeLineSeriesPointsWithXThresholds(scaledPoints, otherSeries.series, otherSeries.color);\n        }\n      }\n    }\n    // Y-thresholds only have Y. To make thresholds navigable they are mapped to all defined X values.\n    else if (isYThreshold(series)) {\n      for (const x of allX) {\n        scaledPoints.push({ x: scaleX(x), y: scaleY(series.y), datum: { x, y: series.y }, series, color });\n      }\n      // Support threshold-only setup.\n      if (allX.length === 0) {\n        scaledPoints.push({ x: NaN, y: scaleY(series.y), series, color });\n      }\n    }\n    // X-thresholds only have X. The y value is taken as NaN which means there is no associated point - only vertical marker.\n    else if (isXThreshold(series)) {\n      scaledPoints.push({ x: scaleX(series.x), y: NaN, datum: { x: series.x, y: NaN }, series, color });\n    }\n    // Bar series are handled separately.\n    return scaledPoints;\n  });\n\n  // Sort scaled points by x to ensure their order matches visual order in the chart to support navigation.\n  return flatten(scaledSeriesX).sort((s1, s2) => s1.x - s2.x);\n}\n\n/** Collect unique x values from all data series. */\nfunction getAllX<T>(series: ReadonlyArray<InternalChartSeries<T>>) {\n  const addDataXSet = new Set<T>();\n  for (const { series: s } of series) {\n    switch (s.type) {\n      // Add all X values from data series.\n      case 'bar':\n      case 'line':\n        for (const d of s.data) {\n          addDataXSet.add(d.x);\n        }\n        break;\n\n      case 'threshold':\n        // X-thresholds have a single X value.\n        if (isXThreshold(s)) {\n          addDataXSet.add(s.x);\n        }\n        // Thresholds don't have X values.\n        break;\n    }\n  }\n  const allDataX: T[] = [];\n  addDataXSet.forEach(x => allDataX.push(x));\n\n  return allDataX;\n}\n\nfunction flatten<T>(arrays: T[][]): T[] {\n  const merged: T[] = [];\n  for (const array of arrays) {\n    for (const item of array) {\n      merged.push(item);\n    }\n  }\n  return merged;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\n\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nimport AxisLabel from '../internal/components/cartesian-chart/axis-label';\nimport BlockEndLabels, { useBLockEndLabels } from '../internal/components/cartesian-chart/block-end-labels';\nimport { CartesianChartContainer } from '../internal/components/cartesian-chart/chart-container';\nimport EmphasizedBaseline from '../internal/components/cartesian-chart/emphasized-baseline';\nimport HighlightedPoint from '../internal/components/cartesian-chart/highlighted-point';\nimport InlineStartLabels from '../internal/components/cartesian-chart/inline-start-labels';\nimport { CartesianChartProps } from '../internal/components/cartesian-chart/interfaces';\nimport LabelsMeasure from '../internal/components/cartesian-chart/labels-measure';\nimport { ChartScale, NumericChartScale } from '../internal/components/cartesian-chart/scales';\nimport { createXTicks, createYTicks, getXTickCount, getYTickCount } from '../internal/components/cartesian-chart/ticks';\nimport VerticalGridLines from '../internal/components/cartesian-chart/vertical-grid-lines';\nimport VerticalMarker from '../internal/components/cartesian-chart/vertical-marker';\nimport ChartPlot, { ChartPlotRef } from '../internal/components/chart-plot';\nimport { useHeightMeasure } from '../internal/hooks/container-queries/use-height-measure';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport BarGroups from './bar-groups';\nimport MixedChartPopover from './chart-popover';\nimport DataSeries from './data-series';\nimport { computeDomainX, computeDomainY } from './domain';\nimport formatHighlighted from './format-highlighted';\nimport { useMouseHover } from './hooks/use-mouse-hover';\nimport { useNavigation } from './hooks/use-navigation';\nimport { usePopover } from './hooks/use-popover';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps, ScaleType, VerticalMarkerX } from './interfaces';\nimport makeScaledBarGroups, { ScaledBarGroup } from './make-scaled-bar-groups';\nimport makeScaledSeries, { ScaledPoint } from './make-scaled-series';\nimport { isXThreshold } from './utils';\n\nconst INLINE_START_LABELS_MARGIN = 16;\nconst BLOCK_END_LABELS_OFFSET = 12;\n\ntype TickFormatter = undefined | ((value: ChartDataTypes) => string);\n\nexport interface ChartContainerProps<T extends ChartDataTypes> {\n  series: ReadonlyArray<InternalChartSeries<T>>;\n  visibleSeries: ReadonlyArray<InternalChartSeries<T>>;\n\n  fitHeight?: boolean;\n  height: number;\n  detailPopoverSize: MixedLineBarChartProps<T>['detailPopoverSize'];\n  detailPopoverFooter: MixedLineBarChartProps<T>['detailPopoverFooter'];\n\n  xScaleType: ScaleType;\n  yScaleType: 'linear' | 'log';\n\n  xDomain: MixedLineBarChartProps<T>['xDomain'];\n  yDomain: MixedLineBarChartProps<T>['yDomain'];\n\n  xTickFormatter?: CartesianChartProps.TickFormatter<T>;\n  yTickFormatter?: CartesianChartProps.TickFormatter<number>;\n\n  xTitle?: string;\n  yTitle?: string;\n\n  stackedBars?: boolean;\n  emphasizeBaselineAxis: boolean;\n  horizontalBars?: boolean;\n\n  highlightedSeries?: MixedLineBarChartProps<T>['highlightedSeries'];\n  onHighlightChange: (series: InternalChartSeries<T>['series'] | null) => void;\n  highlightedPoint: ScaledPoint<T> | null;\n  setHighlightedPoint: (point: ScaledPoint<T> | null) => void;\n  highlightedGroupIndex: number | null;\n  setHighlightedGroupIndex: (groupIndex: number | null) => void;\n\n  ariaLabel: MixedLineBarChartProps<T>['ariaLabel'];\n  ariaLabelledby: MixedLineBarChartProps<T>['ariaLabelledby'];\n  ariaDescription: MixedLineBarChartProps<T>['ariaDescription'];\n  i18nStrings: MixedLineBarChartProps<T>['i18nStrings'];\n\n  detailPopoverSeriesContent?: MixedLineBarChartProps.DetailPopoverSeriesContent<T>;\n}\n\ninterface BaseAxisProps {\n  tickCount: number;\n  tickFormatter: TickFormatter;\n  title?: string;\n  ariaRoleDescription?: string;\n}\n\ninterface XAxisProps extends BaseAxisProps {\n  axis: 'x';\n  scale: ChartScale;\n  ticks: ChartDataTypes[];\n}\n\ninterface YAxisProps extends BaseAxisProps {\n  axis: 'y';\n  scale: NumericChartScale;\n  ticks: number[];\n}\n\nconst fallbackContainerWidth = 500;\n\nexport default function ChartContainer<T extends ChartDataTypes>({\n  fitHeight,\n  height: explicitPlotHeight,\n  series,\n  visibleSeries,\n  highlightedSeries,\n  onHighlightChange,\n  highlightedPoint,\n  setHighlightedPoint,\n  highlightedGroupIndex,\n  setHighlightedGroupIndex,\n  detailPopoverFooter,\n  detailPopoverSize = 'medium',\n  stackedBars = false,\n  horizontalBars = false,\n  xScaleType,\n  yScaleType,\n  xTickFormatter,\n  yTickFormatter,\n  emphasizeBaselineAxis,\n  xTitle,\n  yTitle,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  i18nStrings = {},\n  detailPopoverSeriesContent,\n  ...props\n}: ChartContainerProps<T>) {\n  const plotRef = useRef<ChartPlotRef>(null);\n  const verticalMarkerRef = useRef<SVGLineElement>(null);\n\n  const [inlineStartLabelsWidth, setInlineStartLabelsWidth] = useState(0);\n  const [verticalMarkerX, setVerticalMarkerX] = useState<VerticalMarkerX<T> | null>(null);\n  const [detailsPopoverText, setDetailsPopoverText] = useState('');\n  const [containerWidth, containerMeasureRef] = useContainerWidth(fallbackContainerWidth);\n  const maxInlineStartLabelsWidth = Math.round(containerWidth / 2);\n  const plotWidth = containerWidth\n    ? // Calculate the minimum between inlineStartLabelsWidth and maxInlineStartLabelsWidth for extra safety because inlineStarteLabelsWidth could be out of date\n      Math.max(\n        0,\n        containerWidth - Math.min(inlineStartLabelsWidth, maxInlineStartLabelsWidth) - INLINE_START_LABELS_MARGIN\n      )\n    : fallbackContainerWidth;\n  const containerRefObject = useRef(null);\n  const containerRef = useMergeRefs(containerMeasureRef, containerRefObject);\n  const popoverRef = useRef<HTMLElement | null>(null);\n\n  const isRtl = getIsRtl(containerRefObject.current);\n\n  const xDomain = (props.xDomain || computeDomainX(series, xScaleType)) as\n    | readonly number[]\n    | readonly string[]\n    | readonly Date[];\n  const yDomain = (props.yDomain || computeDomainY(series, yScaleType, stackedBars)) as readonly number[];\n\n  const linesOnly = series.every(({ series }) => series.type === 'line' || series.type === 'threshold');\n\n  function getXAxisProps(size: number, range: [from: number, until: number]): XAxisProps {\n    const tickCount = getXTickCount(size);\n    const scale = new ChartScale(xScaleType, xDomain, range, linesOnly);\n    const ticks = createXTicks(scale, tickCount);\n    return {\n      axis: 'x',\n      tickCount,\n      scale,\n      ticks,\n      tickFormatter: xTickFormatter as TickFormatter,\n      title: xTitle,\n      ariaRoleDescription: i18nStrings.xAxisAriaRoleDescription,\n    };\n  }\n\n  function getYAxisProps(size: number, range: [from: number, until: number]): YAxisProps {\n    const tickCount = getYTickCount(size);\n    const scale = new NumericChartScale(yScaleType, yDomain, range, props.yDomain ? null : tickCount);\n    const ticks = createYTicks(scale, tickCount);\n    return {\n      axis: 'y',\n      tickCount,\n      scale,\n      ticks,\n      tickFormatter: yTickFormatter as TickFormatter,\n      title: yTitle,\n      ariaRoleDescription: i18nStrings.yAxisAriaRoleDescription,\n    };\n  }\n\n  const bottomAxisProps = !horizontalBars\n    ? getXAxisProps(plotWidth, !isRtl ? [0, plotWidth] : [plotWidth, 0])\n    : getYAxisProps(plotWidth, !isRtl ? [0, plotWidth] : [plotWidth, 0]);\n  const blockEndLabelsProps = useBLockEndLabels({ ...bottomAxisProps });\n\n  const plotMeasureRef = useRef<SVGLineElement>(null);\n  const measuredHeight = useHeightMeasure(() => plotMeasureRef.current, !fitHeight);\n  const plotHeight = fitHeight ? measuredHeight ?? 0 : explicitPlotHeight;\n\n  const leftAxisProps = !horizontalBars\n    ? getYAxisProps(plotHeight, [plotHeight, 0])\n    : getXAxisProps(plotHeight, [0, plotHeight]);\n\n  const xAxisProps = bottomAxisProps.axis === 'x' ? bottomAxisProps : leftAxisProps.axis === 'x' ? leftAxisProps : null;\n  const yAxisProps = bottomAxisProps.axis === 'y' ? bottomAxisProps : leftAxisProps.axis === 'y' ? leftAxisProps : null;\n  if (!xAxisProps || !yAxisProps) {\n    throw new Error('Invariant violation: invalid axis props.');\n  }\n\n  /**\n   * Interactions\n   */\n  const highlightedPointRef = useRef<SVGGElement>(null);\n  const highlightedGroupRef = useRef<SVGRectElement>(null);\n\n  // Some chart components are rendered against \"x\" or \"y\" axes,\n  // When \"horizontalBars\" is enabled, the axes are inverted.\n  const x = !horizontalBars ? 'x' : 'y';\n  const y = !horizontalBars ? 'y' : 'x';\n\n  const scaledSeries = makeScaledSeries(visibleSeries, xAxisProps.scale, yAxisProps.scale);\n  const barGroups: ScaledBarGroup<T>[] = makeScaledBarGroups(visibleSeries, xAxisProps.scale, plotWidth, plotHeight, y);\n\n  const { isPopoverOpen, isPopoverPinned, showPopover, pinPopover, dismissPopover } = usePopover();\n\n  // Allows to add a delay between popover is dismissed and handlers are enabled to prevent immediate popover reopening.\n  const [isHandlersDisabled, setHandlersDisabled] = useState(!isPopoverPinned);\n  useEffect(() => {\n    if (isPopoverPinned) {\n      setHandlersDisabled(true);\n    } else {\n      const timeoutId = setTimeout(() => setHandlersDisabled(false), 25);\n      return () => clearTimeout(timeoutId);\n    }\n  }, [isPopoverPinned]);\n\n  const highlightSeries = useCallback(\n    (series: MixedLineBarChartProps.ChartSeries<T> | null) => {\n      if (series !== highlightedSeries) {\n        onHighlightChange(series);\n      }\n    },\n    [highlightedSeries, onHighlightChange]\n  );\n\n  const highlightPoint = useCallback(\n    (point: ScaledPoint<T> | null) => {\n      setHighlightedGroupIndex(null);\n      setHighlightedPoint(point);\n      if (point) {\n        highlightSeries(point.series);\n        setVerticalMarkerX({\n          scaledX: point.x,\n          label: point.datum?.x ?? null,\n        });\n      }\n    },\n    [setHighlightedGroupIndex, setHighlightedPoint, highlightSeries]\n  );\n\n  const clearAllHighlights = useCallback(() => {\n    setHighlightedPoint(null);\n    highlightSeries(null);\n    setHighlightedGroupIndex(null);\n  }, [highlightSeries, setHighlightedGroupIndex, setHighlightedPoint]);\n\n  // Highlight all points at a given X in a line chart\n  const highlightX = useCallback(\n    (marker: VerticalMarkerX<T> | null) => {\n      if (marker) {\n        clearAllHighlights();\n      }\n      setVerticalMarkerX(marker);\n    },\n    [clearAllHighlights]\n  );\n\n  // Highlight all points and bars at a given X index in a mixed line and bar chart\n  const highlightGroup = useCallback(\n    (groupIndex: number) => {\n      highlightSeries(null);\n      setHighlightedPoint(null);\n      setHighlightedGroupIndex(groupIndex);\n    },\n    [highlightSeries, setHighlightedPoint, setHighlightedGroupIndex]\n  );\n\n  const clearHighlightedSeries = useCallback(() => {\n    clearAllHighlights();\n    dismissPopover();\n  }, [dismissPopover, clearAllHighlights]);\n\n  const { isGroupNavigation, ...handlers } = useNavigation({\n    series,\n    visibleSeries,\n    scaledSeries,\n    barGroups,\n    xScale: xAxisProps.scale,\n    yScale: yAxisProps.scale,\n    highlightedPoint,\n    highlightedGroupIndex,\n    highlightedSeries,\n    isHandlersDisabled,\n    pinPopover,\n    highlightSeries,\n    highlightGroup,\n    highlightPoint,\n    highlightX,\n    clearHighlightedSeries,\n    verticalMarkerX,\n    isRtl: !!isRtl,\n    horizontalBars,\n  });\n\n  const { onSVGMouseMove, onSVGMouseOut, onPopoverLeave } = useMouseHover<T>({\n    scaledSeries,\n    barGroups,\n    plotRef,\n    popoverRef,\n    highlightPoint,\n    highlightGroup,\n    clearHighlightedSeries,\n    isGroupNavigation,\n    isHandlersDisabled,\n    highlightX,\n  });\n\n  // There are multiple ways to indicate what X is selected.\n  // TODO: make a uniform verticalMarkerX state to fit all use-cases.\n  const highlightedX = useMemo(() => {\n    if (highlightedGroupIndex !== null) {\n      return barGroups[highlightedGroupIndex].x;\n    }\n    if (verticalMarkerX !== null) {\n      return verticalMarkerX.label;\n    }\n    return highlightedPoint?.datum?.x ?? null;\n  }, [highlightedPoint, verticalMarkerX, highlightedGroupIndex, barGroups]);\n\n  useEffect(() => {\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        dismissPopover();\n      }\n    };\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [dismissPopover]);\n\n  useLayoutEffect(() => {\n    if (highlightedX !== null || highlightedPoint !== null) {\n      showPopover();\n    }\n  }, [highlightedX, highlightedPoint, showPopover]);\n\n  const onPopoverDismiss = (outsideClick?: boolean) => {\n    dismissPopover();\n\n    if (!outsideClick) {\n      // The delay is needed to bypass focus events caused by click or keypress needed to unpin the popover.\n      setTimeout(() => {\n        const isSomeElementHighlighted = !!(highlightedPoint || highlightedGroupIndex !== null || verticalMarkerX);\n        if (isSomeElementHighlighted) {\n          plotRef.current?.focusApplication();\n        } else {\n          plotRef.current?.focusPlot();\n        }\n      }, 0);\n    } else {\n      clearAllHighlights();\n      setVerticalMarkerX(null);\n    }\n  };\n\n  const onSVGClick = (e: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    if (isPopoverOpen) {\n      if (isPopoverPinned) {\n        dismissPopover();\n      } else {\n        pinPopover();\n        e.preventDefault();\n      }\n    } else {\n      showPopover();\n    }\n  };\n\n  const onApplicationFocus = (event: React.FocusEvent, trigger: 'mouse' | 'keyboard') => {\n    if (trigger === 'keyboard') {\n      handlers.onFocus();\n    } else {\n      // noop: clicks are handled separately\n    }\n  };\n\n  const onApplicationBlur = (event: React.FocusEvent<Element>) => {\n    const blurTarget = event.relatedTarget || event.target;\n    if (\n      blurTarget === null ||\n      !(blurTarget instanceof Element) ||\n      !nodeBelongs(containerRefObject.current, blurTarget)\n    ) {\n      clearHighlightedSeries();\n      setVerticalMarkerX(null);\n\n      if (isPopoverOpen && !isPopoverPinned) {\n        dismissPopover();\n      }\n    }\n  };\n\n  const onSVGKeyDown = handlers.onKeyDown;\n\n  const xOffset = xAxisProps.scale.isCategorical() ? Math.max(0, xAxisProps.scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  let verticalLineX: number | null = null;\n  if (verticalMarkerX !== null) {\n    verticalLineX = verticalMarkerX.scaledX;\n  } else if (isGroupNavigation && highlightedGroupIndex !== null) {\n    const x = xAxisProps.scale.d3Scale(barGroups[highlightedGroupIndex].x as any) ?? null;\n    if (x !== null) {\n      verticalLineX = xOffset + x;\n    }\n  }\n\n  const point = useMemo(\n    () =>\n      highlightedPoint\n        ? {\n            key: `${highlightedPoint.x}-${highlightedPoint.y}`,\n            x: highlightedPoint.x,\n            y: highlightedPoint.y,\n            color: highlightedPoint.color,\n          }\n        : null,\n    [highlightedPoint]\n  );\n\n  const verticalMarkers = useMemo(\n    () =>\n      verticalLineX !== null\n        ? scaledSeries\n            .filter(({ x, y }) => (x === verticalLineX || isNaN(x)) && !isNaN(y))\n            .map(({ x, y, color }, index) => ({\n              key: `${index}-${x}-${y}`,\n              x: !horizontalBars ? verticalLineX || 0 : y,\n              y: !horizontalBars ? y : verticalLineX || 0,\n              color: color,\n            }))\n        : [],\n    [scaledSeries, verticalLineX, horizontalBars]\n  );\n\n  const highlightedElementRef = isGroupNavigation\n    ? highlightedGroupRef\n    : highlightedPoint\n      ? highlightedPointRef\n      : verticalMarkerRef;\n\n  const highlightDetails = useMemo(() => {\n    if (highlightedX === null) {\n      return null;\n    }\n\n    // When series point is highlighted show the corresponding series and matching x-thresholds.\n    if (highlightedPoint) {\n      const seriesToShow = visibleSeries.filter(\n        series => series.series === highlightedPoint?.series || isXThreshold(series.series)\n      );\n      return formatHighlighted({\n        position: highlightedX,\n        series: seriesToShow,\n        xTickFormatter,\n        detailPopoverSeriesContent,\n      });\n    }\n\n    // Otherwise - show all visible series details.\n    return formatHighlighted({\n      position: highlightedX,\n      series: visibleSeries,\n      xTickFormatter,\n      detailPopoverSeriesContent,\n    });\n  }, [highlightedX, highlightedPoint, visibleSeries, xTickFormatter, detailPopoverSeriesContent]);\n\n  const detailPopoverFooterContent = useMemo(\n    () => (detailPopoverFooter && highlightedX ? detailPopoverFooter(highlightedX) : null),\n    [detailPopoverFooter, highlightedX]\n  );\n\n  const activeAriaLabel =\n    highlightDetails && detailsPopoverText ? `${highlightDetails.position}, ${detailsPopoverText}` : '';\n\n  // Live region is used when nothing is focused e.g. when hovering.\n  const activeLiveRegion =\n    activeAriaLabel && !highlightedPoint && highlightedGroupIndex === null ? activeAriaLabel : '';\n\n  const isLineXKeyboardFocused = !highlightedPoint && verticalMarkerX;\n\n  const isRefresh = useVisualRefresh();\n\n  return (\n    <CartesianChartContainer\n      ref={containerRef}\n      minHeight={explicitPlotHeight + blockEndLabelsProps.height}\n      fitHeight={!!fitHeight}\n      leftAxisLabel={<AxisLabel axis={y} position=\"left\" title={leftAxisProps.title} />}\n      leftAxisLabelMeasure={\n        <LabelsMeasure\n          ticks={leftAxisProps.ticks}\n          scale={leftAxisProps.scale}\n          tickFormatter={leftAxisProps.tickFormatter as TickFormatter}\n          autoWidth={setInlineStartLabelsWidth}\n          maxLabelsWidth={maxInlineStartLabelsWidth}\n        />\n      }\n      bottomAxisLabel={<AxisLabel axis={x} position=\"bottom\" title={bottomAxisProps.title} />}\n      chartPlot={\n        <ChartPlot\n          ref={plotRef}\n          width=\"100%\"\n          height={fitHeight ? `calc(100% - ${blockEndLabelsProps.height}px)` : plotHeight}\n          offsetBottom={blockEndLabelsProps.height}\n          isClickable={isPopoverOpen && !isPopoverPinned}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n          ariaDescription={ariaDescription}\n          ariaRoleDescription={i18nStrings?.chartAriaRoleDescription}\n          ariaLiveRegion={activeLiveRegion}\n          activeElementRef={highlightedElementRef}\n          activeElementKey={activeAriaLabel}\n          activeElementFocusOffset={isGroupNavigation ? 0 : isLineXKeyboardFocused ? { x: 8, y: 0 } : 3}\n          onMouseMove={onSVGMouseMove}\n          onMouseOut={onSVGMouseOut}\n          onClick={onSVGClick}\n          onApplicationFocus={onApplicationFocus}\n          onApplicationBlur={onApplicationBlur}\n          onKeyDown={onSVGKeyDown}\n        >\n          <line\n            ref={plotMeasureRef}\n            x1=\"0\"\n            x2=\"0\"\n            y1=\"0\"\n            y2=\"100%\"\n            stroke=\"transparent\"\n            strokeWidth={1}\n            style={{ pointerEvents: 'none' }}\n          />\n\n          <InlineStartLabels\n            axis={y}\n            ticks={leftAxisProps.ticks}\n            scale={leftAxisProps.scale}\n            tickFormatter={leftAxisProps.tickFormatter as TickFormatter}\n            title={leftAxisProps.title}\n            ariaRoleDescription={leftAxisProps.ariaRoleDescription}\n            maxLabelsWidth={maxInlineStartLabelsWidth}\n            plotWidth={plotWidth}\n            plotHeight={plotHeight}\n          />\n\n          {horizontalBars && (\n            <VerticalGridLines scale={yAxisProps.scale} ticks={yAxisProps.ticks} height={plotHeight} />\n          )}\n\n          {emphasizeBaselineAxis && linesOnly && (\n            <EmphasizedBaseline axis={x} scale={yAxisProps.scale} width={plotWidth} height={plotHeight} />\n          )}\n\n          <DataSeries\n            axis={x}\n            plotWidth={plotWidth}\n            plotHeight={plotHeight}\n            highlightedSeries={highlightedSeries ?? null}\n            highlightedGroupIndex={highlightedGroupIndex}\n            stackedBars={stackedBars}\n            isGroupNavigation={isGroupNavigation}\n            visibleSeries={visibleSeries}\n            xScale={xAxisProps.scale}\n            yScale={yAxisProps.scale}\n            isRtl={!!isRtl}\n          />\n\n          {emphasizeBaselineAxis && !linesOnly && (\n            <EmphasizedBaseline axis={x} scale={yAxisProps.scale} width={plotWidth} height={plotHeight} />\n          )}\n\n          <VerticalMarker\n            key={verticalLineX || ''}\n            height={plotHeight}\n            showPoints={highlightedPoint === null}\n            showLine={!isGroupNavigation}\n            points={verticalMarkers}\n            ref={verticalMarkerRef}\n          />\n\n          {highlightedPoint && (\n            <HighlightedPoint\n              ref={highlightedPointRef}\n              point={point}\n              role=\"button\"\n              ariaLabel={activeAriaLabel}\n              ariaHasPopup={true}\n              ariaExpanded={isPopoverPinned}\n            />\n          )}\n\n          {isGroupNavigation && xAxisProps.scale.isCategorical() && (\n            <BarGroups\n              ariaLabel={activeAriaLabel}\n              isRefresh={isRefresh}\n              isPopoverPinned={isPopoverPinned}\n              barGroups={barGroups}\n              highlightedGroupIndex={highlightedGroupIndex}\n              highlightedGroupRef={highlightedGroupRef}\n            />\n          )}\n\n          <BlockEndLabels\n            {...blockEndLabelsProps}\n            axis={x}\n            scale={bottomAxisProps.scale}\n            title={bottomAxisProps.title}\n            ariaRoleDescription={bottomAxisProps.ariaRoleDescription}\n            height={plotHeight}\n            width={plotWidth}\n            offsetLeft={inlineStartLabelsWidth + BLOCK_END_LABELS_OFFSET}\n            offsetRight={BLOCK_END_LABELS_OFFSET}\n          />\n        </ChartPlot>\n      }\n      popover={\n        <MixedChartPopover\n          ref={popoverRef}\n          containerRef={containerRefObject}\n          trackRef={highlightedElementRef}\n          isOpen={isPopoverOpen}\n          isPinned={isPopoverPinned}\n          highlightDetails={highlightDetails}\n          onDismiss={onPopoverDismiss}\n          size={detailPopoverSize}\n          footer={detailPopoverFooterContent}\n          dismissAriaLabel={i18nStrings.detailPopoverDismissAriaLabel}\n          onMouseLeave={onPopoverLeave}\n          onBlur={onApplicationBlur}\n          setPopoverText={setDetailsPopoverText}\n        />\n      }\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { InternalChartSeries, MixedLineBarChartProps, ScaleType } from './interfaces';\nimport { isDataSeries, isXThreshold, isYThreshold, matchesX } from './utils';\n\nexport function computeDomainX<T>(series: readonly InternalChartSeries<T>[], xScaleType: ScaleType) {\n  if (xScaleType === 'categorical') {\n    return series.reduce((acc, s) => {\n      if (isDataSeries(s.series)) {\n        s.series.data.forEach(({ x }) => {\n          if (acc.indexOf(x) === -1) {\n            acc.push(x);\n          }\n        });\n      }\n      if (isXThreshold(s.series)) {\n        if (acc.indexOf(s.series.x) === -1) {\n          acc.push(s.series.x);\n        }\n      }\n      return acc;\n    }, [] as T[]);\n  }\n\n  return series.reduce((acc, curr) => {\n    // Y-thresholds don't have X value.\n    if (isYThreshold(curr.series)) {\n      return acc;\n    }\n\n    // Compare x-threshold X with current min, max.\n    if (isXThreshold(curr.series)) {\n      const [min, max] = acc;\n      const newMin = min === undefined || min === null || curr.series.x < min ? curr.series.x : min;\n      const newMax = max === undefined || max === null || max < curr.series.x ? curr.series.x : max;\n      return [newMin, newMax] as T[];\n    }\n\n    // Compare all series X values with current min, max.\n    if (isDataSeries(curr.series)) {\n      return curr.series.data.reduce(([min, max], { x }) => {\n        const newMin = min === undefined || min === null || x < min ? x : min;\n        const newMax = max === undefined || max === null || max < x ? x : max;\n        return [newMin, newMax] as T[];\n      }, acc);\n    }\n\n    return acc;\n  }, [] as T[]);\n}\n\nfunction find<Q>(arr: readonly Q[], func: (el: Q) => boolean) {\n  for (let i = 0; i < arr.length; i++) {\n    const found = func(arr[i]);\n    if (found) {\n      return arr[i];\n    }\n  }\n  return null;\n}\n\nexport function computeDomainY<T>(\n  series: readonly InternalChartSeries<T>[],\n  scaleType: 'linear' | 'log',\n  stackedBars: boolean\n) {\n  let _series = series;\n\n  // For stacked bars, we need to accumulate all the bar series into a positive and a negative series\n  if (stackedBars) {\n    const { positiveData, negativeData } = series.reduce(\n      (acc, curr) => {\n        if (curr.series.type === 'bar') {\n          curr.series.data.forEach(({ x, y }) => {\n            const data = y < 0 ? acc.negativeData : acc.positiveData;\n            const stackedDatum = find(data, el => matchesX(el.x, x));\n            if (stackedDatum) {\n              stackedDatum.y += y;\n            } else {\n              data.push({ x, y });\n            }\n            return acc;\n          });\n        }\n        return acc;\n      },\n      {\n        positiveData: [] as MixedLineBarChartProps.Datum<T>[],\n        negativeData: [] as MixedLineBarChartProps.Datum<T>[],\n      }\n    );\n\n    // Artificial series with the sum of all bars when stacked\n    const stackedSeries: InternalChartSeries<T>[] = [\n      {\n        color: '',\n        index: NaN,\n        series: {\n          type: 'bar',\n          title: 'positive',\n          data: positiveData as any,\n        },\n      },\n      {\n        color: '',\n        index: NaN,\n        series: {\n          type: 'bar',\n          title: 'negative',\n          data: negativeData as any,\n        },\n      },\n    ];\n\n    // MixedLineBarChart can also contain other non-bar series,\n    // so we replace all bars with the artificial bar series\n    // Then proceed to compute range with it and the remaining (non-bar) series\n    _series = [...stackedSeries, ..._series.filter(s => s.series.type !== 'bar')];\n  }\n\n  const domain = _series.reduce(\n    (acc, curr) => {\n      // Compare threshold Y value with current min, max.\n      if (isYThreshold(curr.series)) {\n        const [min, max] = acc;\n        const newMin = min === undefined || curr.series.y < min ? curr.series.y : min;\n        const newMax = max === undefined || max < curr.series.y ? curr.series.y : max;\n        return [newMin, newMax];\n      }\n\n      // X-thresholds don't have Y value.\n      if (isXThreshold(curr.series)) {\n        return acc;\n      }\n\n      // Compare all series Y values with current min, max.\n      if (isDataSeries(curr.series)) {\n        return curr.series.data.reduce(([min, max], { y }) => {\n          const newMin = min === undefined || y < min ? y : min;\n          const newMax = max === undefined || max < y ? y : max;\n          return [newMin, newMax];\n        }, acc);\n      }\n\n      return acc;\n    },\n    [0, 0]\n  );\n\n  // Log scales can't start from 0, so if possible, start from 1.\n  if (scaleType === 'log' && domain[0] === 0 && domain[1] > 1) {\n    return [1, domain[1]];\n  }\n  return domain;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartScale } from '../internal/components/cartesian-chart/scales';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { isDataSeries, isXThreshold, isYThreshold, matchesX } from './utils';\n\nexport interface ScaledBarGroup<T> {\n  x: T;\n  hasData: boolean;\n  isValid: boolean;\n  position: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n}\n\n/**\n * Creates a list of all bar (and mixed) groups in the series with their scaled positions.\n */\nexport default function makeScaledBarGroups<T extends ChartDataTypes>(\n  series: ReadonlyArray<InternalChartSeries<T>>,\n  xScale: ChartScale,\n  plotWidth: number,\n  plotHeight: number,\n  axis: 'x' | 'y'\n): ScaledBarGroup<T>[] {\n  if (!xScale.isCategorical()) {\n    return [];\n  }\n\n  return (xScale.domain as ReadonlyArray<T>).map(x => {\n    const scaledX = xScale.d3Scale(x);\n    const isValid = typeof scaledX !== 'undefined' && isFinite(scaledX);\n\n    return {\n      x,\n      isValid,\n      hasData: series.some(({ series }) => {\n        // If there is a threshold series, every valid group will have a data point.\n        if (isYThreshold(series)) {\n          return true;\n        }\n        // X-thresholds do not have associated value.\n        if (isXThreshold(series)) {\n          return false;\n        }\n        if (isDataSeries(series)) {\n          return (series.data as ReadonlyArray<MixedLineBarChartProps.Datum<T>>).some(datum => matchesX(datum.x, x));\n        }\n        return false;\n      }),\n      position:\n        axis === 'x'\n          ? {\n              x: 0,\n              y: isValid ? scaledX || 0 : 0,\n              width: plotWidth,\n              height: xScale.d3Scale.bandwidth(),\n            }\n          : {\n              x: isValid ? scaledX || 0 : 0,\n              y: 0,\n              width: xScale.d3Scale.bandwidth(),\n              height: plotHeight,\n            },\n    };\n  });\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\n\nexport function usePopover() {\n  const [state, setState] = useState<'open' | 'closed' | 'pinned'>('closed');\n\n  const isPopoverOpen = state !== 'closed';\n  const isPopoverPinned = state === 'pinned';\n\n  const showPopover = useCallback(() => setState('open'), []);\n  const pinPopover = useCallback(() => setState('pinned'), []);\n  const dismissPopover = useCallback(() => setState('closed'), []);\n\n  return { isPopoverOpen, isPopoverPinned, showPopover, pinPopover, dismissPopover };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\n\nimport { ChartFilterProps } from '../internal/components/chart-filter';\nimport ChartLegend from '../internal/components/chart-legend';\nimport { ChartDataTypes, InternalChartSeries, MixedLineBarChartProps } from './interfaces';\nimport { chartLegendMap } from './utils';\n\ninterface InternalChartLegendProps<T extends ChartDataTypes> {\n  series: ReadonlyArray<InternalChartSeries<T>>;\n  visibleSeries: ReadonlyArray<MixedLineBarChartProps.ChartSeries<T>>;\n  plotContainerRef: React.RefObject<HTMLDivElement>;\n  highlightedSeries?: MixedLineBarChartProps.ChartSeries<T> | null;\n  onHighlightChange: (series: MixedLineBarChartProps.ChartSeries<T> | null) => void;\n  legendTitle?: string;\n  ariaLabel?: string;\n}\n\nexport default function InternalChartLegend<T extends number | string | Date>({\n  series,\n  visibleSeries,\n  highlightedSeries,\n  onHighlightChange,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: InternalChartLegendProps<T>) {\n  const legendItems: ChartFilterProps<MixedLineBarChartProps.ChartSeries<T>>['series'] = useMemo(() => {\n    return series\n      .filter(s => visibleSeries.indexOf(s.series) !== -1)\n      .map(({ series, color }) => ({\n        label: series.title,\n        type: chartLegendMap[series.type],\n        color,\n        datum: series,\n      }));\n  }, [series, visibleSeries]);\n\n  return (\n    <ChartLegend<MixedLineBarChartProps.ChartSeries<T>>\n      series={legendItems}\n      highlightedSeries={highlightedSeries || null}\n      onHighlightChange={onHighlightChange}\n      legendTitle={legendTitle}\n      ariaLabel={ariaLabel}\n      plotContainerRef={plotContainerRef}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../internal/base-component';\nimport Filter from '../internal/components/chart-filter';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { usePrevious } from '../internal/hooks/use-previous';\nimport { isDevelopment } from '../internal/is-development';\nimport { SomeRequired } from '../internal/types';\nimport createCategoryColorScale from '../internal/utils/create-category-color-scale';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport ChartContainer from './chart-container';\nimport InternalChartLegend from './chart-legend';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\nimport { ScaledPoint } from './make-scaled-series';\nimport { chartLegendMap, isXThreshold, isYThreshold } from './utils';\n\nimport styles from './styles.css.js';\n\ntype InternalMixedLineBarChartProps<T extends ChartDataTypes> = SomeRequired<\n  MixedLineBarChartProps<T>,\n  | 'series'\n  | 'height'\n  | 'xScaleType'\n  | 'yScaleType'\n  | 'stackedBars'\n  | 'horizontalBars'\n  | 'statusType'\n  | 'detailPopoverSize'\n  | 'emphasizeBaselineAxis'\n> &\n  InternalBaseComponentProps;\n\nexport default function InternalMixedLineBarChart<T extends number | string | Date>({\n  fitHeight,\n  height,\n  xScaleType,\n  yScaleType,\n  xDomain,\n  yDomain,\n  xTickFormatter,\n  yTickFormatter,\n  highlightedSeries: controlledHighlightedSeries,\n  visibleSeries: controlledVisibleSeries,\n  series: externalSeries,\n  onFilterChange,\n  onHighlightChange: controlledOnHighlightChange,\n  i18nStrings,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  xTitle,\n  yTitle,\n  stackedBars,\n  horizontalBars,\n  hideFilter,\n  additionalFilters,\n  hideLegend,\n  legendTitle,\n  statusType,\n  detailPopoverSize,\n  detailPopoverFooter,\n  detailPopoverSeriesContent,\n  emphasizeBaselineAxis,\n  empty,\n  noMatch,\n  errorText,\n  loadingText,\n  recoveryText,\n  onRecoveryClick,\n  __internalRootRef = null,\n  ...props\n}: InternalMixedLineBarChartProps<T>) {\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const gotBarSeries = externalSeries.some(s => s.type === 'bar');\n    const gotLineSeries = externalSeries.some(s => s.type === 'line');\n\n    if (xScaleType !== 'categorical' && gotBarSeries) {\n      warnOnce(\n        'MixedLineBarChart',\n        `Bar series cannot be used with a ${xScaleType} scale. Use a categorical x axis instead.`\n      );\n    }\n\n    if (horizontalBars && gotLineSeries) {\n      warnOnce(\n        'MixedLineBarChart',\n        `Property horizontalBars can only be used with charts that contain only bar or threshold series.`\n      );\n    }\n\n    for (const s of externalSeries) {\n      if (s.type === 'threshold' && s.x !== undefined && s.y !== undefined) {\n        warnOnce('MixedLineBarChart', `Series of type \"threshold\" must contain either x or y property.`);\n      }\n      if (s.type === 'threshold' && s.x === undefined && s.y === undefined) {\n        warnOnce('MixedLineBarChart', `Series of type \"threshold\" must contain either x or y property.`);\n      }\n    }\n  }, [xScaleType, horizontalBars, externalSeries]);\n\n  const series = useMemo(() => {\n    // Generate series colors if not explicitly provided.\n    // The thresholds use a dedicated colour scale.\n    const colors = createCategoryColorScale(\n      externalSeries,\n      it => isYThreshold(it) || isXThreshold(it),\n      it => it.color || null\n    );\n\n    return externalSeries.map((s, i) => ({ index: i, color: colors[i], series: s }));\n  }, [externalSeries]);\n\n  const [highlightedPoint, setHighlightedPoint] = useState<ScaledPoint<T> | null>(null);\n  const [highlightedGroupIndex, setHighlightedGroupIndex] = useState<number | null>(null);\n  const [highlightedSeries = null, setHighlightedSeries] = useControllable(\n    controlledHighlightedSeries,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'MixedLineBarChart',\n      controlledProp: 'highlightedSeries',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n  const [legendSeries, setLegendSeries] = useState<MixedLineBarChartProps.ChartSeries<T> | null>(highlightedSeries);\n  useEffect(() => {\n    setLegendSeries(controlledHighlightedSeries || null);\n  }, [controlledHighlightedSeries]);\n\n  const [externalVisibleSeries, setExternalVisibleSeries] = useControllable(\n    controlledVisibleSeries,\n    onFilterChange,\n    externalSeries,\n    {\n      componentName: 'MixedLineBarChart',\n      controlledProp: 'visibleSeries',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  if (isDevelopment) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const previousSeries = usePrevious(externalSeries);\n\n    const hasPrevious = !!(previousSeries && previousSeries.length);\n    const hasCurrent = !!externalSeries.length;\n\n    if (hasPrevious && hasCurrent && externalSeries !== previousSeries && !controlledVisibleSeries && !hideFilter) {\n      warnOnce(\n        'MixedLineBarChart',\n        'The `series` value passed into the component changed. ' +\n          'This may cause problems with filtering - we recommend that you make the `series` value constant, ' +\n          'or provide a `visibleSeries` value that derives from the current `series` value.'\n      );\n    }\n  }\n\n  const visibleSeries = useMemo(\n    () => series.filter(s => externalVisibleSeries?.indexOf(s.series) !== -1),\n    [series, externalVisibleSeries]\n  );\n\n  const filterChange = (selectedSeries: ReadonlyArray<MixedLineBarChartProps.ChartSeries<T>>) => {\n    setExternalVisibleSeries(selectedSeries);\n    fireNonCancelableEvent(onFilterChange, {\n      visibleSeries: selectedSeries,\n    });\n  };\n\n  const onHighlightChange = (series: MixedLineBarChartProps.ChartSeries<T> | null) => {\n    setHighlightedSeries(series);\n    fireNonCancelableEvent(controlledOnHighlightChange, {\n      highlightedSeries: series,\n    });\n    setLegendSeries(series);\n  };\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      highlightedSeries && onHighlightChange(highlightedSeries);\n      setHighlightedPoint(null);\n      setHighlightedGroupIndex(null);\n      setLegendSeries(null);\n    }\n  };\n\n  const { isEmpty, isNoMatch, showChart } = getChartStatus({\n    externalData: externalSeries,\n    visibleData: visibleSeries || [],\n    statusType,\n  });\n  const showFilters = statusType === 'finished' && (!isEmpty || isNoMatch) && (additionalFilters || !hideFilter);\n  const showLegend = !hideLegend && !isEmpty && statusType === 'finished';\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = !showChart && !isNoMatch && (!hideFilter || additionalFilters);\n  const mergedRef = useMergeRefs(containerRef, __internalRootRef);\n\n  const filterItems = series.map(({ series, color }) => ({\n    label: series.title,\n    type: chartLegendMap[series.type],\n    color,\n    datum: series,\n  }));\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      fitHeight={!!fitHeight}\n      contentMinHeight={height}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <Filter\n            series={filterItems}\n            onChange={filterChange}\n            selectedSeries={externalVisibleSeries || []}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={empty}\n          noMatch={noMatch}\n          loadingText={loadingText}\n          errorText={errorText}\n          recoveryText={recoveryText}\n          onRecoveryClick={onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <ChartContainer\n            fitHeight={fitHeight}\n            height={height}\n            xScaleType={xScaleType}\n            yScaleType={yScaleType}\n            xDomain={xDomain}\n            yDomain={yDomain}\n            xTickFormatter={xTickFormatter ?? i18nStrings?.xTickFormatter}\n            yTickFormatter={yTickFormatter ?? i18nStrings?.yTickFormatter}\n            emphasizeBaselineAxis={emphasizeBaselineAxis}\n            stackedBars={stackedBars}\n            horizontalBars={horizontalBars}\n            series={series}\n            visibleSeries={visibleSeries}\n            highlightedSeries={highlightedSeries}\n            onHighlightChange={onHighlightChange}\n            highlightedPoint={highlightedPoint}\n            setHighlightedPoint={setHighlightedPoint}\n            highlightedGroupIndex={highlightedGroupIndex}\n            setHighlightedGroupIndex={setHighlightedGroupIndex}\n            detailPopoverSize={detailPopoverSize}\n            detailPopoverFooter={detailPopoverFooter}\n            detailPopoverSeriesContent={detailPopoverSeriesContent}\n            xTitle={xTitle}\n            yTitle={yTitle}\n            ariaLabel={ariaLabel}\n            ariaLabelledby={ariaLabelledby}\n            ariaDescription={ariaDescription}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      legend={\n        showLegend ? (\n          <InternalChartLegend\n            series={series}\n            visibleSeries={externalVisibleSeries || []}\n            highlightedSeries={legendSeries}\n            onHighlightChange={onHighlightChange}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings?.legendAriaLabel}\n            plotContainerRef={containerRef}\n          />\n        ) : null\n      }\n      onBlur={onBlur}\n    />\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_gfwv3_1gn2o_97\",\n  \"horizontal\": \"awsui_horizontal_gfwv3_1gn2o_102\",\n  \"vertical\": \"awsui_vertical_gfwv3_1gn2o_106\",\n  \"list\": \"awsui_list_gfwv3_1gn2o_110\",\n  \"list-item\": \"awsui_list-item_gfwv3_1gn2o_130\",\n  \"toggle-container-inline\": \"awsui_toggle-container-inline_gfwv3_1gn2o_137\",\n  \"toggle\": \"awsui_toggle_gfwv3_1gn2o_137\",\n  \"description\": \"awsui_description_gfwv3_1gn2o_232\",\n  \"separator\": \"awsui_separator_gfwv3_1gn2o_236\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useEffect, useRef } from 'react';\n\nimport { getFirstFocusable } from '../focus-lock/utils.js';\n\nimport styles from './styles.css.js';\n\nconst tokenSelector = `.${styles['list-item']}`;\nconst toggleButtonSelector = `.${styles.toggle}`;\n\nexport function useTokenFocusController({ moveFocusNextToIndex }: { moveFocusNextToIndex?: null | number }) {\n  const tokenListRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (moveFocusNextToIndex === undefined || moveFocusNextToIndex === null || tokenListRef.current === null) {\n      return;\n    }\n\n    const tokenElements = tokenListRef.current.querySelectorAll(tokenSelector);\n    const toggleButton = tokenListRef.current.querySelector(toggleButtonSelector);\n\n    let closestPrevIndex = Number.NEGATIVE_INFINITY;\n    let closestNextIndex = Number.POSITIVE_INFINITY;\n\n    for (let activeIndex = 0; activeIndex < tokenElements.length; activeIndex++) {\n      if (activeIndex < moveFocusNextToIndex) {\n        closestPrevIndex =\n          moveFocusNextToIndex - activeIndex < moveFocusNextToIndex - closestPrevIndex ? activeIndex : closestPrevIndex;\n      } else {\n        closestNextIndex =\n          activeIndex - moveFocusNextToIndex < closestNextIndex - moveFocusNextToIndex ? activeIndex : closestNextIndex;\n      }\n    }\n\n    const nextElement = tokenElements[closestNextIndex];\n    const prevElement = tokenElements[closestPrevIndex];\n\n    if (nextElement instanceof HTMLElement) {\n      getFirstFocusable(nextElement)?.focus();\n    } else if (prevElement instanceof HTMLElement) {\n      getFirstFocusable(prevElement)?.focus();\n    } else if (toggleButton instanceof HTMLElement) {\n      toggleButton.focus();\n    }\n  }, [moveFocusNextToIndex]);\n\n  return tokenListRef;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback } from 'react';\n\nimport { useInternalI18n } from '../../../i18n/context';\nimport InternalIcon from '../../../icon/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport { I18nStrings } from './interfaces';\n\nimport styles from './styles.css.js';\ninterface TokenLimitToggleProps {\n  controlId?: string;\n  allHidden: boolean;\n  expanded: boolean;\n  numberOfHiddenOptions: number;\n  onClick?: NonCancelableEventHandler<null>;\n  i18nStrings?: I18nStrings;\n  limitShowFewerAriaLabel?: string;\n  limitShowMoreAriaLabel?: string;\n}\n\nexport default function TokenLimitToggle({\n  controlId,\n  allHidden,\n  expanded,\n  numberOfHiddenOptions,\n  onClick,\n  i18nStrings = {},\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n}: TokenLimitToggleProps) {\n  const i18n = useInternalI18n('token-group');\n\n  const numberOfHiddenOptionLabel = allHidden ? numberOfHiddenOptions : `+${numberOfHiddenOptions}`;\n  const description = expanded\n    ? i18n('i18nStrings.limitShowFewer', i18nStrings.limitShowFewer)\n    : `${i18n('i18nStrings.limitShowMore', i18nStrings.limitShowMore) || ''} (${numberOfHiddenOptionLabel})`;\n  const ariaLabel = expanded ? limitShowFewerAriaLabel : limitShowMoreAriaLabel;\n\n  const handleClick = useCallback(() => {\n    fireNonCancelableEvent(onClick, null);\n  }, [onClick]);\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.toggle}\n      onClick={handleClick}\n      aria-controls={controlId}\n      aria-expanded={expanded}\n      aria-label={ariaLabel}\n    >\n      <InternalIcon name={expanded ? 'treeview-collapse' : 'treeview-expand'} />\n      <span className={styles.description}>{description}</span>\n    </button>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport { useUniqueId } from '../../hooks/use-unique-id';\nimport { TokenListProps } from './interfaces';\nimport { useTokenFocusController } from './token-focus-controller';\nimport TokenLimitToggle from './token-limit-toggle';\n\nimport styles from './styles.css.js';\n\nexport { TokenListProps };\n\nexport default function TokenList<Item>({\n  items,\n  alignment,\n  renderItem,\n  limit,\n  after,\n  i18nStrings,\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n  moveFocusNextToIndex,\n  onExpandedClick = () => undefined,\n}: TokenListProps<Item>) {\n  const tokenListRef = useTokenFocusController({ moveFocusNextToIndex: moveFocusNextToIndex });\n  const controlId = useUniqueId();\n\n  const [expanded, setExpanded] = useState(false);\n  const hasItems = items.length > 0;\n  const hasHiddenItems = hasItems && limit !== undefined && items.length > limit;\n  const visibleItems = hasHiddenItems && !expanded ? items.slice(0, limit) : items;\n  const hasVisibleItems = visibleItems.length > 0;\n\n  const toggle = hasHiddenItems ? (\n    <div className={styles[`toggle-container-${alignment}`]}>\n      <TokenLimitToggle\n        controlId={hasVisibleItems ? controlId : undefined}\n        allHidden={limit === 0}\n        expanded={expanded}\n        numberOfHiddenOptions={items.length - visibleItems.length}\n        i18nStrings={i18nStrings}\n        limitShowFewerAriaLabel={limitShowFewerAriaLabel}\n        limitShowMoreAriaLabel={limitShowMoreAriaLabel}\n        onClick={() => {\n          const isExpanded = !expanded;\n          setExpanded(isExpanded);\n          onExpandedClick(isExpanded);\n        }}\n      />\n    </div>\n  ) : null;\n\n  if (alignment === 'inline') {\n    return (\n      <div ref={tokenListRef} className={clsx(styles.root, styles.horizontal)}>\n        {hasItems && (\n          <ul id={controlId} className={styles.list}>\n            {visibleItems.map((item, itemIndex) => (\n              <li\n                key={itemIndex}\n                className={styles['list-item']}\n                aria-setsize={items.length}\n                aria-posinset={itemIndex + 1}\n              >\n                {renderItem(item, itemIndex)}\n              </li>\n            ))}\n          </ul>\n        )}\n        {toggle}\n        {after && <div className={styles.separator} />}\n        {after}\n      </div>\n    );\n  }\n\n  return (\n    <div ref={tokenListRef} className={clsx(styles.root, styles.vertical)}>\n      {hasVisibleItems && (\n        <ul id={controlId} className={clsx(styles.list, styles[alignment])}>\n          {visibleItems.map((item, itemIndex) => (\n            <li\n              key={itemIndex}\n              className={styles['list-item']}\n              aria-setsize={items.length}\n              aria-posinset={itemIndex + 1}\n            >\n              {renderItem(item, itemIndex)}\n            </li>\n          ))}\n        </ul>\n      )}\n      {toggle}\n      {after}\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_dm8gx_r6wxu_101\",\n  \"has-items\": \"awsui_has-items_dm8gx_r6wxu_135\",\n  \"no-padding\": \"awsui_no-padding_dm8gx_r6wxu_135\",\n  \"dismiss-button\": \"awsui_dismiss-button_dm8gx_r6wxu_139\",\n  \"token\": \"awsui_token_dm8gx_r6wxu_181\",\n  \"token-box\": \"awsui_token-box_dm8gx_r6wxu_188\",\n  \"token-box-error\": \"awsui_token-box-error_dm8gx_r6wxu_207\",\n  \"token-box-warning\": \"awsui_token-box-warning_dm8gx_r6wxu_218\",\n  \"token-box-readonly\": \"awsui_token-box-readonly_dm8gx_r6wxu_229\",\n  \"token-box-disabled\": \"awsui_token-box-disabled_dm8gx_r6wxu_243\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, Ref } from 'react';\n\nimport InternalIcon from '../icon/internal';\n\nimport styles from './styles.css.js';\n\ninterface DismissButtonProps {\n  disabled?: boolean;\n  readOnly?: boolean;\n  onDismiss?: () => void;\n  dismissLabel?: string;\n}\n\nexport default forwardRef(DismissButton);\n\nfunction DismissButton(\n  { disabled, dismissLabel, onDismiss, readOnly }: DismissButtonProps,\n  ref: Ref<HTMLButtonElement>\n) {\n  return (\n    <button\n      ref={ref}\n      type=\"button\"\n      className={styles['dismiss-button']}\n      aria-disabled={disabled || readOnly ? true : undefined}\n      onClick={() => {\n        if (disabled || readOnly || !onDismiss) {\n          return;\n        }\n\n        onDismiss();\n      }}\n      aria-label={dismissLabel}\n    >\n      <InternalIcon name=\"close\" />\n    </button>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { FormFieldError, FormFieldWarning } from '../form-field/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport DismissButton from './dismiss-button';\n\nimport styles from './styles.css.js';\n\ninterface TokenProps {\n  children: React.ReactNode;\n  ariaLabel?: string;\n  dismissLabel?: string;\n  onDismiss?: () => void;\n  disabled?: boolean;\n  readOnly?: boolean;\n  errorText?: React.ReactNode;\n  errorIconAriaLabel?: string;\n  warningText?: React.ReactNode;\n  warningIconAriaLabel?: string;\n  className?: string;\n}\n\nexport function Token({\n  ariaLabel,\n  disabled,\n  readOnly,\n  dismissLabel,\n  onDismiss,\n  children,\n  errorText,\n  warningText,\n  errorIconAriaLabel,\n  warningIconAriaLabel,\n  ...restProps\n}: TokenProps) {\n  const errorId = useUniqueId('error');\n  const warningId = useUniqueId('warning');\n  const baseProps = getBaseProps(restProps);\n\n  const showWarning = warningText && !errorText;\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(styles.token, baseProps.className)}\n      role=\"group\"\n      aria-label={ariaLabel}\n      aria-describedby={errorText ? errorId : warningText ? warningId : undefined}\n      aria-disabled={disabled}\n    >\n      <div\n        className={clsx(\n          styles['token-box'],\n          disabled && styles['token-box-disabled'],\n          readOnly && styles['token-box-readonly'],\n          errorText && styles['token-box-error'],\n          showWarning && styles['token-box-warning']\n        )}\n      >\n        {children}\n        {onDismiss && (\n          <DismissButton disabled={disabled} dismissLabel={dismissLabel} onDismiss={onDismiss} readOnly={readOnly} />\n        )}\n      </div>\n      {errorText && (\n        <FormFieldError id={errorId} errorIconAriaLabel={errorIconAriaLabel}>\n          {errorText}\n        </FormFieldError>\n      )}\n      {showWarning && (\n        <FormFieldWarning id={warningId} warningIconAriaLabel={warningIconAriaLabel}>\n          {warningText}\n        </FormFieldWarning>\n      )}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component';\nimport Option from '../internal/components/option';\nimport TokenList from '../internal/components/token-list';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { SomeRequired } from '../internal/types';\nimport { TokenGroupProps } from './interfaces';\nimport { Token } from './token';\n\nimport styles from './styles.css.js';\n\ntype InternalTokenGroupProps = SomeRequired<TokenGroupProps, 'items' | 'alignment'> & InternalBaseComponentProps;\n\nexport default function InternalTokenGroup({\n  alignment,\n  items,\n  onDismiss,\n  limit,\n  i18nStrings,\n  disableOuterPadding,\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n  readOnly,\n  __internalRootRef,\n  ...props\n}: InternalTokenGroupProps) {\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  const [removedItemIndex, setRemovedItemIndex] = useState<null | number>(null);\n\n  const baseProps = getBaseProps(props);\n  const hasItems = items.length > 0;\n  return (\n    <div\n      {...baseProps}\n      className={clsx(\n        baseProps.className,\n        styles.root,\n        hasItems && styles['has-items'],\n        disableOuterPadding && styles['no-padding']\n      )}\n      ref={__internalRootRef}\n    >\n      <TokenList\n        alignment={alignment}\n        items={items}\n        limit={limit}\n        renderItem={(item, itemIndex) => (\n          <Token\n            ariaLabel={item.label}\n            dismissLabel={item.dismissLabel}\n            onDismiss={() => {\n              fireNonCancelableEvent(onDismiss, { itemIndex });\n              setRemovedItemIndex(itemIndex);\n            }}\n            disabled={item.disabled}\n            readOnly={readOnly}\n          >\n            <Option option={item} isGenericGroup={false} />\n          </Token>\n        )}\n        i18nStrings={i18nStrings}\n        limitShowFewerAriaLabel={limitShowFewerAriaLabel}\n        limitShowMoreAriaLabel={limitShowMoreAriaLabel}\n        moveFocusNextToIndex={removedItemIndex}\n        onExpandedClick={isExpanded => {\n          if (isExpanded && limit) {\n            setRemovedItemIndex(limit);\n          } else {\n            setRemovedItemIndex(null);\n          }\n        }}\n      />\n    </div>\n  );\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  var dayOfMonth = date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}"],"names":["BarChart","_a","series","height","xScaleType","yScaleType","stackedBars","horizontalBars","detailPopoverSize","statusType","emphasizeBaselineAxis","detailPopoverSeriesContent","props","__rest","baseComponentProps","useBaseComponent","fitHeight","hideFilter","hideLegend","baseProps","getBaseProps","className","clsx","styles","React","InternalMixedLineBarChart","Object","assign","applyDisplayName","externalRef","options","filteringType","filteringPlaceholder","filteringAriaLabel","filteringClearAriaLabel","filteringResultsText","ariaRequired","placeholder","disabled","readOnly","ariaLabel","empty","loadingText","finishedText","errorText","noMatch","renderHighlightedAriaLive","selectedOptions","deselectAriaLabel","keepOpen","tokenLimit","i18nStrings","onBlur","onFocus","onLoadItems","onChange","virtualScroll","inlineTokens","hideTokens","expandToViewport","tokenLimitShowFewerAriaLabel","tokenLimitShowMoreAriaLabel","__internalRootRef","autoFocus","restProps","checkOptionValueField","formFieldContext","useFormFieldContext","i18n","useInternalI18n","i18nCommon","recoveryText","errorIconAriaLabel","selectedAriaLabel","warnOnce","handleLoadMore","handleRecoveryClick","fireLoadItems","useLoadItems","useInteractiveGroups","filteringValue","setFilteringValue","useState","filteredOptions","parentMap","totalCount","matchesCount","prepareOptions","updateSelectedOption","useCallback","option","filtered","filter","item","type","map","isAllChildrenSelected","optionsArray","every","findOptionIndex","select","union","visibleOptions","concat","unselect","newSelectedOptions","isGroup","intersection","fireNonCancelableEvent","rootRef","useRef","selfControlId","useUniqueId","controlId","_b","multiSelectAriaLabelId","footerId","scrollToIndex","isOpen","highlightType","highlightedOption","highlightedIndex","getTriggerProps","getDropdownProps","getFilterProps","getMenuProps","getOptionProps","highlightOption","announceSelected","useSelect","handleNativeSearch","useNativeSearch","isEnabled","isEmpty","length","isNoMatch","isFiltered","filteredText","undefined","dropdownStatus","useDropdownStatus","onRecoveryClick","hasRecoveryCallback","Filter","clearAriaLabel","value","trigger","Trigger","triggerProps","selectedOption","triggerVariant","ariaLabelledby","joinStrings","menuProps","onLoadMore","ariaDescribedby","content","announcement","useAnnouncement","getParent","get","tokens","label","labelTag","description","iconAlt","iconName","iconUrl","iconSvg","tags","dismissLabel","format","option__label","useEffect","current","call","ListComponent","VirtualList","PlainList","showTokens","tokenGroupI18nStrings","limitShowFewer","tokenLimitShowFewer","limitShowMore","tokenLimitShowMore","mergedRef","useMergeRefs","dropdownProps","ref","onKeyPress","Dropdown","dropdownContentRole","open","header","onMouseDown","event","target","document","activeElement","preventDefault","footer","isSticky","DropdownFooter","id","stretchBeyondTriggerWidth","listBottom","hasDropdownStatus","checkboxes","screenReaderContent","InternalTokenGroup","alignment","limit","items","onDismiss","_ref","detail","optionToDeselect","itemIndex","targetRef","focus","limitShowMoreAriaLabel","limitShowFewerAriaLabel","disableOuterPadding","ScreenreaderOnly","memo","selectedSeries","defaultOptions","d","i","datum","__customIcon","SeriesMarker","color","indexOf","updateSelection","InternalFormField","filterLabel","InternalMultiselect","filterPlaceholder","filterSelectedAriaLabel","onHighlightChange","highlightedSeries","legendTitle","plotContainerRef","containerRef","segmentsRef","highlightedSeriesIndex","targetSeries","index","findSeriesIndex","handleSelection","handleMouseLeave","role","onKeyDown","keyCode","KeyCode","right","left","handleKey","onInlineStart","highlightInlineStart","currentIndex","nextIndex","onInlineEnd","highlightInlineEnd","relatedTarget","contains","InternalBox","fontWeight","s","someHighlighted","isHighlighted","isDimmed","key","elem","tabIndex","onClick","onMouseOver","handleMouseOver","onMouseLeave","forwardRef","activeElementKey","activeElementRef","applicationRef","focusTransitionRef","isFocused","setFocused","onApplicationFocus","onApplicationBlur","app","attributeName","getAttributeNames","slice","removeAttribute","setAttribute","muteApplication","onApplicationKeyDown","useImperativeHandle","focusApplication","removeChild","appendChild","application","attributeValue","getAttribute","preventScroll","FocusOutline","elementKey","elementRef","offset","focusVisible","setFocusVisible","handleMousedown","handleKeydown","isModifierKey","addEventListener","removeEventListener","useFocusVisibleState","el","getBBox","element","position","offsetX","x","offsetY","y","toString","width","style","visibility","showOutline","rx","DEFAULT_PLOT_FOCUS_OFFSET","DEFAULT_ELEMENT_FOCUS_OFFSET","transform","offsetTop","offsetBottom","offsetLeft","offsetRight","ariaRoleDescription","ariaDescription","ariaLiveRegion","isClickable","isPrecise","children","focusOffset","activeElementFocusOffset","onMouseMove","onMouseOut","svgRef","plotClickedRef","isPlotFocused","setPlotFocused","isApplicationFocused","setApplicationFocused","internalDescriptionId","ariaDescriptionId","Boolean","join","svg","focusPlot","plotFocusable","plotTabIndex","plotAria","focusable","marginTop","marginBottom","marginLeft","marginRight","root","clickable","precise","onPlotMouseDown","space","enter","up","down","ApplicationController","LiveRegion","ChartPopoverFooter","size","fixedWidth","dismissButton","dismissAriaLabel","title","trackRef","trackKey","container","onMouseEnter","popoverObjectRef","popoverRef","onDocumentClick","nodeBelongs","nodeContains","capture","isPinned","popoverStyles","PopoverContainer","arrow","keepPosition","allowVerticalOverflow","allowScrollToFit","PopoverBody","overflowVisible","details","expandedSeries","setPopoverText","setExpandedState","compactList","detailsRef","Array","from","querySelectorAll","announced","expandabeleSectionHeaderStyles","HTMLElement","innerText","split","trim","list","compact","markerType","subItems","expandableId","dimmed","expandable","ExpandableSeries","itemKey","expanded","seriesTitle","has","state","NonExpandableSeries","SubItems","_ref2","_ref3","_ref4","ChartSeriesMarker","InternalExpandableSection","variant","headerText","headerActions","_ref5","_ref6","marker","backgroundColor","getChartStatus","externalData","visibleData","showChart","ChartStatusContainer","statusContainer","useMemo","renderedRecoveryText","InternalStatusIndicator","InternalLink","onFollow","ChartWrapper","defaultFilter","additionalFilters","reserveFilterSpace","reserveLegendSpace","chartStatus","chart","legend","contentClassName","contentMinHeight","filtersNode","margin","bottom","InternalSpaceBetween","direction","legendNode","top","wrapper","minHeight","getTextWidth","textNode","getComputedTextLength","maxWidth","textRef","isRtl","getIsRtl","renderTextContent","textAnchor","text","visibleLength","textContent","truncateText","maxLength","useHeightMeasure","getMeasure","skip","arguments","deps","measuredHeight","setHeight","stableGetMeasure","useResizeObserver","entry","borderBoxHeight","circleIndex","to","categoryPalette","createCategoryColorScale","isThreshold","getOwnColor","colors","categoryIndex","it","ownColor","defaultColor","thresholdColor","push","parseCssVariable","useContainerWidth","defaultValue","threshold","useContainerQuery","rect","prev","Math","abs","contentBoxWidth","axis","textAlign","TICK_LENGTH","TICK_MARGIN","TICK_LINE_HEIGHT","X_TICK_COUNT_RATIO","Y_TICK_COUNT_RATIO","SPACE_BETWEEN","formatTicks","ticks","scale","getLabelSpace","tickFormatter","tick","d3Scale","NaN","lines","max","getVisibleTicks","until","balanceTicks","getTicksInRange","reduceLabelRatio","findReduceLabelRatio","reducedTicks","getReducedTicks","visibleTicks","prevTick","hasIntersection","removeIntersections","ratio","a","b","virtualTextRef","formattedTicks","xOffset","isCategorical","bandwidth","balanceLabels","scaleType","isFinite","ticks__line","x1","x2","y1","y2","line","lineIndex","ticks__text","CartesianChartContainer","leftAxisLabel","leftAxisLabelMeasure","bottomAxisLabel","chartPlot","popover","baselineY","point","ariaHasPopup","ariaExpanded","cx","cy","r","stroke","fill","plotWidth","plotHeight","maxLabelsWidth","Number","POSITIVE_INFINITY","yOffset","labelToBoxCache","getSVGTextSize","_d","_c","grid","ticks_line","lineTextProps","ResponsiveText","autoWidth","scaledValue","Fragment","ascending","descending","bisector","f","compare1","compare2","delta","lo","hi","mid","zero$1","center","bisectRight","bisect","InternMap","Map","constructor","entries","keyof","super","defineProperties","this","_intern","_key","set","intern_get","intern_set","delete","intern_delete","valueOf","e10","sqrt","e5","e2","start","stop","count","reverse","n","step","tickIncrement","r0","round","r1","power","floor","log","LN10","error","pow","tickStep","step0","step1","initRange","domain","range","implicit","Symbol","ordinal","unknown","_","copy","apply","band","ordinalRange","paddingInner","paddingOuter","align","rescale","values","ceil","rangeRound","padding","min","define","factory","prototype","extend","parent","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","m","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","g","rgb$1","opacity","o","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","channels","displayable","formatHex8","formatHsl","k","clamp","constant","gamma","nogamma","t","exponential","linear$1","rgbGamma","end","numberArray","c","genericArray","nb","na","interpolate","date$1","Date","setTime","interpolateNumber","object","reA","reB","source","string","am","bm","bs","bi","lastIndex","q","one","zero","ArrayBuffer","isView","DataView","isArray","interpolateRound","number$1","unit","identity$1","normalize","bimap","d0","d1","polymap","j","transformer","untransform","piecewise","output","input","interpolate$1","clamper","invert","u","continuous","formatDecimalParts","p","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","match","Error","FormatSpecifier","sign","symbol","comma","precision","formatRounded","formatTypes","%","toFixed","toLocaleString","replace","e","toPrecision","toUpperCase","identity","locale$1","formatPrefix","prefixes","formatLocale$1","locale","grouping","thousands","group","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","prefix","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","charCodeAt","Infinity","tickFormat","precisionPrefix","precisionRound","precisionFixed","linear","nice","prestep","maxIter","linearish","interval","x0","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","v","z","t0","t1","timeInterval","floori","offseti","field","date","previous","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getMilliseconds","getUTCSeconds","timeMinute","getSeconds","getMinutes","utcMinute","setUTCSeconds","getUTCMinutes","timeHour","getHours","utcHour","setUTCMinutes","getUTCHours","timeDay","setHours","setDate","getDate","getTimezoneOffset","utcDay","setUTCHours","setUTCDate","getUTCDate","unixDay","timeWeekday","getDay","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","setMonth","getMonth","getFullYear","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","timeYear","setFullYear","utcYear","setUTCFullYear","ticker","year","month","week","day","hour","minute","tickIntervals","tickInterval","timeTicks","timeTickInterval","localDate","H","M","S","L","utcDate","UTC","newDate","timeFormat","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","name","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","number","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","time","createNumericScale","scaleLog","scaleLinear","isNumericDomain","createTimeScale","scaleTime","isDateDomain","createBandScale","scaleBand","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","parse","X","utcFormat","utcParse","formatLocale","defaultLocale","ChartScale","noCategoricalOuterPadding","createScale","cloneScale","newScaleType","newDomain","newRange","isNumeric","isTime","NumericChartScale","adjustDomain","getTimezoneOffsetInMilliseconds","getTime","MILLISECONDS_IN_DAY","compareLocalAsc","dateLeft","dateRight","diff","differenceInDays","dirtyDateLeft","dirtyDateRight","requiredArgs","toDate","difference","startOfDayLeft","startOfDay","startOfDayRight","timestampLeft","timestampRight","differenceInCalendarDays","result","add","dirtyDate","duration","_typeof","years","toInteger","weeks","hours","minutes","seconds","dateWithMonths","addMonths","dateWithDays","addDays","msToAdd","createXTicks","rawTicks","oneDayInterval","twoDayInterval","isDayInterval","isMixedDayInterval","curr","createTwoDayInterval","uniform","showPoints","showLine","points","firstPoint","OUTLINE_PADDING","BarGroups","isRefresh","isPopoverPinned","barGroups","highlightedGroupIndex","highlightedGroupRef","highlightDetails","setExpandedSeries","Transition","in","exiting","ChartPopover","ChartSeriesDetails","isExpanded","oldState","expandedSeriesInCurrentCoordinate","Set","createOneSideRoundedRectPath","radius","side","coordinates","startIndex","path","hypot","chartLegendMap","bar","nextValidDomainIndex","nextGroupIndex","isValid","hasData","matchesX","getKeyValue","isYThreshold","isXThreshold","isDataSeries","BarSeries","xScale","yScale","highlighted","totalSeriesCount","seriesIndex","plotSize","chartAreaClipPath","stackedBarValues","useVisualRefresh","isStacked","isVertical","xCoordinates","yContinuosScale","xPoints","data","zeroY","baseY","barWidth","barX","yValue","isRoundedStart","isRoundedEnd","allXValues","allXValuesSorted","sort","highlightedXValue","clipPath","isSmallBar","heightOffset","placement","widthOffset","series__rect","styleProps","Linear","context","_context","LineSeries","commonProps","lineGenerator","pointX","pointY","defined","curve","curveLinear","buffer","defined0","lineStart","lineEnd","areaStart","_line","areaEnd","_point","closePath","lineTo","moveTo","STROKE_WIDTH","DataSeries","isGroupNavigation","visibleSeries","lineAreaClipPath","barData","forEach","dataBySeries","negativeValues","positiveValues","seriesValue","valuesByIndex","calculateStackedBarValues","formatHighlighted","xTickFormatter","formattedPosition","internalSeries","targetX","valueFormatter","customContent","hasSubItems","isExpandable","isKeyString","getSeriesDetail","MAX_HOVER_MARGIN","POPOVER_DEADZONE","useMouseHover","plotRef","scaledSeries","highlightPoint","highlightGroup","clearHighlightedSeries","isHandlersDisabled","highlightX","isMouseOverPopover","firstChild","popoverPosition","getBoundingClientRect","clientX","clientY","onSVGMouseMove","svgRect","groupIndex","onGroupMouseMove","closestX","reduce","closestY","datumX","scaledX","onSeriesMouseMove","onSVGMouseOut","classList","onPopoverLeave","useNavigation","highlightedPoint","pinPopover","highlightSeries","verticalMarkerX","setTargetX","xIndex","setXIndex","some","navigableSeries","navigableBarSeriesIndex","findNavigableSeries","containsMultipleSeries","allUniqueX","moveBetweenSeries","startFrom","MAX_SERIES_INDEX","previousSeriesIndex","firstPossibleIndex","nextSeriesIndex","nextSeries","nextInternalSeries","actualTargetX","targetXPoint","closestNextSeriesPoint","scaledTargetIndex","_e","moveWithinSeries","targetScaledSeries","previousPoint","indexOfPreviousPoint","nextPointIndex","nextPoint","xDomain","MAX_GROUP_INDEX","nextDomainIndex","moveToLineGroupIndex","moveWithinXAxis","nextPointGroupIndex","onBarGroupFocus","onLineFocus","makeScaledSeries","allSeries","scaleX","scaleY","allX","addDataXSet","allDataX","getAllX","mergeLineSeriesPointsWithXThresholds","scaledPoints","xThresholdSeries","xThresholdSeriesColor","bisectIndex","averageY","scaledSeriesX","s1","s2","otherSeries","arrays","merged","array","flatten","INLINE_START_LABELS_MARGIN","BLOCK_END_LABELS_OFFSET","fallbackContainerWidth","ChartContainer","explicitPlotHeight","setHighlightedPoint","setHighlightedGroupIndex","detailPopoverFooter","yTickFormatter","xTitle","yTitle","verticalMarkerRef","inlineStartLabelsWidth","setInlineStartLabelsWidth","setVerticalMarkerX","detailsPopoverText","setDetailsPopoverText","containerWidth","containerMeasureRef","maxInlineStartLabelsWidth","containerRefObject","acc","computeDomainX","yDomain","_series","positiveData","negativeData","stackedDatum","arr","func","find","computeDomainY","linesOnly","getXAxisProps","tickCount","xAxisAriaRoleDescription","getYAxisProps","createYTicks","yAxisAriaRoleDescription","bottomAxisProps","blockEndLabelsProps","cacheRef","useBLockEndLabels","plotMeasureRef","leftAxisProps","xAxisProps","yAxisProps","highlightedPointRef","makeScaledBarGroups","isPopoverOpen","showPopover","dismissPopover","setState","usePopover","setHandlersDisabled","timeoutId","setTimeout","clearTimeout","clearAllHighlights","handlers","highlightedX","useLayoutEffect","blurTarget","Element","onSVGKeyDown","verticalLineX","verticalMarkers","highlightedElementRef","seriesToShow","detailPopoverFooterContent","activeAriaLabel","activeLiveRegion","isLineXKeyboardFocused","AxisLabel","LabelsMeasure","ChartPlot","chartAriaRoleDescription","strokeWidth","pointerEvents","InlineStartLabels","VerticalGridLines","EmphasizedBaseline","VerticalMarker","HighlightedPoint","BlockEndLabels","MixedChartPopover","outsideClick","detailPopoverDismissAriaLabel","InternalChartLegend","legendItems","ChartLegend","controlledHighlightedSeries","controlledVisibleSeries","externalSeries","onFilterChange","controlledOnHighlightChange","gotBarSeries","gotLineSeries","setHighlightedSeries","useControllable","componentName","controlledProp","changeHandler","legendSeries","setLegendSeries","externalVisibleSeries","setExternalVisibleSeries","isDevelopment","previousSeries","usePrevious","hasPrevious","hasCurrent","showFilters","showLegend","filterItems","legendAriaLabel","tokenSelector","toggleButtonSelector","toggle","TokenLimitToggle","allHidden","numberOfHiddenOptions","numberOfHiddenOptionLabel","handleClick","InternalIcon","TokenList","renderItem","after","moveFocusNextToIndex","onExpandedClick","tokenListRef","tokenElements","toggleButton","querySelector","closestPrevIndex","NEGATIVE_INFINITY","closestNextIndex","activeIndex","nextElement","prevElement","getFirstFocusable","useTokenFocusController","setExpanded","hasItems","hasHiddenItems","visibleItems","hasVisibleItems","horizontal","separator","vertical","Token","warningText","warningIconAriaLabel","errorId","warningId","showWarning","token","DismissButton","FormFieldError","FormFieldWarning","checkControlled","removedItemIndex","setRemovedItemIndex","Option","isGenericGroup","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","quadraticCurveTo","bezierCurveTo","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","required","args","TypeError","dirtyNumber","dirtyAmount","amount","dayOfMonth","endOfDesiredMonth","argument","argStr","console","warn","stack"],"sourceRoot":""}