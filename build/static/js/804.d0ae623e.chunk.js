"use strict";(self.webpackChunkrasilabs=self.webpackChunkrasilabs||[]).push([[804],{1169:(e,i,t)=>{t.r(i),t.d(i,{default:()=>B});var l=t(5043),a=t(6421),r=t(7880),n=t(3941),s=t(8003),o=t(5336),d=t(6255),c=t(2521),A=t(500),u=t(7949),h=t(7468),x=t(2671),p=t(9545),v=t(8811),m=t(5416),j=t(8429),g=t(3216),b=t(3003),f=t(1013),y=t(1241),S=t(9971),C=t(7456),P=(t(7179),t(579));const k=e=>{var i,t,a,r,n,o;let{product:d,onChange:c}=e;const[A,u]=l.useState((null===(i=d.data)||void 0===i?void 0:i.description)||""),[p,j]=l.useState((null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.name)||""),[g,b]=l.useState({label:(null===(a=d.data)||void 0===a?void 0:a.category)||"",value:(null===(r=d.data)||void 0===r?void 0:r.category)||""}),[f,k]=l.useState({label:(null===(n=d.data)||void 0===n?void 0:n.units)||"",value:(null===(o=d.data)||void 0===o?void 0:o.units)||""}),[O,w]=l.useState({label:"Option 1",value:"1"});return(0,l.useEffect)((()=>{var e,i,t,l,a,r;u((null===(e=d.data)||void 0===e?void 0:e.description)||""),j((null===(i=d.data)||void 0===i?void 0:i.name)||""),b({label:(null===(t=d.data)||void 0===t?void 0:t.category)||"",value:(null===(l=d.data)||void 0===l?void 0:l.category)||""}),k({label:(null===(a=d.data)||void 0===a?void 0:a.units)||"",value:(null===(r=d.data)||void 0===r?void 0:r.units)||""}),w({label:"Option 1",value:"1"})}),[d]),(0,P.jsx)(x.A,{variant:"borderless",className:"container-box-shadow",fitHeight:!0,children:(0,P.jsx)(y.A,{children:(0,P.jsxs)(s.A,{direction:"vertical",size:"l",children:[(0,P.jsx)(v.A,{stretch:!0,label:"Product Name",children:(0,P.jsx)(m.A,{placeholder:"Input Item Name",value:p,onChange:e=>{let{detail:i}=e;return j(i.value)}})}),(0,P.jsxs)(h.A,{disableGutters:!0,gridDefinition:[{colspan:4},{colspan:4},{colspan:4},{colspan:4},{colspan:4},{colspan:4}],children:[(0,P.jsx)("div",{style:{marginRight:"1rem"},children:(0,P.jsx)(v.A,{label:"Category",children:(0,P.jsx)(S.A,{disabled:!0,selectedOption:g,onChange:e=>{let{detail:i}=e;return b(i.selectedOption)},options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Option 3",value:"3"},{label:"Option 4",value:"4"},{label:"Option 5",value:"5"}],placeholder:"Select Category"})})}),(0,P.jsx)("div",{style:{marginRight:"1rem"},children:(0,P.jsx)(v.A,{label:"Units",children:(0,P.jsx)(S.A,{disabled:!0,selectedOption:f,onChange:e=>{let{detail:i}=e;return k(i.selectedOption)},options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Option 3",value:"3"},{label:"Option 4",value:"4"},{label:"Option 5",value:"5"}]})})}),(0,P.jsxs)("div",{children:[(0,P.jsx)(v.A,{label:"Status",children:(0,P.jsx)(S.A,{disabled:!0,selectedOption:O,onChange:e=>{let{detail:i}=e;return w(i.selectedOption)},options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"},{label:"Option 3",value:"3"},{label:"Option 4",value:"4"},{label:"Option 5",value:"5"}]})})," "]}),"   "]}),(0,P.jsx)(v.A,{label:"Product Description",children:(0,P.jsx)(C.A,{disabled:!0,placeholder:"Input Item Description",value:A,onChange:e=>{let{detail:i}=e;return u(i.value)}})})]})})})},O=e=>{var i;let{product:t}=e;const[a,r]=l.useState(!1),[n,o]=l.useState(!1);return(0,P.jsx)(x.A,{variant:"borderless",className:"container-box-shadow",header:(0,P.jsx)(c.A,{variant:"h3",children:"Inventory Tracking"}),children:(0,P.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,P.jsx)(y.A,{children:(0,P.jsxs)(s.A,{direction:"vertical",size:"l",children:[(0,P.jsx)(j.A,{onChange:e=>{let{detail:i}=e;return r(i.checked)},checked:a,children:"Track Inventory"}),(0,P.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,P.jsx)(v.A,{label:"Low Stock Limit",children:(0,P.jsx)(m.A,{size:"3xs",placeholder:"stock"})}),(0,P.jsx)(v.A,{label:"Quantity",children:(0,P.jsx)(m.A,{value:null===(i=t.data)||void 0===i?void 0:i.stockQuantity,disabled:!0,size:"3xs",placeholder:"Quantity"})})]}),(0,P.jsx)(A.A,{onChange:e=>{let{detail:i}=e;return o(i.checked)},checked:n,children:"Quantity Restriction"}),(0,P.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,P.jsx)(v.A,{label:"Minimum",children:(0,P.jsx)(m.A,{disabled:!0,size:"3xs",placeholder:"minimum"})}),(0,P.jsx)(v.A,{label:"Maximum",children:(0,P.jsx)(m.A,{disabled:!0,size:"3xs",placeholder:"maximum"})})]})]})})})})};var w=t(5165),D=t(2507);const E=()=>{const[e,i]=l.useState(""),[t,r]=l.useState([]),[d,A]=l.useState(!1),[u,p]=l.useState(""),[j,g]=l.useState(!1),[b,f]=l.useState(null),S=()=>{if(e){if(null!==b){const i=[...t];i[b]={label:e,value:e},r(i),f(null)}else r([...t,{label:e,value:e}]);i("")}};return(0,P.jsxs)(x.A,{className:"container-box-shadow",variant:"borderless",header:(0,P.jsxs)(h.A,{gridDefinition:[{colspan:{default:10,xxs:9}},{colspan:{default:2,xxs:3}}],children:[(0,P.jsx)(c.A,{variant:"h3",children:j?u:"Attributes"}),j&&(0,P.jsx)(o.A,{variant:"primary",onClick:()=>A(!0),children:"Add Attribute"})]}),children:[j?(0,P.jsx)(s.A,{direction:"vertical",size:"l",children:(0,P.jsx)(w.A,{variant:"borderless",columnDefinitions:[{header:"Variant",cell:e=>e.label},{header:"Quantity",cell:e=>(0,P.jsx)(m.A,{placeholder:"Enter quantity"})},{header:"Price",cell:e=>(0,P.jsx)(m.A,{placeholder:"Enter price"})},{header:"Action",cell:(e,l)=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.A,{variant:"inline-link",onClick:()=>{return e=l,void r(t.filter(((i,t)=>t!==e)));var e},children:(0,P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADoSURBVHgBrZK7DsIwDEXtqEhsFKmVujWdECP//yHARJg7kLGiD+M+EihNWoniJZZjn9xrBWBloKt4jeMbH/KrrA55njkBPEDwQzAQBawMa+ESRQoR06Yss6PWytV8ThIp6rq1Z+1YBQLx0SVBIL3PVVV3x37vds4kDVFfJPICBFE49OgJgBA1LAT3yPZEo/YTwFQF/a30AgDCkdoRALED8C5SH8DAGTS18BZCe++82YEQagoYLOCcAoBd19M0DgVBoIYsnAH0X7mqlB0zybYo9HOzaVO59LUL1w4yrbVZ5Gxwz6nt/Ve8ADD0Vsj2OtQwAAAAAElFTkSuQmCC",alt:"Delete",style:{width:"16px",height:"16px"}})}),(0,P.jsx)(o.A,{variant:"inline-link",onClick:()=>{return i(t[e=l].label),void f(e);var e},children:(0,P.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD1SURBVHgBrZO9jcJAEIXnzWGCi7YE08GVcK7gjg4ogZAQEouQyCLDUAFUQAt0ACU4QYi1mGHXlhB/wa7Ek1Y7Go2+ffOkJfqAQJEaDEep1ti6skJyysrZrOI4wNi0AKTu/Ij9Hvp+MMQ7IHtMASzbDioWKX3VCQU0DpAYSJ2BEyLRdTmfHhpcMKBZwUnpsCzy3v0MRwHcCu7V/vMcogCqWVnkuyBIDOAtJBbg9ZKJAyxiAA9OvAOx+sddbLRm78SEALw69w4A/hUrhruSkWUTArg5aXPg/W2F5Njzf+I1n0ep0mRV5OMmk8v5699dO4AmoYCP6wpYuIzW7jmJJwAAAABJRU5ErkJggg==",alt:"Edit",style:{width:"16px",height:"16px"}})})]})}],items:t,empty:(0,P.jsx)(a.A,{textAlign:"center",color:"inherit",children:(0,P.jsx)("b",{children:"No attributes added yet."})})})}):(0,P.jsxs)(s.A,{direction:"vertical",size:"l",children:[(0,P.jsx)(a.A,{variant:"h3",textAlign:"center",children:"Create attributes to add variants to your product"}),(0,P.jsx)(a.A,{variant:"p",textAlign:"center",children:"Attributes describe the characteristics of a product, such as size, color, or material. You can add a maximum of three attributes for every product."}),(0,P.jsx)(a.A,{textAlign:"center",children:(0,P.jsx)(o.A,{variant:"primary",onClick:()=>A(!0),children:"Add Attribute"})})]}),(0,P.jsx)(n.A,{visible:d,header:null!==b?"Edit Attribute":"Add Attribute",onDismiss:()=>{A(!1),f(null),i("")},closeAriaLabel:"Close modal",footer:(0,P.jsx)(a.A,{textAlign:"center",float:"right",children:(0,P.jsxs)(s.A,{direction:"horizontal",size:"xs",children:[(0,P.jsx)(o.A,{variant:"link",onClick:()=>{A(!1),f(null),i("")},children:"Cancel"}),(0,P.jsx)(o.A,{variant:"primary",onClick:()=>{A(!1),g(!0)},children:"Save"})]})}),children:(0,P.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,P.jsx)(y.A,{children:(0,P.jsxs)(s.A,{direction:"vertical",size:"l",children:[(0,P.jsx)(v.A,{label:"Title",children:(0,P.jsx)(m.A,{value:u,onChange:e=>{let{detail:i}=e;return p(i.value)},placeholder:"Enter title"})}),(0,P.jsxs)(v.A,{label:"Options",children:[(0,P.jsx)(m.A,{value:e,onChange:e=>{let{detail:t}=e;return i(t.value)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),S())},placeholder:"Enter an option and press Enter"}),(0,P.jsx)("div",{style:{marginTop:"2px"},children:(0,P.jsx)(D.A,{items:t.map((e=>({label:e.label}))),onDismiss:e=>{let{detail:i}=e;return r((e=>e.filter(((e,t)=>t!==i.itemIndex))))},alignment:"horizontal"})})]}),(0,P.jsx)(o.A,{variant:"primary",onClick:S,disabled:!e,children:null!==b?"Edit Option":"Add Option"})]})})})})]})},z=()=>{const e=(0,g.Zp)(),i=(0,g.zy)(),t=(0,b.d4)((e=>e.products.products)),[a,r]=(0,l.useState)([]),[n,s]=(0,l.useState)(null);(0,l.useEffect)((()=>{var e;const l=null===(e=t.data)||void 0===e?void 0:e.map((e=>e.id));r(l);const a=i.pathname.split("/").pop();s(a)}),[t,i.pathname]);return{goToNextProduct:()=>{const i=a.indexOf(n);if(i<a.length-1){const t=a[i+1];s(t),e("/app/products/".concat(t))}},goToPreviousProduct:()=>{const i=a.indexOf(n);if(i>0){const t=a[i-1];s(t),e("/app/products/".concat(t))}},isAtFirstProduct:0===a.indexOf(n),isAtLastProduct:a.indexOf(n)===a.length-1}},B=()=>{var e,i,t,y;const{id:S}=(0,g.g)(),C=(0,b.wA)(),[w,D]=(0,l.useState)(!1),B=(0,b.d4)((e=>e.products.productDetail)),[I,Q]=(0,l.useState)({}),[R,T]=(0,l.useState)(!1),[L,F]=(0,l.useState)(!1),[V,U]=(0,l.useState)(!1),[M,Y]=(0,l.useState)(!1),[N,H]=(0,l.useState)([]),[J,W]=(0,l.useState)(!1),[Z,K]=(0,l.useState)(!1),[X,q]=(0,l.useState)(""),[G,$]=(0,l.useState)(""),[_,ee]=(0,l.useState)({compareAt:"",onlineStorePrice:""}),[ie,te]=(0,l.useState)(""),[le,ae]=(0,l.useState)(""),{goToNextProduct:re,goToPreviousProduct:ne,isAtFirstProduct:se,isAtLastProduct:oe}=z();(0,l.useEffect)((()=>{C((0,f.j0)()),S&&(D(!0),C((0,f.eH)(S)).finally((()=>D(!1))))}),[C,S]),(0,l.useEffect)((()=>{B.data&&(Q(B.data),T(B.data.active),ee({compareAt:B.data.compareAt||"",onlineStorePrice:B.data.onlineStorePrice||""}),q(B.data.purchasingPrice||""),$(B.data.msp||""),K(B.data.chargeTax||!1))}),[B]);const de=()=>{F(!1)},ce=(e,i)=>{ee((t=>({...t,[e]:i}))),"onlineStorePrice"===e&&ie&&te(""),"compareAt"===e&&le&&ae("")};return B.data?(0,P.jsxs)(a.A,{margin:{top:"n"},children:[N.length>0&&(0,P.jsx)(r.A,{items:N}),(0,P.jsx)(n.A,{onDismiss:de,visible:L,closeAriaLabel:"Close modal",header:"Confirm Change",footer:(0,P.jsxs)(s.A,{direction:"horizontal",size:"xs",children:[(0,P.jsx)(o.A,{onClick:de,variant:"link",children:"Cancel"}),(0,P.jsx)(o.A,{onClick:()=>{var e;const i=!R;T(i),C((0,f.WJ)({id:null===B||void 0===B||null===(e=B.data)||void 0===e?void 0:e.id,active:i})).then((()=>{Q((e=>({...e,active:i}))),U(!0),setTimeout((()=>U(!1)),5e3)})),F(!1)},variant:"primary",children:"Confirm"})]}),children:"Are you sure you want to change the product status?"}),V&&(0,P.jsx)(r.A,{items:[{type:"info",message:"Updated successfully",content:"Product Status Changed Successfully",dismissible:!0,onDismiss:()=>U(!1)}]}),(0,P.jsx)(d.A,{className:"bread",items:[{text:"Dashboard",href:"/app/dashboard"},{text:"Products",href:"/app/products"},{text:I.name||"Product Details",href:"/app/products/".concat(S)}],ariaLabel:"Breadcrumbs"}),(0,P.jsx)("div",{style:{marginBottom:"15px"},children:(0,P.jsx)(c.A,{variant:"h3",actions:(0,P.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,P.jsx)(A.A,{onChange:()=>{F(!0)},checked:R,children:R?"Active":"Inactive"}),(0,P.jsx)(o.A,{variant:"primary",onClick:()=>parseFloat(_.onlineStorePrice)>=parseFloat(_.compareAt)?(te("Online Store Price must be less than Compare At Price"),void W(!1)):_.compareAt&&_.onlineStorePrice?void Y(!0):(_.compareAt||ae("Compare At Price is required"),_.onlineStorePrice||te("Online Store Price is required"),void W(!1)),disabled:J,children:J?"Saving...":"Save Changes"}),(0,P.jsxs)("div",{style:{display:"flex",gap:"3px",justifyContent:"center"},children:[(0,P.jsx)("button",{onClick:ne,style:{cursor:se?"not-allowed":"pointer",borderRadius:"1rem",width:"45px",height:"30px",backgroundColor:se?"gray":"black",color:"white",textAlign:"center",padding:"5px"},disabled:se,children:(0,P.jsx)(u.A,{size:"small",name:"angle-left"})}),(0,P.jsx)("button",{onClick:re,style:{cursor:oe?"not-allowed":"pointer",borderRadius:"1rem",width:"45px",height:"30px",padding:"5px",backgroundColor:oe?"gray":"black",color:"white",textAlign:"center"},disabled:oe,children:(0,P.jsx)(u.A,{size:"small",name:"angle-right"})})]})]}),children:I.name})}),(0,P.jsxs)(s.A,{direction:"vertical",size:"l",children:[(0,P.jsxs)(h.A,{gridDefinition:[{colspan:{default:12,xs:12,s:8,l:9}},{colspan:{default:12,xs:12,s:4,l:3}}],children:[(0,P.jsx)(k,{product:B}),(0,P.jsx)(x.A,{fitHeight:600,variant:"borderless",className:"container-box-shadow",children:w?(0,P.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"320px",width:"200px"},children:(0,P.jsx)(a.A,{textAlign:"center",float:"left",children:(0,P.jsx)(p.A,{size:"large"})})}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("img",{src:null===I||void 0===I?void 0:I.image,alt:I.name,style:{height:"200px",borderRadius:"8px",width:"100%"}}),(0,P.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"10px"},children:"Additional Images"}),(0,P.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[(0,P.jsx)("img",{src:null===I||void 0===I||null===(e=I.images)||void 0===e?void 0:e[1],style:{borderRadius:"8px",height:"110px",width:"50%"},alt:null===B||void 0===B||null===(i=B.data)||void 0===i?void 0:i.name}),(0,P.jsx)("img",{src:null===I||void 0===I||null===(t=I.images)||void 0===t?void 0:t[2],style:{borderRadius:"8px",height:"110px",width:"50%"},alt:null===B||void 0===B||null===(y=B.data)||void 0===y?void 0:y.name})]})]})})]}),(0,P.jsxs)(h.A,{gridDefinition:[{colspan:{default:12,xs:12,s:8,l:9}},{colspan:{default:12,xs:12,s:4,l:3}}],children:[(0,P.jsx)(x.A,{variant:"borderless",className:"container-box-shadow",header:(0,P.jsx)(c.A,{variant:"h3",children:"Pricing"}),children:(0,P.jsxs)(s.A,{size:"l",children:[(0,P.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,P.jsx)(v.A,{label:"Purchasing Price",children:(0,P.jsx)(m.A,{value:X,size:"3xs",onChange:e=>{let{detail:i}=e;return q(i.value)},placeholder:"Input Purchasing Price",disabled:!0})}),(0,P.jsx)(v.A,{label:"Minimum Selling Price",children:(0,P.jsx)(m.A,{value:G,size:"3xs",onChange:e=>{let{detail:i}=e;return $(i.value)},placeholder:"Min Selling Price",disabled:!0})}),(0,P.jsx)(v.A,{label:"Compare At Price",errorText:le,children:(0,P.jsx)(m.A,{value:_.compareAt,onChange:e=>ce("compareAt",e.detail.value),onBlur:()=>{_.compareAt?parseFloat(_.onlineStorePrice)>=parseFloat(_.compareAt)&&te("Online Store Price must be less than Compare At Price"):ae("Compare At Price is required")}})})]}),(0,P.jsx)(j.A,{onChange:e=>{let{detail:i}=e;return K(i.checked)},checked:Z,children:"Charge Tax on this Product"}),(0,P.jsx)("hr",{}),(0,P.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,P.jsx)(v.A,{label:"Online Store Price",errorText:ie,children:(0,P.jsx)(m.A,{value:_.onlineStorePrice,onChange:e=>ce("onlineStorePrice",e.detail.value),onBlur:()=>{_.onlineStorePrice?parseFloat(_.onlineStorePrice)>=parseFloat(_.compareAt)&&te("Online Store Price must be less than Compare At Price"):te("Online Store Price is required")}})}),(0,P.jsx)(v.A,{label:"Profit",children:(0,P.jsx)(m.A,{size:"3xs",placeholder:"Profit",value:_.compareAt-_.onlineStorePrice||0})}),(0,P.jsx)(v.A,{label:"Margin",children:(0,P.jsx)(m.A,{value:_.compareAt&&_.onlineStorePrice?"".concat(((_.compareAt-_.onlineStorePrice)/_.compareAt*100).toFixed(2),"%"):"%",size:"3xs",placeholder:"Margin"})})]})]})}),(0,P.jsx)("div",{})]}),(0,P.jsxs)(h.A,{gridDefinition:[{colspan:{default:12,xs:12,s:8,l:9}},{colspan:{default:12,xs:12,s:4,l:3}}],children:[(0,P.jsx)(O,{product:B}),(0,P.jsx)("div",{})]}),(0,P.jsxs)(h.A,{gridDefinition:[{colspan:{default:12,xs:12,s:8,l:9}},{colspan:{default:12,xs:12,s:4,l:3}}],children:[(0,P.jsx)(E,{product:B}),(0,P.jsx)("div",{})]})]}),(0,P.jsx)(n.A,{onDismiss:()=>Y(!1),visible:M,closeAriaLabel:"Close modal",header:"Confirm Changes",footer:(0,P.jsxs)(a.A,{float:"right",children:[(0,P.jsx)(o.A,{onClick:()=>Y(!1),variant:"link",children:"Cancel"}),(0,P.jsx)(o.A,{onClick:async()=>{Y(!1),W(!0),te(""),ae("");try{const e=[{id:S,compareAt:parseFloat(_.compareAt)||0,onlineStorePrice:parseFloat(_.onlineStorePrice)||0}];"fulfilled"===(await C((0,f.OS)(e))).meta.requestStatus?(S&&(D(!0),C((0,f.eH)(S)).finally((()=>D(!1)))),Q((e=>({...e,compareAt:_.compareAt,onlineStorePrice:_.onlineStorePrice,chargeTax:Z}))),H([{type:"success",content:"Product pricing updated successfully.",dismissible:!0,onDismiss:()=>H([])}])):console.error("Failed to update product pricing.")}catch(e){console.error("Error publishing product:",e)}finally{W(!1),setTimeout((()=>H([])),5e3)}},variant:"primary",children:"Confirm"})]}),children:"Are you sure you want to save these changes?"})]}):(0,P.jsx)("div",{children:"Loading..."})}},7179:()=>{}}]);
//# sourceMappingURL=804.d0ae623e.chunk.js.map