(self.webpackChunkrasilabs=self.webpackChunkrasilabs||[]).push([[141],{6175:(e,s,t)=>{"use strict";t.d(s,{aH:()=>o,mg:()=>l});var a=t(6446),r=t(1637),i=(t(1036),t(579));const l={EMAIL_REGEX:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,PASSWORD_REGEX:/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/,MOBILE_NUMBER_REGEX:/^\d{10}$/,NUMBER_ONLY_REGEX:/^[0-9]+$/,DECIMAL_ALLOW_REGEX:/^\d*\.?\d*$/,ONLY_TWO_DECIMAL_ALLOW_REGEX:/^(?:\d*\.\d{1,2}|\d+)$/,type:{MANDATORY:0,REGEX:1,CHARACTERCOUNT:2},validate:(e,s)=>{function t(e,s){return s&&""!==s?{isValid:!0,error:{isValid:!0,message:""}}:{isValid:!1,error:{isValid:!1,message:e.message}}}function a(e,s){return s&&s.length!==e.CharacterCout?{isValid:!1,error:{isValid:!1,message:e.message}}:{isValid:!0,error:{isValid:!0,message:""}}}function r(e,s){return e.regex&&!e.regex.test(s)?{isValid:!1,error:{isValid:!1,message:e.message}}:{isValid:!0,error:{isValid:!0,message:""}}}const i=Object.keys(s),o={};let d,n=!0;return i.forEach((i=>{const c=e[i],u=s[i];for(const e of c)if(e.type===l.type.MANDATORY?d=t(e,u):e.type===l.type.CHARACTERCOUNT?d=a(e,u):e.type===l.type.REGEX&&(d=r(e,u)),o[i]=d.error,n=n&&d.isValid,!d.isValid)break})),o.isValid=n,o}},o={commonLoader:()=>(0,i.jsx)(a.A,{className:"d-flex align-items-center justify-content-center common-loader",children:(0,i.jsx)(r.A,{})})}},1093:()=>{},3610:()=>{},9141:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>L});var a=t(5043),r=t(1906),i=t(6446),l=t(3003),o=t(5719),d=t(5163),n=t(6175),c=t(1093),u=t.n(c),m=t(5475),h=t(3610),p=t.n(h);var C=t(579);const E=[{field:"customer_name",headerName:"Customer Name",width:150,renderCell:e=>(0,C.jsx)(m.N_,{to:e.value,children:e.value})},{field:"email",headerName:"Email",width:180,renderCell:e=>e.value},{field:"shipping_address",headerName:"Shipping Address",width:250,renderCell:e=>e.value},{field:"added_by",headerName:"Added By",width:130,renderCell:e=>e.value},{field:"added_on",headerName:"Added On",width:180,renderCell:e=>e.value},{field:"last_order",headerName:"Last Order",width:180,renderCell:e=>e.value},{field:"actions",headerName:"Actions",width:240,renderCell:e=>(0,C.jsxs)("div",{className:"table-btns",children:[(0,C.jsx)(r.A,{className:"primary-outline",variant:"primary",children:"View More"}),(0,C.jsx)(r.A,{className:"primary",variant:"primary",children:"Create Quotes"})]})}];let{FAVOURITE_CUSTOMER:g,NEW_CUSTOMER:v}={APPROVED:"Approved",UNDER_REVIEW:"Under Review",REJECTED:"Rejected",PENDING:"Pending",DELETED:"Deleted",FAVOURITE_CUSTOMER:"Favourite Customer",NEW_CUSTOMER:"New Customer"};const N=[{label:"All"},{label:g},{label:v}];class w extends a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.props.fetchCustomers()},this.state={customersData:[],selectedFilters:[],paginationDetails:{pageSize:10,page:0}}}componentDidUpdate(e,s){var t,a;e.customers.status!==this.props.customers.status&&this.props.customers.status===o.A.SUCCESS&&null!==(t=this.props.customers)&&void 0!==t&&t.data&&this.manipulationData((null===(a=this.props.customers)||void 0===a?void 0:a.data.customers)||[])}manipulationData(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,{customersData:a,selectedFilters:r}=this.state;if(a=[],null!==e&&void 0!==e&&e.length){let i=JSON.parse(JSON.stringify(e));s&&(i=e.filter((e=>!!(null!==e&&void 0!==e&&e.customer_name.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.added_by.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.added_on.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.email.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.last_order.toLowerCase().includes(s.toLowerCase())||null!==e&&void 0!==e&&e.shipping_address.toLowerCase().includes(s.toLowerCase()))||null))),t?i=i.filter((e=>r.includes(e.status.toLowerCase().replace(" ","_")))):r=[],i.forEach((e=>{var s,t;a.push({...e,statusClass:null===e||void 0===e||null===(s=e.status)||void 0===s||null===(t=s.toLowerCase())||void 0===t?void 0:t.replace(" ","_")})}))}this.setState({customersData:a,searchData:s,selectedFilters:r})}render(){const{customersData:e,paginationDetails:{page:s,pageSize:t},searchData:a,selectedFilters:r}=this.state,l=s*t+1,d=s*t+t;return(0,C.jsx)(i.A,{className:"main-container",children:(0,C.jsxs)(i.A,{className:"qutations-container",children:[(0,C.jsx)(p(),{details:{header:"Customers",filterLabel:"",exportCsv:"Export as CSV",importCsv:"Import",isOnlySearchVisible:!1,btnLabel:"Customers",dataLength:e.length,searchData:a,dataRange:e.length?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("strong",{children:[l," -",d]})}):0,filter:{label:"Filters",data:N,header:"Status",selectedFilters:r}},handleSearch:e=>{var s;this.manipulationData((null===(s=this.props.customers)||void 0===s?void 0:s.data.customers)||[],e)},handleFilters:(e,s)=>{let{selectedFilters:t}=this.state;s?t=s:t.includes(e)?t="all"===e?[]:t.filter((s=>![e,"all"].includes(s))):"all"===e?t=N.map((e=>e.label.toLowerCase().replace(" ","_"))):t.push(e),console.log(t,s),this.setState({selectedFilters:t})},applyOrCancelFilter:e=>{var s;this.manipulationData((null===(s=this.props.quotations)||void 0===s?void 0:s.data.quotations)||[],a,e?1:0)}}),this.props.customers.status===o.A.IN_PROGRESS?n.aH.commonLoader():(0,C.jsx)(u(),{details:{paginationDetails:{page:s,pageSize:t},pagSize:10,data:e,columns:E,checkboxSelection:!0},handlePageChange:e=>{this.setState({paginationDetails:e})}})]})})}}const A={fetchCustomers:d.g},L=(0,l.Ng)((function(e){const{customers:s}=e.customers;return{customers:s}}),A)(w)}}]);
//# sourceMappingURL=141.c121b03d.chunk.js.map