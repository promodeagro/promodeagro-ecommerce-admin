{"version":3,"file":"static/js/880.744edfaa.chunk.js","mappings":"sJAEI,SACF,KAAQ,4BC+BJ,SAAUA,EAAcC,GAOR,IAPS,UAC7BC,EAAS,gBACTC,EAAe,OACfC,EAAM,kBACNC,EAAiB,WACjBC,EAAU,cACVC,GACoBN,EACpB,MAAMO,EAjCR,SACEL,EACAC,EACAE,EACAC,GASA,OAPKH,GAAUE,IACbF,EACEK,EAAAA,cAACC,EAAAA,EAAc,CAACR,UAAWC,EAAgBK,aAAcG,QAASJ,EAAeK,WAAW,QACzFN,IAIAF,EAASK,EAAAA,cAAA,OAAKP,UAAWC,EAAgBU,YAAaT,GAAgB,IAC/E,CAmBuBU,CAAmBX,EAAiBC,EAAQE,EAAYC,GAC7E,OAAKC,GAA6C,IAA7BH,EAAkBU,OAKrCN,EAAAA,cAAA,OAAKP,WAAWc,EAAAA,EAAAA,GAAKC,EAAOC,KAAMhB,IAC/BM,EACAH,GANI,IASX,C,uLCxCM,SAAUc,EACdC,EACAC,GACyC,IAAzC,SAAEC,GAAW,GAAIC,UAAAR,OAAA,QAAAS,IAAAD,UAAA,GAAAA,UAAA,GAAsB,CAAC,EAEpCE,EAA2C,KAC3CC,EAAgC,KAChCC,EAAyB,KAG7B,SAASC,IACP,GAAgB,OAAZH,GAAuC,OAAnBC,EACtB,OAGF,MAAMG,EAAaC,KAAKC,MACHF,EAAaH,GAAkBL,GAGlDD,EAAKY,MAAMP,EAAQQ,KAAMR,EAAQS,MACjCR,EAAiBG,EACjBJ,EAAU,KACVE,EAAU,MACDL,GACTa,GAEJ,CAEA,SAASA,IACHR,GACFS,qBAAqBT,GAEvBA,EAAUU,sBAAsBT,EAClC,CAGA,SAASU,IAAiC,QAAAC,EAAAhB,UAAAR,OAATmB,EAAS,IAAAM,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAATP,EAASO,GAAAlB,UAAAkB,GACjB,OAAnBf,GACFA,EAAiBI,KAAKC,MACtBX,EAAKY,MAAMC,KAAMC,KAEjBT,EAAU,CAAEQ,KAAMA,KAAMC,QACxBC,IAEJ,CAYA,OATAG,EAAUI,OAAS,KACbf,GACFS,qBAAqBT,GAEvBF,EAAU,KACVC,EAAiB,KACjBC,EAAU,IAAI,EAGTW,CACT,C,yJCjEO,MAUDK,EAAoD,CACxDC,MAAO,MACPC,KAAM,OACN,cAAe,OACfC,QAAS,QACTC,QAAS,UAQL,SAAUC,EAAYC,GAC1B,OAAIA,EAAKC,QACA,cAEAD,EAAKE,MAAQ,MAExB,CAEM,SAAUC,EAAaH,GAC3B,OAdF,SAA0BE,GACxB,MAAME,EAAe,OACrB,OAAOF,GAAOR,EAAcQ,IAAwBE,CACtD,CAWSC,CAAiBN,EAAYC,GACtC,CA4DM,SAAUM,EACdC,GAEA,MAAMC,EAAQ,CAAEb,MAAO,EAAGC,KAAM,EAAG,cAAe,EAAGC,QAAS,EAAGC,QAAS,GAC1E,IAAK,MAAME,KAAQO,EAAO,CAExBC,EADaT,EAAYC,KACV,C,CAEjB,OAAOQ,CACT,CASO,MAAMC,EAIP,CACJ,CAAEP,KAAM,QAASQ,UAAW,qBAAsBC,SAAU,mBAC5D,CAAET,KAAM,UAAWQ,UAAW,uBAAwBC,SAAU,kBAChE,CAAET,KAAM,UAAWQ,UAAW,uBAAwBC,SAAU,mBAChE,CAAET,KAAM,OAAQQ,UAAW,oBAAqBC,SAAU,eAC1D,CAAET,KAAM,cAAeQ,UAAW,0BAA2BC,SAAU,uBCpHnEC,EAAU,IAAIC,EAAAA,GAAQC,EAAAA,GAAgBC,EAAAA,IACtCC,EAAe,eAERC,EAAoBV,IAC/B,MAAMW,EAAcZ,EAAkBC,GAEtCK,EAAQO,mBAAmB,CACzBH,eACAI,UAAW,SACXC,WAAYd,EAAMzC,OAAOwD,WACzBC,YAAaL,GACb,EAGSM,EAAmBA,CAACC,EAAoBC,KACnDd,EAAQO,mBAAmB,CACzBH,eACAI,UAAWM,EAAW,SAAW,WACjCL,WAAYI,EAAWH,YACvB,EC1BA,GACF,oBAAqB,yCACrB,MAAS,6BACT,aAAc,mCACd,gBAAiB,sCACjB,eAAgB,qCAChB,gBAAiB,sCACjB,wBAAyB,8CACzB,yBAA0B,+CAC1B,aAAc,mCACd,SAAY,iCACZ,QAAW,gCACX,QAAW,gCACX,MAAS,8BACT,oBAAqB,0CACrB,KAAQ,6BACR,kBAAmB,wCACnB,mBAAoB,yCACpB,UAAa,kCACb,kBAAmB,wCACnB,gBAAiB,sCACjB,SAAY,iCACZ,MAAS,6BACT,YAAe,oCACf,aAAc,mCACd,iBAAkB,uCAClB,OAAU,+BACV,OAAU,+BACV,aAAc,mCACd,OAAU,+BACV,aAAc,mCACd,eAAgB,qCAChB,KAAQ,6BACR,SAAY,iCACZ,SAAY,iCACZ,gBAAiB,sCACjB,aAAc,mCACd,wBAAyB,8CACzB,aAAc,mCACd,iBAAkB,uCAClB,qBAAsB,2CACtB,gBAAiB,sCACjB,cAAe,oCACf,qBAAsB,2CACtB,mBAAoB,yCACpB,kBAAmB,wCACnB,yBAA0B,+CAC1B,qBAAsB,4CCrBlBK,EAAa,CACjB9B,QAAS,kBACTC,QAAS,iBACTF,KAAM,cACND,MAAO,kBACP,cAAe,sBAGXiC,GAAsBC,EAAAA,EAAAA,GAA0BC,EAAAA,GAAqBC,SAASC,oBAoB7E,MAAMC,EAAiB/D,GAC5B,CAACgE,EAA6BC,K,MAC5B,MAAMC,EAAW,iBAAHC,OAAoBC,IAAIC,OAAOJ,GAAO,QAAAE,OAAOrE,EAAO,0BACrB,QAA7CwE,EAAO,OAAPN,QAAO,IAAPA,OAAO,EAAPA,EAASO,cAA2BL,UAAS,IAAAI,GAAAA,EAAEE,OAAO,GHtDtB,IGyDlC,CAAErE,UAAU,IASDsE,EAAQnF,EAAAA,YACnB,CACEgF,EAkBAI,K,IAlBA,GACEC,EAAE,OACFC,EAAM,QACNC,EAAO,YACPC,EAAW,aACXC,EAAY,QACZhD,EAAO,OACP9C,EAAM,WACNE,EAAU,cACVC,EAAa,UACb4F,EAAS,UACTjG,EAAS,gBACTkG,EAAe,SACfC,EAAQ,YACRC,EAAW,KACXnD,EAAO,QAAMsC,EACVc,GAAKC,EAAAA,EAAAA,IAAAf,EAhBV,kLAoBIgB,EAAAA,IACEnG,IAAeC,IACjBmG,EAAAA,EAAAA,IACE,WAAU,0HAKVT,IAAgBE,IAClBO,EAAAA,EAAAA,IACE,WAAU,2HAMhB,MAAMC,GAAoBC,EAAAA,EAAAA,GAA0BL,GAC9CM,GAAaC,EAAAA,EAAAA,IAAqB,QAAS9C,EAAAA,GAAe+C,OAAAC,OAAA,GAAOL,IACjEM,GAAYC,EAAAA,EAAAA,GAAarB,EAAKgB,IAC9B,kBAAExG,EAAiB,UAAE8G,EAAS,WAAEC,GAAevC,EAAoB1B,GAEnEkE,EAAWzC,EAAWzB,GAEtBmE,EAAOpE,EAAUzC,EAAAA,cAAC8G,EAAAA,EAAe,MAAM9G,EAAAA,cAAC+G,EAAAA,EAAY,CAACC,KAAMJ,IAE3DK,EAAgBxE,EAAU,OAASC,EAOnCwE,EAAsB,CAC1B,CAACC,EAAAA,IAA+BF,GAG5BG,EACJtB,EAAMsB,sBACK,OAAXvB,QAAW,IAAXA,OAAW,EAAXA,EAAW,GAAAhB,OAAMpC,GAAoB,gBAATC,EAAyB,aAAeA,EAAI,mBAE1E,OAGE1C,EAAAA,cAAA,MAAAsG,OAAAC,OAAA,CACEnB,IAAKoB,EACLa,KAAMzB,EAAQ,YACHA,EAAW,WAAQ7E,EAAS,cAC1BsE,EACb5F,WAAWc,EAAAA,EAAAA,GACTC,EAAO8G,MACP9G,EAAO,cAADqE,OAAeoC,IACrBxH,EACAkG,GAAmB,CACjB,CAACnF,EAAO+G,OAA4B,UAApB5B,EAChB,CAACnF,EAAOgH,UAA+B,aAApB7B,EACnB,CAACnF,EAAOiH,SAA8B,YAApB9B,EAClB,CAACnF,EAAOkH,MAA2B,SAApB/B,EACf,CAACnF,EAAOmH,SAA8B,YAApBhC,EAClB,CAACnF,EAAOoH,QAA6B,WAApBjC,IAEnBkC,EAAAA,EAAAA,IAAmC,YAATnF,GAAuBD,EAA+B,WAArB,sBAEzDyE,GAEJlH,EAAAA,cAAA,OAAKP,UAAWe,EAAO,eACrBR,EAAAA,cAAA,OAAKP,UAAWe,EAAO,yBAA0BsH,UAAW,GAC1D9H,EAAAA,cAAA,OACEP,WAAWc,EAAAA,EAAAA,GAAKC,EAAO,cAAeA,EAAO,eAC7C6G,KAAK,MAAK,aACED,GAEXP,GAEH7G,EAAAA,cAAA,OAAKP,WAAWc,EAAAA,EAAAA,GAAKC,EAAO,iBAAkBA,EAAO,gBACnDR,EAAAA,cAAA,OAAKP,UAAWe,EAAO,gBAAiB4E,IAAKsB,GAC1CpB,GAEHtF,EAAAA,cAAA,OAAKP,UAAWe,EAAO,iBAAkB4E,IAAKuB,GAC3CpB,KAIPvF,EAAAA,cAACT,EAAAA,EAAc,CACbE,UAAWe,EAAO,yBAClBd,gBAAiB,CACfU,WAAYI,EAAO,eACnBT,aAAcS,EAAO,kBAEvBb,OAAQA,EACRC,kBAAmBA,EACnBC,WAAYA,EACZC,cAAeA,KAGlB0F,GArJT,SACEC,EACAC,GAEA,OACE1F,EAAAA,cAAA,OAAKP,UAAWe,EAAO,2BACrBR,EAAAA,cAACC,EAAAA,EAAc,CACbC,QAASwF,EACTjG,UAAWe,EAAO,kBAClBuH,QAAQ,gBACR5E,SAAS,QACThD,WAAW,OACX6H,UAAWvC,IAInB,CAqIwBwC,CAAcxC,GAnEYyC,IFzFhBC,QE0FVlB,EFzFtB7D,EAAQO,mBAAmB,CACzBH,eACAI,UAAW,UACXC,WAAYsE,IEuFVzC,GAAaA,EAAUwC,EAAM,IAkEb,WAAbtC,GAAyB5F,EAAAA,cAACoI,EAAAA,EAAU,CAACC,OAAQ,CAACjB,EAAqBV,EAAWC,KAC3E,IC7KN,SAAU2B,EAAYtD,G,IAAA,MAC1BjC,EAAK,aACLwF,EAAY,eACZC,EAAc,eACdC,GAAczD,EACX0D,GAAS3C,EAAAA,EAAAA,IAAAf,EALc,4DAW1B,MAAM,kBAAE2D,IAAsBC,EAAAA,EAAAA,GAAiB,WAAY,CACzD9C,MAAO,CAAE+C,WAAYH,EAAUG,cAE3BC,GAAiBC,EAAAA,EAAAA,UAAQ,IAAMhG,EAAMiG,OAAMxG,GAAQ,OAAQA,KAAO,CAACO,IACnEkG,GAAYC,EAAAA,EAAAA,GAAaR,GACzBtD,GAAM+D,EAAAA,EAAAA,QAA8B,OACnCC,EAAYC,IAAiBC,EAAAA,EAAAA,GAAwB,CAAC,OACvD9C,GAAYC,EAAAA,EAAAA,GAAarB,EAAKiE,EAAeV,GAC7CY,GAAkBC,EAAAA,EAAAA,IAAiBpE,GACnCqE,GAAkBC,EAAAA,EAAAA,MACjBC,EAAeC,IAAoBC,EAAAA,EAAAA,UAAyD9G,IAC5F+G,EAAaC,IAAkBF,EAAAA,EAAAA,UAAwB,MAa9D,GAXI7D,EAAAA,IACO,OAALjD,QAAK,IAALA,OAAK,EAALA,EAAOiH,MAAKxH,GAA0B,UAAlBA,EAAKoD,WAAyBpD,EAAK6C,QACzDY,EAAAA,EAAAA,IACE,WAAU,4IAQZlD,EAAO,CACT,MAAMkH,EAAWlH,EAAMmH,QAAO1K,IAAA,IAAC,GAAE6F,GAAI7F,EAAA,OAAK6F,IAAOsE,EAAcK,MAAKxH,GAAQA,EAAK6C,KAAOA,GAAG,IACrF8E,EAAeR,EAAcO,QAAOE,IAAA,IAAC,GAAE/E,GAAI+E,EAAA,OAAK/E,IAAOtC,EAAMiH,MAAKxH,GAAQA,EAAK6C,KAAOA,GAAG,IAC/F,GAAI4E,EAAS3J,OAAS,GAAK6J,EAAa7J,OAAS,EAAG,CAClDsJ,EAAiB7G,GACL,OAAZwF,QAAY,IAAZA,GAAAA,EAAe0B,GACD,OAAdxB,QAAc,IAAdA,GAAAA,EAAiB0B,GACH,OAAd3B,QAAc,IAAdA,GAAAA,EAAiB,CAAEM,iBAAgBS,oBAEnC,MAAMc,EAAgBJ,EAASC,QAAOI,IAAA,IAAC,SAAE1E,GAAU0E,EAAA,MAAkB,UAAb1E,CAAoB,IACxEyE,EAAc/J,OAAS,GACzByJ,EAAeM,EAAc,GAAGhF,G,EAWtC,OANAkF,EAAAA,EAAAA,YAAU,KACJT,GACFrF,EAAeW,EAAIoF,QAASV,E,GAE7B,CAACA,EAAa1E,IAEV,CACL0D,iBACAG,YACAG,aACAG,kBACAE,kBACAjD,YACApB,MAEJ,CCpDA,MAAMqF,EAAyB,EAEzBC,EAA8B,IAEtB,SAAUC,EAAoB3F,G,IAAA,MAAEjC,GAAKiC,EAAK0D,GAAS3C,EAAAA,EAAAA,IAAAf,EAArB,WAC1C,MAAO4F,EAAeC,IAAoBhB,EAAAA,EAAAA,UAAyD,KAC5FiB,EAAcC,IAAmBlB,EAAAA,EAAAA,UAAyD,KAC1FmB,EAAyBC,IAA8BpB,EAAAA,EAAAA,WAAS,GAEjEqB,GAAuBC,EAAAA,EAAAA,cAAY,KACvC,MAAMC,EAAgBJ,EAA0BK,EAAiBb,QAAUc,EAAkBd,QAC7F,OAAAlE,OAAAC,OAAAD,OAAAC,OAAA,GAAY6E,GAAa,CAAEG,gBAAiBC,EAAmBhB,SAAO,GACrE,CAACQ,IAEES,GAAoBN,EAAAA,EAAAA,cAAY,KACpC,MAAMO,EC1CJ,SAAsBC,GAC1B,MAAMD,EAAiC,CAAC,EACxC,IAAK,MAAMrG,KAAMsG,EAAU,CACzB,MAAMjH,EAAUiH,EAAStG,GACrBX,IACFgH,EAAMrG,GAAMX,EAAQkH,wB,CAGxB,OAAOF,CACT,CDiCkBG,CAAYX,KAC1BY,EAAyBJ,EAAM,GAC9B,CAACR,KAEE,UAAEjC,EAAS,WAAEG,EAAU,gBAAEG,EAAe,gBAAEE,EAAe,UAAEjD,EAAS,IAAEpB,GAAQkD,EAAWhC,OAAAC,OAAAD,OAAAC,OAAC,CAC9FxD,SACG2F,GAAS,CACZH,aAAc0B,IACZY,EAAiB,IAAID,KAAkBX,GAAU,EAEnDzB,eAAgBuD,KAIH,OAAPA,QAAO,IAAPA,OAAO,EAAPA,EAASjD,mBAA0B,OAAPiD,QAAO,IAAPA,OAAO,EAAPA,EAASxC,kBACvCkC,G,EAGJhD,eAAgB0B,IACdY,EAAgB,IAAID,KAAiBX,GAAc,KAIjDmB,GAAoBnC,EAAAA,EAAAA,QAA2C,CAAC,GAChEkC,GAAmBlC,EAAAA,EAAAA,QAA2C,CAAC,IAC9D6C,EAAuBF,IAA4BjC,EAAAA,EAAAA,UAAyC,MAC7FoC,GAAiB9C,EAAAA,EAAAA,QAAgC,MACjDqC,GAAqBrC,EAAAA,EAAAA,QAA8B,OAClD+C,EAAeC,IAAoBtC,EAAAA,EAAAA,WAAS,GAC7CuC,GAAoBC,EAAAA,EAAAA,GAAY,YAChCC,GAAqBD,EAAAA,EAAAA,GAAY,cAEnCtJ,EAAMzC,QAAUmK,GAA0BO,GAC5CC,GAA2B,GAG7B,MAAMsB,GAAgBhD,GAUtBiD,EAAAA,EAAAA,kBAAgB,KACd,GAAIxB,IAAgC,OAALjI,QAAK,IAALA,OAAK,EAALA,EAAOzC,QAAQ,CAC5C,MAAMmM,EAAiB1J,EAAM,QACHhC,IAAtB0L,EAAepH,IACjBZ,EAAeW,EAAIoF,QAASiC,EAAepH,G,IAK9C,CAAC2F,KAGJ0B,EAAAA,EAAAA,IAAkB,MACX1B,GAA2BQ,EAAmBhB,UACjDmC,EAAAA,EAAAA,IAAsBnB,EAAmBhB,Q,GAE1C,CAACQ,IAEJ,MAAM4B,IAAsB7D,EAAAA,EAAAA,UAC1B,IACErI,GAAS,KAGP,MAAMmM,EAA4B,OAAdZ,QAAc,IAAdA,OAAc,EAAdA,EAAgBzB,QAC9BjG,EAAsB,OAAXsI,QAAW,IAAXA,OAAW,EAAXA,EAAaC,cAC9B,GAAID,GAAetI,EAAU,CAG3BA,EAASwI,UAAUC,OAAOxM,EAAOyM,UACjC,MAAMC,EAAeC,OAAOC,YAGtBC,GAAeC,EAAAA,EAAAA,IAAY/I,GAAUG,GAA4C,WAAjCA,EAAQ6I,aAAa,WAAyBhJ,EAElGyG,GAA2BwC,KAAKC,KAAKJ,EAAazB,wBAAwB8B,SAAWR,GAErF3I,EAASwI,UAAUY,IAAInN,EAAOyM,S,IAGjCvC,IACL,CAACM,KAGHwB,EAAAA,EAAAA,kBAAgB,KACdW,OAAOS,iBAAiB,SAAUhB,IAC3B,KACLO,OAAOU,oBAAoB,SAAUjB,IACrCA,GAAoB3K,QAAQ,IAE7B,CAAC2K,KAEJ,MAAM,YAAE/G,IAAgB6C,EAElBoF,IAAOC,EAAAA,EAAAA,IAAgB,YACvB/F,GAAY8F,GAAK,wBAAoC,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAamC,WACvDgG,GAAsBF,GAAK,kCAA8C,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAamI,qBAC3EC,GAA2BH,GAAK,uCAAmD,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAaoI,0BACrFC,GAAiB,CACrBC,mBAAoBL,GAAK,iCAA6C,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAasI,oBACxEC,wBAAyBN,GAAK,sCAAkD,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAauI,yBAClFC,kBAAmBP,GAAK,gCAA4C,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAawI,mBACtEC,qBAAsBR,GAAK,mCAA+C,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAayI,sBAC5EC,qBAAsBT,GAAK,mCAA+C,OAAXjI,SAAW,IAAXA,QAAW,EAAXA,GAAa0I,wBAG9E/B,EAAAA,EAAAA,kBAAgB,KAMVR,IACFY,KC1IA,SAAiBpN,GAUtB,IAVuB,SACtBgP,EAAQ,SACR7C,EAAQ,iBACR8C,EAAgB,uBAChBC,GAMDlP,EAEC,IAAK,MAAM6F,KAAMsG,EAAU,CACzB,MAAMjH,EAAUiH,EAAStG,GACnBsJ,EAAUH,EAASnJ,GACzB,GAAIX,EAAS,CACX,MAAMkK,EAAUlK,EAAQkH,wBAClBiD,EAAgB,CAAEC,MAAO,EAAGC,EAAG,EAAGC,EAAG,GAIrCC,EAA6BN,EAC/B,CACEG,MAAOH,EAAQO,MAAQN,EAAQM,MAC/BH,GAAIJ,EAAQQ,KAAOR,EAAQS,OAAS,GAAKR,EAAQO,KAAOP,EAAQQ,OAAS,EACzEJ,GAAIL,EAAQU,IAAMV,EAAQjB,QAAU,GAAKkB,EAAQS,IAAMT,EAAQlB,QAAU,GAE3EgB,EACEA,EAAuBE,GACvB,CAAC,EACDU,EAAgBhJ,OAAAC,OAAAD,OAAAC,OAAA,GAAQsI,GAAkBI,GAEhDvK,EAAQ6K,MAAMC,mBAAqB,OACnC9K,EAAQ6K,MAAME,UAAY,SAAH5K,OAAYyK,EAAiBR,MAAK,gBAAAjK,OAAeyK,EAAiBP,EAAC,QAAAlK,OAAOyK,EAAiBN,EAAC,OAC9GL,IAGHjK,EAAQ6K,MAAMG,QAAU,I,EAM9B9N,uBAAsB,KACpB,MAAM+N,EAAoB,IAAIC,IAC9B,IAAK,MAAMvK,KAAMsG,EAAU,CACzB,MAAMjH,EAAUiH,EAAStG,GACzB,GAAIX,EAAS,CACK8J,EAASnJ,IAGvBX,EAAQ6K,MAAMC,mBAAqB,YAEnC9K,EAAQ6K,MAAME,UAAY,KAG1B/K,EAAQ6K,MAAMC,mBAAqB,qBACnC9K,EAAQ6K,MAAME,UAAY,GAC1B/K,EAAQ6K,MAAMG,QAAU,IAE1B,MAAMG,EAAqB3H,IACrBA,EAAM4H,SAAWpL,IACnBiL,EAAkBhC,IAAItI,GACtBX,EAAQmJ,oBAAoB,kBAAmBgC,G,EAG7CE,EAAmB7H,IACnBA,EAAM4H,SAAWpL,IAEnBA,EAAQ6K,MAAMC,mBAAqB,GACnC9K,EAAQmJ,oBAAoB,kBAAmBkC,GAC3CtB,IACFkB,EAAkBK,OAAO3K,GACM,IAA3BsK,EAAkBM,MACpBxB,K,EAKR/J,EAAQkJ,iBAAiB,kBAAmBiC,GAC5CnL,EAAQkJ,iBAAiB,gBAAiBmC,E,KAIlD,CDwDMG,CAAQ,CACNvE,SAAUT,IACVsD,SAAUxC,EACV0C,uBAAwBlP,IAAA,IAAC,IAAE6P,GAAK7P,EAAA,MAAM,CAAEsP,MAAO,GAAKE,GAAI,GAAMK,EAAK,EACnEZ,iBAAkBA,IAAMtC,GAAiB,KAG3CA,GAAiB,GACjBL,EAAyB,M,GAE1B,CAACc,GAAqB1B,EAAsBc,EAAuBhB,IAEtE,MAAMmF,GAAgBpN,EAAMzC,OAASmK,EAE/B/G,GAAcZ,EAAkBC,GAEhCqN,GAAwB,IAAIR,IAAI7M,EAAMsN,IAAI1N,IAAesN,KACzDK,GAAW9C,KAAK+C,IAAIH,GAAuB,GAC3CI,GAAahD,KAAKiD,IAAIH,GAAUvN,EAAMzC,QAEtCoQ,GAAc1F,EAChBjI,EAAMsN,KAAI,CAAC7N,EAAMmO,IAAUrK,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EAAI/D,GAAI,CAAEoO,cAAeD,ML7ItD,SACJ5N,EACA8N,GAIA,MAAMC,EAAkE,GAIlEC,EAAkC,GAElCC,EAA2B,IAAIpB,IAC/BqB,EAAoB3K,OAAO4K,KAAKhP,GAAe5B,OAC/C6Q,EAAc3D,KAAKiD,IAAI1N,EAAMzC,OAAQuQ,GAE3C,IAAK,IAAIO,EAAI,EAAGA,EAAIrO,EAAMzC,OAAQ8Q,IAAK,CACrC,MAAM5O,EAAOO,EAAMqO,GACbC,EAAQ1O,EAAaH,GACrB8O,EAAkBN,EAAYO,IAAIF,GACxC,GAAID,EAAID,EACNL,EAAWU,KAAK,CAAEhP,KAAI8D,OAAAC,OAAAD,OAAAC,OAAA,GAAO/D,GAAI,CAAEoO,cAAeQ,IAAKE,wBAClD,CACL,GAAIN,EAAYf,OAASgB,EAEvB,MACUK,GACVP,EAAeS,KAAIlL,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EAAI/D,GAAI,CAAEoO,cAAeQ,I,CAGlDJ,EAAYrD,IAAI0D,E,CAKlB,MAAMI,EAA2B,GACjC,IAAIC,EAA6B,EACjC,IAAK,IAAIC,EAAIb,EAAWxQ,OAAS,EAAGqR,GAAK,EAAGA,IAAK,CAC/C,MAAMnP,EAAOsO,EAAWa,GACpBnP,EAAK8O,iBAAmBI,EAA6BX,EAAezQ,OACtEoR,GAA8B,EAE9BD,EAAyBD,KAAKhP,EAAKA,K,CAGvC,MAAMoP,EAAgBH,EAAyBI,UAE/C,IAAK,IAAIC,EAAI,EAAGF,EAActR,OAASuQ,EAAeiB,IACpDF,EAAcJ,KAAKT,EAAee,IAEpC,OAAOF,CACT,CK2FMG,CAAyBhP,EAAOyN,IAAYH,KAAI,CAAC7N,EAAqBmO,IAAkBrK,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EACrF/D,GAAI,CACPwP,eAAgBrB,MAGhBsB,GAAazP,IAAyD,IAAAwC,EAAAkN,EAC1E,OAAgD,QAAhDA,EAAO,QAAPlN,EAAAxC,EAAK6C,UAAE,IAAAL,EAAAA,EAAKxC,EAAuBoO,qBAAa,IAAAsB,EAAAA,EAAI,CAAC,EAQjDC,GAAW3P,KAA4D,kBAAmBA,GAC1F4P,GAAoB5P,GAHNA,IAClBoI,EAAcZ,MAAKqI,GAASA,EAAMhN,IAAMgN,EAAMhN,KAAO7C,EAAK6C,KAEwBiN,CAAW9P,IAAS2P,GAAQ3P,GAE1G+P,GAAoB/P,GACxBwI,GAA2BmH,GAAQ3P,IAAU,kBAAmBA,GAA+B,IAAvBA,EAAKoO,cAEzE4B,GAA6BA,CAAChQ,EAAqBmO,IAA4B,IAAVA,GAAeyB,GAAiB5P,GAErGiQ,GAAyBjQ,GAAmB,SAAAqC,OAAcoN,GAAUzP,IAEpEkQ,GAAaA,IACjB1S,EAAAA,cAAA,MACEoF,IAAK6G,EACLxM,WAAWc,EAAAA,EAAAA,GACTC,EAAO,cACPwK,EAA0BxK,EAAO0D,SAAW1D,EAAOmS,UACnDzG,GAAiB1L,EAAO,qBACxBwL,GAAyBxL,EAAO,mBAChCiJ,GAAmBjJ,EAAO,mBAE5B6E,GAAI+G,EAAiB,aACTpE,GAAS,mBACHmI,GAAgB7D,OAAqBvL,EACvDwO,OACGvE,GAA2BkB,EACxB,CACE,CAAC0G,EAAAA,EAAeC,oBAAqBrC,SAEvCzP,GAGNf,EAAAA,cAAC8S,EAAW,CAACC,YAAaxJ,GACvBmH,GAAYL,KAAI,CAAC7N,EAAqBmO,IACrC3Q,EAAAA,cAACgT,EAAAA,EAAU,CACTC,IAAKhB,GAAUzP,GACf0Q,IAAKf,GAAQ3P,GACb2Q,eAAgBC,IACC,YAAXA,EACFvI,EAAiB,IACG,WAAXuI,GACTrI,EAAgB,G,IAInB,CAACsI,EAAeC,K,UAAiE,OAChFtT,EAAAA,cAAA,qBACgBuS,GAAiB/P,GAC/B/C,UACE8S,GAAiB/P,IACbjC,EAAAA,EAAAA,GACEC,EAAO,oBACNwK,GAA2BxK,EAAOgC,MAClC8I,EAAkBd,QAAQiI,GAAsBjQ,KAAUhC,EAAO,mBAEpED,EAAAA,EAAAA,GAAKC,EAAO8G,MAAO9G,EAAO,cAADqE,OAAwB,QAATG,EAAAxC,EAAKE,YAAI,IAAAsC,EAAAA,EAAI,SAAWxE,EAAOgC,MAE7E4C,IAAKV,IACCsG,EACFK,EAAiBb,QAAQiI,GAAsBjQ,IAASkC,EAExD4G,EAAkBd,QAAQiI,GAAsBjQ,IAASkC,C,EAG7D6K,OACGvE,GAA2BkB,EACxB,CACE,CAAC0G,EAAAA,EAAeW,oBACiE,QAA/EC,EAAsC,QAAtCtB,EAAC1P,EAAuBwP,sBAAc,IAAAE,EAAAA,EAAK1P,EAAuBoO,qBAAa,IAAA4C,EAAAA,EAAI7C,QAEvF5P,EAENkS,IAAKhB,GAAUzP,IAEd+P,GAAiB/P,IAChBxC,EAAAA,cAACmF,EACC,eACA1F,WAAWc,EAAAA,EAAAA,GACTgM,GAAgB/L,EAAO,qBACvBiJ,GAAmBjJ,EAAO,kBAE5ByS,IAAKhB,GAAUzP,GACf4C,IAAKoN,GAA2BhQ,EAAMmO,GAAS2C,OAAwBvS,EACvE4E,gBAAiB6M,GAA2BhQ,EAAMmO,GAAS0C,OAAQtS,EACnE8E,YAAaqI,IACT1L,IAGL,QAQjB,OACExC,EAAAA,cAAA,MAAAsG,OAAAC,OAAA,GACM0C,EAAS,CACbxJ,WAAWc,EAAAA,EAAAA,GACT0I,EAAUxJ,UACVe,EAAO+D,SACP/D,EAAO,cAADqE,OAAeuE,IACrB5I,EAAOiT,MACPtD,IAAiB3P,EAAOkT,YACP,IAAjB3Q,EAAMzC,QAAgBE,EAAO,cAC7BwK,GAA2BxK,EAAO0D,SAClCuF,GAAmBjJ,EAAO,mBAE5B4E,IAAKoB,IAEJwE,GAA2B0H,KAC3BvC,IACCnQ,EAAAA,cAAA,OACEP,WAAWc,EAAAA,EAAAA,GACTC,EAAO,oBACPiJ,GAAmBjJ,EAAO,kBAC1BwK,EAA0BxK,EAAO0D,SAAW1D,EAAOmS,UACnDzG,GAAiB1L,EAAO,qBACP,IAAjBuC,EAAMzC,QAAgBE,EAAO,eAC7BqH,EAAAA,EAAAA,IAA0B,aAE5B3H,QA/OR,WACE8D,EAAiBjB,EAAMzC,QAAS0K,GAC3BzB,GACHkC,IAEFR,GAA2B0I,IAASA,GACtC,EA0OQvO,IAAKoG,GAELxL,EAAAA,cAAA,oBAAgB,SAASP,UAAWe,EAAO4S,OAAQ/L,KAAK,SAAShC,GAAIiH,GAClE0B,IAAuBhO,EAAAA,cAAA,MAAIP,UAAWe,EAAO8E,QAAS0I,IACvDhO,EAAAA,cAAA,QAAMP,UAAWe,EAAO,eACrByC,EAAaoN,KAAIjG,IAAA,IAAC,KAAE1H,EAAI,UAAEQ,EAAS,SAAEC,GAAUiH,EAAA,OAC9CpK,EAAAA,cAAC4T,EAAqB,CACpBX,IAAKvQ,EACLS,SAAUA,EACV0Q,MAAO3F,GAAehL,GACtBF,MAAOU,GAAYhB,IACnB,MAIR1C,EAAAA,cAAA,0BACiBoM,EAAiB,mBACdE,EAAkB,gBACrBtB,EAAuB,aAC1BiD,GACZxO,WAAWc,EAAAA,EAAAA,GAAKC,EAAOsT,OAAQ9I,GAA2BxK,EAAO0D,WAEjElE,EAAAA,cAAC+G,EAAAA,EAAY,CAACtH,UAAWe,EAAOqG,KAAMoJ,KAAK,SAASjJ,KAAK,kBAI7DgE,GAA2B0H,KAGnC,CAEA,MAAMkB,EAAwBtJ,IAQzB,IAR0B,SAC7BnH,EAAQ,MACR0Q,EAAK,MACL7Q,GAKDsH,EACC,OACEtK,EAAAA,cAAA,QAAMP,UAAWe,EAAO,eACtBR,EAAAA,cAAA,qBAAkB6T,EAAOxM,KAAK,OAC5BrH,EAAAA,cAAA,QAAM+T,MAAOF,EAAK,cAAc,QAC9B7T,EAAAA,cAAC+G,EAAAA,EAAY,CAACC,KAAM7D,MAGxBnD,EAAAA,cAAA,QAAMP,UAAWe,EAAO,iBAAkBwC,GACrC,EAIL8P,EAAckB,IAAA,IAAC,SAAEC,EAAQ,WAAElB,GAA0DiB,EAAA,OACzFjB,EAAa/S,EAAAA,cAACkU,EAAAA,EAAe,CAACC,UAAW,MAAOF,GAA8BjU,EAAAA,cAAAA,EAAAA,SAAA,KAAGiU,EAAY,EE7WlFG,EAAiC,ICMhC,SAAUC,GAAuBrP,G,IAAA,MAAEjC,EAAK,YAAE8C,GAAWb,EAAK0D,GAAS3C,EAAAA,EAAAA,IAAAf,EAAlC,yBAC7C,MAAM,eAAE8D,EAAc,UAAEG,EAAS,WAAEG,EAAU,gBAAEG,EAAe,gBAAEE,EAAe,UAAEjD,GAAc8B,EAAWhC,OAAAC,OAAC,CACzGxD,SACG2F,IAGCoF,GAAOC,EAAAA,EAAAA,IAAgB,YACvB/F,EAAY8F,EAAK,wBAAoC,OAAXjI,QAAW,IAAXA,OAAW,EAAXA,EAAamC,WACvDkG,EAAiB,CACrBC,mBAAoBL,EAAK,iCAA6C,OAAXjI,QAAW,IAAXA,OAAW,EAAXA,EAAasI,oBACxEC,wBAAyBN,EAAK,sCAAkD,OAAXjI,QAAW,IAAXA,OAAW,EAAXA,EAAauI,yBAClFC,kBAAmBP,EAAK,gCAA4C,OAAXjI,QAAW,IAAXA,OAAW,EAAXA,EAAawI,mBACtEC,qBAAsBR,EAAK,mCAA+C,OAAXjI,QAAW,IAAXA,OAAW,EAAXA,EAAayI,sBAC5EC,qBAAsBT,EAAK,mCAA+C,OAAXjI,QAAW,IAAXA,OAAW,EAAXA,EAAa0I,uBAQxE+F,EAAiB/K,IAAoBE,IAAoBX,EAEzDyD,GAAgBhD,GAAmBE,EAuDzC,SAAS8K,EACP/R,EACAyQ,EACAK,EACA3N,GAEA,OACE3F,EAAAA,cAACmF,EACC,eACA1F,WAAWc,EAAAA,EAAAA,GAAKgM,GAAgB/L,EAAO,qBAAsBiJ,GAAmBjJ,EAAO,kBACvFyS,IAAKA,EACL7N,IAAKkO,EACL3N,gBAAiBA,EACjBE,YAAaqI,GACT1L,GAGV,CAEA,OACExC,EAAAA,cAAA,MAAAsG,OAAAC,OAAA,GACM0C,EAAS,CACbxJ,WAAWc,EAAAA,EAAAA,GAAK0I,EAAUxJ,UAAWe,EAAO+D,SAAU/D,EAAO,cAADqE,OAAeuE,KAC3EhE,IAAKoB,IAzET,WACE,IAAI8N,GAAmBvR,EAIvB,OAGE/C,EAAAA,cAACkU,EAAAA,EAAe,CAACC,UAAU,KAAK1U,UAAWe,EAAO,cAAa,aAAcwH,GAC1EjF,EAAMsN,KAAI,CAAC7N,EAAMmO,K,MAAU,OAC1B3Q,EAAAA,cAACgT,EAAAA,EAAU,CACTwB,sBAAuB,CAAEhN,SAAU4M,GACnCnB,IAAY,QAAPjO,EAAAxC,EAAK6C,UAAE,IAAAL,EAAAA,EAAI2L,EAChBuC,IAAI,IAEH,CAACG,EAAeC,K,MAAiE,OAChFtT,EAAAA,cAAA,MAAIP,UAAWe,EAAO,oBACnB+T,EAAW/R,EAAa,QAAPwC,EAAAxC,EAAK6C,UAAE,IAAAL,EAAAA,EAAI2L,EAAO2C,EAAuBD,GACxD,GAEI,IAIrB,CAmDKoB,GA7CL,WACE,GAAKH,GAAmBvR,EAIxB,OACE/C,EAAAA,cAAA,MAAIP,UAAWe,EAAO,cAAa,aAAcwH,GAC9CjF,EAAMsN,KAAI,CAAC7N,EAAMmO,K,QAAU,OAC1B3Q,EAAAA,cAAA,MAAIiT,IAAY,QAAPjO,EAAAxC,EAAK6C,UAAE,IAAAL,EAAAA,EAAI2L,EAAOlR,UAAWe,EAAO,oBAC1C+T,EAAW/R,EAAa,QAAP0P,EAAA1P,EAAK6C,UAAE,IAAA6M,EAAAA,EAAIvB,GAC1B,IAIb,CAgCK+D,GAGP,CChHc,SAAUC,GAAS7O,GAO/B,OANAyE,EAAAA,EAAAA,YAAU,KACJzE,EAAM/C,MAAMzC,OAAS,GACvBmD,EAAiBqC,EAAM/C,M,GAExB,CAAC+C,EAAM/C,QAEN+C,EAAM+C,WACD7I,EAAAA,cAAC2K,EAAmBrE,OAAAC,OAAA,GAAKT,IAEzB9F,EAAAA,cAACqU,GAAsB/N,OAAAC,OAAA,GAAKT,GAEvC,EAEA8O,EAAAA,EAAAA,GAAiBD,GAAU,W,0DCNrB,SAAUtQ,EAA0BG,GACxC,OAAO,SAA6B9B,GAClC,MAAO9C,EAAmBiV,IAAwBhL,EAAAA,EAAAA,UAAiC,IAC7EnD,GAAYyC,EAAAA,EAAAA,QAAuB,MACnCxC,GAAawC,EAAAA,EAAAA,QAAuB,MAQ1C,OANAoB,EAAAA,EAAAA,YAAU,IACD/F,GAAmBsQ,IACxBD,EAAqBC,EAAQzE,KAAI1Q,GArBzC,SAA8BA,EAA6BoV,GACzD,OAAKpV,EAIHK,EAAAA,cAACgV,EAAAA,EAAqB,CACpB/B,IAAKtT,EAAO0F,GAAK,IAAM0P,EAAQrS,KAC/BuS,aAAcC,GAAavV,EAAOsV,aAAaC,EAAWH,GAC1DI,eAAgBD,GAAavV,EAAOwV,eAAeD,KAN9C,IASX,CAUmDE,CAAqBzV,EAAQ,CAAE+C,OAAMgE,YAAWC,iBAAe,KAE3G,CAACjE,IAEG,CAAE9C,oBAAmB8G,YAAWC,aACzC,CACF,C,4FC1BO,SAAS0O,EAAgBpB,EAAUqB,GACxC,IAIIC,EAASjP,OAAOkP,OAAO,MAO3B,OANIvB,GAAUwB,EAAAA,SAASpF,IAAI4D,GAAU,SAAUyB,GAC7C,OAAOA,CACT,IAAGC,SAAQ,SAAUC,GAEnBL,EAAOK,EAAM3C,KATF,SAAgB2C,GAC3B,OAAON,IAASO,EAAAA,EAAAA,gBAAeD,GAASN,EAAMM,GAASA,CACzD,CAOsBE,CAAOF,EAC7B,IACOL,CACT,CAiEA,SAASQ,EAAQH,EAAOI,EAAMlQ,GAC5B,OAAsB,MAAfA,EAAMkQ,GAAgBlQ,EAAMkQ,GAAQJ,EAAM9P,MAAMkQ,EACzD,CAaO,SAASC,EAAoBC,EAAWC,EAAkBC,GAC/D,IAAIC,EAAmBhB,EAAgBa,EAAUjC,UAC7CA,EA/DC,SAA4BN,EAAM2C,GAIvC,SAASC,EAAetD,GACtB,OAAOA,KAAOqD,EAAOA,EAAKrD,GAAOU,EAAKV,EACxC,CALAU,EAAOA,GAAQ,CAAC,EAChB2C,EAAOA,GAAQ,CAAC,EAQhB,IAcIlF,EAdAoF,EAAkBlQ,OAAOkP,OAAO,MAChCiB,EAAc,GAElB,IAAK,IAAIC,KAAW/C,EACd+C,KAAWJ,EACTG,EAAYnW,SACdkW,EAAgBE,GAAWD,EAC3BA,EAAc,IAGhBA,EAAYjF,KAAKkF,GAKrB,IAAIC,EAAe,CAAC,EAEpB,IAAK,IAAIC,KAAWN,EAAM,CACxB,GAAIE,EAAgBI,GAClB,IAAKxF,EAAI,EAAGA,EAAIoF,EAAgBI,GAAStW,OAAQ8Q,IAAK,CACpD,IAAIyF,EAAiBL,EAAgBI,GAASxF,GAC9CuF,EAAaH,EAAgBI,GAASxF,IAAMmF,EAAeM,EAC7D,CAGFF,EAAaC,GAAWL,EAAeK,EACzC,CAGA,IAAKxF,EAAI,EAAGA,EAAIqF,EAAYnW,OAAQ8Q,IAClCuF,EAAaF,EAAYrF,IAAMmF,EAAeE,EAAYrF,IAG5D,OAAOuF,CACT,CAmBiBG,CAAmBX,EAAkBE,GAmCpD,OAlCA/P,OAAO4K,KAAK+C,GAAU0B,SAAQ,SAAU1C,GACtC,IAAI2C,EAAQ3B,EAAShB,GACrB,IAAK4C,EAAAA,EAAAA,gBAAeD,GAApB,CACA,IAAImB,EAAW9D,KAAOkD,EAClBa,EAAW/D,KAAOoD,EAClBY,EAAYd,EAAiBlD,GAC7BiE,GAAYrB,EAAAA,EAAAA,gBAAeoB,KAAeA,EAAUnR,MAAMoN,IAE1D8D,GAAaD,IAAWG,EAQhBF,IAAWD,GAAYG,EAMxBF,GAAWD,IAAWlB,EAAAA,EAAAA,gBAAeoB,KAI9ChD,EAAShB,IAAOkE,EAAAA,EAAAA,cAAavB,EAAO,CAClCQ,SAAUA,EAASgB,KAAK,KAAMxB,GAC9B1C,GAAI+D,EAAUnR,MAAMoN,GACpBxL,KAAMqO,EAAQH,EAAO,OAAQM,GAC7B3O,MAAOwO,EAAQH,EAAO,QAASM,MAXjCjC,EAAShB,IAAOkE,EAAAA,EAAAA,cAAavB,EAAO,CAClC1C,IAAI,IAVNe,EAAShB,IAAOkE,EAAAA,EAAAA,cAAavB,EAAO,CAClCQ,SAAUA,EAASgB,KAAK,KAAMxB,GAC9B1C,IAAI,EACJxL,KAAMqO,EAAQH,EAAO,OAAQM,GAC7B3O,MAAOwO,EAAQH,EAAO,QAASM,IAZD,CA+BpC,IACOjC,CACT,CClIA,IAAIoD,EAAS/Q,OAAO+Q,QAAU,SAAUC,GACtC,OAAOhR,OAAO4K,KAAKoG,GAAKjH,KAAI,SAAUyB,GACpC,OAAOwF,EAAIxF,EACb,GACF,EAuBIoC,EAA+B,SAAUqD,GAG3C,SAASrD,EAAgBpO,EAAOiP,GAC9B,IAAIyC,EAIAC,GAFJD,EAAQD,EAAiBG,KAAKlW,KAAMsE,EAAOiP,IAAYvT,MAE9BiW,aAAaL,KC5C1C,SAAgCO,GAC9B,QAAI,IAAWA,EAAG,MAAM,IAAIC,eAAe,6DAC3C,OAAOD,CACT,CDyC+CE,CAAuBL,IAUlE,OAPAA,EAAMnE,MAAQ,CACZyE,aAAc,CACZC,YAAY,GAEdN,aAAcA,EACdO,aAAa,GAERR,CACT,EAlBAS,EAAAA,EAAAA,GAAe/D,EAAiBqD,GAoBhC,IAAIW,EAAShE,EAAgBiE,UAqE7B,OAnEAD,EAAOE,kBAAoB,WACzB5W,KAAK6W,SAAU,EACf7W,KAAK8W,SAAS,CACZR,aAAc,CACZC,YAAY,IAGlB,EAEAG,EAAOK,qBAAuB,WAC5B/W,KAAK6W,SAAU,CACjB,EAEAnE,EAAgBsE,yBAA2B,SAAkCtC,EAAW1W,GACtF,IDiBmCsG,EAAOsQ,ECjBtCD,EAAmB3W,EAAKyU,SACxBwD,EAAejY,EAAKiY,aAExB,MAAO,CACLxD,SAFgBzU,EAAKwY,aDeYlS,ECbcoQ,EDaPE,ECbkBqB,EDcvDpC,EAAgBvP,EAAMmO,UAAU,SAAU2B,GAC/C,OAAOuB,EAAAA,EAAAA,cAAavB,EAAO,CACzBQ,SAAUA,EAASgB,KAAK,KAAMxB,GAC9B1C,IAAI,EACJuF,OAAQ1C,EAAQH,EAAO,SAAU9P,GACjCyB,MAAOwO,EAAQH,EAAO,QAAS9P,GAC/B4B,KAAMqO,EAAQH,EAAO,OAAQ9P,IAEjC,KCtB8EmQ,EAAoBC,EAAWC,EAAkBsB,GAC3HO,aAAa,EAEjB,EAGAE,EAAOT,aAAe,SAAsB7B,EAAO8C,GACjD,IAAIC,EAAsBtD,EAAgB7T,KAAKsE,MAAMmO,UACjD2B,EAAM3C,OAAO0F,IAEb/C,EAAM9P,MAAMsQ,UACdR,EAAM9P,MAAMsQ,SAASsC,GAGnBlX,KAAK6W,SACP7W,KAAK8W,UAAS,SAAUjF,GACtB,IAAIY,GAAW2E,EAAAA,EAAAA,GAAS,CAAC,EAAGvF,EAAMY,UAGlC,cADOA,EAAS2B,EAAM3C,KACf,CACLgB,SAAUA,EAEd,IAEJ,EAEAiE,EAAOW,OAAS,WACd,IAAIC,EAActX,KAAKsE,MACnBiT,EAAYD,EAAY3E,UACxB6E,EAAeF,EAAYE,aAC3BlT,GAAQmT,EAAAA,EAAAA,GAA8BH,EAAa,CAAC,YAAa,iBAEjEhB,EAAetW,KAAK6R,MAAMyE,aAC1B7D,EAAWoD,EAAO7V,KAAK6R,MAAMY,UAAU5D,IAAI2I,GAK/C,cAJOlT,EAAM2S,cACN3S,EAAMyB,aACNzB,EAAM4B,KAEK,OAAdqR,EACkB/Y,EAAAA,cAAoBkZ,EAAAA,EAAuBC,SAAU,CACvEC,MAAOtB,GACN7D,GAGejU,EAAAA,cAAoBkZ,EAAAA,EAAuBC,SAAU,CACvEC,MAAOtB,GACO9X,EAAAA,cAAoB+Y,EAAWjT,EAAOmO,GACxD,EAEOC,CACT,CA3FmC,CA2FjClU,EAAAA,WAEFkU,EAAgBmF,UAyDZ,CAAC,EACLnF,EAAgBoF,aA5KG,CACjBnF,UAAW,MACX6E,aAAc,SAAsBpD,GAClC,OAAOA,CACT,GAyKF,S","sources":["../node_modules/@cloudscape-design/components/alert/actions-wrapper/styles.css.js","../node_modules/src/alert/actions-wrapper/index.tsx","../node_modules/src/internal/utils/throttle.ts","../node_modules/src/flashbar/utils.ts","../node_modules/src/flashbar/internal/analytics.ts","../node_modules/@cloudscape-design/components/flashbar/styles.css.js","../node_modules/src/flashbar/flash.tsx","../node_modules/src/flashbar/common.tsx","../node_modules/src/flashbar/collapsible-flashbar.tsx","../node_modules/src/internal/animate.ts","../node_modules/src/flashbar/constant.ts","../node_modules/src/flashbar/non-collapsible-flashbar.tsx","../node_modules/src/flashbar/index.tsx","../node_modules/src/internal/plugins/helpers/use-discovered-action.tsx","../node_modules/react-transition-group/esm/utils/ChildMapping.js","../node_modules/react-transition-group/esm/TransitionGroup.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"],"sourcesContent":["\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_37gf8_14wux_9\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport InternalButton, { InternalButtonProps } from '../../button/internal';\n\nimport styles from './styles.css.js';\n\nfunction createActionButton(\n  testUtilClasses: ActionsWrapperProps['testUtilClasses'],\n  action: React.ReactNode,\n  buttonText: React.ReactNode,\n  onButtonClick: InternalButtonProps['onClick']\n) {\n  if (!action && buttonText) {\n    action = (\n      <InternalButton className={testUtilClasses.actionButton} onClick={onButtonClick} formAction=\"none\">\n        {buttonText}\n      </InternalButton>\n    );\n  }\n  return action ? <div className={testUtilClasses.actionSlot}>{action}</div> : null;\n}\n\ninterface ActionsWrapperProps {\n  className: string;\n  testUtilClasses: { actionSlot: string; actionButton: string };\n  action: React.ReactNode;\n  discoveredActions: Array<React.ReactNode>;\n  buttonText: React.ReactNode;\n  onButtonClick: InternalButtonProps['onClick'];\n}\n\nexport function ActionsWrapper({\n  className,\n  testUtilClasses,\n  action,\n  discoveredActions,\n  buttonText,\n  onButtonClick,\n}: ActionsWrapperProps) {\n  const actionButton = createActionButton(testUtilClasses, action, buttonText, onButtonClick);\n  if (!actionButton && discoveredActions.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className={clsx(styles.root, className)}>\n      {actionButton}\n      {discoveredActions}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport interface ThrottleOptions {\n  leading?: boolean;\n  trailing?: boolean;\n}\n\nexport interface ThrottledFunction<F extends (...args: any) => any> {\n  (...args: Parameters<F>): void;\n  cancel(): void;\n}\n\nexport function throttle<F extends (...args: any) => any>(\n  func: F,\n  delay: number,\n  { trailing = true }: ThrottleOptions = {}\n): ThrottledFunction<F> {\n  let pending: null | { this: any; args: any } = null;\n  let lastInvokeTime: null | number = null;\n  let timerId: null | number = null;\n\n  // Runs on every animation frame until timer stopped.\n  function pendingFunc() {\n    if (pending === null || lastInvokeTime === null) {\n      return;\n    }\n\n    const invokeTime = Date.now();\n    const shouldInvoke = invokeTime - lastInvokeTime >= delay;\n\n    if (shouldInvoke) {\n      func.apply(pending.this, pending.args);\n      lastInvokeTime = invokeTime;\n      pending = null;\n      timerId = null;\n    } else if (trailing) {\n      startTimer();\n    }\n  }\n\n  function startTimer() {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    timerId = requestAnimationFrame(pendingFunc);\n  }\n\n  // Decorated client function with delay mechanism.\n  function throttled(this: any, ...args: any) {\n    if (lastInvokeTime === null) {\n      lastInvokeTime = Date.now();\n      func.apply(this, args);\n    } else {\n      pending = { this: this, args };\n      startTimer();\n    }\n  }\n\n  // Prevents delayed function from execution when no longer needed.\n  throttled.cancel = () => {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    pending = null;\n    lastInvokeTime = null;\n    timerId = null;\n  };\n\n  return throttled;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { IconProps } from '../icon/interfaces';\nimport { FlashbarProps } from './interfaces';\n\nexport const FOCUS_THROTTLE_DELAY = 2000;\n\n// Since the position of a notification changes when the Flashbar is collapsed,\n// it is useful on some situations (e.g, for animating) to know the original position of the item\n// in the non-collapsed state.\nexport interface StackableItem extends FlashbarProps.MessageDefinition {\n  expandedIndex: number;\n  collapsedIndex?: number;\n}\n\nconst typesToColors: Record<FlashbarProps.Type, string> = {\n  error: 'red',\n  info: 'blue',\n  'in-progress': 'blue',\n  success: 'green',\n  warning: 'yellow',\n};\n\nfunction getColorFromType(type?: FlashbarProps.Type): string {\n  const defaultColor = 'blue';\n  return type ? typesToColors[type] || defaultColor : defaultColor;\n}\n\nexport function getItemType(item: FlashbarProps.MessageDefinition) {\n  if (item.loading) {\n    return 'in-progress';\n  } else {\n    return item.type || 'info';\n  }\n}\n\nexport function getItemColor(item: FlashbarProps.MessageDefinition) {\n  return getColorFromType(getItemType(item));\n}\n\n/*\n Returns a selection of notifications, preserving the order when possible but making sure that all different colors in\n the stack are represented in the returned array.\n The order corresponds to how they are represented when using the collapsible feature (newest first, oldest last).\n */\nexport function getVisibleCollapsedItems(\n  items: ReadonlyArray<FlashbarProps.MessageDefinition>,\n  desiredLength: number\n): ReadonlyArray<StackableItem> {\n  // First `desiredLength` items in the original array,\n  // together with `isColorRepeated` to tell if they can be subject to be replaced later on if necessary\n  const itemsOnTop: { item: StackableItem; isColorRepeated: boolean }[] = [];\n\n  // Items that fall outside `desiredIndexLength` but need to be \"promoted\" if possible\n  // because they are of a different color which otherwise wouldn't be represented\n  const itemsToPromote: StackableItem[] = [];\n\n  const addedColors: Set<string> = new Set();\n  const allPossibleColors = Object.keys(typesToColors).length;\n  const finalLength = Math.min(items.length, desiredLength);\n\n  for (let i = 0; i < items.length; i++) {\n    const item = items[i];\n    const color = getItemColor(item);\n    const isColorRepeated = addedColors.has(color);\n    if (i < finalLength) {\n      itemsOnTop.push({ item: { ...item, expandedIndex: i }, isColorRepeated });\n    } else {\n      if (addedColors.size === allPossibleColors) {\n        // No need to keep looking for unrepresented colors, we can stop looping\n        break;\n      } else if (!isColorRepeated) {\n        itemsToPromote.push({ ...item, expandedIndex: i });\n      }\n    }\n    addedColors.add(color);\n  }\n  // Generate the new array with the selected items, by picking from both arrays.\n  // First, from the non-repeated items within the desired length...\n  // We loop `itemsOnTop` starting from the end because we prefer to preserve the first ones rather than the old ones\n  const reversedInitialSelection = [];\n  let slotsReservedForPromotions = 0;\n  for (let j = itemsOnTop.length - 1; j >= 0; j--) {\n    const item = itemsOnTop[j];\n    if (item.isColorRepeated && slotsReservedForPromotions < itemsToPromote.length) {\n      slotsReservedForPromotions += 1;\n    } else {\n      reversedInitialSelection.push(item.item);\n    }\n  }\n  const selectedItems = reversedInitialSelection.reverse();\n  // ...and then complete the selection with as many promotable items as we can fit in the rest of the array\n  for (let k = 0; selectedItems.length < desiredLength; k++) {\n    selectedItems.push(itemsToPromote[k]);\n  }\n  return selectedItems;\n}\n\nexport function getFlashTypeCount(\n  items: readonly FlashbarProps.MessageDefinition[]\n): Record<FlashbarProps.Type, number> {\n  const count = { error: 0, info: 0, 'in-progress': 0, success: 0, warning: 0 };\n  for (const item of items) {\n    const type = getItemType(item);\n    count[type] += 1;\n  }\n  return count;\n}\n\nexport type LabelName =\n  | 'errorIconAriaLabel'\n  | 'warningIconAriaLabel'\n  | 'successIconAriaLabel'\n  | 'infoIconAriaLabel'\n  | 'inProgressIconAriaLabel';\n\nexport const counterTypes: {\n  type: FlashbarProps.Type;\n  labelName: LabelName;\n  iconName: IconProps.Name;\n}[] = [\n  { type: 'error', labelName: 'errorIconAriaLabel', iconName: 'status-negative' },\n  { type: 'warning', labelName: 'warningIconAriaLabel', iconName: 'status-warning' },\n  { type: 'success', labelName: 'successIconAriaLabel', iconName: 'status-positive' },\n  { type: 'info', labelName: 'infoIconAriaLabel', iconName: 'status-info' },\n  { type: 'in-progress', labelName: 'inProgressIconAriaLabel', iconName: 'status-in-progress' },\n];\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Metrics } from '@cloudscape-design/component-toolkit/internal';\n\nimport { PACKAGE_SOURCE, PACKAGE_VERSION } from '../../internal/environment';\nimport { FlashbarProps } from '../interfaces';\nimport { getFlashTypeCount } from '../utils';\n\nconst metrics = new Metrics(PACKAGE_SOURCE, PACKAGE_VERSION);\nconst eventContext = 'csa_flashbar';\n\nexport const sendRenderMetric = (items: FlashbarProps['items']) => {\n  const countByType = getFlashTypeCount(items);\n\n  metrics.sendPanoramaMetric({\n    eventContext,\n    eventType: 'render',\n    eventValue: items.length.toString(),\n    eventDetail: countByType,\n  });\n};\n\nexport const sendToggleMetric = (itemsCount: number, expanded: boolean) => {\n  metrics.sendPanoramaMetric({\n    eventContext,\n    eventType: expanded ? 'expand' : 'collapse',\n    eventValue: itemsCount.toString(),\n  });\n};\n\nexport const sendDismissMetric = (itemType: string) => {\n  metrics.sendPanoramaMetric({\n    eventContext,\n    eventType: 'dismiss',\n    eventValue: itemType,\n  });\n};\n","\n    import './styles.scoped.css';\n    export default {\n  \"flash-with-motion\": \"awsui_flash-with-motion_1q84n_1mepa_97\",\n  \"enter\": \"awsui_enter_1q84n_1mepa_97\",\n  \"flash-body\": \"awsui_flash-body_1q84n_1mepa_111\",\n  \"flash-message\": \"awsui_flash-message_1q84n_1mepa_111\",\n  \"flash-header\": \"awsui_flash-header_1q84n_1mepa_111\",\n  \"flash-content\": \"awsui_flash-content_1q84n_1mepa_112\",\n  \"action-button-wrapper\": \"awsui_action-button-wrapper_1q84n_1mepa_113\",\n  \"dismiss-button-wrapper\": \"awsui_dismiss-button-wrapper_1q84n_1mepa_114\",\n  \"flash-icon\": \"awsui_flash-icon_1q84n_1mepa_137\",\n  \"entering\": \"awsui_entering_1q84n_1mepa_150\",\n  \"entered\": \"awsui_entered_1q84n_1mepa_171\",\n  \"exiting\": \"awsui_exiting_1q84n_1mepa_276\",\n  \"stack\": \"awsui_stack_1q84n_1mepa_298\",\n  \"animation-running\": \"awsui_animation-running_1q84n_1mepa_298\",\n  \"item\": \"awsui_item_1q84n_1mepa_298\",\n  \"flash-list-item\": \"awsui_flash-list-item_1q84n_1mepa_299\",\n  \"notification-bar\": \"awsui_notification-bar_1q84n_1mepa_300\",\n  \"collapsed\": \"awsui_collapsed_1q84n_1mepa_320\",\n  \"animation-ready\": \"awsui_animation-ready_1q84n_1mepa_320\",\n  \"expanded-only\": \"awsui_expanded-only_1q84n_1mepa_320\",\n  \"expanded\": \"awsui_expanded_1q84n_1mepa_320\",\n  \"flash\": \"awsui_flash_1q84n_1mepa_97\",\n  \"collapsible\": \"awsui_collapsible_1q84n_1mepa_384\",\n  \"short-list\": \"awsui_short-list_1q84n_1mepa_390\",\n  \"visual-refresh\": \"awsui_visual-refresh_1q84n_1mepa_390\",\n  \"status\": \"awsui_status_1q84n_1mepa_597\",\n  \"header\": \"awsui_header_1q84n_1mepa_597\",\n  \"item-count\": \"awsui_item-count_1q84n_1mepa_598\",\n  \"button\": \"awsui_button_1q84n_1mepa_599\",\n  \"type-count\": \"awsui_type-count_1q84n_1mepa_632\",\n  \"count-number\": \"awsui_count-number_1q84n_1mepa_632\",\n  \"icon\": \"awsui_icon_1q84n_1mepa_666\",\n  \"floating\": \"awsui_floating_1q84n_1mepa_707\",\n  \"flashbar\": \"awsui_flashbar_1q84n_1mepa_715\",\n  \"flash-refresh\": \"awsui_flash-refresh_1q84n_1mepa_790\",\n  \"flash-list\": \"awsui_flash-list_1q84n_1mepa_299\",\n  \"flash-focus-container\": \"awsui_flash-focus-container_1q84n_1mepa_811\",\n  \"flash-text\": \"awsui_flash-text_1q84n_1mepa_841\",\n  \"dismiss-button\": \"awsui_dismiss-button_1q84n_1mepa_114\",\n  \"breakpoint-default\": \"awsui_breakpoint-default_1q84n_1mepa_883\",\n  \"action-button\": \"awsui_action-button_1q84n_1mepa_113\",\n  \"action-slot\": \"awsui_action-slot_1q84n_1mepa_893\",\n  \"flash-type-success\": \"awsui_flash-type-success_1q84n_1mepa_897\",\n  \"flash-type-error\": \"awsui_flash-type-error_1q84n_1mepa_901\",\n  \"flash-type-info\": \"awsui_flash-type-info_1q84n_1mepa_905\",\n  \"flash-type-in-progress\": \"awsui_flash-type-in-progress_1q84n_1mepa_906\",\n  \"flash-type-warning\": \"awsui_flash-type-warning_1q84n_1mepa_910\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { useComponentMetadata, warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ActionsWrapper } from '../alert/actions-wrapper';\nimport { ButtonProps } from '../button/interfaces';\nimport { InternalButton } from '../button/internal';\nimport InternalIcon from '../icon/internal';\nimport { DATA_ATTR_ANALYTICS_FLASHBAR } from '../internal/analytics/selectors';\nimport { BasePropsWithAnalyticsMetadata, getAnalyticsMetadataProps } from '../internal/base-component';\nimport LiveRegion from '../internal/components/live-region';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport { PACKAGE_VERSION } from '../internal/environment';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { isDevelopment } from '../internal/is-development';\nimport { awsuiPluginsInternal } from '../internal/plugins/api';\nimport { createUseDiscoveredAction } from '../internal/plugins/helpers';\nimport { throttle } from '../internal/utils/throttle';\nimport InternalSpinner from '../spinner/internal';\nimport { FlashbarProps } from './interfaces';\nimport { sendDismissMetric } from './internal/analytics';\nimport { FOCUS_THROTTLE_DELAY } from './utils';\n\nimport styles from './styles.css.js';\n\nconst ICON_TYPES = {\n  success: 'status-positive',\n  warning: 'status-warning',\n  info: 'status-info',\n  error: 'status-negative',\n  'in-progress': 'status-in-progress',\n} as const;\n\nconst useDiscoveredAction = createUseDiscoveredAction(awsuiPluginsInternal.flashbar.onActionRegistered);\n\nfunction dismissButton(\n  dismissLabel: FlashbarProps.MessageDefinition['dismissLabel'],\n  onDismiss: FlashbarProps.MessageDefinition['onDismiss']\n) {\n  return (\n    <div className={styles['dismiss-button-wrapper']}>\n      <InternalButton\n        onClick={onDismiss}\n        className={styles['dismiss-button']}\n        variant=\"flashbar-icon\"\n        iconName=\"close\"\n        formAction=\"none\"\n        ariaLabel={dismissLabel}\n      />\n    </div>\n  );\n}\n\nexport const focusFlashById = throttle(\n  (element: HTMLElement | null, itemId: string) => {\n    const selector = `[data-itemid=\"${CSS.escape(itemId)}\"] .${styles['flash-focus-container']}`;\n    element?.querySelector<HTMLElement>(selector)?.focus();\n  },\n  FOCUS_THROTTLE_DELAY,\n  { trailing: false }\n);\n\nexport interface FlashProps extends FlashbarProps.MessageDefinition {\n  className: string;\n  transitionState?: string;\n  i18nStrings?: FlashbarProps.I18nStrings;\n}\n\nexport const Flash = React.forwardRef(\n  (\n    {\n      id,\n      header,\n      content,\n      dismissible,\n      dismissLabel,\n      loading,\n      action,\n      buttonText,\n      onButtonClick,\n      onDismiss,\n      className,\n      transitionState,\n      ariaRole,\n      i18nStrings,\n      type = 'info',\n      ...props\n    }: FlashProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    if (isDevelopment) {\n      if (buttonText && !onButtonClick) {\n        warnOnce(\n          'Flashbar',\n          `You provided a \\`buttonText\\` prop without an \\`onButtonClick\\` handler. This will render a non-interactive action button.`\n        );\n      }\n\n      if (dismissible && !onDismiss) {\n        warnOnce(\n          'Flashbar',\n          `You have set the \\`dismissible\\` prop without an \\`onDismiss\\` handler. This will render a non-interactive dismiss button.`\n        );\n      }\n    }\n\n    const analyticsMetadata = getAnalyticsMetadataProps(props as BasePropsWithAnalyticsMetadata);\n    const elementRef = useComponentMetadata('Flash', PACKAGE_VERSION, { ...analyticsMetadata });\n    const mergedRef = useMergeRefs(ref, elementRef);\n    const { discoveredActions, headerRef, contentRef } = useDiscoveredAction(type);\n\n    const iconType = ICON_TYPES[type];\n\n    const icon = loading ? <InternalSpinner /> : <InternalIcon name={iconType} />;\n\n    const effectiveType = loading ? 'info' : type;\n\n    const handleDismiss: ButtonProps['onClick'] = event => {\n      sendDismissMetric(effectiveType);\n      onDismiss && onDismiss(event);\n    };\n\n    const analyticsAttributes = {\n      [DATA_ATTR_ANALYTICS_FLASHBAR]: effectiveType,\n    };\n\n    const statusIconAriaLabel =\n      props.statusIconAriaLabel ||\n      i18nStrings?.[`${loading || type === 'in-progress' ? 'inProgress' : type}IconAriaLabel`];\n\n    return (\n      // We're not using \"polite\" or \"assertive\" here, just turning default behavior off.\n      // eslint-disable-next-line @cloudscape-design/prefer-live-region\n      <div\n        ref={mergedRef}\n        role={ariaRole}\n        aria-live={ariaRole ? 'off' : undefined}\n        data-itemid={id}\n        className={clsx(\n          styles.flash,\n          styles[`flash-type-${effectiveType}`],\n          className,\n          transitionState && {\n            [styles.enter]: transitionState === 'enter',\n            [styles.entering]: transitionState === 'entering',\n            [styles.entered]: transitionState === 'entered',\n            [styles.exit]: transitionState === 'exit',\n            [styles.exiting]: transitionState === 'exiting',\n            [styles.exited]: transitionState === 'exited',\n          },\n          getVisualContextClassname(type === 'warning' && !loading ? 'flashbar-warning' : 'flashbar')\n        )}\n        {...analyticsAttributes}\n      >\n        <div className={styles['flash-body']}>\n          <div className={styles['flash-focus-container']} tabIndex={-1}>\n            <div\n              className={clsx(styles['flash-icon'], styles['flash-text'])}\n              role=\"img\"\n              aria-label={statusIconAriaLabel}\n            >\n              {icon}\n            </div>\n            <div className={clsx(styles['flash-message'], styles['flash-text'])}>\n              <div className={styles['flash-header']} ref={headerRef}>\n                {header}\n              </div>\n              <div className={styles['flash-content']} ref={contentRef}>\n                {content}\n              </div>\n            </div>\n          </div>\n          <ActionsWrapper\n            className={styles['action-button-wrapper']}\n            testUtilClasses={{\n              actionSlot: styles['action-slot'],\n              actionButton: styles['action-button'],\n            }}\n            action={action}\n            discoveredActions={discoveredActions}\n            buttonText={buttonText}\n            onButtonClick={onButtonClick}\n          />\n        </div>\n        {dismissible && dismissButton(dismissLabel, handleDismiss)}\n        {ariaRole === 'status' && <LiveRegion source={[statusIconAriaLabel, headerRef, contentRef]} />}\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useMemo, useRef, useState } from 'react';\n\nimport { useReducedMotion, warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../internal/base-component';\nimport { useContainerBreakpoints } from '../internal/hooks/container-queries';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { isDevelopment } from '../internal/is-development';\nimport { focusFlashById } from './flash';\nimport { FlashbarProps } from './interfaces';\n\n// Common logic for collapsible and non-collapsible Flashbar\nexport function useFlashbar({\n  items,\n  onItemsAdded,\n  onItemsChanged,\n  onItemsRemoved,\n  ...restProps\n}: FlashbarProps & {\n  onItemsAdded?: (items: FlashbarProps.MessageDefinition[]) => void;\n  onItemsRemoved?: (items: FlashbarProps.MessageDefinition[]) => void;\n  onItemsChanged?: (options?: { allItemsHaveId?: boolean; isReducedMotion?: boolean }) => void;\n}) {\n  const { __internalRootRef } = useBaseComponent('Flashbar', {\n    props: { stackItems: restProps.stackItems },\n  });\n  const allItemsHaveId = useMemo(() => items.every(item => 'id' in item), [items]);\n  const baseProps = getBaseProps(restProps);\n  const ref = useRef<HTMLDivElement | null>(null);\n  const [breakpoint, breakpointRef] = useContainerBreakpoints(['xs']);\n  const mergedRef = useMergeRefs(ref, breakpointRef, __internalRootRef);\n  const isReducedMotion = useReducedMotion(ref);\n  const isVisualRefresh = useVisualRefresh();\n  const [previousItems, setPreviousItems] = useState<ReadonlyArray<FlashbarProps.MessageDefinition>>(items);\n  const [nextFocusId, setNextFocusId] = useState<string | null>(null);\n\n  if (isDevelopment) {\n    if (items?.some(item => item.ariaRole === 'alert' && !item.id)) {\n      warnOnce(\n        'Flashbar',\n        `You provided \\`ariaRole=\"alert\"\\` for a flashbar item without providing an \\`id\\`. Focus will not be moved to the newly added flash message.`\n      );\n    }\n  }\n\n  // Track new or removed item IDs in state to only trigger focus changes for newly added items.\n  // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n  if (items) {\n    const newItems = items.filter(({ id }) => id && !previousItems.some(item => item.id === id));\n    const removedItems = previousItems.filter(({ id }) => id && !items.some(item => item.id === id));\n    if (newItems.length > 0 || removedItems.length > 0) {\n      setPreviousItems(items);\n      onItemsAdded?.(newItems);\n      onItemsRemoved?.(removedItems);\n      onItemsChanged?.({ allItemsHaveId, isReducedMotion });\n\n      const newFocusItems = newItems.filter(({ ariaRole }) => ariaRole === 'alert');\n      if (newFocusItems.length > 0) {\n        setNextFocusId(newFocusItems[0].id!);\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (nextFocusId) {\n      focusFlashById(ref.current, nextFocusId);\n    }\n  }, [nextFocusId, ref]);\n\n  return {\n    allItemsHaveId,\n    baseProps,\n    breakpoint,\n    isReducedMotion,\n    isVisualRefresh,\n    mergedRef,\n    ref,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ReactNode, useCallback, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { IconProps } from '../icon/interfaces';\nimport InternalIcon from '../icon/internal';\nimport { animate, getDOMRects } from '../internal/animate';\nimport { Transition } from '../internal/components/transition';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport customCssProps from '../internal/generated/custom-css-properties';\nimport { useEffectOnUpdate } from '../internal/hooks/use-effect-on-update';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { findUpUntil } from '../internal/utils/dom';\nimport { scrollElementIntoView } from '../internal/utils/scrollable-containers';\nimport { throttle } from '../internal/utils/throttle';\nimport { useFlashbar } from './common';\nimport { Flash, focusFlashById } from './flash';\nimport { FlashbarProps } from './interfaces';\nimport { sendToggleMetric } from './internal/analytics';\nimport { counterTypes, getFlashTypeCount, getItemColor, getVisibleCollapsedItems, StackableItem } from './utils';\n\nimport styles from './styles.css.js';\n\nexport { FlashbarProps };\n\n// If the number of items is equal or less than this value,\n// the toggle element will not be displayed and the Flashbar will look like a regular single-item Flashbar.\nconst maxNonCollapsibleItems = 1;\n\nconst resizeListenerThrottleDelay = 100;\n\nexport default function CollapsibleFlashbar({ items, ...restProps }: FlashbarProps) {\n  const [enteringItems, setEnteringItems] = useState<ReadonlyArray<FlashbarProps.MessageDefinition>>([]);\n  const [exitingItems, setExitingItems] = useState<ReadonlyArray<FlashbarProps.MessageDefinition>>([]);\n  const [isFlashbarStackExpanded, setIsFlashbarStackExpanded] = useState(false);\n\n  const getElementsToAnimate = useCallback(() => {\n    const flashElements = isFlashbarStackExpanded ? expandedItemRefs.current : collapsedItemRefs.current;\n    return { ...flashElements, notificationBar: notificationBarRef.current };\n  }, [isFlashbarStackExpanded]);\n\n  const prepareAnimations = useCallback(() => {\n    const rects = getDOMRects(getElementsToAnimate());\n    setInitialAnimationState(rects);\n  }, [getElementsToAnimate]);\n\n  const { baseProps, breakpoint, isReducedMotion, isVisualRefresh, mergedRef, ref } = useFlashbar({\n    items,\n    ...restProps,\n    onItemsAdded: newItems => {\n      setEnteringItems([...enteringItems, ...newItems]);\n    },\n    onItemsChanged: options => {\n      // If not all items have ID, we can still animate collapse/expand transitions\n      // because we can rely on each item's index in the original array,\n      // but we can't do that when elements are added or removed, since the index changes.\n      if (options?.allItemsHaveId && !options?.isReducedMotion) {\n        prepareAnimations();\n      }\n    },\n    onItemsRemoved: removedItems => {\n      setExitingItems([...exitingItems, ...removedItems]);\n    },\n  });\n\n  const collapsedItemRefs = useRef<Record<string, HTMLElement | null>>({});\n  const expandedItemRefs = useRef<Record<string, HTMLElement | null>>({});\n  const [initialAnimationState, setInitialAnimationState] = useState<Record<string, DOMRect> | null>(null);\n  const listElementRef = useRef<HTMLUListElement | null>(null);\n  const notificationBarRef = useRef<HTMLDivElement | null>(null);\n  const [transitioning, setTransitioning] = useState(false);\n  const flashbarElementId = useUniqueId('flashbar');\n  const itemCountElementId = useUniqueId('item-count');\n\n  if (items.length <= maxNonCollapsibleItems && isFlashbarStackExpanded) {\n    setIsFlashbarStackExpanded(false);\n  }\n\n  const animateFlash = !isReducedMotion;\n\n  function toggleCollapseExpand() {\n    sendToggleMetric(items.length, !isFlashbarStackExpanded);\n    if (!isReducedMotion) {\n      prepareAnimations();\n    }\n    setIsFlashbarStackExpanded(prev => !prev);\n  }\n\n  useLayoutEffect(() => {\n    if (isFlashbarStackExpanded && items?.length) {\n      const mostRecentItem = items[0];\n      if (mostRecentItem.id !== undefined) {\n        focusFlashById(ref.current, mostRecentItem.id);\n      }\n    }\n    // Run this after expanding, but not every time the items change.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isFlashbarStackExpanded]);\n\n  // When collapsing, scroll up if necessary to avoid losing track of the focused button\n  useEffectOnUpdate(() => {\n    if (!isFlashbarStackExpanded && notificationBarRef.current) {\n      scrollElementIntoView(notificationBarRef.current);\n    }\n  }, [isFlashbarStackExpanded]);\n\n  const updateBottomSpacing = useMemo(\n    () =>\n      throttle(() => {\n        // Allow vertical space between Flashbar and page bottom only when the Flashbar is reaching the end of the page,\n        // otherwise avoid spacing with eventual sticky elements below.\n        const listElement = listElementRef?.current;\n        const flashbar = listElement?.parentElement;\n        if (listElement && flashbar) {\n          // Make sure the bottom padding is present when we make the calculations,\n          // then we might decide to remove it or not.\n          flashbar.classList.remove(styles.floating);\n          const windowHeight = window.innerHeight;\n          // Take the parent region into account if using the App Layout, because it might have additional margins.\n          // Otherwise we use the Flashbar component for this calculation.\n          const outerElement = findUpUntil(flashbar, element => element.getAttribute('role') === 'region') || flashbar;\n          const applySpacing =\n            isFlashbarStackExpanded && Math.ceil(outerElement.getBoundingClientRect().bottom) >= windowHeight;\n          if (!applySpacing) {\n            flashbar.classList.add(styles.floating);\n          }\n        }\n      }, resizeListenerThrottleDelay),\n    [isFlashbarStackExpanded]\n  );\n\n  useLayoutEffect(() => {\n    window.addEventListener('resize', updateBottomSpacing);\n    return () => {\n      window.removeEventListener('resize', updateBottomSpacing);\n      updateBottomSpacing.cancel();\n    };\n  }, [updateBottomSpacing]);\n\n  const { i18nStrings } = restProps;\n\n  const i18n = useInternalI18n('flashbar');\n  const ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings?.ariaLabel);\n  const notificationBarText = i18n('i18nStrings.notificationBarText', i18nStrings?.notificationBarText);\n  const notificationBarAriaLabel = i18n('i18nStrings.notificationBarAriaLabel', i18nStrings?.notificationBarAriaLabel);\n  const iconAriaLabels = {\n    errorIconAriaLabel: i18n('i18nStrings.errorIconAriaLabel', i18nStrings?.errorIconAriaLabel),\n    inProgressIconAriaLabel: i18n('i18nStrings.inProgressIconAriaLabel', i18nStrings?.inProgressIconAriaLabel),\n    infoIconAriaLabel: i18n('i18nStrings.infoIconAriaLabel', i18nStrings?.infoIconAriaLabel),\n    successIconAriaLabel: i18n('i18nStrings.successIconAriaLabel', i18nStrings?.successIconAriaLabel),\n    warningIconAriaLabel: i18n('i18nStrings.warningIconAriaLabel', i18nStrings?.warningIconAriaLabel),\n  };\n\n  useLayoutEffect(() => {\n    // When `useLayoutEffect` is called, the DOM is updated but has not been painted yet,\n    // so it's a good moment to trigger animations that will make calculations based on old and new DOM state.\n    // The old state is kept in `initialAnimationState`\n    // and the new state can be retrieved from the current DOM elements.\n\n    if (initialAnimationState) {\n      updateBottomSpacing();\n\n      animate({\n        elements: getElementsToAnimate(),\n        oldState: initialAnimationState,\n        newElementInitialState: ({ top }) => ({ scale: 0.9, y: -0.2 * top }),\n        onTransitionsEnd: () => setTransitioning(false),\n      });\n\n      setTransitioning(true);\n      setInitialAnimationState(null);\n    }\n  }, [updateBottomSpacing, getElementsToAnimate, initialAnimationState, isFlashbarStackExpanded]);\n\n  const isCollapsible = items.length > maxNonCollapsibleItems;\n\n  const countByType = getFlashTypeCount(items);\n\n  const numberOfColorsInStack = new Set(items.map(getItemColor)).size;\n  const maxSlots = Math.max(numberOfColorsInStack, 3);\n  const stackDepth = Math.min(maxSlots, items.length);\n\n  const itemsToShow = isFlashbarStackExpanded\n    ? items.map((item, index) => ({ ...item, expandedIndex: index }))\n    : getVisibleCollapsedItems(items, stackDepth).map((item: StackableItem, index: number) => ({\n        ...item,\n        collapsedIndex: index,\n      }));\n\n  const getItemId = (item: StackableItem | FlashbarProps.MessageDefinition) =>\n    item.id ?? (item as StackableItem).expandedIndex ?? 0;\n\n  // This check allows us to use the standard \"enter\" Transition only when the notification was not existing before.\n  // If instead it was moved to the top of the stack but was already present in the array\n  // (e.g, after dismissing another notification),\n  // we need to use different, more custom and more controlled animations.\n  const hasEntered = (item: StackableItem | FlashbarProps.MessageDefinition) =>\n    enteringItems.some(_item => _item.id && _item.id === item.id);\n  const hasLeft = (item: StackableItem | FlashbarProps.MessageDefinition) => !('expandedIndex' in item);\n  const hasEnteredOrLeft = (item: StackableItem | FlashbarProps.MessageDefinition) => hasEntered(item) || hasLeft(item);\n\n  const showInnerContent = (item: StackableItem | FlashbarProps.MessageDefinition) =>\n    isFlashbarStackExpanded || hasLeft(item) || ('expandedIndex' in item && item.expandedIndex === 0);\n\n  const shouldUseStandardAnimation = (item: StackableItem, index: number) => index === 0 && hasEnteredOrLeft(item);\n\n  const getAnimationElementId = (item: StackableItem) => `flash-${getItemId(item)}`;\n\n  const renderList = () => (\n    <ul\n      ref={listElementRef}\n      className={clsx(\n        styles['flash-list'],\n        isFlashbarStackExpanded ? styles.expanded : styles.collapsed,\n        transitioning && styles['animation-running'],\n        initialAnimationState && styles['animation-ready'],\n        isVisualRefresh && styles['visual-refresh']\n      )}\n      id={flashbarElementId}\n      aria-label={ariaLabel}\n      aria-describedby={isCollapsible ? itemCountElementId : undefined}\n      style={\n        !isFlashbarStackExpanded || transitioning\n          ? {\n              [customCssProps.flashbarStackDepth]: stackDepth,\n            }\n          : undefined\n      }\n    >\n      <ListWrapper withMotion={!isReducedMotion}>\n        {itemsToShow.map((item: StackableItem, index: number) => (\n          <Transition\n            key={getItemId(item)}\n            in={!hasLeft(item)}\n            onStatusChange={status => {\n              if (status === 'entered') {\n                setEnteringItems([]);\n              } else if (status === 'exited') {\n                setExitingItems([]);\n              }\n            }}\n          >\n            {(state: string, transitionRootElement: React.Ref<HTMLDivElement> | undefined) => (\n              <li\n                aria-hidden={!showInnerContent(item)}\n                className={\n                  showInnerContent(item)\n                    ? clsx(\n                        styles['flash-list-item'],\n                        !isFlashbarStackExpanded && styles.item,\n                        !collapsedItemRefs.current[getAnimationElementId(item)] && styles['expanded-only']\n                      )\n                    : clsx(styles.flash, styles[`flash-type-${item.type ?? 'info'}`], styles.item)\n                }\n                ref={element => {\n                  if (isFlashbarStackExpanded) {\n                    expandedItemRefs.current[getAnimationElementId(item)] = element;\n                  } else {\n                    collapsedItemRefs.current[getAnimationElementId(item)] = element;\n                  }\n                }}\n                style={\n                  !isFlashbarStackExpanded || transitioning\n                    ? {\n                        [customCssProps.flashbarStackIndex]:\n                          (item as StackableItem).collapsedIndex ?? (item as StackableItem).expandedIndex ?? index,\n                      }\n                    : undefined\n                }\n                key={getItemId(item)}\n              >\n                {showInnerContent(item) && (\n                  <Flash\n                    // eslint-disable-next-line react/forbid-component-props\n                    className={clsx(\n                      animateFlash && styles['flash-with-motion'],\n                      isVisualRefresh && styles['flash-refresh']\n                    )}\n                    key={getItemId(item)}\n                    ref={shouldUseStandardAnimation(item, index) ? transitionRootElement : undefined}\n                    transitionState={shouldUseStandardAnimation(item, index) ? state : undefined}\n                    i18nStrings={iconAriaLabels}\n                    {...item}\n                  />\n                )}\n              </li>\n            )}\n          </Transition>\n        ))}\n      </ListWrapper>\n    </ul>\n  );\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(\n        baseProps.className,\n        styles.flashbar,\n        styles[`breakpoint-${breakpoint}`],\n        styles.stack,\n        isCollapsible && styles.collapsible,\n        items.length === 2 && styles['short-list'],\n        isFlashbarStackExpanded && styles.expanded,\n        isVisualRefresh && styles['visual-refresh']\n      )}\n      ref={mergedRef}\n    >\n      {isFlashbarStackExpanded && renderList()}\n      {isCollapsible && (\n        <div\n          className={clsx(\n            styles['notification-bar'],\n            isVisualRefresh && styles['visual-refresh'],\n            isFlashbarStackExpanded ? styles.expanded : styles.collapsed,\n            transitioning && styles['animation-running'],\n            items.length === 2 && styles['short-list'],\n            getVisualContextClassname('flashbar') // Visual context is needed for focus ring to be white\n          )}\n          onClick={toggleCollapseExpand}\n          ref={notificationBarRef}\n        >\n          <span aria-live=\"polite\" className={styles.status} role=\"status\" id={itemCountElementId}>\n            {notificationBarText && <h2 className={styles.header}>{notificationBarText}</h2>}\n            <span className={styles['item-count']}>\n              {counterTypes.map(({ type, labelName, iconName }) => (\n                <NotificationTypeCount\n                  key={type}\n                  iconName={iconName}\n                  label={iconAriaLabels[labelName]}\n                  count={countByType[type]}\n                />\n              ))}\n            </span>\n          </span>\n          <button\n            aria-controls={flashbarElementId}\n            aria-describedby={itemCountElementId}\n            aria-expanded={isFlashbarStackExpanded}\n            aria-label={notificationBarAriaLabel}\n            className={clsx(styles.button, isFlashbarStackExpanded && styles.expanded)}\n          >\n            <InternalIcon className={styles.icon} size=\"normal\" name=\"angle-down\" />\n          </button>\n        </div>\n      )}\n      {!isFlashbarStackExpanded && renderList()}\n    </div>\n  );\n}\n\nconst NotificationTypeCount = ({\n  iconName,\n  label,\n  count,\n}: {\n  iconName: IconProps.Name;\n  label?: string;\n  count: number;\n}) => {\n  return (\n    <span className={styles['type-count']}>\n      <span aria-label={label} role=\"img\">\n        <span title={label} aria-hidden=\"true\">\n          <InternalIcon name={iconName} />\n        </span>\n      </span>\n      <span className={styles['count-number']}>{count}</span>\n    </span>\n  );\n};\n\nconst ListWrapper = ({ children, withMotion }: { children: ReactNode; withMotion: boolean }) =>\n  withMotion ? <TransitionGroup component={null}>{children}</TransitionGroup> : <>{children}</>;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport function getDOMRects(elements: Record<string, HTMLElement | null>) {\n  const rects: Record<string, DOMRect> = {};\n  for (const id in elements) {\n    const element = elements[id];\n    if (element) {\n      rects[id] = element.getBoundingClientRect();\n    }\n  }\n  return rects;\n}\n\n/*\n  Animate DOM elements based on the FLIP technique\n  - https://aerotwist.com/blog/flip-your-animations/\n  - https://css-tricks.com/animating-layouts-with-the-flip-technique/\n\n  This can be useful when the initial dimensions or position of the element is not known,\n  so the initial offset or scaling needs to be retrieved via JS.\n\n  Caveat: this currently does not support elements having CSS transforms in the end state.\n  These would be overridden in the animation instead of combined.\n */\nexport function animate({\n  oldState,\n  elements,\n  onTransitionsEnd,\n  newElementInitialState,\n}: {\n  elements: Record<string, HTMLElement | null>;\n  oldState: Record<string, DOMRect>;\n  onTransitionsEnd?: () => void;\n  newElementInitialState?: (newRect: DOMRect) => { scale?: number; y?: number };\n}) {\n  // First, apply the transform that will make the elements \"look like\" in the start position\n  for (const id in elements) {\n    const element = elements[id];\n    const oldRect = oldState[id];\n    if (element) {\n      const newRect = element.getBoundingClientRect();\n      const noOpTransform = { scale: 1, x: 0, y: 0 };\n      // Calculate initial position.\n      // If the element didn't exist previously, use the newElementInitialState function if provided.\n      // If not, default to no transitions (scale: 1, y: 0)\n      const calculatedInverseTransform = oldRect\n        ? {\n            scale: oldRect.width / newRect.width,\n            x: (oldRect.left + oldRect.right) / 2 - (newRect.left + newRect.right) / 2,\n            y: (oldRect.top + oldRect.bottom) / 2 - (newRect.top + newRect.bottom) / 2,\n          }\n        : newElementInitialState\n          ? newElementInitialState(newRect)\n          : {};\n      const inverseTransform = { ...noOpTransform, ...calculatedInverseTransform };\n      // Apply this initial change, without animating\n      element.style.transitionProperty = 'none';\n      element.style.transform = `scale(${inverseTransform.scale}) translate(${inverseTransform.x}px, ${inverseTransform.y}px)`;\n      if (!oldRect) {\n        // If the element didn't exist, then fade it in\n        // (besides any other possibly defined transitions based on `newElementInitialState`)\n        element.style.opacity = '0';\n      }\n    }\n  }\n\n  // Animate from the initial state to the end state\n  requestAnimationFrame(() => {\n    const ongoingAnimations = new Set();\n    for (const id in elements) {\n      const element = elements[id];\n      if (element) {\n        const oldRect = oldState[id];\n        if (oldRect) {\n          // Animate from here on\n          element.style.transitionProperty = `transform`;\n          // Unset inline CSS transforms so that the final state is applied\n          element.style.transform = '';\n        } else {\n          // If the element didn't exist previously, fade in as well\n          element.style.transitionProperty = `transform, opacity`;\n          element.style.transform = '';\n          element.style.opacity = '';\n        }\n        const onTransitionStart = (event: TransitionEvent) => {\n          if (event.target === element) {\n            ongoingAnimations.add(id);\n            element.removeEventListener('transitionstart', onTransitionStart);\n          }\n        };\n        const onTransitionEnd = (event: TransitionEvent) => {\n          if (event.target === element) {\n            // Clean up remaining inline styles\n            element.style.transitionProperty = '';\n            element.removeEventListener('transitionstart', onTransitionEnd);\n            if (onTransitionsEnd) {\n              ongoingAnimations.delete(id);\n              if (ongoingAnimations.size === 0) {\n                onTransitionsEnd();\n              }\n            }\n          }\n        };\n        element.addEventListener('transitionstart', onTransitionStart);\n        element.addEventListener('transitionend', onTransitionEnd);\n      }\n    }\n  });\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * This is a delay that delays the `entering` transition state\n * for the flashbar to be executed, this is useful for:\n * - If a flashbar is exiting and another is entering at the same time we'd want to delay the entering to\n * prevent the jumping in the layout\n * The current animation time for the exiting can be found in motion.scss which is equivilant to 115ms,\n * if in the future this value is changed for the exiting animation we'll have to change this as well to match it\n */\nexport const TIMEOUT_FOR_ENTERING_ANIMATION = 115;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { Transition } from '../internal/components/transition';\nimport { useFlashbar } from './common';\nimport { TIMEOUT_FOR_ENTERING_ANIMATION } from './constant';\nimport { Flash } from './flash';\nimport { FlashbarProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { FlashbarProps };\n\nexport default function NonCollapsibleFlashbar({ items, i18nStrings, ...restProps }: FlashbarProps) {\n  const { allItemsHaveId, baseProps, breakpoint, isReducedMotion, isVisualRefresh, mergedRef } = useFlashbar({\n    items,\n    ...restProps,\n  });\n\n  const i18n = useInternalI18n('flashbar');\n  const ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings?.ariaLabel);\n  const iconAriaLabels = {\n    errorIconAriaLabel: i18n('i18nStrings.errorIconAriaLabel', i18nStrings?.errorIconAriaLabel),\n    inProgressIconAriaLabel: i18n('i18nStrings.inProgressIconAriaLabel', i18nStrings?.inProgressIconAriaLabel),\n    infoIconAriaLabel: i18n('i18nStrings.infoIconAriaLabel', i18nStrings?.infoIconAriaLabel),\n    successIconAriaLabel: i18n('i18nStrings.successIconAriaLabel', i18nStrings?.successIconAriaLabel),\n    warningIconAriaLabel: i18n('i18nStrings.warningIconAriaLabel', i18nStrings?.warningIconAriaLabel),\n  };\n\n  /**\n   * All the flash items should have ids so we can identify which DOM element is being\n   * removed from the DOM to animate it. Motion will be disabled if any of the provided\n   * flash messages does not contain an `id`.\n   */\n  const motionDisabled = isReducedMotion || !isVisualRefresh || !allItemsHaveId;\n\n  const animateFlash = !isReducedMotion && isVisualRefresh;\n  /**\n   * If the flashbar is flat and motion is `enabled` then the adding and removing of items\n   * from the flashbar will render with visual transitions.\n   */\n  function renderFlatItemsWithTransitions() {\n    if (motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      // This is a proxy for <ul>, so we're not applying a class to another actual component.\n      // eslint-disable-next-line react/forbid-component-props\n      <TransitionGroup component=\"ul\" className={styles['flash-list']} aria-label={ariaLabel}>\n        {items.map((item, index) => (\n          <Transition\n            transitionChangeDelay={{ entering: TIMEOUT_FOR_ENTERING_ANIMATION }}\n            key={item.id ?? index}\n            in={true}\n          >\n            {(state: string, transitionRootElement: React.Ref<HTMLDivElement> | undefined) => (\n              <li className={styles['flash-list-item']}>\n                {renderItem(item, item.id ?? index, transitionRootElement, state)}\n              </li>\n            )}\n          </Transition>\n        ))}\n      </TransitionGroup>\n    );\n  }\n\n  /**\n   * If the flashbar is flat and motion is `disabled` then the adding and removing of items\n   * from the flashbar will render without visual transitions.\n   */\n  function renderFlatItemsWithoutTransitions() {\n    if (!motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      <ul className={styles['flash-list']} aria-label={ariaLabel}>\n        {items.map((item, index) => (\n          <li key={item.id ?? index} className={styles['flash-list-item']}>\n            {renderItem(item, item.id ?? index)}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  /**\n   * This is a shared render function for a single flashbar item to be used\n   * by the stacking, motion, and non-motion item group render functions.\n   */\n  function renderItem(\n    item: FlashbarProps.MessageDefinition,\n    key: string | number,\n    transitionRootElement?: React.Ref<HTMLDivElement> | undefined,\n    transitionState?: string | undefined\n  ) {\n    return (\n      <Flash\n        // eslint-disable-next-line react/forbid-component-props\n        className={clsx(animateFlash && styles['flash-with-motion'], isVisualRefresh && styles['flash-refresh'])}\n        key={key}\n        ref={transitionRootElement}\n        transitionState={transitionState}\n        i18nStrings={iconAriaLabels}\n        {...item}\n      />\n    );\n  }\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(baseProps.className, styles.flashbar, styles[`breakpoint-${breakpoint}`])}\n      ref={mergedRef}\n    >\n      {renderFlatItemsWithTransitions()}\n      {renderFlatItemsWithoutTransitions()}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect } from 'react';\n\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport CollapsibleFlashbar from './collapsible-flashbar';\nimport { FlashbarProps } from './interfaces';\nimport { sendRenderMetric } from './internal/analytics';\nimport NonCollapsibleFlashbar from './non-collapsible-flashbar';\n\nexport { FlashbarProps };\n\nexport default function Flashbar(props: FlashbarProps) {\n  useEffect(() => {\n    if (props.items.length > 0) {\n      sendRenderMetric(props.items);\n    }\n  }, [props.items]);\n\n  if (props.stackItems) {\n    return <CollapsibleFlashbar {...props} />;\n  } else {\n    return <NonCollapsibleFlashbar {...props} />;\n  }\n}\n\napplyDisplayName(Flashbar, 'Flashbar');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { ActionButtonsController, ActionConfig, ActionContext } from '../controllers/action-buttons';\nimport { RuntimeContentWrapper } from './runtime-content-wrapper';\n\nfunction convertRuntimeAction(action: ActionConfig | null, context: ActionContext) {\n  if (!action) {\n    return null;\n  }\n  return (\n    <RuntimeContentWrapper\n      key={action.id + '-' + context.type}\n      mountContent={container => action.mountContent(container, context)}\n      unmountContent={container => action.unmountContent(container)}\n    />\n  );\n}\n\nexport function createUseDiscoveredAction(onActionRegistered: ActionButtonsController['onActionRegistered']) {\n  return function useDiscoveredAction(type: string) {\n    const [discoveredActions, setDiscoveredActions] = useState<Array<React.ReactNode>>([]);\n    const headerRef = useRef<HTMLDivElement>(null);\n    const contentRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n      return onActionRegistered(actions => {\n        setDiscoveredActions(actions.map(action => convertRuntimeAction(action, { type, headerRef, contentRef })));\n      });\n    }, [type]);\n\n    return { discoveredActions, headerRef, contentRef };\n  };\n}\n","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = (key in prevChildMapping);\n    var hasNext = (key in nextChildMapping);\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };"],"names":["ActionsWrapper","_ref","className","testUtilClasses","action","discoveredActions","buttonText","onButtonClick","actionButton","React","InternalButton","onClick","formAction","actionSlot","createActionButton","length","clsx","styles","root","throttle","func","delay","trailing","arguments","undefined","pending","lastInvokeTime","timerId","pendingFunc","invokeTime","Date","now","apply","this","args","startTimer","cancelAnimationFrame","requestAnimationFrame","throttled","_len","Array","_key","cancel","typesToColors","error","info","success","warning","getItemType","item","loading","type","getItemColor","defaultColor","getColorFromType","getFlashTypeCount","items","count","counterTypes","labelName","iconName","metrics","Metrics","PACKAGE_SOURCE","PACKAGE_VERSION","eventContext","sendRenderMetric","countByType","sendPanoramaMetric","eventType","eventValue","toString","eventDetail","sendToggleMetric","itemsCount","expanded","ICON_TYPES","useDiscoveredAction","createUseDiscoveredAction","awsuiPluginsInternal","flashbar","onActionRegistered","focusFlashById","element","itemId","selector","concat","CSS","escape","_a","querySelector","focus","Flash","ref","id","header","content","dismissible","dismissLabel","onDismiss","transitionState","ariaRole","i18nStrings","props","__rest","isDevelopment","warnOnce","analyticsMetadata","getAnalyticsMetadataProps","elementRef","useComponentMetadata","Object","assign","mergedRef","useMergeRefs","headerRef","contentRef","iconType","icon","InternalSpinner","InternalIcon","name","effectiveType","analyticsAttributes","DATA_ATTR_ANALYTICS_FLASHBAR","statusIconAriaLabel","role","flash","enter","entering","entered","exit","exiting","exited","getVisualContextClassname","tabIndex","variant","ariaLabel","dismissButton","event","itemType","LiveRegion","source","useFlashbar","onItemsAdded","onItemsChanged","onItemsRemoved","restProps","__internalRootRef","useBaseComponent","stackItems","allItemsHaveId","useMemo","every","baseProps","getBaseProps","useRef","breakpoint","breakpointRef","useContainerBreakpoints","isReducedMotion","useReducedMotion","isVisualRefresh","useVisualRefresh","previousItems","setPreviousItems","useState","nextFocusId","setNextFocusId","some","newItems","filter","removedItems","_ref2","newFocusItems","_ref3","useEffect","current","maxNonCollapsibleItems","resizeListenerThrottleDelay","CollapsibleFlashbar","enteringItems","setEnteringItems","exitingItems","setExitingItems","isFlashbarStackExpanded","setIsFlashbarStackExpanded","getElementsToAnimate","useCallback","flashElements","expandedItemRefs","collapsedItemRefs","notificationBar","notificationBarRef","prepareAnimations","rects","elements","getBoundingClientRect","getDOMRects","setInitialAnimationState","options","initialAnimationState","listElementRef","transitioning","setTransitioning","flashbarElementId","useUniqueId","itemCountElementId","animateFlash","useLayoutEffect","mostRecentItem","useEffectOnUpdate","scrollElementIntoView","updateBottomSpacing","listElement","parentElement","classList","remove","floating","windowHeight","window","innerHeight","outerElement","findUpUntil","getAttribute","Math","ceil","bottom","add","addEventListener","removeEventListener","i18n","useInternalI18n","notificationBarText","notificationBarAriaLabel","iconAriaLabels","errorIconAriaLabel","inProgressIconAriaLabel","infoIconAriaLabel","successIconAriaLabel","warningIconAriaLabel","oldState","onTransitionsEnd","newElementInitialState","oldRect","newRect","noOpTransform","scale","x","y","calculatedInverseTransform","width","left","right","top","inverseTransform","style","transitionProperty","transform","opacity","ongoingAnimations","Set","onTransitionStart","target","onTransitionEnd","delete","size","animate","isCollapsible","numberOfColorsInStack","map","maxSlots","max","stackDepth","min","itemsToShow","index","expandedIndex","desiredLength","itemsOnTop","itemsToPromote","addedColors","allPossibleColors","keys","finalLength","i","color","isColorRepeated","has","push","reversedInitialSelection","slotsReservedForPromotions","j","selectedItems","reverse","k","getVisibleCollapsedItems","collapsedIndex","getItemId","_b","hasLeft","hasEnteredOrLeft","_item","hasEntered","showInnerContent","shouldUseStandardAnimation","getAnimationElementId","renderList","collapsed","customCssProps","flashbarStackDepth","ListWrapper","withMotion","Transition","key","in","onStatusChange","status","state","transitionRootElement","flashbarStackIndex","_c","stack","collapsible","prev","NotificationTypeCount","label","button","title","_ref4","children","TransitionGroup","component","TIMEOUT_FOR_ENTERING_ANIMATION","NonCollapsibleFlashbar","motionDisabled","renderItem","transitionChangeDelay","renderFlatItemsWithTransitions","renderFlatItemsWithoutTransitions","Flashbar","applyDisplayName","setDiscoveredActions","actions","context","RuntimeContentWrapper","mountContent","container","unmountContent","convertRuntimeAction","getChildMapping","mapFn","result","create","Children","c","forEach","child","isValidElement","mapper","getProp","prop","getNextChildMapping","nextProps","prevChildMapping","onExited","nextChildMapping","next","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeChildMappings","hasPrev","hasNext","prevChild","isLeaving","cloneElement","bind","values","obj","_React$Component","_this","handleExited","call","e","ReferenceError","_assertThisInitialized","contextValue","isMounting","firstRender","_inheritsLoose","_proto","prototype","componentDidMount","mounted","setState","componentWillUnmount","getDerivedStateFromProps","appear","node","currentChildMapping","_extends","render","_this$props","Component","childFactory","_objectWithoutPropertiesLoose","TransitionGroupContext","Provider","value","propTypes","defaultProps"],"sourceRoot":""}